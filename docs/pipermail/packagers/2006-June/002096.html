<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [packagers] odd rpmbuild error while building nagios-plugins
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20odd%20rpmbuild%20error%20while%20building%20nagios-plugins&In-Reply-To=%3CPine.LNX.4.64.0606091658090.1356%40horsea.3ti.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002095.html">
   <LINK REL="Next"  HREF="002097.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[packagers] odd rpmbuild error while building nagios-plugins</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20odd%20rpmbuild%20error%20while%20building%20nagios-plugins&In-Reply-To=%3CPine.LNX.4.64.0606091658090.1356%40horsea.3ti.be%3E"
       TITLE="[packagers] odd rpmbuild error while building nagios-plugins">dag at wieers.com
       </A><BR>
    <I>Fri Jun  9 17:01:17 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002095.html">[packagers] odd rpmbuild error while building nagios-plugins
</A></li>
        <LI>Next message: <A HREF="002097.html">[packagers] odd rpmbuild error while building nagios-plugins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2096">[ date ]</a>
              <a href="thread.html#2096">[ thread ]</a>
              <a href="subject.html#2096">[ subject ]</a>
              <a href="author.html#2096">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 8 Jun 2006, Bill Schwanitz wrote:

&gt;<i> I am getting a rather strange error while attempting to build the
</I>&gt;<i> nagios-plugins package. According to svn, the spec is in revision 4481.
</I>&gt;<i> 
</I>&gt;<i> ../libtool: line 1657: cd: yes/lib: No such file or directory
</I>&gt;<i> libtool: link: cannot determine absolute directory name of `yes/lib'
</I>&gt;<i> make[3]: *** [check_disk] Error 1
</I>&gt;<i> make[3]: Leaving directory
</I>&gt;<i> `/usr/src/redhat/BUILD/nagios-plugins-1.4.3/plugins'
</I>&gt;<i> make[2]: *** [all-recursive] Error 1
</I>&gt;<i> make[2]: Leaving directory
</I>&gt;<i> `/usr/src/redhat/BUILD/nagios-plugins-1.4.3/plugins'
</I>&gt;<i> make[1]: *** [all-recursive] Error 1
</I>&gt;<i> make[1]: Leaving directory `/usr/src/redhat/BUILD/nagios-plugins-1.4.3'
</I>&gt;<i> make: *** [all] Error 2
</I>&gt;<i> error: Bad exit status from /var/tmp/rpm-tmp.6866 (%build)
</I>&gt;<i> 
</I>&gt;<i> In reviewing the Makefile in /usr/src/redhat/BUILD/nagios-plugins-1.4.3, I
</I>&gt;<i> see the following lines:
</I>&gt;<i> 
</I>&gt;<i> LDFLAGS =  -L. -Lyes/lib
</I>&gt;<i> PGINCLUDE = -Iyes/include
</I>&gt;<i> PGLIBS = -Lyes/lib -lpq -lcrypt
</I>&gt;<i> 
</I>&gt;<i> As a temp hack to get around this, I tried the fllowing script just below
</I>&gt;<i> the configure section in the .spec file:
</I>&gt;<i> 
</I>&gt;<i> find . -type f -exec sed -e 's/-Lyes\/lib//' -e 's/-Iyes\/include//' -i {} \;
</I>&gt;<i> 
</I>&gt;<i> Oddly, another configure is run somewhere in the rpmbuild process. I'm
</I>&gt;<i> guessing this is part of the extramodules section of the spec file.
</I>&gt;<i> 
</I>&gt;<i> Any thoughts? Is this something I have somehow introduced? ( the only
</I>&gt;<i> modification to the .spec file is my hack to try to fix the Makefiles )
</I>
Bill,

I've seen the same problem but had no time to look into it. A lot of 
people send me email in private notifying me of the new release, but it 
would be easier if they'd look into my buildlogs and see why it isn't 
available. And help out if they can.

Maybe I'll have more time this weekend to investigate, maybe not...

It obviously is a bug in configure, which does not surprise me as 
nagios-plugins has little QA. Nearly every release has had some brown 
paper bag issue that could have been prevented :(

Kind regards,
--   dag wieers,  <A HREF="http://lists.repoforge.org/mailman/listinfo/packagers">dag at wieers.com</A>,  <A HREF="http://dag.wieers.com/">http://dag.wieers.com/</A>   --
[all I want is a warm bed and a kind word and unlimited power]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002095.html">[packagers] odd rpmbuild error while building nagios-plugins
</A></li>
	<LI>Next message: <A HREF="002097.html">[packagers] odd rpmbuild error while building nagios-plugins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2096">[ date ]</a>
              <a href="thread.html#2096">[ thread ]</a>
              <a href="subject.html#2096">[ subject ]</a>
              <a href="author.html#2096">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/packagers">More information about the packagers
mailing list</a><br>
</body></html>
