<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [packagers] becoming a packager
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20becoming%20a%20packager&In-Reply-To=%3Calpine.LRH.0.9999.0711161635360.2203%40horsea.3ti.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002412.html">
   <LINK REL="Next"  HREF="002421.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[packagers] becoming a packager</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20becoming%20a%20packager&In-Reply-To=%3Calpine.LRH.0.9999.0711161635360.2203%40horsea.3ti.be%3E"
       TITLE="[packagers] becoming a packager">dag at wieers.com
       </A><BR>
    <I>Fri Nov 16 16:48:25 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002412.html">[packagers] becoming a packager
</A></li>
        <LI>Next message: <A HREF="002421.html">[packagers] becoming a packager
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2413">[ date ]</a>
              <a href="thread.html#2413">[ thread ]</a>
              <a href="subject.html#2413">[ subject ]</a>
              <a href="author.html#2413">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, 16 Nov 2007, J Robinson wrote:

&gt;<i> On Nov 16, 2007 10:17 AM, Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/packagers">dag at wieers.com</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Fri, 16 Nov 2007, J Robinson wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; I'm interested in becoming a packager, but I'm pretty new to building RPMs.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; How do I set up to become a rpmforge packager? I've rebuilt a few rpms
</I>&gt;<i> &gt; &gt; from src.rpms using rpmbuild but that's about it-- I want to
</I>&gt;<i> &gt; &gt; transition away from using scripts to install things from source
</I>&gt;<i> &gt; &gt; towards building custom RPMs and this seems like a good way to go.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; I noticed that the packager's info page is pretty minimal.... any tips
</I>&gt;<i> &gt; &gt; on how to get started? I'm looking at the archives now...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; First of all you need to know that RPMforge is in a transitional phase.
</I>&gt;<i> &gt; The new project is called rpmrepo and is a merge of existing repositories
</I>&gt;<i> &gt; (like atrpms, rpmforge, centos extras and more) but it is only slowly
</I>&gt;<i> &gt; progressing with the infrastructure.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So in the meantime RPMforge is chewing on as before, but the website was
</I>&gt;<i> &gt; never really maintained (and is mostly outdated). If you consider joining
</I>&gt;<i> &gt; rpmrepo, your work with RPMforge is not lost, it will move to rpmrepo.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Build RPM packages in itself is pretty straightforward, the hard part is
</I>&gt;<i> &gt; knowing what works and what doesn't (that is the experience). My aim with
</I>&gt;<i> &gt; RPMforge was to focus on SPEC file simplicity and consistency.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; This means that our SPEC files have a well-defined order and structure and
</I>&gt;<i> &gt; we modify SPEC files to be consistent with that. I am writing a document
</I>&gt;<i> &gt; that explains all these items, but most of the SPEC files in the
</I>&gt;<i> &gt; repository (and especially the recently updated ones) comply to these
</I>&gt;<i> &gt; (mostly) unwritten rules.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The strict structure is there to make it easier to maintain SPEC files in
</I>&gt;<i> &gt; bulk which sometimes is necessary.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So once you have created a SPEC file (see subversion for 4000+ examples),
</I>&gt;<i> &gt; you can create a package from it with the rpmbuild command, eg:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;         rpmbuild -bb something.spec
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; That is the basics. :) Any specific questions yet ?
</I>&gt;<i>
</I>&gt;<i> thanks for the response. Here's a follow up question:
</I>&gt;<i>
</I>&gt;<i> how do I setup an rpmforge/rpmrepo dev env? I suspect I need to fetch
</I>&gt;<i> the tree of spec files from svn and the source tarballs from somewhere
</I>&gt;<i> too.
</I>
Ok, there are 2 parts to building RPMs. The repository and the
buildsystem, the repository is easy:

	svn co <A HREF="http://svn.rpmforge.net/svn/trunk/rpms/">http://svn.rpmforge.net/svn/trunk/rpms/</A>

The buildsystem is more complicated because some of us have their own
system. But there is a more generic system that is probably where we all
are heading to: mock

With mock you have to set up (configure) for each distribution you want to
use. These templates are available but often needs customising, which is
bad :-( But others can help you with mock. (I am interested to learn what
they have to say though)


&gt;<i> There are two things I want to package into rpms at present: one comes
</I>&gt;<i> with a sample spec file which works, and one is a perl module.
</I>
Ok, if you already have a SPEC file you can simply submit it to
<A HREF="http://lists.repoforge.org/mailman/listinfo/packagers">suggests at lists.rpmforge.net</A> and we'll add validate and add it.

Perl modules are different, since there are 13.000 perl module
distributions, we have opted to semi-automate the process. I've send a
mail to this list that you can find in the archives that explains how it
works. To make the story short, just tell me the name of the module, and
I'll generate and add it.

We have no real plans to add all 13.000 perl packages (yet), we tend to
focus on the ones that are actively maintained and the ones that are
popular. The popular ones we have to learn from our userbase, the active
ones we know because we follow to new releases. (although I am still busy
updating the ones we already have, after that I'll commit myself to
add new ones too)


&gt;<i> On a related note, I noticed that  the current cpan2rpm distro doesn't
</I>&gt;<i> work (without mods) with the current version of Pod::Text (and is not
</I>&gt;<i> in rpmforge). Perhaps I should start by making a spec that fixes the
</I>&gt;<i> problem and building a working cpan2rpm rpm?
</I>
We do not use cpan2pm because the resulting SPEC file does not work on all
distributions and we prefer a SPEC file that works on EL2, EL3, EL4 _and_
EL5 over one SPEC file per distribution. (because that becomes quickly
unmaintainable).

We cherish the time of our volunteers :-)


&gt;<i> If you like, I'll combine and summarize this into a publishable document.
</I>
That would be very nice, maybe that belongs on the rpmrepo wiki. I would
suggest you subscribe to the mailinglist at:

	<A HREF="http://rpmrepo.org/mailman/listinfo/rpmrepo-devel">http://rpmrepo.org/mailman/listinfo/rpmrepo-devel</A>

Since you have no prior-knowledge you would be best suited to ask
questions and document as you learn. (And people will want to explain it
to you as good as possible since it will end up in the official document)


Also a planet rpmrepo would be interesting, then you could write a blog
article of your progress every once in a while. That would be an
interesting read to everybody and will no doubt lead to nice dicussions as
well.

-- 
--   dag wieers,  <A HREF="http://lists.repoforge.org/mailman/listinfo/packagers">dag at wieers.com</A>,  <A HREF="http://dag.wieers.com/">http://dag.wieers.com/</A>   --
[Any errors in spelling, tact or fact are transmission errors]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002412.html">[packagers] becoming a packager
</A></li>
	<LI>Next message: <A HREF="002421.html">[packagers] becoming a packager
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2413">[ date ]</a>
              <a href="thread.html#2413">[ thread ]</a>
              <a href="subject.html#2413">[ subject ]</a>
              <a href="author.html#2413">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/packagers">More information about the packagers
mailing list</a><br>
</body></html>
