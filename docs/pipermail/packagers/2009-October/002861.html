<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [packagers] builders: please include rpm-macros-rpmforge in your	build environments
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20builders%3A%20please%20include%20rpm-macros-rpmforge%20in%20your%0A%09build%20environments&In-Reply-To=%3Calpine.LRH.2.00.0910230912201.19130%40horsea.3ti.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002863.html">
   <LINK REL="Next"  HREF="002864.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[packagers] builders: please include rpm-macros-rpmforge in your	build environments</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20builders%3A%20please%20include%20rpm-macros-rpmforge%20in%20your%0A%09build%20environments&In-Reply-To=%3Calpine.LRH.2.00.0910230912201.19130%40horsea.3ti.be%3E"
       TITLE="[packagers] builders: please include rpm-macros-rpmforge in your	build environments">dag at wieers.com
       </A><BR>
    <I>Fri Oct 23 09:24:38 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002863.html">[packagers] builders: please include rpm-macros-rpmforge in	your	build environments
</A></li>
        <LI>Next message: <A HREF="002864.html">[packagers] builders: please include rpm-macros-rpmforge in your	build environments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2861">[ date ]</a>
              <a href="thread.html#2861">[ thread ]</a>
              <a href="subject.html#2861">[ subject ]</a>
              <a href="author.html#2861">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 22 Oct 2009, Steve Huff wrote:

&gt;<i> this message is directed primarily at our esteemed colleagues who run build 
</I>&gt;<i> systems, and stems from a recent IRC conversation.  some background:
</I>&gt;<i>
</I>&gt;<i> http: //lists.rpmforge.net/pipermail/packagers/2009-September/000920.html
</I>&gt;<i> http: //lists.rpmforge.net/pipermail/packagers/2009-October/000952.html
</I>&gt;<i>
</I>&gt;<i> in a nutshell: Christoph has been working hard to clean up the various 
</I>&gt;<i> tangled messes of bogus autogenerated dependencies among Perl packages in 
</I>&gt;<i> rpmforge, and i have been attempting to follow his lead as best i can.  the 
</I>&gt;<i> solution we're currently using is to use the %filter_from_requires macro to 
</I>&gt;<i> scrub out all the autogenerated Perl module dependencies, then add them 
</I>&gt;<i> explicitly in the specfile.
</I>&gt;<i>
</I>&gt;<i> unfortunately, this means that none of these packages will build on a build 
</I>&gt;<i> system that doesn't have the rpm-macros-rpmforge package installed, since 
</I>&gt;<i> that provides the necessary macros.  what's worse, we can't even get around 
</I>&gt;<i> the problem by specifying BuildRequires: rpm-macros-rpmforge (though i've 
</I>&gt;<i> been doing that anyway, just to make it easier to find the affected 
</I>&gt;<i> packages), since rpmbuild can't parse a specfile that contains an 
</I>&gt;<i> unresolvable macro :(
</I>
I just found out about this, and are probably behind reading up on the 
perl-related messages to the list. I support this effort and while I would 
prefer not to require special macros we cannot ignore it any longer.

There are distributions and repositories that are much more evolved in 
this part and the biggest problem might be that what we do now will be 
done differently upstream (or in Fedora) in a conflicting manner.

So I share the feeling that we need to be careful and look for the best 
solution with the broadest support and I think that is exactly what we do 
here. The only thing we probably should do different is escalate the fact 
that missing macros cannot be enforced by using BuildRequires.

In this case I think we need to talk to upstream and make sure it is 
improved in future distribution releases.

PS Packages using this will not be build right now, I am in Japan until 
the end of October and might not have the time or network acces to fix 
this. (The other packages build fine though)

Thanks to Steve and Christoph to taking the lead on this !

[Next up is the %{dist} tag ? :-)]
-- 
--   dag wieers,  <A HREF="http://lists.repoforge.org/mailman/listinfo/packagers">dag at wieers.com</A>,  <A HREF="http://dag.wieers.com/">http://dag.wieers.com/</A>   --
[Any errors in spelling, tact or fact are transmission errors]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002863.html">[packagers] builders: please include rpm-macros-rpmforge in	your	build environments
</A></li>
	<LI>Next message: <A HREF="002864.html">[packagers] builders: please include rpm-macros-rpmforge in your	build environments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2861">[ date ]</a>
              <a href="thread.html#2861">[ thread ]</a>
              <a href="subject.html#2861">[ subject ]</a>
              <a href="author.html#2861">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/packagers">More information about the packagers
mailing list</a><br>
</body></html>
