<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [packagers] Luola updates ...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20Luola%20updates%20...&In-Reply-To=%3C430095EB.4020205%40leenx.co.za%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001965.html">
   <LINK REL="Next"  HREF="001967.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[packagers] Luola updates ...</H1>
    <B>C.Lee Taylor</B> 
    <A HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20Luola%20updates%20...&In-Reply-To=%3C430095EB.4020205%40leenx.co.za%3E"
       TITLE="[packagers] Luola updates ...">leet at leenx.co.za
       </A><BR>
    <I>Mon Aug 15 15:17:31 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001965.html">[packagers] Luola updates ...
</A></li>
        <LI>Next message: <A HREF="001967.html">[packagers] luola-levels ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1966">[ date ]</a>
              <a href="thread.html#1966">[ thread ]</a>
              <a href="subject.html#1966">[ subject ]</a>
              <a href="author.html#1966">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dries Verachtert wrote:
&gt;<i> Hello,
</I>	Greetings ...

&gt;<i> Thanks!
</I>	My pleasure ...

&gt;<i> Actually the install is for the directory /usr/share/applications/ within the 
</I>&gt;<i> %{buildroot}. You first have to create the directory and then 
</I>&gt;<i> desktop-file-install can put the .desktop file in that directory. The install 
</I>&gt;<i> is a separate command and doesn't install the desktop file. The directory has 
</I>&gt;<i> to be 755 so you can chdir to it, and the .desktop file is copied as 0644 by 
</I>&gt;<i> desktop-file-install.
</I>	Okay, so the 0755 if for the directory and not the file ... That is 
fine ... Just checking, seeing that my line below for the png file 
looked different, maybe should just make the two install lines the same 
... Keep a look at feel ...

&gt;&gt;<i>	Second, should we not put all the freedesktop includes and build
</I>&gt;&gt;<i>options, if so, I can put them in ...
</I>&gt;<i> What do you mean with the freedesktop includes and build options? Can you give 
</I>&gt;<i> an example?
</I>	Well, if you look in zephulor.spec, there are the include macros for 
freedesktop ... I think that is to make the package buildable on 
multiple distros and version ... But hey, I build on FC4-64 and it works 
for me ;-)

&gt;&gt;<i>	Third, I do remember, there is a correct way to put the menu entry in,
</I>&gt;&gt;<i>plus force an update of the icons, but I don't remember how it's done,
</I>&gt;&gt;<i>so if somebody could point me at a spec file to copy this from or knows
</I>&gt;&gt;<i>how to do that, I think this package will be done ...
</I>&gt;<i> Running kbuildsycoca as user works in kde, but i don't know if there is 
</I>&gt;<i> something which works for every freedesktop compatible window manager...
</I>	This is just to make the Menu icons appear after an install, not 
needing a log out of anything ...

	I did see chatter on the Fedora Extra mail list, and I'm sure Matt 
covered something about this ...

	I checked into the cvs for extra and found this in lmarbles.spec 
<A HREF="http://cvs.fedora.redhat.com/viewcvs/rpms/lmarbles/FC-4/lmarbles.spec?root=extras&amp;rev=1.7&amp;view=markup">http://cvs.fedora.redhat.com/viewcvs/rpms/lmarbles/FC-4/lmarbles.spec?root=extras&amp;rev=1.7&amp;view=markup</A> 
....

%post
update-desktop-database %{_datadir}/applications &amp;&gt;/dev/null || :

%postun
update-desktop-database %{_datadir}/applications &amp;&gt;/dev/null || :

	I have not searched Extras mail list yet, seeing that it took me so 
long to find this little snippet ...


&gt;&gt;<i>	Fourth, I see in the spec file, Upstream e-mail address is with a
</I>&gt;&gt;<i>dollar sign and comma ... I wonder if this is meant to be this way ... I
</I>&gt;&gt;<i>thought I would just ask ...
</I>&gt;<i> Normally all upstream emailaddresses are changed like that, just to make it 
</I>&gt;<i> not to easy for spammers.
</I>	Okay, just checking ...

&gt;&gt;<i>	Fifth, well, I got distracted and I can't remember what is was, but if
</I>&gt;&gt;<i>I do, I will ask ...
</I>&gt;<i> Distracted by playing luola? :)
</I>	I wish ... just by boring other people ...

&gt;&gt;<i>	I have only done some basic tests, but I think it all works.
</I>&gt;<i> Also seems to work here!
</I>	Here, just letting everybody know that I have not put this through 
rpmlint and so on ... Just yet ...

Mailed
Lee

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001965.html">[packagers] Luola updates ...
</A></li>
	<LI>Next message: <A HREF="001967.html">[packagers] luola-levels ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1966">[ date ]</a>
              <a href="thread.html#1966">[ thread ]</a>
              <a href="subject.html#1966">[ subject ]</a>
              <a href="author.html#1966">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/packagers">More information about the packagers
mailing list</a><br>
</body></html>
