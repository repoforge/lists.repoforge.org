<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [packagers] Re: [svn] r3619 - trunk/rpms/critter
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20Re%3A%20%5Bsvn%5D%20r3619%20-%20trunk/rpms/critter&In-Reply-To=%3CPine.LNX.4.63.0510051725480.20150%40horsea.3ti.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002020.html">
   <LINK REL="Next"  HREF="002022.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[packagers] Re: [svn] r3619 - trunk/rpms/critter</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20Re%3A%20%5Bsvn%5D%20r3619%20-%20trunk/rpms/critter&In-Reply-To=%3CPine.LNX.4.63.0510051725480.20150%40horsea.3ti.be%3E"
       TITLE="[packagers] Re: [svn] r3619 - trunk/rpms/critter">dag at wieers.com
       </A><BR>
    <I>Wed Oct  5 17:45:54 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002020.html">[packagers] Re: [svn] r3619 - trunk/rpms/critter
</A></li>
        <LI>Next message: <A HREF="002022.html">[Fwd: [packagers] Patches]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2021">[ date ]</a>
              <a href="thread.html#2021">[ thread ]</a>
              <a href="subject.html#2021">[ subject ]</a>
              <a href="author.html#2021">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 5 Oct 2005, C.Lee Taylor wrote:

&gt;<i> Greetings ...
</I>&gt;<i> 
</I>&gt;<i> 	Now this is what I call juicy ... Thanks for the review and the input
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> &gt;&gt; -%{!?_dist: %{expand: %%define dist rhfc4}}
</I>&gt;<i> &gt;We do not provide a default 'dist' setting. This is part of a proper
</I>&gt;<i> &gt;build system. It would require us to do a massive update of all SPEC
</I>&gt;<i> &gt; files when FC5 is released...
</I>&gt;<i> 
</I>&gt;<i> &gt;(Besides rhfc4 is not correct as a value :))
</I>&gt;<i> 	Busted ... Cut an paste what I think ... Would be nice, if we could
</I>&gt;<i> have a few templates like Extra with what we think is good and bad ...
</I>
In theory that sounds like a good idea. And we do have a few templates 
available in the rpms-directory. But in practice a complex and complete 
SPEC file is more disturbing, and we don't want people to define macros 
when they have no place in there. Sure they don't harm either, but...

I'd prefer to have all our SPEC files in good shape, and just link to a 
few distinctive examples on how this or that is being done. A good policy 
document with rationale is more important in that respect imo.


&gt;<i> &gt;&gt;+%define desktop_vendor rpmforge
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;This was missing. If you don't define a macro and you use it, the macro
</I>&gt;<i> &gt;will appear in the output. In this case the RPM package contained a
</I>&gt;<i> &gt; file called:
</I>&gt;<i>
</I>&gt;<i> 	Okay, this I disagree with, this macro should be in the build system,
</I>&gt;<i> I don't think this should be defined in the SPEC ... Maybe something for FC5 (
</I>&gt;<i> Again, just around the corner )
</I>
Well, in essence I agree with you. But in practice, we do want people to 
be able to build packages without requiring our macros per se.

With the advent of an authoritative macros-file for RPMforge, this could 
change and the use of the macros-file could become mandatory. Currently it 
isn't.


&gt;<i> &gt; /usr/share/applications/%{desktop_vendor}-gcipher.desktop
</I>&gt;<i>
</I>&gt;<i> 	I got some of these ...
</I>
Let me know, and I'll fix them. They do work like this (which is the main 
reason why they often go unnoticed), but it's not nice.


&gt;<i> &gt;Added the libpng &gt;= 1.2 build requirement so that it properly fails
</I>&gt;<i> &gt;for RH7 and EL2.
</I>&gt;<i>
</I>&gt;<i> 	Great, how did you figure that out?
</I>
It didn't build on RH7, configure complained exactly about this.


&gt;<i> &gt; The description should be factual and useful for the user.
</I>&gt;<i>
</I>&gt;<i> 	This I always battle with ... Too much or too little ... I glade that
</I>&gt;<i> somebody else did something with this ...
</I>
Well, it should describe the tool and what it can do, not the development 
process, nor the technicalities for building or any other acronyms a 
normal human cannot understand. If it shouldn't matter for the user, it 
has no place in the description.


&gt;<i> &gt; However, a lot of current SPEC files have bad descriptions. It's less
</I>&gt;<i> &gt; important for a good package, but if you are making a description
</I>&gt;<i> &gt; initially, it would be good to make sure it sticks to the point and
</I>&gt;<i> &gt; doesn't suffer from bitrot in the future.
</I>&gt;<i>
</I>&gt;<i> 	Okay, but I think that a little more description is better than shoot
</I>&gt;<i> game or something ... But I understand ...
</I>
Sure, I don't object to a better description. But since I haven't played 
it, I can't describe it either. The screenshots couldn't inspire me either 
:<i>)
</I>
 
&gt;<i> &gt; Desktop files should go into the %pre section.
</I>&gt;<i>
</I>&gt;<i> 	Okay, I see that some have them there and the spec file I copied did,
</I>&gt;<i> but I was thinking that because it was build, that where it might go ...
</I>&gt;<i> 
</I>&gt;<i> 	Now we should put this into a guide line ... Extend the rpm manual or
</I>&gt;<i> something ...
</I>
A list of these things, per section would be nice. If you want to take 
this, go ahead. Dries can give you subversion access so you can fill up a 
webpage.


&gt;<i> &gt; We can do it in 1 line. Do not use a macro where it really makes no
</I>&gt;<i> &gt; difference. It makes the SPEC file more difficult to read.
</I>&gt;<i>
</I>&gt;<i> 	Okay, that is nice I could not work out the install stuff and could
</I>&gt;<i> not find a good example to copy ... I tried a few times, but missing the icon
</I>&gt;<i> and so on, but that might have been something else ...
</I>&gt;<i> 
</I>&gt;<i> 	As for macro, I think it works better with the macro, we use them all
</I>&gt;<i> over the place else ... But it's your call ...
</I>
We use them where it makes sense. Where statements are copied from other 
SPEC files. Even in the Source:-tag it doesn't make sense to use it. (That 
would be another cosmetic fix I didn't see)


&gt;<i> &gt; I removed the _without_freedesktop macro, since it doesn't build on
</I>&gt;<i> &gt; RH7 anyway.
</I>&gt;<i>
</I>&gt;<i> 	Okay ... I think I still ask Dries about this ...
</I>
It doesn't matter. I first added it too (made the buildreq conditional and 
changed the entries a bit), but when I noticed RH7 didn't want to build 
it, I removed it. Looks much cleaner without, doesn't it ? :)


&gt;<i> &gt; We try to have a list of files in alphabetical order. This makes it
</I>&gt;<i> &gt; more easier to verify if something is missing.
</I>&gt;<i>
</I>&gt;<i>  I will try keep that in mind ... My frist SPEC did not even have anything
</I>&gt;<i> expect the COPYING ...
</I>
The more useful documentation files the better. I actually verified and 
couldn't find anything to add.


&gt;<i> &gt; On the other hand, the binary is called critter. Time for upstream to
</I>&gt;<i> &gt; make a decision and end the confusion imo.
</I>&gt;<i>
</I>&gt;<i> 	Well, I copied this from the spec file in the source and some other
</I>&gt;<i> spec file and merged them together with what I thought to be best ... I don't
</I>&gt;<i> like things like &quot;Critical_Mass&quot; and then criticalmass and CriticalMass ...
</I>&gt;<i> It's not consistent, but I did not want to patch the source too much, but
</I>&gt;<i> might be better ...
</I>
Package-names should be lowercase, there are a few exceptions. Mostly to 
keep consistency with Red Hat and/or perl-modules. But generally, use 
lowercase !!


&gt;<i> &gt; I just noticed the icon is in /usr/share/icons/, while all other
</I>&gt;<i> &gt; packages use /usr/share/pixmaps/. I'd go for pixmaps since that's
</I>&gt;<i> &gt; what we've used everywhere.
</I>&gt;<i>
</I>&gt;<i> 	Again, I'm not really sure where to put this stuff, it seem to work,
</I>&gt;<i> so I was happy ... But I think the move to pixmaps is better ... Is there a
</I>&gt;<i> something in LSB that states which we should use?
</I>
I don't know. But I looked in /usr/share/icons/ and it only contained 
theme-related stuff. So that's definitely not the right place :)


&gt;<i> 	Thanks for the review and details explanation of the changes, I think
</I>&gt;<i> this really help improve my general packages.
</I>
I hope it helped other people too. I promised to add and review some other 
packages, but moving, a new girl-friend and some other commitments are 
pushing this work off my priority-list.

Maybe we should allow a few people to commit directly and that will urge 
me and others to comment and sign-off. I've been very protective to what 
goes into subversion, but maybe the sign-off idea changes the attitude 
towards subversion a bit.

Something has to change though.

Kind regards,
--   dag wieers,  <A HREF="http://lists.repoforge.org/mailman/listinfo/packagers">dag at wieers.com</A>,  <A HREF="http://dag.wieers.com/">http://dag.wieers.com/</A>   --
[all I want is a warm bed and a kind word and unlimited power]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002020.html">[packagers] Re: [svn] r3619 - trunk/rpms/critter
</A></li>
	<LI>Next message: <A HREF="002022.html">[Fwd: [packagers] Patches]
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2021">[ date ]</a>
              <a href="thread.html#2021">[ thread ]</a>
              <a href="subject.html#2021">[ subject ]</a>
              <a href="author.html#2021">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/packagers">More information about the packagers
mailing list</a><br>
</body></html>
