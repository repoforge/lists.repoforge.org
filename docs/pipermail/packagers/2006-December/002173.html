<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [packagers] Smokeping RPM
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20Smokeping%20RPM&In-Reply-To=%3CPine.LNX.4.64.0612052359500.21738%40horsea.3ti.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002172.html">
   <LINK REL="Next"  HREF="002174.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[packagers] Smokeping RPM</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20Smokeping%20RPM&In-Reply-To=%3CPine.LNX.4.64.0612052359500.21738%40horsea.3ti.be%3E"
       TITLE="[packagers] Smokeping RPM">dag at wieers.com
       </A><BR>
    <I>Wed Dec  6 00:03:49 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002172.html">[packagers] Smokeping RPM
</A></li>
        <LI>Next message: <A HREF="002174.html">[packagers] Smokeping RPM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2173">[ date ]</a>
              <a href="thread.html#2173">[ thread ]</a>
              <a href="subject.html#2173">[ subject ]</a>
              <a href="author.html#2173">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 5 Dec 2006, Wil Cooley wrote:

&gt;<i> On Tue, 2006-12-05 at 21:40 +0100, Dag Wieers wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; I think we're ready to move to the FE standard now where they include the 
</I>&gt;<i> &gt; disttag in the Release tag.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Should we also include a repo-macro in the release (I am in favor of 
</I>&gt;<i> &gt; that). Something like:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 	Version: 4.5
</I>&gt;<i> &gt; 	Release: 1%{?dist}%{?repo}
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Where dist = .el3 and repo = .rf
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I dislike it for the fact that the release is harder to identify (having 
</I>&gt;<i> &gt; the % attached to it closely) and I generally feel this should be left to 
</I>&gt;<i> &gt; the buildsystem (which knows best).
</I>&gt;<i> 
</I>&gt;<i> The problem with letting the buildsystem doing it is that what ends up
</I>&gt;<i> being built is not exactly what you submitted and furthermore, requires
</I>&gt;<i> a build system that does it--pre-processing introduces site-specific
</I>&gt;<i> variances that may be less tested than the tool's own pre-processing.
</I>&gt;<i> For that matter, using RPM macros _is_ letting the build system do it,
</I>&gt;<i> since RPM is partially a build tool.
</I>
RPM does not know anything about distributions. And when using macros, 
it's the one providing the macros who's doing all the work, not RPM.

In fact, if you use macros you have exactly the same problem. If the macro 
has not been defined, the result is different as well. Especially when 
these macros are used for decision making it can become very hard to 
understand what is necessary to acquire exactly the same result.


&gt;<i> OTOH, you can just ignore the %{?dist} tags and let the build system
</I>&gt;<i> preprocess--since it should expand to a null string anyway.
</I>
And that's where things fail. Because we use %{dist} to do the decision 
making. How else would you build from 1 SPEC file for 12+ distributions.

Kind regards,
--   dag wieers,  <A HREF="http://lists.repoforge.org/mailman/listinfo/packagers">dag at wieers.com</A>,  <A HREF="http://dag.wieers.com/">http://dag.wieers.com/</A>   --
[all I want is a warm bed and a kind word and unlimited power]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002172.html">[packagers] Smokeping RPM
</A></li>
	<LI>Next message: <A HREF="002174.html">[packagers] Smokeping RPM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2173">[ date ]</a>
              <a href="thread.html#2173">[ thread ]</a>
              <a href="subject.html#2173">[ subject ]</a>
              <a href="author.html#2173">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/packagers">More information about the packagers
mailing list</a><br>
</body></html>
