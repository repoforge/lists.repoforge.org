<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [SVN] r2989 - in trunk/rpms: amsn createrepo djvulibre gcvs	graphviz gtkpod gxine libsnack micq nxtvepg ocaml	perl-MIME-tools python-opengl qemu sqlite uudeview xcircuit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r2989%20-%20in%20trunk/rpms%3A%20amsn%20createrepo%20djvulibre%20gcvs%0A%09graphviz%20gtkpod%20gxine%20libsnack%20micq%20nxtvepg%20ocaml%0A%09perl-MIME-tools%20python-opengl%20qemu%20sqlite%20uudeview%20xcircuit&In-Reply-To=%3C200503110330.j2B3Uk95003137%40lists.rpmforge.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001789.html">
   <LINK REL="Next"  HREF="001791.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[SVN] r2989 - in trunk/rpms: amsn createrepo djvulibre gcvs	graphviz gtkpod gxine libsnack micq nxtvepg ocaml	perl-MIME-tools python-opengl qemu sqlite uudeview xcircuit</H1>
    <B>svn-commits at rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r2989%20-%20in%20trunk/rpms%3A%20amsn%20createrepo%20djvulibre%20gcvs%0A%09graphviz%20gtkpod%20gxine%20libsnack%20micq%20nxtvepg%20ocaml%0A%09perl-MIME-tools%20python-opengl%20qemu%20sqlite%20uudeview%20xcircuit&In-Reply-To=%3C200503110330.j2B3Uk95003137%40lists.rpmforge.net%3E"
       TITLE="[SVN] r2989 - in trunk/rpms: amsn createrepo djvulibre gcvs	graphviz gtkpod gxine libsnack micq nxtvepg ocaml	perl-MIME-tools python-opengl qemu sqlite uudeview xcircuit">svn-commits at rpmforge.net
       </A><BR>
    <I>Fri Mar 11 04:30:46 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001789.html">[SVN] r2988 - in trunk/rpms: gabber gnomeicu gtksubtitler	perl-Compress-Zlib smart zapping
</A></li>
        <LI>Next message: <A HREF="001791.html">[SVN] r2990 - in trunk/tools/dar: . scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1790">[ date ]</a>
              <a href="thread.html#1790">[ thread ]</a>
              <a href="subject.html#1790">[ subject ]</a>
              <a href="author.html#1790">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2005-03-11 04:30:41 +0100 (Fri, 11 Mar 2005)
New Revision: 2989

Modified:
   trunk/rpms/amsn/amsn.spec
   trunk/rpms/createrepo/createrepo.spec
   trunk/rpms/djvulibre/djvulibre.spec
   trunk/rpms/gcvs/gcvs.spec
   trunk/rpms/graphviz/graphviz.spec
   trunk/rpms/gtkpod/gtkpod.spec
   trunk/rpms/gxine/gxine.spec
   trunk/rpms/libsnack/libsnack.spec
   trunk/rpms/micq/micq.spec
   trunk/rpms/nxtvepg/nxtvepg.spec
   trunk/rpms/ocaml/ocaml.spec
   trunk/rpms/perl-MIME-tools/perl-MIME-tools.spec
   trunk/rpms/python-opengl/python-opengl.spec
   trunk/rpms/qemu/qemu.spec
   trunk/rpms/sqlite/sqlite.spec
   trunk/rpms/uudeview/uudeview.spec
   trunk/rpms/xcircuit/xcircuit.spec
Log:
Updates

Modified: trunk/rpms/amsn/amsn.spec
===================================================================
--- trunk/rpms/amsn/amsn.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/amsn/amsn.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -9,9 +9,17 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?rh9:%define _without_tcltk_devel 1}
+%{?rh8:%define _without_tcltk_devel 1}
+
 %{?rh7:%define _without_freedesktop 1}
+%{?rh7:%define _without_tcltk_devel 1}
+
 %{?el2:%define _without_freedesktop 1}
+%{?el2:%define _without_tcltk_devel 1}
+
 %{?rh6:%define _without_freedesktop 1}
+%{?rh6:%define _without_tcltk_devel 1}
 
 %define desktop_vendor rpmforge
 
@@ -40,12 +48,8 @@
 ExclusiveArch: i386 x86_64
 BuildRequires: tcl &gt;= 8.3, tk &gt;= 8.3, openssl-devel
 BuildRequires: imlib-devel, libpng-devel, libtiff-devel
-%{!?dist:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-%{?el4:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-%{?fc3:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-%{?fc2:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-%{?fc1:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-%{?el3:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
+%{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3, tk-devel}
+%{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3, tk}
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 Requires: tcl &gt;= 8.3, tk &gt;= 8.3
 

Modified: trunk/rpms/createrepo/createrepo.spec
===================================================================
--- trunk/rpms/createrepo/createrepo.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/createrepo/createrepo.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -7,7 +7,7 @@
 
 Summary: Creates a common metadata repository
 Name: createrepo
-Version: 0.4.1
+Version: 0.4.2
 Release: 1
 License: GPL
 Group: System Environment/Base
@@ -46,11 +46,15 @@
 %files
 %defattr(-, root, root, 0755)
 %doc ChangeLog README
+%dir %{_mandir}/man8/createrepo.8*
 %{_bindir}/createrepo
 %{_datadir}/createrepo/
 
 
 %changelog
+* Thu Mar 10 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.4.2-1
+- Updated to release 0.4.2.
+
 * Tue Nov  2 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.1-1
 - Update to 0.4.1.
 

Modified: trunk/rpms/djvulibre/djvulibre.spec
===================================================================
--- trunk/rpms/djvulibre/djvulibre.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/djvulibre/djvulibre.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -44,6 +44,8 @@
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
+%find_lang %{name}
+
 %{__mkdir_p} %{buildroot}%{_libdir}/mozilla/plugins
 %{__ln_s} ../../netscape/plugins/nsdejavu.so \
     %{buildroot}%{_libdir}/mozilla/plugins/
@@ -65,7 +67,7 @@
 update-desktop-database /usr/share/applications || :
 
 
-%files
+%files -f %{name}.lang
 %defattr(-, root, root, 0755)
 %doc README COPYRIGHT COPYING NEWS TODO doc
 %{_bindir}/*
@@ -80,7 +82,7 @@
 %{_datadir}/djvu/
 %{_datadir}/pixmaps/djvu.png
 %{_mandir}/man1/*
-%lang(ja) %{_mandir}/ja/man1/*
+%{_datadir}/mimelnk/image/x-djvu.desktop
 
 
 %changelog

Modified: trunk/rpms/gcvs/gcvs.spec
===================================================================
--- trunk/rpms/gcvs/gcvs.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/gcvs/gcvs.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -4,8 +4,14 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?rh9:%define _without_tcltk_devel 1}
+%{?rh8:%define _without_tcltk_devel 1}
+
 %{?rh7:%define _without_freedesktop 1}
+%{?rh7:%define _without_tcltk_devel 1}
+
 %{?el2:%define _without_freedesktop 1}
+%{?el2:%define _without_tcltk_devel 1}
 
 ### FIXME: Modified to co-exist with cvs. (Please fix upstream)
 # Tag: test
@@ -26,11 +32,8 @@
 
 BuildRequires: gtk+-devel, gcc-c++, texinfo, autoconf, automake
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
-%{?el4:BuildRequires: tcl-devel}
-%{?fc3:BuildRequires: tcl-devel}
-%{?fc2:BuildRequires: tcl-devel}
-%{?fc1:BuildRequires: tcl-devel}
-%{?el3:BuildRequires: tcl-devel}
+%{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3, tk-devel}
+%{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3, tk}
 BuildRequires: tcl
 
 #Obsoletes: cvs

Modified: trunk/rpms/graphviz/graphviz.spec
===================================================================
--- trunk/rpms/graphviz/graphviz.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/graphviz/graphviz.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -1,24 +1,27 @@
 # $Id$
-
 # Authority: dag
 
-##DarSoapbox: 0
-##DarDistcc: 0
+%{?rh9:%define _without_tcltk_devel 1}
+%{?rh8:%define _without_tcltk_devel 1}
+%{?rh7:%define _without_tcltk_devel 1}
+%{?el2:%define _without_tcltk_devel 1}
 
 Summary: Graph Visualization Tools
 Name: graphviz
-Version: 1.16
+Version: 2.2
 Release: 1
+License: CPL
 Group: Applications/Multimedia
-License: AT&amp;T open source (see COPYING)
 URL: <A HREF="http://www.graphviz.org/">http://www.graphviz.org/</A>
 
 Source: <A HREF="http://www.graphviz.org/pub/graphviz/ARCHIVE/graphviz-%{version">http://www.graphviz.org/pub/graphviz/ARCHIVE/graphviz-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-
-BuildRequires: XFree86-devel, tcl-devel, tk-devel, freetype-devel &gt;= 2.0
-BuildRequires: libjpeg-devel, libpng-devel, zlib-devel, gcc-c++
+BuildRequires: XFree86-devel, freetype-devel &gt;= 2.0, bison, m4, flex
+BuildRequires: libjpeg-devel, libpng-devel, zlib-devel, expat-devel, gcc-c++
+#BuildRequires: /bin/ksh
+%{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3, tk-devel}
+%{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3, tk}
 # needs version 2.0.29 of gdlib but fc3 contains 2.0.28
 # BuildRequires: gd-progs, gd-devel
 
@@ -44,75 +47,88 @@
 This package contains the header files, static libraries and development
 documentation for %{name}.
 
+%package doc
+Summary: PDF and HTML documents for %{name}
+Group: Documentation
+
+%description doc
+Provides some additional PDF and HTML documentation for %{name}.
+
+%package graphs
+Summary: Demo graphs for %{name}
+Group: Applications/Multimedia
+
+%description graphs
+Some demo graphs for %{name}.
+
 %prep
 %setup
 
 %build
-%ifarch i386
-%define optflags -O2 -ffast-math
-%endif
+%{expand: %%define optflags %{optflags} -ffast-math}
 %configure \
+	--with-mylibgd \
 	--with-x
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
-%makeinstall \
-	includedir=&quot;%{buildroot}%{_includedir}/graphviz&quot;
+%{__make} install DESTDIR=&quot;%{buildroot}&quot; \
+	pkgconfigdir=%{_libdir}/pkgconfig \
+	transform='s,x,x,'
 %{__mv} %{buildroot}%{_datadir}/graphviz/doc rpmdoc
+%{__chmod} -x %{buildroot}%{_datadir}/graphviz/lefty/*
 
-### Clean up buildroot
-%{__rm} -f %{buildroot}%{_libdir}/%{name}/*.la
-
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
-%doc AUTHORS ChangeLog COPYING FAQ.txt MINTERMS.txt NEWS README
-%doc rpmdoc/*
+%doc AUTHORS ChangeLog COPYING NEWS README *.txt
 %doc %{_mandir}/man1/*
 %{_bindir}/*
-%{_libdir}/%{name}/libagraph.so.*
-%{_libdir}/%{name}/libcdt.so.*
-%{_libdir}/%{name}/libexpr.so.*
-%{_libdir}/%{name}/libgraph.so.*
-#%{_libdir}/%{name}/libgd.so.*
-%{_libdir}/%{name}/libpack.so.*
-%{_libdir}/%{name}/libpathplan.so.*
-%{_libdir}/%{name}/libcircogen.so.*
-%{_libdir}/%{name}/libcommon.so.*
-%{_libdir}/%{name}/libdotgen.so.*
-%{_libdir}/%{name}/libdotneato.so.*
-%{_libdir}/%{name}/libfdpgen.so.*
-%{_libdir}/%{name}/libgvgd.so.*
-%{_libdir}/%{name}/libgvrender.so.*
-%{_libdir}/%{name}/libneatogen.so.*
-%{_libdir}/%{name}/libtwopigen.so.*
-%{_datadir}/%{name}/lefty/
-%{_datadir}/%{name}/graphs/
+%dir %{_datadir}/graphviz/
+%{_datadir}/graphviz/lefty/
+%{_libdir}/graphviz/*.so.*
+%exclude %{_libdir}/graphviz/lib*tcl*.so.*
+%exclude %{_libdir}/graphviz/libtk*.so.*
+%exclude %{_bindir}/dotneato-config
+%exclude %{_mandir}/man1/dotneato-config.1*
 
 %files tcl
 %defattr(-, root, root, 0755)
-%doc AUTHORS ChangeLog COPYING FAQ.txt MINTERMS.txt NEWS README
 #%doc doc/tcldot.html
 %doc %{_mandir}/mann/*
-%{_libdir}/%{name}/libgdtclft.so.*
-%{_libdir}/%{name}/libtcl*.so.*
-%{_libdir}/%{name}/libtkspline.so.*
-%{_libdir}/%{name}/pkgIndex.tcl
-%{_datadir}/%{name}/demo/
+%{_datadir}/graphviz/demo/
+%{_libdir}/graphviz/lib*tcl*.so.*
+%{_libdir}/graphviz/libtk*.so.*
+%{_libdir}/graphviz/pkgIndex.tcl
+%exclude %{_libdir}/%{name}/lib*tcl*.so.?
+%exclude %{_libdir}/%{name}/libtk*.so.?
 
 %files devel
 %defattr(-, root, root, 0755)
-%doc LICENSE.html
+%doc %{_mandir}/man1/dotneato-config.1*
 %doc %{_mandir}/man3/*
+%{_bindir}/dotneato-config
 %{_includedir}/graphviz/
-%{_libdir}/%{name}/*.so
-%{_libdir}/%{name}/pkgconfig
-#exclude %{_libdir}/%{name}/*.la
+%{_libdir}/graphviz/*.so
+%{_libdir}/pkgconfig/*.pc
+%exclude %{_libdir}/graphviz/*.la
 
+%files graphs
+%defattr(-, root, root, 0755)
+%dir %{_datadir}/graphviz/
+%{_datadir}/graphviz/graphs/
+
+%files doc
+%defattr(-, root, root, 0755)
+%doc rpmdoc/*
+
 %changelog
+* Fri Mar 11 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.2-1
+- Updated to release 2.2.
+
 * Fri Dec 10 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; 1.16-1
 - Updated to release 1.16.
 

Modified: trunk/rpms/gtkpod/gtkpod.spec
===================================================================
--- trunk/rpms/gtkpod/gtkpod.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/gtkpod/gtkpod.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -5,7 +5,7 @@
 
 Summary: Graphical song management program for Apple's iPod
 Name: gtkpod
-Version: 0.85.0
+Version: 0.88
 Release: 1
 License: GPL
 Group: Applications/Multimedia
@@ -86,6 +86,9 @@
 
 
 %changelog
+* Fri Mar 11 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.88-1
+- Updated to release 0.88.0.
+
 * Mon Nov 22 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net">http://freshrpms.net</A>&gt; 0.85.0-1
 - Update to 0.85.0.
 

Modified: trunk/rpms/gxine/gxine.spec
===================================================================
--- trunk/rpms/gxine/gxine.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/gxine/gxine.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -20,6 +20,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: gtk2-devel &gt;= 2.0, xine-lib-devel &gt;= 1.0.0
+BuildRequires: glib2 &gt;= 2.4
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 Requires: gtk2 &gt;= 2.0, xine-lib &gt;= 1.0.0
 

Modified: trunk/rpms/libsnack/libsnack.spec
===================================================================
--- trunk/rpms/libsnack/libsnack.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/libsnack/libsnack.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -4,6 +4,11 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?rh9:%define _without_tcltk_devel 1}
+%{?rh8:%define _without_tcltk_devel 1}
+%{?rh7:%define _without_tcltk_devel 1}
+%{?el2:%define _without_tcltk_devel 1}
+
 %define _lib32dir %{_prefix}/lib
 %define real_name snack
 
@@ -18,13 +23,9 @@
 Source: <A HREF="http://www.speech.kth.se/~kare/snack%{version">http://www.speech.kth.se/~kare/snack%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-%{!?dist:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-%{?el4:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-%{?fc3:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-%{?fc2:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-%{?fc1:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-%{?el3:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-BuildRequires: tcl &gt;= 8.3, tk &gt;= 8.3, sphere-devel
+BuildRequires: sphere-devel
+%{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3, tk-devel}
+%{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3, tk}
 Obsoletes: snack-ogg, snack-sphere
 Provides: libsnack-ogg, libsnack-sphere
 

Modified: trunk/rpms/micq/micq.spec
===================================================================
--- trunk/rpms/micq/micq.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/micq/micq.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -5,6 +5,11 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?rh9:%define _without_tcltk_devel 1}
+%{?rh8:%define _without_tcltk_devel 1}
+%{?rh7:%define _without_tcltk_devel 1}
+%{?el2:%define _without_tcltk_devel 1}
+
 Summary: Clone of the Mirabilis ICQ online messaging program
 Name: micq
 Version: 0.4.11
@@ -17,17 +22,20 @@
 Buildroot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: openssl-devel, tcl
-%{!?dist:BuildRequires: libgcrypt-devel, gnutls-devel, tcl-devel}
-%{?el4:BuildRequires: libgcrypt-devel, gnutls-devel, tcl-devel}
-%{?fc3:BuildRequires: libgcrypt-devel, gnutls-devel, tcl-devel}
-%{?fc2:BuildRequires: libgcrypt-devel, gnutls-devel, tcl-devel}
-%{?fc1:BuildRequires: libgcrypt-devel, gnutls-devel, tcl-devel}
-#%{?el3:BuildRequires: libgcrypt-devel, gnutls-devel, tcl-devel}
+%{!?dist:BuildRequires: libgcrypt-devel, gnutls-devel}
+%{?el4:BuildRequires: libgcrypt-devel, gnutls-devel}
+%{?fc3:BuildRequires: libgcrypt-devel, gnutls-devel}
+%{?fc2:BuildRequires: libgcrypt-devel, gnutls-devel}
+%{?fc1:BuildRequires: libgcrypt-devel, gnutls-devel}
+#%{?el3:BuildRequires: libgcrypt-devel, gnutls-devel}
 %{?el3:BuildRequires: libgcrypt-devel, gnutls-devel}
 %{?rh9:BuildRequires: libgcrypt-devel, gnutls-devel}
 %{?rh8:BuildRequires: libgcrypt-devel, gnutls-devel}
 %{?rh7:BuildRequires: libgcrypt-devel}
 
+%{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3}
+%{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3}
+
 %description
 Micq is a clone of the Mirabilis ICQ online messaging/conferencing
 program.

Modified: trunk/rpms/nxtvepg/nxtvepg.spec
===================================================================
--- trunk/rpms/nxtvepg/nxtvepg.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/nxtvepg/nxtvepg.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -1,10 +1,14 @@
 # $Id$
 # Authority: dag
 # Upstream: &lt;nxtvepg-users$lists,sf,net&gt;
-# Distcc: 0
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?rh9:%define _without_tcltk_devel 1}
+%{?rh8:%define _without_tcltk_devel 1}
+%{?rh7:%define _without_tcltk_devel 1}
+%{?el2:%define _without_tcltk_devel 1}
+
 Summary: NexTView EPG decoder and browser
 Name: nxtvepg
 Version: 2.7.0
@@ -17,12 +21,9 @@
 Source1: nxtvepg.png
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: XFree86-devel, tcl, tk, desktop-file-utils
-%{?el4:BuildRequires: tcl-devel, tk-devel}
-%{?fc3:BuildRequires: tcl-devel, tk-devel}
-%{?fc2:BuildRequires: tcl-devel, tk-devel}
-%{?fc1:BuildRequires: tcl-devel, tk-devel}
-%{?el3:BuildRequires: tcl-devel, tk-devel}
+BuildRequires: XFree86-devel, desktop-file-utils
+%{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3, tk-devel}
+%{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3, tk}
 
 %description
 nxtvepg is a decoder and browser for nexTView - an Electronic TV Programme

Modified: trunk/rpms/ocaml/ocaml.spec
===================================================================
--- trunk/rpms/ocaml/ocaml.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/ocaml/ocaml.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -5,11 +5,22 @@
 
 %{?fc1:%define _without_xorg 1}
 %{?el3:%define _without_xorg 1}
+
+%{?rh9:%define _without_tcltk_devel 1}
 %{?rh9:%define _without_xorg 1}
+
+%{?rh8:%define _without_tcltk_devel 1}
 %{?rh8:%define _without_xorg 1}
+
+%{?rh7:%define _without_tcltk_devel 1}
 %{?rh7:%define _without_xorg 1}
-# %{?el2:%define _without_xorg 1}
+
+%{?el2:%define _without_tcltk_devel 1}
+%{?el2:%define _without_xorg 1}
+
+%{?rh6:%define _without_tcltk_devel 1}
 %{?rh6:%define _without_xorg 1}
+
 %{?yd3:%define _without_xorg 1}
 
 Summary: Objective Caml
@@ -26,9 +37,11 @@
 Source3: <A HREF="http://caml.inria.fr/distrib/ocaml-3.08/ocaml-3.08-refman.info.tar.gz">http://caml.inria.fr/distrib/ocaml-3.08/ocaml-3.08-refman.info.tar.gz</A>
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: gdbm-devel, tcl-devel, tk-devel
+BuildRequires: gdbm-devel
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 %{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3, tk-devel}
+%{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3, tk}
 
 %description
 Objective Caml is the latest implementation of the Caml dialect of ML. It

Modified: trunk/rpms/perl-MIME-tools/perl-MIME-tools.spec
===================================================================
--- trunk/rpms/perl-MIME-tools/perl-MIME-tools.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/perl-MIME-tools/perl-MIME-tools.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -1,8 +1,8 @@
 # $Id$
-# Authority: axel
+# Authority: dag
 
 ### Unresolved dependencies
-# Tag: test
+##Tag: test
 
 %{?dist: %{expand: %%define %dist 1}}
 
@@ -13,7 +13,7 @@
 
 Summary: Perl modules for parsing (and creating!) MIME entities
 Name: perl-MIME-tools
-Version: 5.415
+Version: 5.417
 Release: 1
 License: GPL
 Group: Applications/CPAN
@@ -43,10 +43,8 @@
 #patch1 -p1
 
 %build
-CFLAGS=&quot;%{optflags}&quot; %{__perl} Makefile.PL \
-	PREFIX=&quot;%{buildroot}%{_prefix}&quot; \
-	INSTALLDIRS=&quot;vendor&quot;
-%{__make} %{?_smp_mflags}
+CFLAGS=&quot;%{optflags}&quot; %{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot; 
+%{__make} %{?_smp_mflags} OPTIMIZE=&quot;%{optflags}&quot;
 #{__make} test
 
 %install
@@ -55,7 +53,7 @@
 
 ### Clean up buildroot
 %{__rm} -rf %{buildroot}%{perl_archlib} \
-                %{buildroot}%{perl_vendorarch}
+		%{buildroot}%{perl_vendorarch}
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -64,10 +62,14 @@
 %defattr(-, root, root, 0755)
 %doc COPYING INSTALLING MANIFEST README* examples/
 %doc %{_mandir}/man?/*
-%{perl_vendorlib}/*
+%{perl_vendorlib}/MIME/
+%{perl_vendorlib}/set-version.pl
 
 %changelog
-* Mon Dec 20 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 5.414-1
+* Thu Mar 10 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 5.417-1
+- Updated to release 5.417.
+
+* Mon Dec 20 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 5.415-1
 - Updated to release 5.415.
 
 * Sun Jan 26 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;

Modified: trunk/rpms/python-opengl/python-opengl.spec
===================================================================
--- trunk/rpms/python-opengl/python-opengl.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/python-opengl/python-opengl.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -1,6 +1,13 @@
 # $Id$
 # Authority: dag
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?rh9:%define _without_tcltk_devel 1}
+%{?rh8:%define _without_tcltk_devel 1}
+%{?rh7:%define _without_tcltk_devel 1}
+%{?el2:%define _without_tcltk_devel 1}
+
 %define real_name PyOpenGL
 
 Summary: OpenGL bindings for Python
@@ -17,12 +24,8 @@
 BuildRequires: python-devel, glut-devel, python-numeric
 BuildRequires: tcl &gt;= 8.3, tk &gt;= 8.3
 BuildRequires: XFree86-devel
-%{!?dist:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-%{?fc3:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-%{?fc2:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-%{?fc1:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-%{?el3:BuildRequires: tcl-devel &gt;= 8.3, tk-devel &gt;= 8.3}
-Requires: tcl &gt;= 8.3, tk &gt;= 8.3
+%{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3, tk-devel}
+%{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3, tk}
 Requires: python-numeric, python-imaging
 
 %description

Modified: trunk/rpms/qemu/qemu.spec
===================================================================
--- trunk/rpms/qemu/qemu.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/qemu/qemu.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -5,7 +5,7 @@
 Summary: CPU emulator
 Name: qemu
 Version: 0.6.1
-Release: 2
+Release: 3
 License: GPL
 Group: Applications/Emulators
 URL: <A HREF="http://fabrice.bellard.free.fr/qemu/">http://fabrice.bellard.free.fr/qemu/</A>
@@ -13,6 +13,8 @@
 Source: <A HREF="http://fabrice.bellard.free.fr/qemu/qemu-%{version">http://fabrice.bellard.free.fr/qemu/qemu-%{version</A>}.tar.gz
 #Patch: qemu-0.6.0-glibc-private.patch
 Patch0: qemu-0.6.1-build.patch
+Patch1: qemu-0.6.1-dyngen.patch
+Patch2: qemu-0.6.1-segv.patch
 Buildroot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: SDL-devel
@@ -38,7 +40,9 @@
 %prep
 %setup
 #%patch0 -b .glibc
-%patch0 -p1
+%patch0 -p1 -b .build
+%patch1 -p0 -b .dyngen
+%patch2 -p1 -b .segv
 
 %{__cat} &lt;&lt;'EOF' &gt;qemu.sysv
 #!/bin/sh
@@ -64,7 +68,7 @@
 		(armv4l|armv5l)
 			cpu=&quot;arm&quot;;;
 	esac
-	echo -n $&quot;Registering binary handler for qemu applications&quot;
+	echo -n $&quot;Registering non-native binary handler for Qemu&quot;
 	/sbin/modprobe binfmt_misc &amp;&gt;/dev/null
 	if [ &quot;$cpu&quot; != &quot;i386&quot; -a -x &quot;%{_bindir}/qemu-i386&quot; -a -d &quot;%{_prefix}/qemu-i386&quot; ]; then
 		echo ':qemu-i386:M::\x7fELF\x01\x01\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x02\x00\x03\x00:\xff\xff\xff\xff\xff\xfe\xfe\xff\xff\xff\xff\xff\xff\xff\xff\xff\xfb\xff\xff\xff:%{_bindir}/qemu-i386:' &gt;/proc/sys/fs/binfmt_misc/register
@@ -83,7 +87,7 @@
 }
 
 stop() {
-	echo -n $&quot;Unregistering binary handler for qemu applications&quot;
+	echo -n $&quot;Unregistering non-native binary handler for Qemu&quot;
 	for cpu in i386 i486 ppc arm sparc; do 
 		if [ -r &quot;/proc/sys/fs/binfmt_misc/qemu-$cpu&quot; ]; then
 			echo &quot;-1&quot; &gt;/proc/sys/fs/binfmt_misc/qemu-$cpu
@@ -99,10 +103,10 @@
 
 status() {
 	if ls /proc/sys/fs/binfmt_misc/qemu-* &amp;&gt;/dev/null; then 
-		echo $&quot;Qemu non-native binary format handlers are registered.&quot;
+		echo $&quot;Qemu non-native binary format handlers registered.&quot;
 		return 0
 	else
-		echo $&quot;Qemu non-native binary format handlers are not registered.&quot;
+		echo $&quot;Qemu non-native binary format handlers not registered.&quot;
 		return 1
 	fi
 }
@@ -179,6 +183,9 @@
 %exclude %{_datadir}/qemu/doc/
 
 %changelog
+* Fri Mar 11 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.6.1-3
+- Added patch for segmentation fauls on FC3.
+
 * Mon Feb 28 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.6.1-2
 - Added SDL-devel buildrequirement. (Matthias Saou)
 

Modified: trunk/rpms/sqlite/sqlite.spec
===================================================================
--- trunk/rpms/sqlite/sqlite.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/sqlite/sqlite.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -4,6 +4,11 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?rh9:%define _without_tcltk_devel 1}
+%{?rh8:%define _without_tcltk_devel 1}
+%{?rh7:%define _without_tcltk_devel 1}
+%{?el2:%define _without_tcltk_devel 1}
+
 Summary: Library that implements an embeddable SQL database engine
 Name: sqlite
 Version: 2.8.16
@@ -15,15 +20,14 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: gcc-c++, readline-devel
-%{!?dist:BuildRequires: tcl-devel}
-%{?fc3:BuildRequires: tcl-devel}
-%{?fc2:BuildRequires: tcl-devel}
-%{?fc1:BuildRequires: tcllib}
-%{?rh9:BuildRequires: tcllib}
-%{?rh8:BuildRequires: tcllib}
-%{?rh7:BuildRequires: tcllib, tcl}
-%{?el2:BuildRequires: tcllib}
-%{?rh6:BuildRequires: tcllib}
+%{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3}
+%{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3}
+#%{?fc1:BuildRequires: tcllib}
+#%{?rh9:BuildRequires: tcllib}
+#%{?rh8:BuildRequires: tcllib}
+#%{?rh7:BuildRequires: tcllib}
+#%{?el2:BuildRequires: tcllib}
+#%{?rh6:BuildRequires: tcllib}
 
 %description
 SQLite is a C library that implements an SQL database engine. A large

Modified: trunk/rpms/uudeview/uudeview.spec
===================================================================
--- trunk/rpms/uudeview/uudeview.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/uudeview/uudeview.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -4,6 +4,11 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?rh9:%define _without_tcltk_devel 1}
+%{?rh8:%define _without_tcltk_devel 1}
+%{?rh7:%define _without_tcltk_devel 1}
+%{?el2:%define _without_tcltk_devel 1}
+
 Summary: Smart decoder for uuencode, xxencode, Base64 and BinHex
 Name: uudeview
 Version: 0.5.20
@@ -16,14 +21,10 @@
 Patch: uudeview-shared.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-
 BuildRequires: autoconf, libtool
 BuildRequires: tetex-dvips, tetex-latex, transfig
-%{?fc3:BuildRequires: tcl-devel, tk-devel}
-%{?fc2:BuildRequires: tcl-devel, tk-devel}
-%{?fc1:BuildRequires: tcl-devel, tk-devel}
-%{?el3:BuildRequires: tcl-devel, tk-devel}
-BuildRequires: tcl, tk
+%{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3, tk-devel}
+%{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3, tk}
 
 %description
 The uudeview package contains an encoder and a decoder, for

Modified: trunk/rpms/xcircuit/xcircuit.spec
===================================================================
--- trunk/rpms/xcircuit/xcircuit.spec	2005-03-10 17:58:03 UTC (rev 2988)
+++ trunk/rpms/xcircuit/xcircuit.spec	2005-03-11 03:30:41 UTC (rev 2989)
@@ -2,6 +2,13 @@
 # Authority: dag
 # Upstream: &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">tim at bach.ece.jhu.edu</A>&gt;
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?rh9:%define _without_tcltk_devel 1}
+%{?rh8:%define _without_tcltk_devel 1}
+%{?rh7:%define _without_tcltk_devel 1}
+%{?el2:%define _without_tcltk_devel 1}
+
 Summary: Electronic circuit schematic drawing program
 Name: xcircuit
 Version: 3.3.1
@@ -13,11 +20,8 @@
 Source: <A HREF="http://xcircuit.ece.jhu.edu/archive/xcircuit-%{version">http://xcircuit.ece.jhu.edu/archive/xcircuit-%{version</A>}.tgz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-%{?fc3:BuildRequires: tcl-devel, tk-devel}
-%{?fc2:BuildRequires: tcl-devel, tk-devel}
-%{?fc1:BuildRequires: tcl-devel, tk-devel}
-%{?el3:BuildRequires: tcl-devel, tk-devel}
-BuildRequires: tcl, tk
+%{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3, tk-devel}
+%{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3, tk}
 
 %description
 Xcircuit is a general-purpose drawing program and also a specific-purpose


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001789.html">[SVN] r2988 - in trunk/rpms: gabber gnomeicu gtksubtitler	perl-Compress-Zlib smart zapping
</A></li>
	<LI>Next message: <A HREF="001791.html">[SVN] r2990 - in trunk/tools/dar: . scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1790">[ date ]</a>
              <a href="thread.html#1790">[ thread ]</a>
              <a href="subject.html#1790">[ subject ]</a>
              <a href="author.html#1790">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
