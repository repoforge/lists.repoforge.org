<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r3053 - in trunk/rpms: aide airtraf alphapplet alsaplayer	amsn apcupsd apt asterisk atitvout autopsy autoupdate avifile	biew bitlbee blackbox blender boa bochs cacti ccache	checkinstall childsplay chkrootkit chmlib cpuburn cryptcat	d4x dbview desproxy dia divx4linux dspam epic eternallands	fslint fw-rulegen garp gcipher gdesklets-rdgborder	gdesklets-rssgrab gensink gfax gkrellm glchess gnokii	gnometab gpm gurlchecker gweled hackedbox hammerhead hardinfo	hardlink hardlink++ heartbeat hercules honeyd hunt intersync	ipsorc ipw2100-firmware ipw2200-firmware john js	kajaani-kombat kernel-module-acx100 kernel-module-airo_mpi	kernel-module-atmel-wlan kernel-module-cloop	kernel-module-freeswan kernel-module-hsfmodem	kernel-module-ibmasm kernel-module-ips kernel-module-ltmodem	kernel-module-madwifi kernel-module-mpi350	kernel-module-ndiswrapper kernel-module-ntfs	kernel-module-openafs kernel-module-opengfs	kernel-module-openswan kernel-module-ov511	kernel-module-qc-usb kernel-module-saa7134	kernel-module-slmodem kernel-module-speedtouch	kernel-module-syscalltrack kernel-module-thinkpad	kotnet-limiet lbe libevent libgc libjpeg-mmx libmpeg3 libnet	libseal libtheora libxclass lighttpd lirc logwatch lplayer	lua lve lyx mach malsync masqmail meld memget metacam	mod_gzip mon mozilla mysqlcc nagios nagios-nsca ne netmask	neverball openobex-utils openslp openvpn otrs p0f papaya	partimage pdflib pearpc pgadmin3 php-acid php-adodb	php-jpgraph pine powertweak procget proxy-applet psi	python-twisted quicktime4linux rar regina-rexx rfb rpcmgr	rpm2html scribus sleuthkit smbldap-tools snackamp snes9x	sniffit snort snortalog spamassassin sphere sqlitemanager	squale subtitleripper switcher syslinux tcpreplay texmaker	thttpd tn5250 torcs totem tp-scroll tsocks unrar verynice	vncreflector vrb vtun w32codec white_dune widelands x2x	xautolock xmame xmame-roms xpde yum yumi zaptel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r3053%20-%20in%20trunk/rpms%3A%20aide%20airtraf%20alphapplet%20alsaplayer%0A%09amsn%20apcupsd%20apt%20asterisk%20atitvout%20autopsy%20autoupdate%20avifile%0A%09biew%20bitlbee%20blackbox%20blender%20boa%20bochs%20cacti%20ccache%0A%09checkinstall%20childsplay%20chkrootkit%20chmlib%20cpuburn%20cryptcat%0A%09d4x%20dbview%20desproxy%20dia%20divx4linux%20dspam%20epic%20eternallands%0A%09fslint%20fw-rulegen%20garp%20gcipher%20gdesklets-rdgborder%0A%09gdesklets-rssgrab%20gensink%20gfax%20gkrellm%20glchess%20gnokii%0A%09gnometab%20gpm%20gurlchecker%20gweled%20hackedbox%20hammerhead%20hardinfo%0A%09hardlink%20hardlink%2B%2B%20heartbeat%20hercules%20honeyd%20hunt%20intersync%0A%09ipsorc%20ipw2100-firmware%20ipw2200-firmware%20john%20js%0A%09kajaani-kombat%20kernel-module-acx100%20kernel-module-airo_mpi%0A%09kernel-module-atmel-wlan%20kernel-module-cloop%0A%09kernel-module-freeswan%20kernel-module-hsfmodem%0A%09kernel-module-ibmasm%20kernel-module-ips%20kernel-module-ltmodem%0A%09kernel-module-madwifi%20kernel-module-mpi350%0A%09kernel-module-ndiswrapper%20kernel-module-ntfs%0A%09kernel-module-openafs%20kernel-module-opengfs%0A%09kernel-module-openswan%20kernel-module-ov511%0A%09kernel-module-qc-usb%20kernel-module-saa7134%0A%09kernel-module-slmodem%20kernel-module-speedtouch%0A%09kernel-module-syscalltrack%20kernel-module-thinkpad%0A%09kotnet-limiet%20lbe%20libevent%20libgc%20libjpeg-mmx%20libmpeg3%20libnet%0A%09libseal%20libtheora%20libxclass%20lighttpd%20lirc%20logwatch%20lplayer%0A%09lua%20lve%20lyx%20mach%20malsync%20masqmail%20meld%20memget%20metacam%0A%09mod_gzip%20mon%20mozilla%20mysqlcc%20nagios%20nagios-nsca%20ne%20netmask%0A%09neverball%20openobex-utils%20openslp%20openvpn%20otrs%20p0f%20papaya%0A%09partimage%20pdflib%20pearpc%20pgadmin3%20php-acid%20php-adodb%0A%09php-jpgraph%20pine%20powertweak%20procget%20proxy-applet%20psi%0A%09python-twisted%20quicktime4linux%20rar%20regina-rexx%20rfb%20rpcmgr%0A%09rpm2html%20scribus%20sleuthkit%20smbldap-tools%20snackamp%20snes9x%0A%09sniffit%20snort%20snortalog%20spamassassin%20sphere%20sqlitemanager%0A%09squale%20subtitleripper%20switcher%20syslinux%20tcpreplay%20texmaker%0A%09thttpd%20tn5250%20torcs%20totem%20tp-scroll%20tsocks%20unrar%20verynice%0A%09vncreflector%20vrb%20vtun%20w32codec%20white_dune%20widelands%20x2x%0A%09xautolock%20xmame%20xmame-roms%20xpde%20yum%20yumi%20zaptel&In-Reply-To=%3C20050324171637.481295C4032%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001856.html">
   <LINK REL="Next"  HREF="001858.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r3053 - in trunk/rpms: aide airtraf alphapplet alsaplayer	amsn apcupsd apt asterisk atitvout autopsy autoupdate avifile	biew bitlbee blackbox blender boa bochs cacti ccache	checkinstall childsplay chkrootkit chmlib cpuburn cryptcat	d4x dbview desproxy dia divx4linux dspam epic eternallands	fslint fw-rulegen garp gcipher gdesklets-rdgborder	gdesklets-rssgrab gensink gfax gkrellm glchess gnokii	gnometab gpm gurlchecker gweled hackedbox hammerhead hardinfo	hardlink hardlink++ heartbeat hercules honeyd hunt intersync	ipsorc ipw2100-firmware ipw2200-firmware john js	kajaani-kombat kernel-module-acx100 kernel-module-airo_mpi	kernel-module-atmel-wlan kernel-module-cloop	kernel-module-freeswan kernel-module-hsfmodem	kernel-module-ibmasm kernel-module-ips kernel-module-ltmodem	kernel-module-madwifi kernel-module-mpi350	kernel-module-ndiswrapper kernel-module-ntfs	kernel-module-openafs kernel-module-opengfs	kernel-module-openswan kernel-module-ov511	kernel-module-qc-usb kernel-module-saa7134	kernel-module-slmodem kernel-module-speedtouch	kernel-module-syscalltrack kernel-module-thinkpad	kotnet-limiet lbe libevent libgc libjpeg-mmx libmpeg3 libnet	libseal libtheora libxclass lighttpd lirc logwatch lplayer	lua lve lyx mach malsync masqmail meld memget metacam	mod_gzip mon mozilla mysqlcc nagios nagios-nsca ne netmask	neverball openobex-utils openslp openvpn otrs p0f papaya	partimage pdflib pearpc pgadmin3 php-acid php-adodb	php-jpgraph pine powertweak procget proxy-applet psi	python-twisted quicktime4linux rar regina-rexx rfb rpcmgr	rpm2html scribus sleuthkit smbldap-tools snackamp snes9x	sniffit snort snortalog spamassassin sphere sqlitemanager	squale subtitleripper switcher syslinux tcpreplay texmaker	thttpd tn5250 torcs totem tp-scroll tsocks unrar verynice	vncreflector vrb vtun w32codec white_dune widelands x2x	xautolock xmame xmame-roms xpde yum yumi zaptel</H1>
    <B>svn-commits at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r3053%20-%20in%20trunk/rpms%3A%20aide%20airtraf%20alphapplet%20alsaplayer%0A%09amsn%20apcupsd%20apt%20asterisk%20atitvout%20autopsy%20autoupdate%20avifile%0A%09biew%20bitlbee%20blackbox%20blender%20boa%20bochs%20cacti%20ccache%0A%09checkinstall%20childsplay%20chkrootkit%20chmlib%20cpuburn%20cryptcat%0A%09d4x%20dbview%20desproxy%20dia%20divx4linux%20dspam%20epic%20eternallands%0A%09fslint%20fw-rulegen%20garp%20gcipher%20gdesklets-rdgborder%0A%09gdesklets-rssgrab%20gensink%20gfax%20gkrellm%20glchess%20gnokii%0A%09gnometab%20gpm%20gurlchecker%20gweled%20hackedbox%20hammerhead%20hardinfo%0A%09hardlink%20hardlink%2B%2B%20heartbeat%20hercules%20honeyd%20hunt%20intersync%0A%09ipsorc%20ipw2100-firmware%20ipw2200-firmware%20john%20js%0A%09kajaani-kombat%20kernel-module-acx100%20kernel-module-airo_mpi%0A%09kernel-module-atmel-wlan%20kernel-module-cloop%0A%09kernel-module-freeswan%20kernel-module-hsfmodem%0A%09kernel-module-ibmasm%20kernel-module-ips%20kernel-module-ltmodem%0A%09kernel-module-madwifi%20kernel-module-mpi350%0A%09kernel-module-ndiswrapper%20kernel-module-ntfs%0A%09kernel-module-openafs%20kernel-module-opengfs%0A%09kernel-module-openswan%20kernel-module-ov511%0A%09kernel-module-qc-usb%20kernel-module-saa7134%0A%09kernel-module-slmodem%20kernel-module-speedtouch%0A%09kernel-module-syscalltrack%20kernel-module-thinkpad%0A%09kotnet-limiet%20lbe%20libevent%20libgc%20libjpeg-mmx%20libmpeg3%20libnet%0A%09libseal%20libtheora%20libxclass%20lighttpd%20lirc%20logwatch%20lplayer%0A%09lua%20lve%20lyx%20mach%20malsync%20masqmail%20meld%20memget%20metacam%0A%09mod_gzip%20mon%20mozilla%20mysqlcc%20nagios%20nagios-nsca%20ne%20netmask%0A%09neverball%20openobex-utils%20openslp%20openvpn%20otrs%20p0f%20papaya%0A%09partimage%20pdflib%20pearpc%20pgadmin3%20php-acid%20php-adodb%0A%09php-jpgraph%20pine%20powertweak%20procget%20proxy-applet%20psi%0A%09python-twisted%20quicktime4linux%20rar%20regina-rexx%20rfb%20rpcmgr%0A%09rpm2html%20scribus%20sleuthkit%20smbldap-tools%20snackamp%20snes9x%0A%09sniffit%20snort%20snortalog%20spamassassin%20sphere%20sqlitemanager%0A%09squale%20subtitleripper%20switcher%20syslinux%20tcpreplay%20texmaker%0A%09thttpd%20tn5250%20torcs%20totem%20tp-scroll%20tsocks%20unrar%20verynice%0A%09vncreflector%20vrb%20vtun%20w32codec%20white_dune%20widelands%20x2x%0A%09xautolock%20xmame%20xmame-roms%20xpde%20yum%20yumi%20zaptel&In-Reply-To=%3C20050324171637.481295C4032%40pooch.vmhosting.org%3E"
       TITLE="[svn] r3053 - in trunk/rpms: aide airtraf alphapplet alsaplayer	amsn apcupsd apt asterisk atitvout autopsy autoupdate avifile	biew bitlbee blackbox blender boa bochs cacti ccache	checkinstall childsplay chkrootkit chmlib cpuburn cryptcat	d4x dbview desproxy dia divx4linux dspam epic eternallands	fslint fw-rulegen garp gcipher gdesklets-rdgborder	gdesklets-rssgrab gensink gfax gkrellm glchess gnokii	gnometab gpm gurlchecker gweled hackedbox hammerhead hardinfo	hardlink hardlink++ heartbeat hercules honeyd hunt intersync	ipsorc ipw2100-firmware ipw2200-firmware john js	kajaani-kombat kernel-module-acx100 kernel-module-airo_mpi	kernel-module-atmel-wlan kernel-module-cloop	kernel-module-freeswan kernel-module-hsfmodem	kernel-module-ibmasm kernel-module-ips kernel-module-ltmodem	kernel-module-madwifi kernel-module-mpi350	kernel-module-ndiswrapper kernel-module-ntfs	kernel-module-openafs kernel-module-opengfs	kernel-module-openswan kernel-module-ov511	kernel-module-qc-usb kernel-module-saa7134	kernel-module-slmodem kernel-module-speedtouch	kernel-module-syscalltrack kernel-module-thinkpad	kotnet-limiet lbe libevent libgc libjpeg-mmx libmpeg3 libnet	libseal libtheora libxclass lighttpd lirc logwatch lplayer	lua lve lyx mach malsync masqmail meld memget metacam	mod_gzip mon mozilla mysqlcc nagios nagios-nsca ne netmask	neverball openobex-utils openslp openvpn otrs p0f papaya	partimage pdflib pearpc pgadmin3 php-acid php-adodb	php-jpgraph pine powertweak procget proxy-applet psi	python-twisted quicktime4linux rar regina-rexx rfb rpcmgr	rpm2html scribus sleuthkit smbldap-tools snackamp snes9x	sniffit snort snortalog spamassassin sphere sqlitemanager	squale subtitleripper switcher syslinux tcpreplay texmaker	thttpd tn5250 torcs totem tp-scroll tsocks unrar verynice	vncreflector vrb vtun w32codec white_dune widelands x2x	xautolock xmame xmame-roms xpde yum yumi zaptel">svn-commits at lists.rpmforge.net
       </A><BR>
    <I>Thu Mar 24 18:16:37 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001856.html">[svn] r3052 - in trunk/rpms: acroread amsn-skins apserver	armagetronad-moviepack autopsy awstats biew cacti ccal	childsplay cln eternallands fortune freshrpms-release	gdesklets-diskmount gdesklets-rssgrab gtetrinet hardlink	i8kutils j2re kexi kotnet-limiet ldap-account-manager	libdaemon libfame lincvs moagg-data mozilla mplayer-skins muh	nagios neverball ocaml otrs p7zip pine pisg plone rfc rpcmgr	rpmlint rrdtool sarg smart snackamp sphere switcher tightvnc	tinyca tpctl ttcp tuxsaver videolan-client webmin widelands	xine-skins xmame xosview xpde yum
</A></li>
        <LI>Next message: <A HREF="001858.html">[svn] r3054 - in trunk/rpms: . 3ddesktop aterm autossh centericq	esvn gdesklets iozone mod_log_sql perl-Convert-UUlib pfqueue	rootsh smart
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1857">[ date ]</a>
              <a href="thread.html#1857">[ thread ]</a>
              <a href="subject.html#1857">[ subject ]</a>
              <a href="author.html#1857">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2005-03-24 18:16:13 +0100 (Thu, 24 Mar 2005)
New Revision: 3053

Modified:
   trunk/rpms/aide/aide.spec
   trunk/rpms/airtraf/airtraf.spec
   trunk/rpms/alphapplet/alphapplet.spec
   trunk/rpms/alsaplayer/alsaplayer.spec
   trunk/rpms/amsn/amsn.spec
   trunk/rpms/apcupsd/apcupsd.spec
   trunk/rpms/apt/apt.spec
   trunk/rpms/asterisk/asterisk.spec
   trunk/rpms/atitvout/atitvout.spec
   trunk/rpms/autopsy/autopsy.spec
   trunk/rpms/autoupdate/autoupdate.spec
   trunk/rpms/avifile/avifile.spec
   trunk/rpms/biew/biew.spec
   trunk/rpms/bitlbee/bitlbee.spec
   trunk/rpms/blackbox/blackbox.spec
   trunk/rpms/blender/blender.spec
   trunk/rpms/boa/boa.spec
   trunk/rpms/bochs/bochs.spec
   trunk/rpms/cacti/cacti.spec
   trunk/rpms/ccache/ccache.spec
   trunk/rpms/checkinstall/checkinstall.spec
   trunk/rpms/childsplay/childsplay.spec
   trunk/rpms/chkrootkit/chkrootkit.spec
   trunk/rpms/chmlib/chmlib.spec
   trunk/rpms/cpuburn/cpuburn.spec
   trunk/rpms/cryptcat/cryptcat.spec
   trunk/rpms/d4x/d4x.spec
   trunk/rpms/dbview/dbview.spec
   trunk/rpms/desproxy/desproxy.spec
   trunk/rpms/dia/dia.spec
   trunk/rpms/divx4linux/divx4linux.spec
   trunk/rpms/dspam/dspam.spec
   trunk/rpms/epic/epic.spec
   trunk/rpms/epic/epic4-v1.spec
   trunk/rpms/eternallands/eternallands.spec
   trunk/rpms/fslint/fslint-1.x.spec
   trunk/rpms/fslint/fslint.spec
   trunk/rpms/fw-rulegen/fw-rulegen.spec
   trunk/rpms/garp/garp.spec
   trunk/rpms/gcipher/gcipher.spec
   trunk/rpms/gdesklets-rdgborder/gdesklets-rdgborder.spec
   trunk/rpms/gdesklets-rssgrab/gdesklets-rss-grab.spec
   trunk/rpms/gensink/gensink.spec
   trunk/rpms/gfax/gfax-0.5.spec
   trunk/rpms/gfax/gfax.spec
   trunk/rpms/gkrellm/gkrellm.spec
   trunk/rpms/glchess/glchess.spec
   trunk/rpms/gnokii/gnokii.spec
   trunk/rpms/gnometab/gnometab.spec
   trunk/rpms/gpm/gpm.spec
   trunk/rpms/gurlchecker/gurlchecker-0.6.x.spec
   trunk/rpms/gweled/gweled.spec
   trunk/rpms/hackedbox/hackedbox.spec
   trunk/rpms/hammerhead/hammerhead.spec
   trunk/rpms/hardinfo/hardinfo.spec
   trunk/rpms/hardlink++/hardlink++.spec
   trunk/rpms/hardlink/hardlink.spec
   trunk/rpms/heartbeat/heartbeat.spec
   trunk/rpms/hercules/hercules.spec
   trunk/rpms/honeyd/honeyd.spec
   trunk/rpms/hunt/hunt.spec
   trunk/rpms/intersync/intersync.spec
   trunk/rpms/ipsorc/ipsorc.spec
   trunk/rpms/ipw2100-firmware/ipw2100-firmware.spec
   trunk/rpms/ipw2200-firmware/ipw2200-firmware.spec
   trunk/rpms/john/john.spec
   trunk/rpms/js/js.spec
   trunk/rpms/kajaani-kombat/kajaani-kombat.spec
   trunk/rpms/kernel-module-acx100/kernel-module-acx100.spec
   trunk/rpms/kernel-module-airo_mpi/kernel-module-airo_mpi.spec
   trunk/rpms/kernel-module-atmel-wlan/kernel-module-atmel-wlan.spec
   trunk/rpms/kernel-module-cloop/kernel-module-cloop-2.01.spec
   trunk/rpms/kernel-module-cloop/kernel-module-cloop.spec
   trunk/rpms/kernel-module-freeswan/kernel-module-freeswan.spec
   trunk/rpms/kernel-module-hsfmodem/kernel-module-hsfmodem.spec
   trunk/rpms/kernel-module-ibmasm/kernel-module-ibmasm.spec
   trunk/rpms/kernel-module-ips/kernel-module-ips.spec
   trunk/rpms/kernel-module-ltmodem/kernel-module-ltmodem.spec
   trunk/rpms/kernel-module-madwifi/kernel-module-madwifi.spec
   trunk/rpms/kernel-module-mpi350/kernel-module-mpi350.spec
   trunk/rpms/kernel-module-ndiswrapper/kernel-module-ndiswrapper.spec
   trunk/rpms/kernel-module-ntfs/kernel-module-ntfs.spec
   trunk/rpms/kernel-module-openafs/kernel-module-openafs.spec
   trunk/rpms/kernel-module-opengfs/kernel-module-opengfs.spec
   trunk/rpms/kernel-module-openswan/kernel-module-openswan.spec
   trunk/rpms/kernel-module-ov511/kernel-module-ov511-2.26.spec
   trunk/rpms/kernel-module-ov511/kernel-module-ov511.spec
   trunk/rpms/kernel-module-qc-usb/dag-kernel-module-qc-usb.spec
   trunk/rpms/kernel-module-saa7134/kernel-module-saa7134.spec
   trunk/rpms/kernel-module-slmodem/kernel-module-slmodem.spec
   trunk/rpms/kernel-module-speedtouch/kernel-module-speedtouch.spec
   trunk/rpms/kernel-module-syscalltrack/kernel-module-syscalltrack.spec
   trunk/rpms/kernel-module-thinkpad/kernel-module-thinkpad.spec
   trunk/rpms/kotnet-limiet/kotnet-limiet.spec
   trunk/rpms/lbe/lbe.spec
   trunk/rpms/libevent/libevent.spec
   trunk/rpms/libgc/libgc.spec
   trunk/rpms/libjpeg-mmx/libjpeg-mmx.spec
   trunk/rpms/libmpeg3/libmpeg3.spec
   trunk/rpms/libnet/libnet-1.1.spec
   trunk/rpms/libseal/libseal.spec
   trunk/rpms/libtheora/libtheora.spec
   trunk/rpms/libxclass/libxclass.spec
   trunk/rpms/lighttpd/lighttpd.spec
   trunk/rpms/lirc/lirc.spec
   trunk/rpms/logwatch/logwatch.spec
   trunk/rpms/lplayer/lplayer.spec
   trunk/rpms/lua/lua.spec
   trunk/rpms/lve/lve.spec
   trunk/rpms/lyx/lyx.spec
   trunk/rpms/mach/mach.spec
   trunk/rpms/malsync/malsync.spec
   trunk/rpms/masqmail/masqmail.spec
   trunk/rpms/meld/meld.spec
   trunk/rpms/memget/memget.spec
   trunk/rpms/metacam/metacam.spec
   trunk/rpms/mod_gzip/mod_gzip.spec
   trunk/rpms/mon/mon.spec
   trunk/rpms/mozilla/mozilla-1.3.x.spec
   trunk/rpms/mozilla/mozilla-1.4.x.spec
   trunk/rpms/mozilla/mozilla.spec
   trunk/rpms/mysqlcc/mysqlcc.spec
   trunk/rpms/nagios-nsca/nagios-nsca.spec
   trunk/rpms/nagios/nagios-1.1.spec
   trunk/rpms/nagios/nagios-1.2.spec
   trunk/rpms/nagios/nagios-2.0.spec
   trunk/rpms/nagios/nagios.spec
   trunk/rpms/ne/ne.spec
   trunk/rpms/netmask/netmask.spec
   trunk/rpms/neverball/neverball.spec
   trunk/rpms/openobex-utils/openobex-utils.spec
   trunk/rpms/openslp/openslp.spec
   trunk/rpms/openvpn/openvpn-1.4.spec
   trunk/rpms/otrs/otrs.spec
   trunk/rpms/p0f/p0f.spec
   trunk/rpms/papaya/papaya.spec
   trunk/rpms/partimage/partimage-0.6.spec
   trunk/rpms/pdflib/pdflib.spec
   trunk/rpms/pearpc/pearpc.spec
   trunk/rpms/pgadmin3/pgadmin3.spec
   trunk/rpms/php-acid/php-acid.spec
   trunk/rpms/php-adodb/php-adodb.spec
   trunk/rpms/php-jpgraph/php-jpgraph.spec
   trunk/rpms/pine/pine.spec
   trunk/rpms/powertweak/powertweak.spec
   trunk/rpms/procget/procget.spec
   trunk/rpms/proxy-applet/proxy-applet.spec
   trunk/rpms/psi/psi.spec
   trunk/rpms/python-twisted/python-twisted.spec
   trunk/rpms/quicktime4linux/quicktime4linux.spec
   trunk/rpms/rar/rar.spec
   trunk/rpms/regina-rexx/regina-rexx.spec
   trunk/rpms/rfb/rfb.spec
   trunk/rpms/rpcmgr/rpcmgr.spec
   trunk/rpms/rpm2html/rpm2html-1.7.spec
   trunk/rpms/scribus/scribus.spec
   trunk/rpms/sleuthkit/sleuthkit.spec
   trunk/rpms/smbldap-tools/smbldap-tools.spec
   trunk/rpms/snackamp/snackamp-fdw.spec
   trunk/rpms/snackamp/snackamp.spec
   trunk/rpms/snes9x/snes9x.spec
   trunk/rpms/sniffit/sniffit.spec
   trunk/rpms/snort/snort.spec
   trunk/rpms/snortalog/snortalog.spec
   trunk/rpms/spamassassin/spamassassin.spec
   trunk/rpms/sphere/sphere.spec
   trunk/rpms/sqlitemanager/sqlitemanager.spec
   trunk/rpms/squale/squale.spec
   trunk/rpms/subtitleripper/subtitleripper.spec
   trunk/rpms/switcher/switcher.spec
   trunk/rpms/syslinux/syslinux.spec
   trunk/rpms/tcpreplay/tcpreplay-1.3.spec
   trunk/rpms/texmaker/texmaker.spec
   trunk/rpms/thttpd/thttpd.spec
   trunk/rpms/tn5250/tn5250.spec
   trunk/rpms/torcs/torcs.spec
   trunk/rpms/totem/totem.spec
   trunk/rpms/tp-scroll/tp-scroll.spec
   trunk/rpms/tsocks/tsocks.spec
   trunk/rpms/unrar/unrar.spec
   trunk/rpms/verynice/verynice.spec
   trunk/rpms/vncreflector/vncreflector.spec
   trunk/rpms/vrb/vrb.spec
   trunk/rpms/vtun/vtun.spec
   trunk/rpms/w32codec/w32codec.spec
   trunk/rpms/white_dune/white_dune.spec
   trunk/rpms/widelands/widelands.spec
   trunk/rpms/x2x/x2x.spec
   trunk/rpms/xautolock/xautolock.spec
   trunk/rpms/xmame-roms/xmame-roms.spec
   trunk/rpms/xmame/xmame.spec
   trunk/rpms/xpde/xpde.spec
   trunk/rpms/yum/yum-1.0.spec
   trunk/rpms/yum/yum.spec
   trunk/rpms/yumi/yumi.spec
   trunk/rpms/zaptel/zaptel.spec
Log:
Add preserve-timestamp to install

Modified: trunk/rpms/aide/aide.spec
===================================================================
--- trunk/rpms/aide/aide.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/aide/aide.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -50,7 +50,7 @@
 %{__install} -Dp -m0600 %{SOURCE1} %{buildroot}%{_sysconfdir}/aide.conf
 %{__install} -d -m0755 %{buildroot}%{_localstatedir}/lib/aide/
 
-%{__install} -m0644 %{SOURCE2} README.quickstart
+%{__install} -p -m0644 %{SOURCE2} README.quickstart
 %{__install} -Dp -m0644 doc/aide.1.ru %{buildroot}%{_mandir}/ru/man1/aide.1
 %{__install} -Dp -m0644 doc/aide.conf.5.ru %{buildroot}%{_mandir}/ru/man5/aide.conf.5
 

Modified: trunk/rpms/airtraf/airtraf.spec
===================================================================
--- trunk/rpms/airtraf/airtraf.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/airtraf/airtraf.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -35,8 +35,7 @@
 %{__rm} -rf %{buildroot}
 #makeinstall -C src \
 #	INSTALL_DIR=&quot;%{buildroot}%{_bindir}&quot;
-%{__install} -d -m0755 %{buildroot}%{_bindir}
-%{__install} -m0755 src/airtraf %{buildroot}%{_bindir}
+%{__install} -Dp -m0755 src/airtraf %{buildroot}%{_bindir}/airtraf
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/alphapplet/alphapplet.spec
===================================================================
--- trunk/rpms/alphapplet/alphapplet.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/alphapplet/alphapplet.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -46,7 +46,7 @@
         --add-category X-Red-Hat-Base              \
         --dir %{buildroot}%{_datadir}/applications \
         %{buildroot}%{_datadir}/applications/alphapplet.desktop
-%{__install} -m0755 alphapplet.sh %{buildroot}%{_bindir}/alphapplet
+%{__install} -Dp -m0755 alphapplet.sh %{buildroot}%{_bindir}/alphapplet
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/alsaplayer/alsaplayer.spec
===================================================================
--- trunk/rpms/alsaplayer/alsaplayer.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/alsaplayer/alsaplayer.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -51,7 +51,7 @@
 %{__make} install DESTDIR=%{buildroot}
 # Install icons
 %{__mkdir_p} %{buildroot}%{_datadir}/pixmaps
-%{__install} -m 644 %{SOURCE1} %{SOURCE2} %{SOURCE3} \
+%{__install} -p -m644 %{SOURCE1} %{SOURCE2} %{SOURCE3} \
     %{buildroot}%{_datadir}/pixmaps/
 
 # System menu entry

Modified: trunk/rpms/amsn/amsn.spec
===================================================================
--- trunk/rpms/amsn/amsn.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/amsn/amsn.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -131,10 +131,10 @@
 %{__install} -Dp -m0755 amsn.sh %{buildroot}%{_bindir}/amsn
 %{__install} -Dp -m0644 skins/default/pixmaps/messenger.png %{buildroot}%{_datadir}/pixmaps/amsn.png
 
-%{__install} -m0644 FAQ HELP README %{buildroot}%{_datadir}/amsn/
+%{__install} -p -m0644 FAQ HELP README %{buildroot}%{_datadir}/amsn/
 
 %{__install} -d -m0755 %{buildroot}%{_datadir}/amsn/plugins/tls%{tls_maj}/
-%{__install} -m0755 tls%{tls_maj}/libtls%{tls_maj}.so tls%{tls_maj}/pkgIndex.tcl tls%{tls_maj}/tls.tcl %{buildroot}%{_datadir}/amsn/plugins/tls%{tls_maj}/
+%{__install} -p -m0755 tls%{tls_maj}/libtls%{tls_maj}.so tls%{tls_maj}/pkgIndex.tcl tls%{tls_maj}/tls.tcl %{buildroot}%{_datadir}/amsn/plugins/tls%{tls_maj}/
 
 %if %{?_without_freedesktop:1}0
 	%{__install} -Dp -m0644 amsn.desktop %{buildroot}%{_datadir}/gnome/apps/Internet/amsn.desktop

Modified: trunk/rpms/apcupsd/apcupsd.spec
===================================================================
--- trunk/rpms/apcupsd/apcupsd.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/apcupsd/apcupsd.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -75,7 +75,7 @@
 %{__make} install \
 	DESTDIR=&quot;%{buildroot}&quot;
 
-%{__install} -m0755 examples/hid-ups examples/make-hiddev %{buildroot}%{_sysconfdir}/apcupsd/
+%{__install} -p -m0755 examples/hid-ups examples/make-hiddev %{buildroot}%{_sysconfdir}/apcupsd/
 %{__install} -Dp -m0644 apcupsd.httpd %{buildroot}%{_sysconfdir}/httpd/conf.d/apcupsd.conf
 %{__install} -Dp -m0644 apcupsd.logrotate %{buildroot}%{_sysconfdir}/logrotate.d/apcupsd
 

Modified: trunk/rpms/apt/apt.spec
===================================================================
--- trunk/rpms/apt/apt.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/apt/apt.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -220,8 +220,8 @@
 		%{buildroot}%{_localstatedir}/cache/apt/{archives/partial,genpkglist,gensrclist} \
 		%{buildroot}%{_localstatedir}/state/apt/lists/partial \
 		%{buildroot}%{_libdir}/apt/scripts/
-%{__install} -m0644 rpmpriorities apt.conf %{buildroot}%{_sysconfdir}/apt/
-%{__install} -m0644 dag.list os.list freshrpms.list newrpms.list dries.list atrpms.list %{buildroot}%{_sysconfdir}/apt/sources.list.d/
+%{__install} -p -m0644 rpmpriorities apt.conf %{buildroot}%{_sysconfdir}/apt/
+%{__install} -p -m0644 dag.list os.list freshrpms.list newrpms.list dries.list atrpms.list %{buildroot}%{_sysconfdir}/apt/sources.list.d/
 touch %{buildroot}%{_sysconfdir}/apt/preferences \
 	%{buildroot}%{_sysconfdir}/apt/vendors.list
 

Modified: trunk/rpms/asterisk/asterisk.spec
===================================================================
--- trunk/rpms/asterisk/asterisk.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/asterisk/asterisk.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -68,7 +68,7 @@
 %{__make} install DESTDIR=%{buildroot}
 # Install all sample config files
 %{__make} samples DESTDIR=%{buildroot}
-%{__install} -Dp -m 0755 %{SOURCE1} \
+%{__install} -Dp -m0755 %{SOURCE1} \
     %{buildroot}%{_sysconfdir}/rc.d/init.d/asterisk
 
 # We need that directory, see above
@@ -80,10 +80,10 @@
 
 # Install demo sounds
 for file in sounds/demo-*; do
-    %{__install} -m 0644 $file %{buildroot}%{_var}/lib/asterisk/sounds/
+    %{__install} -p -m0644 $file %{buildroot}%{_var}/lib/asterisk/sounds/
 done
 for file in sounds/*.mp3; do
-    %{__install} -m 0644 $file %{buildroot}%{_var}/lib/asterisk/mohmp3/
+    %{__install} -p -m0644 $file %{buildroot}%{_var}/lib/asterisk/mohmp3/
 done
 
 

Modified: trunk/rpms/atitvout/atitvout.spec
===================================================================
--- trunk/rpms/atitvout/atitvout.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/atitvout/atitvout.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -36,10 +36,8 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_sbindir} \
-			%{buildroot}%{_mandir}/man1
-%{__install} -m0755 atitvout %{buildroot}%{_sbindir}
-%{__install} -m0644 debian/atitvout.1 %{buildroot}%{_mandir}/man1/
+%{__install} -Dp -m0755 atitvout %{buildroot}%{_sbindir}/atitvout
+%{__install} -Dp -m0644 debian/atitvout.1 %{buildroot}%{_mandir}/man1/atitvout.1
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/autopsy/autopsy.spec
===================================================================
--- trunk/rpms/autopsy/autopsy.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/autopsy/autopsy.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -51,15 +51,15 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_sbindir} \
-			%{buildroot}%{_datadir}/autopsy/ \
+%{__install} -d -m0755 %{buildroot}%{_datadir}/autopsy/ \
 			%{buildroot}%{_localstatedir}/log/autopsy/ \
 			%{buildroot}%{_localstatedir}/morgue/ \
 			%{buildroot}%{_mandir}/man1/
-%{__install} -m0755 autopsy %{buildroot}%{_sbindir}
-%{__install} -m0755 autopsyfunc.pm fs.pl search.pl %{buildroot}%{_datadir}/autopsy/
-%{__install} -m0600 conf.pl define.pl %{buildroot}%{_datadir}/autopsy/
-%{__install} -m0644 man/man1/* %{buildroot}%{_mandir}/man1/
+%{__install} -Dp -m0755 autopsy %{buildroot}%{_sbindir}/autopsy
+%{__install} -p -m0755 autopsyfunc.pm fs.pl search.pl %{buildroot}%{_datadir}/autopsy/
+%{__install} -Dp -m0600 conf.pl %{buildroot}%{_datadir}/autopsy/conf.pl
+%{__install} -Dp -m0600 define.pl %{buildroot}%{_datadir}/autopsy/define.pl
+%{__install} -p -m0644 man/man1/* %{buildroot}%{_mandir}/man1/
 %{__cp} -pr help/ pict/ %{buildroot}%{_datadir}/autopsy/
 #%{__cp} -p base/fsmorgue %{buildroot}%{_localstatedir}/morgue/
 
@@ -72,7 +72,7 @@
 %doc %{_mandir}/man?/*
 %config(noreplace) %{_datadir}/autopsy/conf.pl
 %config(noreplace) %{_datadir}/autopsy/define.pl
-%{_sbindir}/*
+%{_sbindir}/autopsy
 %{_localstatedir}/log/autopsy/
 %{_localstatedir}/morgue/
 %{_datadir}/autopsy/

Modified: trunk/rpms/autoupdate/autoupdate.spec
===================================================================
--- trunk/rpms/autoupdate/autoupdate.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/autoupdate/autoupdate.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -36,11 +36,11 @@
 #%{__install} -Dp -m0644 autoupdate.pm.3.gz %{buildroot}%{_mandir}/man3/autoupdate.pm.3.gz
 
 %{__install} -d -m0755 %{buildroot}%{_libdir}/perl5/site_perl/autoupdate/
-%{__install} -m0644 autoupdate.pm/* %{buildroot}%{_libdir}/perl5/site_perl/autoupdate/
+%{__install} -p -m0644 autoupdate.pm/* %{buildroot}%{_libdir}/perl5/site_perl/autoupdate/
 
 %{__install} -d -m0755 %{buildroot}%{_sysconfdir}/autoupdate.d
-%{__install} -m0755 autoupdate.d/*.sh %{buildroot}/%{_sysconfdir}/autoupdate.d/
-%{__install} -m0644 autoupdate.d/*.{dld,get,conf} %{buildroot}/%{_sysconfdir}/autoupdate.d/
+%{__install} -p -m0755 autoupdate.d/*.sh %{buildroot}/%{_sysconfdir}/autoupdate.d/
+%{__install} -p -m0644 autoupdate.d/*.{dld,get,conf} %{buildroot}/%{_sysconfdir}/autoupdate.d/
 %{__rm} -f %{buildroot}/etc/autoupdate.d/{powertools,rhsa,rpmfind,texmacs,webmin}.dld
 
 %{__install} -d -m0755 %{buildroot}%{_localstatedir}/{log,spool/autoupdate}

Modified: trunk/rpms/avifile/avifile.spec
===================================================================
--- trunk/rpms/avifile/avifile.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/avifile/avifile.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -83,7 +83,7 @@
 %{__rm} -rf %{buildroot}
 #make install DESTDIR=&quot;%{buildroot}&quot;
 %makeinstall
-%{__install} -m0644 -D bin/test.png %{buildroot}%{_datadir}/pixmaps/%{name}.png
+%{__install} -Dp -m0644 bin/test.png %{buildroot}%{_datadir}/pixmaps/%{name}.png
 
 %if %{?_without_freedesktop:1}0
 	%{__install} -Dp -m0644 avifile.desktop %{buildroot}%{_datadir}/gnome/apps/Multimedia/avifile.desktop

Modified: trunk/rpms/biew/biew.spec
===================================================================
--- trunk/rpms/biew/biew.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/biew/biew.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -41,7 +41,7 @@
 %{__install} -Dp -m0644 bin_rc/biew.hlp %{buildroot}%{_datadir}/biew/biew.hlp
 
 %{__install} -d -m0755 %{buildroot}%{_datadir}/biew/{skn,xlt}/
-%{__install} -m0644 bin_rc/skn/*.skn %{buildroot}%{_datadir}/biew/skn/
+%{__install} -p -m0644 bin_rc/skn/*.skn %{buildroot}%{_datadir}/biew/skn/
 %{__cp} -apuvx bin_rc/xlt/* %{buildroot}%{_datadir}/biew/xlt/
 
 %clean

Modified: trunk/rpms/bitlbee/bitlbee.spec
===================================================================
--- trunk/rpms/bitlbee/bitlbee.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/bitlbee/bitlbee.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -68,7 +68,7 @@
 %{__install} -Dp -m0644 bitlbee.xinet %{buildroot}%{_sysconfdir}/xinetd.d/bitlbee
 
 %{__install} -d -m0755 %{buildroot}%{_mandir}/man8/
-%{__install} -m0644 doc/*.8 %{buildroot}%{_mandir}/man8/
+%{__install} -p -m0644 doc/*.8 %{buildroot}%{_mandir}/man8/
 
 %{__install} -d -m0755 %{buildroot}%{_localstatedir}/lib/bitlbee/
 

Modified: trunk/rpms/blackbox/blackbox.spec
===================================================================
--- trunk/rpms/blackbox/blackbox.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/blackbox/blackbox.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -49,7 +49,7 @@
 EOF
 
 # Install the desktop entry
-%{__install} -m 644 -D %{SOURCE1} \
+%{__install} -Dp -m644 %{SOURCE1} \
     %{buildroot}%{_datadir}/xsessions/%{name}.desktop
 
 

Modified: trunk/rpms/blender/blender.spec
===================================================================
--- trunk/rpms/blender/blender.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/blender/blender.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -64,7 +64,7 @@
 %{__install} -Dp -m0755 blender %{buildroot}%{_bindir}/blender
 %{__install} -Dp -m0644 %{SOURCE1} %{buildroot}%{_datadir}/pixmaps/blender.png
 %{__install} -d %{buildroot}%{_libdir}/blender
-%{__install} -m0644 release/scripts/* %{buildroot}%{_libdir}/blender/
+%{__install} -p -m0644 release/scripts/* %{buildroot}%{_libdir}/blender/
 
 %if %{?_without_freedesktop:1}0
         %{__install} -Dp -m0644 blender.desktop %{buildroot}%{_datadir}/gnome/apps/Multimedia/blender.desktop

Modified: trunk/rpms/boa/boa.spec
===================================================================
--- trunk/rpms/boa/boa.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/boa/boa.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -60,20 +60,20 @@
 %install
 %{__rm} -rf %{buildroot}
 # Manual install is still mandatory
-%{__install} -m 755 -D src/boa %{buildroot}%{_sbindir}/boa
-%{__install} -m 755 -D src/boa_indexer %{buildroot}%{_libdir}/boa/boa_indexer
-%{__install} -m 644 -D docs/boa.8 %{buildroot}%{_mandir}/man8/boa.8
-%{__install} -m 644 -D examples/boa.conf %{buildroot}%{_sysconfdir}/boa/boa.conf
-%{__install} -m 644 -D contrib/redhat/boa.logrotate \
+%{__install} -Dp -m0755 src/boa %{buildroot}%{_sbindir}/boa
+%{__install} -Dp -m0755 src/boa_indexer %{buildroot}%{_libdir}/boa/boa_indexer
+%{__install} -Dp -m0644 docs/boa.8 %{buildroot}%{_mandir}/man8/boa.8
+%{__install} -Dp -m0644 examples/boa.conf %{buildroot}%{_sysconfdir}/boa/boa.conf
+%{__install} -Dp -m0644 contrib/redhat/boa.logrotate \
     %{buildroot}%{_sysconfdir}/logrotate.d/boa
-%{__install} -m 755 -D %{SOURCE1} %{buildroot}%{_sysconfdir}/rc.d/init.d/boa
-%{__install} -m 755 -D %{SOURCE2} %{buildroot}%{_sysconfdir}/sysconfig/boa
+%{__install} -Dp -m0755 %{SOURCE1} %{buildroot}%{_sysconfdir}/rc.d/init.d/boa
+%{__install} -Dp -m0755 %{SOURCE2} %{buildroot}%{_sysconfdir}/sysconfig/boa
 
 %{__mkdir_p} %{buildroot}/%{webroot}/html
 %{__mkdir_p} %{buildroot}/%{_localstatedir}/log/boa
 
 # Install the default index.html file and images
-%{__install} -m 644 %{SOURCE10} %{SOURCE11} %{SOURCE12} \
+%{__install} -p -m0644 %{SOURCE10} %{SOURCE11} %{SOURCE12} \
     %{buildroot}%{webroot}/html/
 
 

Modified: trunk/rpms/bochs/bochs.spec
===================================================================
--- trunk/rpms/bochs/bochs.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/bochs/bochs.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -58,7 +58,7 @@
 %makeinstall \
 	docdir=&quot;doc-rpm&quot;
 #makeinstall install_dlx
-#%{__install} -m0644 dlxlinux/* %{buildroot}%{_datadir}/bochs/dlxlinux/
+#%{__install} -p -m0644 dlxlinux/* %{buildroot}%{_datadir}/bochs/dlxlinux/
 
 %post
 if [ -x %{_datadir}/bochs/install-x11-fonts ]; then

Modified: trunk/rpms/cacti/cacti.spec
===================================================================
--- trunk/rpms/cacti/cacti.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/cacti/cacti.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -88,7 +88,7 @@
 %install
 %{__rm} -rf %{buildroot}
 %{__install} -d -m0755 %{buildroot}%{_localstatedir}/www/cacti/
-%{__install} -m0644 *.php cacti.sql %{buildroot}%{_localstatedir}/www/cacti/
+%{__install} -p -m0644 *.php cacti.sql %{buildroot}%{_localstatedir}/www/cacti/
 %{__cp} -apvx docs/ images/ include/ install/ lib/ log/ resource/ rra/ scripts/ %{buildroot}%{_localstatedir}/www/cacti/
 
 #%{__install} -Dp -m0755 cactid/cactid %{buildroot}%{_bindir}/cactid

Modified: trunk/rpms/ccache/ccache.spec
===================================================================
--- trunk/rpms/ccache/ccache.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/ccache/ccache.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -45,10 +45,10 @@
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
-%{__install} -d -m0755 %{buildroot}%{_sysconfdir}/profile.d \
-			%{buildroot}%{_libdir}/ccache/bin/
-%{__install} -m0755 ccache.csh ccache.sh %{buildroot}%{_sysconfdir}/profile.d/
+%{__install} -Dp -m0755 ccache.csh %{buildroot}%{_sysconfdir}/profile.d/ccache.csh
+%{__install} -Dp -m0755 ccache.sh %{buildroot}%{_sysconfdir}/profile.d/ccache.sh
 
+%{__install} -d -m0755 %{buildroot}%{_libdir}/ccache/bin/
 for compiler in cc c++ gcc g++ gcc296 g++296; do
     %{__ln_s} -f %{_bindir}/ccache %{buildroot}%{_libdir}/ccache/bin/$compiler
 done

Modified: trunk/rpms/checkinstall/checkinstall.spec
===================================================================
--- trunk/rpms/checkinstall/checkinstall.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/checkinstall/checkinstall.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,7 +1,5 @@
 # $Id$
-
 # Authority: dag
-# Soapbox: 0
 
 Summary: CheckInstall installations tracker
 Name: checkinstall
@@ -47,10 +45,10 @@
 	PREFIX=&quot;%{_prefix}&quot; \
 	BINDIR=&quot;%{buildroot}%{_bindir}&quot; \
 	LIBDIR=&quot;%{buildroot}%{_libdir}&quot;
-#%{__install} -m0755 installwatch-*/installwatch %{buildroot}%{_bindir}
-#%{__install} -m0755 checkinstall makepak %{buildroot}%{_sbindir}
-#%{__install} -m0755 installwatch-*/installwatch.so %{buildroot}%{_libdir}
-#%{__install} -m0755 checkinstallrc %{buildroot}%{_libdir}/checkinstall/
+#%{__install} -p -m0755 installwatch-*/installwatch %{buildroot}%{_bindir}
+#%{__install} -p -m0755 checkinstall makepak %{buildroot}%{_sbindir}
+#%{__install} -p -m0755 installwatch-*/installwatch.so %{buildroot}%{_libdir}
+#%{__install} -p -m0755 checkinstallrc %{buildroot}%{_libdir}/checkinstall/
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/childsplay/childsplay.spec
===================================================================
--- trunk/rpms/childsplay/childsplay.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/childsplay/childsplay.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -46,17 +46,14 @@
 %build
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-			%{buildroot}%{_libdir}/childsplay/lib/LettersData/ \
+%{__install} -d -m0755 %{buildroot}%{_libdir}/childsplay/lib/LettersData/ \
 			%{buildroot}%{_libdir}/childsplay/MemoryData/ \
-			%{buildroot}%{_mandir}/man6/ \
 			%{buildroot}%{_datadir}/locale/
-%{__install} -m0755 childsplay.sh %{buildroot}%{_bindir}/childsplay
-%{__install} -m0755 *.py %{buildroot}%{_libdir}/childsplay/
+%{__install} -Dp -m0755 childsplay.sh %{buildroot}%{_bindir}/childsplay
+%{__install} -Dp -m0644 man/childsplay.6.gz %{buildroot}%{_mandir}/man6/childsplay.6.gz
 %{__cp} -fpr *.py %{buildroot}%{_libdir}/childsplay/
 %{__cp} -fpr Data/ %{buildroot}%{_libdir}/childsplay/
 %{__cp} -fpr lib %{buildroot}%{_libdir}/childsplay/
-%{__cp} -fpr man/childsplay.6.gz %{buildroot}%{_mandir}/man6/
 %{__cp} -fpr locale/* %{buildroot}%{_datadir}/locale/
 
 ### compile bytecode

Modified: trunk/rpms/chkrootkit/chkrootkit.spec
===================================================================
--- trunk/rpms/chkrootkit/chkrootkit.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/chkrootkit/chkrootkit.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -89,7 +89,7 @@
 %{__ln_s} -f %{_bindir}/consolehelper %{buildroot}%{_bindir}/chkrootkit
 
 %{__install} -d -m0755 %{buildroot}%{_libdir}/chkrootkit-%{version}/
-%{__install} -m0755 check_wtmpx chkdirs chklastlog chkproc chkrootkit chkrootkit.sh chkutmp chkwtmp ifpromisc strings-static %{buildroot}%{_libdir}/chkrootkit-%{version}/
+%{__install} -p -m0755 check_wtmpx chkdirs chklastlog chkproc chkrootkit chkrootkit.sh chkutmp chkwtmp ifpromisc strings-static %{buildroot}%{_libdir}/chkrootkit-%{version}/
 
 %{__install} -Dp -m0644 %{SOURCE1} %{buildroot}%{_datadir}/pixmaps/chkrootkit.png
 

Modified: trunk/rpms/chmlib/chmlib.spec
===================================================================
--- trunk/rpms/chmlib/chmlib.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/chmlib/chmlib.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -47,7 +47,7 @@
 			%{buildroot}%{_includedir}
 %makeinstall \
 	INSTALLPREFIX=&quot;%{buildroot}%{_prefix}&quot;
-%{__install} -m0755 *_chmLib chm_http %{buildroot}%{_bindir}
+%{__install} -p -m0755 *_chmLib chm_http %{buildroot}%{_bindir}
 
 ### Fix library symlinks
 for lib in $(ls %{buildroot}%{_libdir}); do

Modified: trunk/rpms/cpuburn/cpuburn.spec
===================================================================
--- trunk/rpms/cpuburn/cpuburn.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/cpuburn/cpuburn.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -41,7 +41,7 @@
 %install
 %{__rm} -rf %{buildroot}
 %{__install} -d -m0755 %{buildroot}%{_sbindir}
-%{__install} -m0755 burn{BX,K6,K7,MMX,P5,P6} %{buildroot}%{_sbindir}
+%{__install} -p -m0755 burn{BX,K6,K7,MMX,P5,P6} %{buildroot}%{_sbindir}
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/cryptcat/cryptcat.spec
===================================================================
--- trunk/rpms/cryptcat/cryptcat.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/cryptcat/cryptcat.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -30,7 +30,7 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -m0755 -D cryptcat %{buildroot}%{_bindir}/cryptcat
+%{__install} -Dp -m0755 cryptcat %{buildroot}%{_bindir}/cryptcat
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/d4x/d4x.spec
===================================================================
--- trunk/rpms/d4x/d4x.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/d4x/d4x.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -41,7 +41,7 @@
 %find_lang %{name}
 
 # Now the menu entry
-%{__install} -m644 -D share/nt.png %{buildroot}%{_datadir}/pixmaps/nt.png
+%{__install} -Dp -m644 share/nt.png %{buildroot}%{_datadir}/pixmaps/nt.png
 %{__mkdir_p} %{buildroot}%{_datadir}/applications
 desktop-file-install --vendor %{desktop_vendor} \
   --dir %{buildroot}%{_datadir}/applications    \

Modified: trunk/rpms/dbview/dbview.spec
===================================================================
--- trunk/rpms/dbview/dbview.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/dbview/dbview.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,5 +1,4 @@
 # $Id$
-
 # Authority: dag
 
 Summary: Display dBase III and IV (.dbf) files
@@ -10,7 +9,7 @@
 Group: Applications/Databases
 URL: <A HREF="ftp://metalab.unc.edu/pub/Linux/apps/database/proprietary/">ftp://metalab.unc.edu/pub/Linux/apps/database/proprietary/</A>
 
-Source: <A HREF="ftp://metalab.unc.edu/pub/Linux/apps/database/proprietary/%{name">ftp://metalab.unc.edu/pub/Linux/apps/database/proprietary/%{name</A>}-%{version}.tar.gz
+Source: <A HREF="ftp://metalab.unc.edu/pub/Linux/apps/database/proprietary/dbview-%{version">ftp://metalab.unc.edu/pub/Linux/apps/database/proprietary/dbview-%{version</A>}.tar.gz
 Patch: dbview-patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
@@ -29,10 +28,8 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-			%{buildroot}%{_mandir}/man1/
-%{__install} -m0755 dbview %{buildroot}%{_bindir}
-%{__install} -m0644 dbview.1 %{buildroot}%{_mandir}/man1/
+%{__install} -Dp -m0755 dbview %{buildroot}%{_bindir}/dbview
+%{__install} -Dp -m0644 dbview.1 %{buildroot}%{_mandir}/man1/dbview.1
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -40,8 +37,8 @@
 %files
 %defattr(-, root, root, 0755)
 %doc dBASE README
-%doc %{_mandir}/man?/*
-%{_bindir}/*
+%doc %{_mandir}/man1/dbview.1*
+%{_bindir}/dbview
 
 %changelog
 * Mon Oct 06 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0.3-0

Modified: trunk/rpms/desproxy/desproxy.spec
===================================================================
--- trunk/rpms/desproxy/desproxy.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/desproxy/desproxy.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -12,7 +12,7 @@
 Group: Applications/Internet
 URL: <A HREF="http://desproxy.sourceforge.net/">http://desproxy.sourceforge.net/</A>
 
-Source: <A HREF="http://dl.sf.net/desproxy/%{name">http://dl.sf.net/desproxy/%{name</A>}-%{real_version}.tar.gz
+Source: <A HREF="http://dl.sf.net/desproxy/desproxy-%{real_version">http://dl.sf.net/desproxy/desproxy-%{real_version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 
@@ -37,10 +37,12 @@
 %install
 %{__rm} -rf %{buildroot}
 ### FIXME: Makefile doesn't create target directories (Please fix upstream)
-%{__install} -d -m0755 %{buildroot}%{_bindir}
 #makeinstall
-%{__install} -m0755 src/desproxy src/desproxy-inetd src/desproxy-dns %{buildroot}%{_bindir}
-%{__install} -m0755 src/desproxy-socksserver src/socket2socket %{buildroot}%{_bindir}
+%{__install} -Dp -m0755 src/desproxy %{buildroot}%{_bindir}/desproxy
+%{__install} -Dp -m0755 src/desproxy-dns %{buildroot}%{_bindir}/desproxy-dns
+%{__install} -Dp -m0755 src/desproxy-inetd %{buildroot}%{_bindir}/desproxy-inetd
+%{__install} -Dp -m0755 src/desproxy-socksserver %{buildroot}%{_bindir}/desproxy-socksserver
+%{__install} -Dp -m0755 src/socket2socket %{buildroot}%{_bindir}/socket2socket
 
 
 %clean

Modified: trunk/rpms/dia/dia.spec
===================================================================
--- trunk/rpms/dia/dia.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/dia/dia.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -53,7 +53,7 @@
 %makeinstall
 %find_lang %{name}
 #%{__mv} %{buildroot}%{_bindir}/dia %{buildroot}%{_bindir}/dia-bin
-#%{__install} -m0755 dia.sh %{buildroot}%{_bindir}/dia
+#%{__install} -Dp -m0755 dia.sh %{buildroot}%{_bindir}/dia
 
 ### Clean up buildroot
 #{__rm} -f %{buildroot}%{_libdir}/dia/*.la

Modified: trunk/rpms/divx4linux/divx4linux.spec
===================================================================
--- trunk/rpms/divx4linux/divx4linux.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/divx4linux/divx4linux.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -41,7 +41,7 @@
 done
 
 %{__install} -d -m0755 %{buildroot}%{_includedir}
-%{__install} -m0644 *.h %{buildroot}%{_includedir}
+%{__install} -p -m0644 *.h %{buildroot}%{_includedir}
 
 %post
 /sbin/ldconfig 2&gt;/dev/null

Modified: trunk/rpms/dspam/dspam.spec
===================================================================
--- trunk/rpms/dspam/dspam.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/dspam/dspam.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -164,7 +164,7 @@
 ln -f %{buildroot}%{_bindir}/addspam %{buildroot}%{_bindir}/falsepositive
 
 %{__install} -d -m0755 %{buildroot}%{_includedir}
-%{__install} -m0644 libdspam.h libdspam_objects.h lht.h nodetree.h %{buildroot}%{_includedir}
+%{__install} -p -m0644 libdspam.h libdspam_objects.h lht.h nodetree.h %{buildroot}%{_includedir}
 
 %{__install} -Dp -m0755 dspam.hourly %{buildroot}%{_sysconfdir}/cron.hourly/dspam
 %{__install} -Dp -m0755 dspam.daily %{buildroot}%{_sysconfdir}/cron.daily/dspam
@@ -183,7 +183,7 @@
 
 %{__install} -Dp -m0755 dspam.cgi %{buildroot}%{_localstatedir}/www/cgi-bin/dspam.cgi
 %{__install} -d -m0755 %{buildroot}%{_localstatedir}/www/dspam/
-%{__install} -m0755 cgi/*.css cgi/*.cgi cgi/*.gif cgi/*.html %{buildroot}%{_localstatedir}/www/dspam/
+%{__install} -p -m0755 cgi/*.css cgi/*.cgi cgi/*.gif cgi/*.html %{buildroot}%{_localstatedir}/www/dspam/
 
 %{__install} -Dp -m0755 %{SOURCE1} %{buildroot}%{_datadir}/sendmail-cf/mailer/dspam.m4
 

Modified: trunk/rpms/epic/epic.spec
===================================================================
--- trunk/rpms/epic/epic.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/epic/epic.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -55,10 +55,10 @@
 	sNAME=&quot;${file//%.gz/}&quot;
 	bNAME=&quot;$(basename $sNAME)&quot;
 	zcat $file | sed -e 's|^\(\^set HELP_PATH.*\)|#\1|' &gt;$bNAME;
-	%{__install} -m 0644 $bNAME %{buildroot}%{_datadir}/epic/script/
+	%{__install} -p -m0644 $bNAME %{buildroot}%{_datadir}/epic/script/
 done;
 
-%{__install} %{SOURCE3} %{buildroot}%{_datadir}/epic/
+%{__install} -p %{SOURCE3} %{buildroot}%{_datadir}/epic/
 
 ### Clean up Makefiles
 find %{buildroot} -type f -name Makefile -exec %{__rm} -f {} \; || :

Modified: trunk/rpms/epic/epic4-v1.spec
===================================================================
--- trunk/rpms/epic/epic4-v1.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/epic/epic4-v1.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -59,10 +59,10 @@
 	sNAME=&quot;${file//%.gz/}&quot;
 	bNAME=&quot;$(basename $sNAME)&quot;
 	zcat $file | sed -e 's|^\(\^set HELP_PATH.*\)|#\1|' &gt;$bNAME;
-	%{__install} $bNAME %{buildroot}%{_datadir}/epic/script/
+	%{__install} -p $bNAME %{buildroot}%{_datadir}/epic/script/
 done;
 
-%{__install} %{SOURCE3} %{buildroot}%{_datadir}/epic/
+%{__install} -p %{SOURCE3} %{buildroot}%{_datadir}/epic/
 
 ### Clean up Makefiles
 find %{buildroot} -type f -name Makefile -exec %{__rm} -f {} \; || :

Modified: trunk/rpms/eternallands/eternallands.spec
===================================================================
--- trunk/rpms/eternallands/eternallands.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/eternallands/eternallands.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -33,40 +33,38 @@
 %prep
 %setup -n elc
 
-%build
 %{__sed} -i &quot;s/^CFLAGS=/CFLAGS=-I\/usr\/include\/SDL /g;&quot; Makefile.linux
-%{__make} %{?_smp_mflags} -f Makefile.linux
-%{__strip} el.x86.linux.bin
-%{__chmod} +x el.x86.linux.bin
-%{__cat} &gt; eternallands &lt;&lt;EOF
-#!/bin/bash
-cd /usr/share/games/eternallands
+
+%{__cat} &lt;&lt;EOF &gt; eternallands
+#!/bin/sh
+cd %{_datadir}/games/eternallands
 %{__mkdir_p} ~/.elc
 if [[ ! -e ~/.elc/el.ini ]] ; then \
-	%{__cp} -p /usr/share/games/eternallands/el.ini ~/.elc/
+	%{__cp} -p el.ini ~/.elc/
 fi
 echo logs and config file are at ~/.elc/
 ./el.x86.linux.bin
 EOF
-%{__chmod} +x eternallands
 
+%build
+%{__make} %{?_smp_mflags} -f Makefile.linux
+
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m 0755 %{buildroot}%{_datadir}/games/eternallands \
-	%{buildroot}%{_bindir}
+%{__install} -d -m0755 %{buildroot}%{_datadir}/games/eternallands
 %{__unzip} -d %{buildroot}%{_datadir}/games/eternallands %{SOURCE1}
-%{__install} -m 0755 el.x86.linux.bin %{buildroot}%{_datadir}/games/eternallands/
-%{__install} -m 0755 eternallands %{buildroot}%{_bindir}
-%{__install} el.ini %{buildroot}%{_datadir}/games/eternallands/
+%{__install} -Dp -m0755 el.x86.linux.bin %{buildroot}%{_datadir}/games/eternallands/el.x86.linux.bin
+%{__install} -Dp -m0755 eternallands %{buildroot}%{_bindir}/eternallands
+%{__install} -Dp -m0644 el.ini %{buildroot}%{_datadir}/games/eternallands/el.ini
 
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
-%doc readme.txt eternal_lands_license.txt
+%doc eternal_lands_license.txt readme.txt
 %{_bindir}/eternallands
-%{_datadir}/games/eternallands
+%{_datadir}/games/eternallands/
 
 %changelog
 * Mon Aug 23 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.0.0-1

Modified: trunk/rpms/fslint/fslint-1.x.spec
===================================================================
--- trunk/rpms/fslint/fslint-1.x.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/fslint/fslint-1.x.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,9 +1,6 @@
 # $Id$
-
 # Authority: dag
 
-# Soapbox: 0
-
 %define dfi %(which desktop-file-install &amp;&gt;/dev/null; echo $?)
 
 %define real_name FSlint
@@ -19,7 +16,6 @@
 Source: <A HREF="http://www.iol.ie/~padraiga/fslint/%{real_name">http://www.iol.ie/~padraiga/fslint/%{real_name</A>}-%{version}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-
 BuildArch: noarch
 Requires: python, pygtk, pygtk-libglade, textutils &gt;= 2.0.21
 
@@ -36,22 +32,21 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-			%{buildroot}%{_datadir}/pixmaps/ \
-			%{buildroot}%{_datadir}/fslint/fslint/{fstool,rmlint}
-%{__install} -m0755 FSlint %{buildroot}%{_bindir}/fslint
+%{__install} -Dp -m0755 FSlint %{buildroot}%{_bindir}/fslint
 %{__ln_s} -f %{_bindir}/fslint %{_bindir}/FSlint
-%{__install} -m0755 FSlint %{buildroot}%{_bindir}
-%{__install} -m0644 fslint_icon.png %{buildroot}%{_datadir}/pixmaps/
-%{__install} -m0644 fslint_icon.png %{buildroot}%{_datadir}/fslint/
-%{__install} -m0644 fslint.glade %{buildroot}%{_datadir}/fslint/
-%{__install} -m0755 fslint/{find*,fsl*,get*,zipdir} %{buildroot}%{_datadir}/fslint/fslint/
-%{__install} -m0755 fslint/fstool/* %{buildroot}%{_datadir}/fslint/fslint/fstool/
-%{__install} -m0755 fslint/rmlint/* %{buildroot}%{_datadir}/fslint/fslint/rmlint/
 
+%{__install} -Dp -m0755 FSlint %{buildroot}%{_bindir}/FSlint
+%{__install} -Dp -m0644 fslint_icon.png %{buildroot}%{_datadir}/pixmaps/fslint_icon.png
+%{__install} -Dp -m0644 fslint_icon.png %{buildroot}%{_datadir}/fslint/fslint_icon.png
+%{__install} -Dp -m0644 fslint.glade %{buildroot}%{_datadir}/fslint/fslint.glade
+
+%{__install} -d -m0755 %{buildroot}%{_datadir}/fslint/fslint/{fstool,rmlint}
+%{__install} -p -m0755 fslint/{find*,fsl*,get*,zipdir} %{buildroot}%{_datadir}/fslint/fslint/
+%{__install} -p -m0755 fslint/fstool/* %{buildroot}%{_datadir}/fslint/fslint/fstool/
+%{__install} -p -m0755 fslint/rmlint/* %{buildroot}%{_datadir}/fslint/fslint/rmlint/
+
 %if %{dfi}
-        %{__install} -d -m0755 %{buildroot}%{_datadir}/gnome/apps/Applications/
-        %{__install} -m0644 %{name}.desktop %{buildroot}%{_datadir}/gnome/apps/Applications/
+        %{__install} -Dp -m0644 fslint.desktop %{buildroot}%{_datadir}/gnome/apps/Applications/fslint.desktop
 %else
         %{__install} -d -m0755 %{buildroot}%{_datadir}/applications
         desktop-file-install --vendor %{desktop_vendor}    \
@@ -59,7 +54,7 @@
                 --add-category Application                 \
                 --add-category Utility                     \
                 --dir %{buildroot}%{_datadir}/applications \
-                %{name}.desktop
+                fslint.desktop
 %endif
 
 %clean

Modified: trunk/rpms/fslint/fslint.spec
===================================================================
--- trunk/rpms/fslint/fslint.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/fslint/fslint.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -63,9 +63,9 @@
 %{__install} -Dp -m0644 fslint.glade %{buildroot}%{_datadir}/fslint/fslint.glade
 
 %{__install} -d -m0755 %{buildroot}%{_datadir}/fslint/fslint/{fstool,rmlint}
-%{__install} -m0755 fslint/{find*,fsl*,get*,zipdir} %{buildroot}%{_datadir}/fslint/fslint/
-%{__install} -m0755 fslint/fstool/* %{buildroot}%{_datadir}/fslint/fslint/fstool/
-%{__install} -m0755 fslint/rmlint/* %{buildroot}%{_datadir}/fslint/fslint/rmlint/
+%{__install} -p -m0755 fslint/{find*,fsl*,get*,zipdir} %{buildroot}%{_datadir}/fslint/fslint/
+%{__install} -p -m0755 fslint/fstool/* %{buildroot}%{_datadir}/fslint/fslint/fstool/
+%{__install} -p -m0755 fslint/rmlint/* %{buildroot}%{_datadir}/fslint/fslint/rmlint/
 
 %makeinstall -C po \
 	DATADIR=&quot;%{buildroot}%{_datadir}&quot;

Modified: trunk/rpms/fw-rulegen/fw-rulegen.spec
===================================================================
--- trunk/rpms/fw-rulegen/fw-rulegen.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/fw-rulegen/fw-rulegen.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -71,21 +71,20 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}/etc/fw/
-%{__install} -d -m0755 %{buildroot}/usr/bin/
-%{__install} -d -m0755 %{buildroot}/etc/rc.d/init.d/
-%{__install} -m644 %{SOURCE0} %{SOURCE1} %{SOURCE2} %{buildroot}/etc/fw/
-%{__install} -m0755 %{SOURCE3} %{buildroot}/usr/bin/
-%{__install} -m0755 fw-rulegen %{buildroot}/etc/rc.d/init.d/
+%{__install} -Dp -m0755 %{SOURCE3} %{buildroot}%{_bindir}/fw-rulegen.pl
+%{__install} -Dp -m0755 fw-rulegen %{buildroot}%{_initrddir}/fw-rulegen
 
+%{__install} -d -m0755 %{buildroot}%{_sysconfdir}/fw/
+%{__install} -p -m0644 %{SOURCE0} %{SOURCE1} %{SOURCE2} %{buildroot}%{_sysconfdir}/fw/
+
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
+%config(noreplace) %{_sysconfdir}/fw/
+%config %{_initrddir}/fw-rulegen
 %{_bindir}/fw-rulegen.pl
-%{_sysconfdir}/rc.d/init.d/fw-rulegen
-%config(noreplace) %{_sysconfdir}/fw/*
 
 %changelog
 * Fri May 7 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.0-1

Modified: trunk/rpms/garp/garp.spec
===================================================================
--- trunk/rpms/garp/garp.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/garp/garp.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,7 +1,5 @@
 # $Id$
-
 # Authority: dag
-
 # Upstream: Ulrik De Bie &lt;ulrik$mind,be&gt;
 
 Summary: Check unused IP addresses and automagically assign them
@@ -12,10 +10,9 @@
 Group: System Environment/Base
 URL: <A HREF="http://garp.3va.net/">http://garp.3va.net/</A>
 
-Source: <A HREF="http://garp.3va.net/down/%{name">http://garp.3va.net/down/%{name</A>}-%{version}.tar.gz
+Source: <A HREF="http://garp.3va.net/down/garp-%{version">http://garp.3va.net/down/garp-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-
 %description
 Garp is a Gratuitous ARP implementation. Garp can be used to check
 for unused IP addresses and automagically (and randomly) assign
@@ -30,10 +27,8 @@
 %install
 %{__rm} -rf %{buildroot}
 #makeinstall
-%{__install} -d -m0755 %{buildroot}%{_sbindir} \
-			%{buildroot}%{_mandir}/man8
-%{__install} -m0755 garp %{buildroot}%{_sbindir}
-%{__install} -m0644 garp.8 %{buildroot}%{_mandir}/man8
+%{__install} -Dp -m0755 garp %{buildroot}%{_sbindir}/garp
+%{__install} -Dp -m0644 garp.8 %{buildroot}%{_mandir}/man8/garp.8
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -41,8 +36,8 @@
 %files
 %defattr(-, root, root, 0755)
 %doc COPYING
+%doc %{_mandir}/man8/garp.8
 %{_sbindir}/garp
-%{_mandir}/man?/*
 
 %changelog 
 * Thu May 01 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.7.2-1

Modified: trunk/rpms/gcipher/gcipher.spec
===================================================================
--- trunk/rpms/gcipher/gcipher.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/gcipher/gcipher.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -53,13 +53,13 @@
 %{__install} -Dp -m0755 src/gcipher %{buildroot}%{_bindir}/gcipher
 
 %{__install} -d -m0755 %{buildroot}%{_datadir}/gcipher/lib/{cipher,ciphergui}/
-%{__install} -m0644 src/*.{py,pyc,glade,gladep} %{buildroot}%{_datadir}/gcipher/lib/
-%{__install} -m0644 src/cipher/*.{py,pyc} %{buildroot}%{_datadir}/gcipher/lib/cipher/
-%{__install} -m0644 src/ciphergui/*.{py,pyc,glade,gladep} %{buildroot}%{_datadir}/gcipher/lib/ciphergui/
+%{__install} -p -m0644 src/*.{py,pyc,glade,gladep} %{buildroot}%{_datadir}/gcipher/lib/
+%{__install} -p -m0644 src/cipher/*.{py,pyc} %{buildroot}%{_datadir}/gcipher/lib/cipher/
+%{__install} -p -m0644 src/ciphergui/*.{py,pyc,glade,gladep} %{buildroot}%{_datadir}/gcipher/lib/ciphergui/
 
 %{__install} -d -m0755 %{buildroot}%{_datadir}/gcipher/plugins/{cipher,ciphergui}/
-%{__install} -m0644 plugins/cipher/*.py %{buildroot}%{_datadir}/gcipher/plugins/cipher/
-%{__install} -m0644 plugins/ciphergui/*.py %{buildroot}%{_datadir}/gcipher/plugins/ciphergui/
+%{__install} -p -m0644 plugins/cipher/*.py %{buildroot}%{_datadir}/gcipher/plugins/cipher/
+%{__install} -p -m0644 plugins/ciphergui/*.py %{buildroot}%{_datadir}/gcipher/plugins/ciphergui/
 
 %{__install} -d -m0755 %{buildroot}%{_datadir}/applications/
 desktop-file-install --vendor %{desktop_vendor}    \

Modified: trunk/rpms/gdesklets-rdgborder/gdesklets-rdgborder.spec
===================================================================
--- trunk/rpms/gdesklets-rdgborder/gdesklets-rdgborder.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/gdesklets-rdgborder/gdesklets-rdgborder.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -30,7 +30,7 @@
 ./Install_RDGBorder_Sensor.bin %{buildroot}%{_datadir}/gdesklets/Sensors
 ./Install_bluegrey_RDGTheme.bin %{buildroot}%{_datadir}/gdesklets/RDGThemes
 ./Install_scooby_RDGTheme.bin %{buildroot}%{_datadir}/gdesklets/RDGThemes
-%{__install} -m 644 *.display %{buildroot}%{_datadir}/gdesklets/Displays/%{rname}
+%{__install} -p -m0644 *.display %{buildroot}%{_datadir}/gdesklets/Displays/%{rname}
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/gdesklets-rssgrab/gdesklets-rss-grab.spec
===================================================================
--- trunk/rpms/gdesklets-rssgrab/gdesklets-rss-grab.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/gdesklets-rssgrab/gdesklets-rss-grab.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -35,9 +35,9 @@
 %{__mkdir} -p %{buildroot}%{_datadir}/gdesklets/Sensors
 %{__mkdir} -p %{buildroot}%{_datadir}/gdesklets/Displays/%{rname}
 ./Install_rssgrab_Sensor.bin %{buildroot}%{_datadir}/gdesklets/Sensors
-%{__install} -m 644 *.display %{buildroot}%{_datadir}/gdesklets/Displays/%{rname}
+%{__install} -p -m0644 *.display %{buildroot}%{_datadir}/gdesklets/Displays/%{rname}
 %{__cp} -ap gfx %{buildroot}%{_datadir}/gdesklets/Displays/%{rname}
-%{__install} -m 755 gdesklets-add-%{rname}-display %{buildroot}%{_bindir}
+%{__install} -p -m0755 gdesklets-add-%{rname}-display %{buildroot}%{_bindir}
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/gensink/gensink.spec
===================================================================
--- trunk/rpms/gensink/gensink.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/gensink/gensink.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -24,8 +24,9 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_sbindir}
-%{__install} gen4 sink4 tub4 %{buildroot}%{_sbindir}
+%{__install} -Dp -m0755 gen4 %{buildroot}%{_sbindir}/gen4
+%{__install} -Dp -m0755 sink4 %{buildroot}%{_sbindir}/sink4
+%{__install} -Dp -m0755 tub4 %{buildroot}%{_sbindir}/tub4
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -33,7 +34,9 @@
 %files
 %defattr(-, root, root, 0755)
 %doc COPYING
-%{_sbindir}/*
+%{_sbindir}/gen4
+%{_sbindir}/sink4
+%{_sbindir}/tub4
 
 %changelog
 * Mon Aug 04 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 4.1-0

Modified: trunk/rpms/gfax/gfax-0.5.spec
===================================================================
--- trunk/rpms/gfax/gfax-0.5.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/gfax/gfax-0.5.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -30,7 +30,7 @@
 %{__install} -Dp -m0644 gfax.png %{buildroot}%{_datadir}/pixmaps/gfax.png
 
 %{__install} -d -m0755 %{buildroot}%{_libdir}/gfax/
-%{__install} -m0644 *.py *.glade %{buildroot}%{_libdir}/gfax/
+%{__install} -p -m0644 *.py *.glade %{buildroot}%{_libdir}/gfax/
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/gfax/gfax.spec
===================================================================
--- trunk/rpms/gfax/gfax.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/gfax/gfax.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,8 +1,6 @@
 # $Id$
-
 # Authority: dag
 # Upstream: George Farris &lt;farrisg$mala,bc,ca&gt;
-# Distcc: 0
 
 %define real_version 0.6.beta9
 
@@ -62,15 +60,15 @@
 export GCONF_DISABLE_MAKEFILE_SCHEMA_INSTALL=&quot;1&quot;
 %makeinstall
 
-%{__install} -m0644 data/gfax.schema %{buildroot}%{_sysconfdir}/gconf/schemas/%{name}.schemas
+%{__install} -Dp -m0644 data/gfax.schema %{buildroot}%{_sysconfdir}/gconf/schemas/gfax.schemas
 
 ### FIXME: Install fax printer profile for GNOME 1.x
 #%{__install} -m0644 data/fax-g3.profile %{buildroot}%{_datadir}/gnome-print/profiles/
 
 ### FIXME: Install fax printer profile for GNOME 2.x
 #for dir in /usr/share/libgnomeprint/*; do
-#	%{__install} -m0644 data/GFAX.xml $dir/printers
-#	%{__install} -m9644 data/GNOME-GFAX-PS.xml $dir/models
+#	%{__install} -p -m0644 data/GFAX.xml $dir/printers
+#	%{__install} -p -m0644 data/GNOME-GFAX-PS.xml $dir/models
 #done
 
 %post

Modified: trunk/rpms/gkrellm/gkrellm.spec
===================================================================
--- trunk/rpms/gkrellm/gkrellm.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/gkrellm/gkrellm.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -94,12 +94,12 @@
 %find_lang %{name}
 
 # Install the daemon config file
-%{__install} -Dp -m 755 server/gkrellmd.conf \
+%{__install} -Dp -m0755 server/gkrellmd.conf \
     %{buildroot}%{_sysconfdir}/gkrellmd.conf
 
 # Install the icon for the menu entry
 convert gkrellm.ico gkrellm.png
-%{__install} -Dp -m 644 gkrellm.png.3 \
+%{__install} -Dp -m0644 gkrellm.png.3 \
     %{buildroot}%{_datadir}/pixmaps/gkrellm.png
 
 # Install the menu entry
@@ -121,12 +121,12 @@
     %{name}.desktop
 
 # Install the init script
-%{__install} -Dp -m 0755 %{SOURCE1} \
+%{__install} -Dp -m0755 %{SOURCE1} \
     %{buildroot}/etc/rc.d/init.d/gkrellmd
 
 # Install the wireless plugin
 %ifnarch s390 s390x
-%{__install} gkrellm-wifi-%{wifi_version}/gkrellm-wifi.so \
+%{__install} -p gkrellm-wifi-%{wifi_version}/gkrellm-wifi.so \
     %{buildroot}%{_libdir}/gkrellm2/plugins/
 %endif
 

Modified: trunk/rpms/glchess/glchess.spec
===================================================================
--- trunk/rpms/glchess/glchess.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/glchess/glchess.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -53,7 +53,7 @@
 %{__install} -Dp -m0644 glchess.menu %{buildroot}%{_sysconfdir}/X11/wmconfig/glchess.menu
 
 %{__install} -d -m0755 %{buildroot}%{_datadir}/games/glchess/textures/
-%{__install} -m0644 textures/* %{buildroot}%{_datadir}/games/glchess/textures/
+%{__install} -p -m0644 textures/* %{buildroot}%{_datadir}/games/glchess/textures/
 
 %if %{dfi}
 	%{__install} -Dp -m0644 glchess.desktop %{buildroot}%{_datadir}/gnome/apps/Games/glchess.desktop

Modified: trunk/rpms/gnokii/gnokii.spec
===================================================================
--- trunk/rpms/gnokii/gnokii.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/gnokii/gnokii.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -83,10 +83,10 @@
 %{__install} -Dp -m0644 Docs/sample/gnokiirc %{buildroot}%{_sysconfdir}/gnokiirc
 
 %{__install} -d -m0755 %{buildroot}%{_mandir}/man1/
-%{__install} -m0644 Docs/man/*.1 Docs/man/*.1x %{buildroot}%{_mandir}/man1/
+%{__install} -p -m0644 Docs/man/*.1 Docs/man/*.1x %{buildroot}%{_mandir}/man1/
 
 %{__install} -d -m0755 %{buildroot}%{_mandir}/man8/
-%{__install} -m0644 Docs/man/*.8 %{buildroot}%{_mandir}/man8/
+%{__install} -p -m0644 Docs/man/*.8 %{buildroot}%{_mandir}/man8/
 
 %if %{?_without_freedesktop:1}0
         %{__install} -Dp -m0644 gnokii.desktop %{buildroot}%{_datadir}/gnome/apps/Utilities/gnokii.desktop

Modified: trunk/rpms/gnometab/gnometab.spec
===================================================================
--- trunk/rpms/gnometab/gnometab.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/gnometab/gnometab.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -46,8 +46,7 @@
 export GCONF_DISABLE_MAKEFILE_SCHEMA_INSTALL=&quot;1&quot;
 %makeinstall
 
-%{__install} -d -m0755 %{buildroot}%{_mandir}/man1
-%{__install} -m0644 gnometab.1 %{buildroot}%{_mandir}/man1/
+%{__install} -Dp -m0644 gnometab.1 %{buildroot}%{_mandir}/man1/gnometab.1
 
 %if %{dfi}
 %else

Modified: trunk/rpms/gpm/gpm.spec
===================================================================
--- trunk/rpms/gpm/gpm.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/gpm/gpm.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -178,15 +178,14 @@
 			%{buildroot}%{_datadir}/emacs/site-lisp/
 %makeinstall lispdir=&quot;%{buildroot}%{_datadir}/emacs/site-lisp&quot;
 
-%{__install} -m0644 contrib/emacs/t-mouse.el* %{buildroot}%{_datadir}/emacs/site-lisp/
+%{__install} -p -m0644 contrib/emacs/t-mouse.el* %{buildroot}%{_datadir}/emacs/site-lisp/
 
 %ifnarch s390 s390x
-	%{__install} -d -m0755 %{buildroot}%{_initrddir}
-	%{__install} -m0755 gpm.sysv %{buildroot}%{_initrddir}/gpm
-	%{__install} -m0644 gpm.sysconfig %{buildroot}%{_sysconfdir}/sysconfig/gpm
-	%{__install} -m0644 doc/gpm-root.1 %{buildroot}%{_mandir}/man1/
-	%{__install} -m0644 conf/gpm-root.conf %{buildroot}%{_sysconfdir}
-	%{__install} -s -m0755 src/prog/hltest %{buildroot}%{_bindir}
+	%{__install} -Dp -m0755 gpm.sysv %{buildroot}%{_initrddir}/gpm
+	%{__install} -Dp -m0644 gpm.sysconfig %{buildroot}%{_sysconfdir}/sysconfig/gpm
+	%{__install} -Dp -m0644 doc/gpm-root.1 %{buildroot}%{_mandir}/man1/gpm-root.1
+	%{__install} -Dp -m0644 conf/gpm-root.conf %{buildroot}%{_sysconfdir}/gpm-root.conf
+	%{__install} -Dp -m0755 src/prog/hltest %{buildroot}%{_bindir}/hltest
 %else
 	%{__rm} -f %{buildroot}%{_bindir}/mev \
 			%{buildroot}%{_bindir}gpm-root

Modified: trunk/rpms/gurlchecker/gurlchecker-0.6.x.spec
===================================================================
--- trunk/rpms/gurlchecker/gurlchecker-0.6.x.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/gurlchecker/gurlchecker-0.6.x.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -45,8 +45,7 @@
 %makeinstall
 %find_lang %{name}
 
-#%{__install} -d -m0755 %{buildroot}%{_datadir}/pixmaps/
-#%{__install} -m0644 gui/gurlchecker_logo.xpm %{buildroot}%{_datadir}/pixmaps/gurlchecker.xpm
+#%{__install} -Dp -m0644 gui/gurlchecker_logo.xpm %{buildroot}%{_datadir}/pixmaps/gurlchecker.xpm
 
 %{__install} -d -m0755 %{buildroot}%{_datadir}/applications/
 desktop-file-install --vendor %{desktop_vendor}    \

Modified: trunk/rpms/gweled/gweled.spec
===================================================================
--- trunk/rpms/gweled/gweled.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/gweled/gweled.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -40,8 +40,8 @@
 %makeinstall scoredir=%{buildroot}/var/games
 # The makefile installs the high score files in the wrong place.
 %{__rm} -Rf %{buildroot}%{_var}/games
-%{__install} -m 664 -D /dev/null %{buildroot}%{_var}/lib/games/gweled.easy.scores
-%{__install} -m 664 -D /dev/null %{buildroot}%{_var}/lib/games/gweled.timed.scores
+%{__install} -Dp -m0664 /dev/null %{buildroot}%{_var}/lib/games/gweled.easy.scores
+%{__install} -Dp -m0664 /dev/null %{buildroot}%{_var}/lib/games/gweled.timed.scores
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/hackedbox/hackedbox.spec
===================================================================
--- trunk/rpms/hackedbox/hackedbox.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/hackedbox/hackedbox.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -47,7 +47,7 @@
 %{__perl} -pi -e 's|/local||g' %{buildroot}%{_datadir}/%{name}/menu
 
 # Install the desktop entry
-%{__install} -m 644 -D %{SOURCE1} \
+%{__install} -Dp -m644 %{SOURCE1} \
     %{buildroot}%{_datadir}/xsessions/%{name}.desktop
 
 

Modified: trunk/rpms/hammerhead/hammerhead.spec
===================================================================
--- trunk/rpms/hammerhead/hammerhead.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/hammerhead/hammerhead.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -34,13 +34,14 @@
 %{__rm} -rf %{buildroot}
 #makeinstall
 
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-			%{buildroot}%{_sysconfdir}/hammerhead/ \
-			%{buildroot}%{_mandir}/man1/
-%{__install} -m0755 src/hammerhead %{buildroot}%{_bindir}
-%{__install} -m0644 doc/*.conf doc/*.scn %{buildroot}%{_sysconfdir}/hammerhead/
-%{__install} -m0644 doc/*.1 %{buildroot}%{_mandir}/man1/
+%{__install} -Dp -m0755 src/hammerhead %{buildroot}%{_bindir}/hammerhead
 
+%{__install} -d -m0755 %{buildroot}%{_sysconfdir}/hammerhead/
+%{__install} -p -m0644 doc/*.conf doc/*.scn %{buildroot}%{_sysconfdir}/hammerhead/
+
+%{__install} -d -m0755 %{buildroot}%{_mandir}/man1/
+%{__install} -p -m0644 doc/*.1 %{buildroot}%{_mandir}/man1/
+
 %clean
 %{__rm} -rf %{buildroot}
 

Modified: trunk/rpms/hardinfo/hardinfo.spec
===================================================================
--- trunk/rpms/hardinfo/hardinfo.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/hardinfo/hardinfo.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -13,7 +13,7 @@
 Group: Applications/System
 URL: <A HREF="http://alpha.linuxmag.com.br/~leandro/hardinfo/">http://alpha.linuxmag.com.br/~leandro/hardinfo/</A>
 
-Source: <A HREF="http://alpha.linuxmag.com.br/~leandro/hardinfo/%{name">http://alpha.linuxmag.com.br/~leandro/hardinfo/%{name</A>}-%{version}.tar.bz2
+Source: <A HREF="http://alpha.linuxmag.com.br/~leandro/hardinfo/hardinfo-%{version">http://alpha.linuxmag.com.br/~leandro/hardinfo/hardinfo-%{version</A>}.tar.bz2
 Patch: hardinfo-0.3.6-gcc34.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
@@ -35,7 +35,7 @@
 		s|/usr/share/|\$(datadir)/|;
 	' Makefile.in
 
-%{__cat} &lt;&lt;EOF &gt;%{name}.desktop
+%{__cat} &lt;&lt;EOF &gt;hardinfo.desktop
 [Desktop Entry]
 Name=Hardware Information
 Comment=%{summary}
@@ -59,8 +59,7 @@
 %makeinstall
 
 %if %{dfi}
-        %{__install} -d -m0755 %{buildroot}%{_datadir}/gnome/apps/System/
-        %{__install} -m0644 %{name}.desktop %{buildroot}%{_datadir}/gnome/apps/System/
+        %{__install} -Dp -m0644 hardinfo.desktop %{buildroot}%{_datadir}/gnome/apps/System/hardinfo.desktop
 %else
 	%{__install} -d -m0755 %{buildroot}%{_datadir}/applications/
 	desktop-file-install --vendor %{desktop_vendor}    \

Modified: trunk/rpms/hardlink/hardlink.spec
===================================================================
--- trunk/rpms/hardlink/hardlink.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/hardlink/hardlink.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -24,15 +24,14 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_bindir}
-%{__install} -m0755 hardlink %{buildroot}%{_bindir}
+%{__install} -Dp -m0755 hardlink %{buildroot}%{_bindir}/hardlink
 
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
-%{_bindir}/*
+%{_bindir}/hardlink
 
 %changelog
 * Tue Apr 29 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.2-1

Modified: trunk/rpms/hardlink++/hardlink++.spec
===================================================================
--- trunk/rpms/hardlink++/hardlink++.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/hardlink++/hardlink++.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -29,7 +29,7 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -m 0755 -D hardlink++ %{buildroot}%{_bindir}/hardlink++
+%{__install} -Dp -m0755 hardlink++ %{buildroot}%{_bindir}/hardlink++
 
 
 %clean

Modified: trunk/rpms/heartbeat/heartbeat.spec
===================================================================
--- trunk/rpms/heartbeat/heartbeat.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/heartbeat/heartbeat.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,5 +1,4 @@
 # $Id$
-
 # Authority: dag
 
 Summary: Heartbeat subsystem for High-Availability Linux
@@ -83,8 +82,7 @@
 %{__rm} -rf %{buildroot}
 %makeinstall
 
-%{__install} -d -m0755 %{buildroot}%{_localstatedir}/adm/fillup-templates/
-%{__install} -m0644 rc.config.heartbeat %{buildroot}%{_localstatedir}/adm/fillup-templates/
+%{__install} -Dp -m0644 rc.config.heartbeat %{buildroot}%{_localstatedir}/adm/fillup-templates/rc.config.heartbeat
 
 %{__ln_s} -f %{_sbindir}/ldirectord %{buildroot}%{_sysconfdir}/ha.d/resource.d/ldirectord
 

Modified: trunk/rpms/hercules/hercules.spec
===================================================================
--- trunk/rpms/hercules/hercules.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/hercules/hercules.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -158,10 +158,11 @@
 %{__rm} -rf %{buildroot}
 %makeinstall
 %find_lang %{name}
-%{__mkdir_p} %{buildroot}%{_sysconfdir}/hercules/
-%{__install} -m0755 hercules.init %{buildroot}%{_sysconfdir}/hercules/
-%{__install} -m0644 hercules.cnf hercules.{ins,prm,tdf} \
-    %{buildroot}%{_sysconfdir}/hercules/
+%{__install} -Dp -m0755 hercules.init %{buildroot}%{_sysconfdir}/hercules/hercules.init
+%{__install} -Dp -m0644 hercules.cnf %{buildroot}%{_sysconfdir}/hercules/hercules.cnf
+%{__install} -Dp -m0644 hercules.ins %{buildroot}%{_sysconfdir}/hercules/hercules.ins
+%{__install} -Dp -m0644 hercules.prm %{buildroot}%{_sysconfdir}/hercules/hercules.prm
+%{__install} -Dp -m0644 hercules.tdf %{buildroot}%{_sysconfdir}/hercules/hercules.tdf
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/honeyd/honeyd.spec
===================================================================
--- trunk/rpms/honeyd/honeyd.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/honeyd/honeyd.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -35,10 +35,10 @@
 %{__install} -Dp -m0644 honeyd.8 %{buildroot}%{_mandir}/man8/honeyd.8
 
 %{__install} -d -m0755 %{buildroot}%{_datadir}/honeyd/
-%{__install} -m0644 xprobe2.conf nmap.assoc nmap.prints config.sample %{buildroot}%{_datadir}/honeyd/
+%{__install} -p -m0644 xprobe2.conf nmap.assoc nmap.prints config.sample %{buildroot}%{_datadir}/honeyd/
 
 %{__install} -d -m0755 %{buildroot}%{_libdir}/honeyd/
-%{__install} -m0755 libhoneyd.so honeyd_overload.lo atomicio.lo fdpass.lo %{buildroot}%{_libdir}/honeyd/
+%{__install} -p -m0755 libhoneyd.so honeyd_overload.lo atomicio.lo fdpass.lo %{buildroot}%{_libdir}/honeyd/
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/hunt/hunt.spec
===================================================================
--- trunk/rpms/hunt/hunt.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/hunt/hunt.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -39,9 +39,9 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_sbindir}
-%{__install} -m0755 hunt tpserv/tpserv tpsetup/transproxy %{buildroot}%{_sbindir}
-
+%{__install} -Dp -m0755 hunt %{buildroot}%{_sbindir}/hunt
+%{__install} -Dp -m0755 tpserv/tpserv %{buildroot}%{_sbindir}/tpserv
+%{__install} -Dp -m0755 tpsetup/transproxy %{buildroot}%{_sbindir}/transproxy
 %{__install} -Dp -m0644 man/hunt.1 %{buildroot}%{_mandir}/man1/hunt.1
 
 %clean

Modified: trunk/rpms/intersync/intersync.spec
===================================================================
--- trunk/rpms/intersync/intersync.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/intersync/intersync.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -42,9 +42,8 @@
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
-%{__install} -d -m0755 %{buildroot}%{_localstatedir}/log/intermezzo \
-			%{buildroot}%{_sysconfdir}/intermezzo
-%{__install} -m0644 sampleconfigs/intersync.conf %{buildroot}%{_sysconfdir}/intermezzo
+%{__install} -Dp -m0644 sampleconfigs/intersync.conf %{buildroot}%{_sysconfdir}/intermezzo/intersync.conf
+%{__install} -d -m0755 %{buildroot}%{_localstatedir}/log/intermezzo/
 
 ### FIXME: Fix problem with default Makefiles (?)
 ### Clean up buildroot

Modified: trunk/rpms/ipsorc/ipsorc.spec
===================================================================
--- trunk/rpms/ipsorc/ipsorc.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/ipsorc/ipsorc.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,5 +1,4 @@
 # $Id$
-
 # Authority: dag
 
 Summary: Packet generator
@@ -25,8 +24,8 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_sbindir}
-%{__install} -m0755 magic ipmagic %{buildroot}%{_sbindir}
+%{__install} -Dp -m0755 ipmagic %{buildroot}%{_sbindir}/ipmagic
+%{__install} -Dp -m0755 magic %{buildroot}%{_sbindir}/magic
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -34,7 +33,8 @@
 %files
 %defattr(-, root, root, 0755)
 %doc BUGS changelog GPL HOWTO README
-%{_sbindir}/*
+%{_sbindir}/ipmagic
+%{_sbindir}/magic
 
 %changelog
 * Thu May 01 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.7.5-0

Modified: trunk/rpms/ipw2100-firmware/ipw2100-firmware.spec
===================================================================
--- trunk/rpms/ipw2100-firmware/ipw2100-firmware.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/ipw2100-firmware/ipw2100-firmware.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -33,7 +33,7 @@
 %{__mkdir_p} %{buildroot}/lib/firmware \
              %{buildroot}%{_sysconfdir}/firmware \
              %{buildroot}%{_libdir}/hotplug/firmware
-%{__install} -m 0644 *.fw %{buildroot}/lib/firmware/
+%{__install} -p -m0644 *.fw %{buildroot}/lib/firmware/
 # Symlink all of them for new and old hotplug loading to work
 for file in *.fw; do
     %{__ln_s} /lib/firmware/${file} \

Modified: trunk/rpms/ipw2200-firmware/ipw2200-firmware.spec
===================================================================
--- trunk/rpms/ipw2200-firmware/ipw2200-firmware.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/ipw2200-firmware/ipw2200-firmware.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -37,7 +37,7 @@
 %{__mkdir_p} %{buildroot}/lib/firmware \
              %{buildroot}%{_sysconfdir}/firmware \
              %{buildroot}%{_libdir}/hotplug/firmware
-%{__install} -m 0644 *.fw %{buildroot}/lib/firmware/
+%{__install} -p -m0644 *.fw %{buildroot}/lib/firmware/
 # Symlink all of them for new and old hotplug loading to work
 for file in *.fw; do
     %{__ln_s} /lib/firmware/${file} \

Modified: trunk/rpms/john/john.spec
===================================================================
--- trunk/rpms/john/john.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/john/john.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,5 +1,4 @@
 # $Id$
-
 # Authority: dag
 
 Summary: John the Ripper password cracker
@@ -39,12 +38,12 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_sysconfdir} \
-			%{buildroot}%{_bindir} \
-			%{buildroot}%{_datadir}/john/
-%{__install} -m0644 run/john.ini %{buildroot}%{_sysconfdir}
-%{__install} -m0755 run/john run/mailer %{buildroot}%{_bindir}
-%{__install} -m0644 run/*.chr run/password.lst %{buildroot}%{_datadir}/john/
+%{__install} -Dp -m0644 run/john.ini %{buildroot}%{_sysconfdir}/john.ini
+%{__install} -Dp -m0755 run/john %{buildroot}%{_bindir}/john
+%{__install} -Dp -m0755 run/mailer %{buildroot}%{_bindir}/mailer
+
+%{__install} -d -m0755 %{buildroot}%{_datadir}/john/
+%{__install} -p -m0644 run/*.chr run/password.lst %{buildroot}%{_datadir}/john/
 %{__ln_s} -f john %{buildroot}%{_bindir}/unafs
 %{__ln_s} -f john %{buildroot}%{_bindir}/unique
 %{__ln_s} -f john %{buildroot}%{_bindir}/unshadow

Modified: trunk/rpms/js/js.spec
===================================================================
--- trunk/rpms/js/js.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/js/js.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -44,17 +44,16 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-                       %{buildroot}%{_libdir} \
-                       %{buildroot}%{_includedir}/js/
-%{__install} -m0755 src/Linux_All_OPT.OBJ/js %{buildroot}%{_bindir}
-%{__install} -m0755 src/Linux_All_OPT.OBJ/jscpucfg %{buildroot}%{_bindir}
-%{__install} -m0755 src/Linux_All_OPT.OBJ/libjs.so %{buildroot}%{_libdir}/libjs.so.1
+%{__install} -Dp -m0755 src/Linux_All_OPT.OBJ/js %{buildroot}%{_bindir}/js
+%{__install} -Dp -m0755 src/Linux_All_OPT.OBJ/jscpucfg %{buildroot}%{_bindir}/jscpucfg
+%{__install} -Dp -m0755 src/Linux_All_OPT.OBJ/libjs.a %{buildroot}%{_libdir}/libjs.a
+%{__install} -Dp -m0755 src/Linux_All_OPT.OBJ/libjs.so %{buildroot}%{_libdir}/libjs.so.1
 %{__ln_s} -nf libjs.so.1 %{buildroot}%{_libdir}/libjs.so
-%{__install} -m0755 src/Linux_All_OPT.OBJ/libjs.a %{buildroot}%{_libdir}
-%{__install} -m0644 src/*.h %{buildroot}%{_includedir}/js/
-%{__install} -m0644 src/Linux_All_OPT.OBJ/jsautocfg.h %{buildroot}%{_includedir}/js/
 
+%{__install} -d -m0755 %{buildroot}%{_includedir}/js/
+%{__install} -p -m0644 src/*.h %{buildroot}%{_includedir}/js/
+%{__install} -p -m0644 src/Linux_All_OPT.OBJ/jsautocfg.h %{buildroot}%{_includedir}/js/
+
 %post
 /sbin/ldconfig 2&gt;/dev/null
 
@@ -68,13 +67,13 @@
 %defattr(-, root, root, 0755)
 %doc src/README.html README
 %{_bindir}/js
-%{_libdir}/*.so.*
+%{_libdir}/libjs.so.*
 
 %files devel
 %defattr(-, root, root, 0755)
 %{_bindir}/jscpucfg
-%{_libdir}/*.so
-%{_libdir}/*.a
+%{_libdir}/libjs.so
+%{_libdir}/libjs.a
 %{_includedir}/js/
 
 %changelog

Modified: trunk/rpms/kajaani-kombat/kajaani-kombat.spec
===================================================================
--- trunk/rpms/kajaani-kombat/kajaani-kombat.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kajaani-kombat/kajaani-kombat.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -36,22 +36,21 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -m 0755 -d %{buildroot}/%{_bindir}
-%{__install} -m 0755 -d %{buildroot}/%{_datadir}/games/kajaanikombat
-%{__install} -m 0755 -d %{buildroot}/%{_mandir}/man6
-%{__install} -m 0755 kajaani-kombat %{buildroot}/%{_bindir}/kajaani-kombat
-%{__install} -m 0644 *.ttf *.ogg *.png %{buildroot}/%{_datadir}/games/kajaanikombat/
-%{__install} -m 0644 kajaani-kombat.6 %{buildroot}/%{_mandir}/man6/
+%{__install} -Dp -m0755 kajaani-kombat %{buildroot}%{_bindir}/kajaani-kombat
+%{__install} -Dp -m0644 kajaani-kombat.6 %{buildroot}%{_mandir}/man6/kajaani-kombat.6
 
+%{__install} -d -m0755 %{buildroot}/%{_datadir}/games/kajaanikombat
+%{__install} -p -m0644 *.ogg *.png *.ttf %{buildroot}%{_datadir}/games/kajaanikombat/
+
 #%clean
 #%{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
 %doc AUTHORS ChangeLog COPYING README
+%doc %{_mandir}/man6/kajaani-kombat.6*
 %{_bindir}/kajaani-kombat
-%{_datadir}/games/kajaanikombat
-%{_mandir}/man6/*
+%{_datadir}/games/kajaanikombat/
 
 %changelog
 * Mon Jan 10 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; 0.6-1

Modified: trunk/rpms/kernel-module-acx100/kernel-module-acx100.spec
===================================================================
--- trunk/rpms/kernel-module-acx100/kernel-module-acx100.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-acx100/kernel-module-acx100.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -125,7 +125,7 @@
 	KERNEL_OUTPUT=&quot;%{_libmoddir}/%{kernel}/build&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}/
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}
 
 %if %{_with_smp}
 ### Prepare SMP kernel.
@@ -147,7 +147,7 @@
 	KERNEL_OUTPUT=&quot;%{_libmoddir}/%{kernel}/build&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}/
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}
 %endif
 
 ### Build utilities.

Modified: trunk/rpms/kernel-module-airo_mpi/kernel-module-airo_mpi.spec
===================================================================
--- trunk/rpms/kernel-module-airo_mpi/kernel-module-airo_mpi.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-airo_mpi/kernel-module-airo_mpi.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -94,7 +94,7 @@
 	KERNEL_VERSION=&quot;%{kversion}-%{krelease}&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 
 ### Prepare SMP kernel.
 cd %{_usrsrc}/linux-%{kversion}-%{krelease}
@@ -108,7 +108,7 @@
 	KERNEL_VERSION=&quot;%{kversion}-%{krelease}&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 %install
 ### Install utilities

Modified: trunk/rpms/kernel-module-atmel-wlan/kernel-module-atmel-wlan.spec
===================================================================
--- trunk/rpms/kernel-module-atmel-wlan/kernel-module-atmel-wlan.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-atmel-wlan/kernel-module-atmel-wlan.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -91,7 +91,7 @@
 	KERNEL_VERSION=&quot;%{kversion}-%{krelease}&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 
 ### Prepare SMP kernel.
 cd %{_usrsrc}/linux-%{kversion}-%{krelease}
@@ -105,7 +105,7 @@
 	KERNEL_VERSION=&quot;%{kversion}-%{krelease}&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 %install
 ### Install utilities

Modified: trunk/rpms/kernel-module-cloop/kernel-module-cloop-2.01.spec
===================================================================
--- trunk/rpms/kernel-module-cloop/kernel-module-cloop-2.01.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-cloop/kernel-module-cloop-2.01.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -105,7 +105,7 @@
 	KERNEL_DIR=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 
 ### Prepare SMP kernel.
 cd %{_usrsrc}/linux-%{kversion}-%{krelease}
@@ -119,13 +119,13 @@
 	KERNEL_DIR=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 %install
 ### Install utilities.
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-			%{buildroot}/dev/
-%{__install} -m0755 create_compressed_fs extract_compressed_fs %{buildroot}%{_bindir}
+%{__install} -Dp -m0755 create_compressed_fs %{buildroot}%{_bindir}/create_compressed_fs
+%{__install} -Dp -m0755 extract_compressed_fs %{buildroot}%{_bindir}/extract_compressed_fs
+%{__install} -d -m0755 %{buildroot}/dev/
 mknod %{buildroot}/dev/cloop b 240 0
 for i in 0 1 2 3 4 5 6 7 8 9; do
 	mknod %{buildroot}/dev/cloop$i b 240 $i

Modified: trunk/rpms/kernel-module-cloop/kernel-module-cloop.spec
===================================================================
--- trunk/rpms/kernel-module-cloop/kernel-module-cloop.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-cloop/kernel-module-cloop.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -117,7 +117,7 @@
 	KERNEL_DIR=&quot;%{_libmoddir}/%{kernel}/build&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}
 
 %if %{_with_smp}
 ### Prepare SMP kernel.
@@ -135,14 +135,14 @@
 	KERNEL_DIR=&quot;%{_libmoddir}/%{kernel}/build&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}
 %endif
 
 %install
 ### Install utilities.
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-			%{buildroot}/dev/
-%{__install} -m0755 create_compressed_fs extract_compressed_fs %{buildroot}%{_bindir}
+%{__install} -Dp -m0755 create_compressed_fs %{buildroot}%{_bindir}/create_compressed_fs
+%{__install} -Dp -m0755 extract_compressed_fs %{buildroot}%{_bindir}/extract_compressed_fs
+%{__install} -d -m0755 %{buildroot}/dev/
 mknod %{buildroot}/dev/cloop b 240 0
 for i in 0 1 2 3 4 5 6 7 8 9; do
 	mknod %{buildroot}/dev/cloop$i b 240 $i

Modified: trunk/rpms/kernel-module-freeswan/kernel-module-freeswan.spec
===================================================================
--- trunk/rpms/kernel-module-freeswan/kernel-module-freeswan.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-freeswan/kernel-module-freeswan.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -215,7 +215,7 @@
 	SUBARCH=&quot;%{_arch}&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 
 ### Prepare SMP kernel.
 cd %{_usrsrc}/linux-%{kversion}-%{krelease}
@@ -231,7 +231,7 @@
 	SUBARCH=&quot;%{_arch}&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 ### Build utilities.
 %{__make} %{?_smp_mflags} programs \
@@ -251,8 +251,8 @@
 
 %{__install} -d -m0700 %{buildroot}%{_localstatedir}/run/pluto/ \
 			%{buildroot}%{_sysconfdir}/ipsec.d/
-#%{__install} -m0755 freeswan.sysv %{buildroot}%{_initrddir}/freeswan
-%{__install} -m0644 ipsec.secrets %{buildroot}%{_sysconfdir}
+#%{__install} -Dp -m0755 freeswan.sysv %{buildroot}%{_initrddir}/freeswan
+%{__install} -Dp -m0644 ipsec.secrets %{buildroot}%{_sysconfdir}/ipsec.secrets
 
 
 ### Clean up buildroot

Modified: trunk/rpms/kernel-module-hsfmodem/kernel-module-hsfmodem.spec
===================================================================
--- trunk/rpms/kernel-module-hsfmodem/kernel-module-hsfmodem.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-hsfmodem/kernel-module-hsfmodem.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -98,7 +98,7 @@
 	DISTRO_CFLAGS=&quot;-D__BOOT_KERNEL_H_ -D__BOOT_KERNEL_UP=1 -D__MODULE_KERNEL_%{_target_cpu}=1&quot; \
 	CNXT_MODS_DIR=&quot;../%{real_name}-up/&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{real_name}-up/*.o %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{real_name}-up/*.o %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 
 ### Prepare SMP kernel.
 cd %{_usrsrc}/linux-%{kversion}-%{krelease}
@@ -116,7 +116,7 @@
 	DISTRO_CFLAGS=&quot;-D__BOOT_KERNEL_H_ -D__BOOT_KERNEL_SMP=1 -D__MODULE_KERNEL_%{_target_cpu}=1&quot; \
 	CNXT_MODS_DIR=&quot;../%{real_name}-smp/&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{real_name}-smp/*.o %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -p -m0644 %{real_name}-smp/*.o %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 ### Make utilities.
 %{__make} %{?_smp_mflags} clean all

Modified: trunk/rpms/kernel-module-ibmasm/kernel-module-ibmasm.spec
===================================================================
--- trunk/rpms/kernel-module-ibmasm/kernel-module-ibmasm.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-ibmasm/kernel-module-ibmasm.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -216,7 +216,7 @@
 	NODRIVER=&quot;n&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}/
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}
 
 %if %{_with_smp}
 ### Prepare SMP kernel.
@@ -237,7 +237,7 @@
 	NODRIVER=&quot;n&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}/
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}
 %endif
 
 %install
@@ -245,8 +245,8 @@
 
 ### Install binary software.
 %{__install} -d -m0755 %{buildroot}%{_sbindir}
-#%{__install} -m0755 ibmspup ibmspdown ibmspremove exe/ibmsprem exe/ibmsprem2 exe/ibmsphalt %{buildroot}%{_sbindir}
-%{__install} -m0755 ibmspup ibmspdown exe/ibmsprem exe/ibmsprem2 exe/ibmsphalt %{buildroot}%{_sbindir}
+#%{__install} -p -m0755 ibmspup ibmspdown ibmspremove exe/ibmsprem exe/ibmsprem2 exe/ibmsphalt %{buildroot}%{_sbindir}
+%{__install} -p -m0755 ibmspup ibmspdown exe/ibmsprem exe/ibmsprem2 exe/ibmsphalt %{buildroot}%{_sbindir}
 %{__install} -Dp -m0755 shlib/libsysSp.so %{buildroot}%{_libdir}/libsysSp.so
 %{__install} -Dp -m0755 ibmasm.sysv %{buildroot}%{_initrddir}/ibmasm
 %{__install} -Dp -m0755 ibmspup.xinit %{buildroot}%{_sysconfdir}/X11/xinit/xinitrc.d/ibmspup

Modified: trunk/rpms/kernel-module-ips/kernel-module-ips.spec
===================================================================
--- trunk/rpms/kernel-module-ips/kernel-module-ips.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-ips/kernel-module-ips.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -66,8 +66,8 @@
 
 %prep
 %setup -c -n %{real_name}-%{real_version}
-%{__install} -m0644 %{SOURCE1} Makefile
-%{__install} -m0644 %{SOURCE2} kernel-ver.c
+%{__install} -p -m0644 %{SOURCE1} Makefile
+%{__install} -p -m0644 %{SOURCE2} kernel-ver.c
 
 %build
 %{__rm} -rf %{buildroot}
@@ -83,7 +83,7 @@
 ### Make UP module.
 %{__make} clean all
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 
 ### Prepare SMP kernel.
 cd %{_usrsrc}/linux-%{kversion}-%{krelease}
@@ -95,7 +95,7 @@
 ### Make SMP module.
 %{__make} clean all
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 %install
 

Modified: trunk/rpms/kernel-module-ltmodem/kernel-module-ltmodem.spec
===================================================================
--- trunk/rpms/kernel-module-ltmodem/kernel-module-ltmodem.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-ltmodem/kernel-module-ltmodem.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -85,7 +85,7 @@
 	--with-kernel=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build&quot;
 %{__make} %{?_smp_mflags} all
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 cd -
 
 ### Prepare SMP kernel.
@@ -102,12 +102,10 @@
 	--with-kernel=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build&quot;
 %{__make} %{?_smp_mflags} all
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 %install
-cd source
-%{__install} -d -m0755 %{buildroot}%{_sysconfdir}/devfs/conf.d/
-%{__install} -m0644 debian/etc_devfs_conf.d_ltmodem %{buildroot}%{_sysconfdir}/devfs/conf.d/ltmodem
+%{__install} -Dp -m0644 source/debian/etc_devfs_conf.d_ltmodem %{buildroot}%{_sysconfdir}/devfs/conf.d/ltmodem
 
 %post
 /sbin/depmod -ae %{kversion}-%{krelease} || :

Modified: trunk/rpms/kernel-module-madwifi/kernel-module-madwifi.spec
===================================================================
--- trunk/rpms/kernel-module-madwifi/kernel-module-madwifi.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-madwifi/kernel-module-madwifi.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -98,7 +98,7 @@
 	KERNEL_VERSION=&quot;%{kversion}-%{krelease}&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 
 ### Prepare SMP kernel.
 cd %{_usrsrc}/linux-%{kversion}-%{krelease}
@@ -112,7 +112,7 @@
 	KERNEL_VERSION=&quot;%{kversion}-%{krelease}&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 ### Build utilities
 %{__make} %{?_smp_mflags} -C tools
@@ -120,8 +120,7 @@
 
 %install
 ### Install utilities
-%{__install} -d -m0755 %{buildroot}%{_bindir}
-%{__install} -m0755 tools/athstats %{buildroot}%{_bindir}
+%{__install} -Dp -m0755 tools/athstats %{buildroot}%{_bindir}/athstats
 
 %postun
 /sbin/depmod -ae %{kversion}-%{krelease} || :

Modified: trunk/rpms/kernel-module-mpi350/kernel-module-mpi350.spec
===================================================================
--- trunk/rpms/kernel-module-mpi350/kernel-module-mpi350.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-mpi350/kernel-module-mpi350.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -94,7 +94,7 @@
 %{__cc} -MD -O2 -Wall -Wstrict-prototypes -D__KERNEL__ -DMODULE -pipe -I%{_libmoddir}/%{kversion}-%{krelease}/build/include -c mpi350.c
 #%{__cc} -MD -O2 -Wall -Wstrict-prototypes -D__KERNEL__ -DMODULE -pipe -I%{_libmoddir}/%{kversion}-%{krelease}/build/include -c airo.c
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 cd -
 
 ### Prepare SMP kernel.
@@ -109,15 +109,13 @@
 %{__cc} -MD -O2 -Wall -Wstrict-prototypes -D__KERNEL__ -DMODULE -pipe -I%{_libmoddir}/%{kversion}-%{krelease}/build/include  -c mpi350.c
 #%{__cc} -MD -O2 -Wall -Wstrict-prototypes -D__KERNEL__ -DMODULE -pipe -I%{_libmoddir}/%{kversion}-%{krelease}/build/include  -c airo.c
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 %install
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-			%{buildroot}%{_sysconfdir} \
-			%{buildroot}/opt/cisco/
-%{__install} -m0755 utilities/acu utilities/bcard utilities/leapset utilities/leapscript utilities/leaplogin %{buildroot}%{_bindir}
-%{__install} -m0644 ACU.PRFS %{buildroot}/opt/cisco/
-%{__install} -m0644 ethX.cfg %{buildroot}%{_sysconfdir}/eth2.cfg
+%{__install} -d -m0755 %{buildroot}%{_bindir}
+%{__install} -p -m0755 utilities/acu utilities/bcard utilities/leapset utilities/leapscript utilities/leaplogin %{buildroot}%{_bindir}
+%{__install} -Dp -m0644 ethX.cfg %{buildroot}%{_sysconfdir}/eth2.cfg
+%{__install} -Dp -m0644 ACU.PRFS %{buildroot}/opt/cisco/ACU.PRFS
 %{__tar} -xvzf helpml.tar.gz -C %{buildroot}/opt/cisco/
 
 %post

Modified: trunk/rpms/kernel-module-ndiswrapper/kernel-module-ndiswrapper.spec
===================================================================
--- trunk/rpms/kernel-module-ndiswrapper/kernel-module-ndiswrapper.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-ndiswrapper/kernel-module-ndiswrapper.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -81,7 +81,7 @@
 	KSRC=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build&quot; \
 	KVERS=&quot;24&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 cd -
 
 ### Make utilities.
@@ -90,7 +90,7 @@
 
 %install
 %{__install} -d -m0755 %{buildroot}%{_sbindir}
-%{__install} -m0755 utils/loadndisdriver utils/ndiswrapper utils/wlan_radio_averatec_5110hx %{buildroot}%{_sbindir}
+%{__install} -p -m0755 utils/loadndisdriver utils/ndiswrapper utils/wlan_radio_averatec_5110hx %{buildroot}%{_sbindir}
 
 %{__install} -d -m0755 %{buildroot}%{_sysconfdir}/ndiswrapper/
 

Modified: trunk/rpms/kernel-module-ntfs/kernel-module-ntfs.spec
===================================================================
--- trunk/rpms/kernel-module-ntfs/kernel-module-ntfs.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-ntfs/kernel-module-ntfs.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -100,7 +100,7 @@
 	TOPDIR=&quot;%{_usrsrc}/linux-%{kernel}&quot; \
 	CFLAGS=&quot;-Wall -pipe -O3 -fomit-frame-pointer -D__KERNEL__ -DMODULE -DEXPORT_SYMTAB -DMODVERSIONS -I%{_libmoddir}/%{kernel}/build/include -include %{_libmoddir}/%{kernel}/build/include/linux/modversions.h&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}/
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}
 cd -
 
 %if %{_with_smp}
@@ -121,7 +121,7 @@
 	CFLAGS=&quot;-Wall -pipe -O3 -fomit-frame-pointer -D__KERNEL__ -DMODULE -DEXPORT_SYMTAB -DMODVERSIONS -I%{_libmoddir}/%{kernel}/build/include -include %{_libmoddir}/%{kernel}/build/include/linux/modversions.h&quot;
 #TEST	CFLAGS=&quot;-D__KERNEL__ -I%{_usrsrc}/linux-%{kversion}-%{krelease}/include -Wall -Wstrict-prototypes -Wno-trigraphs -O2 -fomit-frame-pointer -fno-strict-aliasing -fno-common -pipe -mpreferred-stack-boundary=2 -march=%{_arch} -DMODULE -DMODVERSIONS -include %{_usrsrc}/linux-%{kversion}-%{krelease}/include/linux/modversions.h -nostdinc -iwithprefix include&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}/
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}
 cd -
 %endif
 

Modified: trunk/rpms/kernel-module-openafs/kernel-module-openafs.spec
===================================================================
--- trunk/rpms/kernel-module-openafs/kernel-module-openafs.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-openafs/kernel-module-openafs.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -150,18 +150,18 @@
 #%{__ln_s} -f kpasswd %{buildroot}%{_bindir}/kapasswd
 
 ### Copy root.client config files
-%{__install} -m0755 %{sysname}/dest/root.client/usr/vice/etc/afs.conf %{buildroot}%{_sysconfdir}/sysconfig/afs
-%{__install} -m0755 %{sysname}/dest/root.client/usr/vice/etc/afs.rc %{buildroot}%{_initrddir}/afs
+%{__install} -Dp -m0755 %{sysname}/dest/root.client/usr/vice/etc/afs.conf %{buildroot}%{_sysconfdir}/sysconfig/afs
+%{__install} -Dp -m0755 %{sysname}/dest/root.client/usr/vice/etc/afs.rc %{buildroot}%{_initrddir}/afs
 
 ### Copy PAM modules
-#%{__install} -m0755 %{sysname}/dest/lib/pam* %{buildroot}/lib/security/
+#%{__install} -p -m0755 %{sysname}/dest/lib/pam* %{buildroot}/lib/security/
 #%{__ln_s} -f pam_afs.so.1 %{buildroot}/lib/security/pam_afs.so
 #%{__ln_s} -f pam_afs.krb.so.1 %{buildroot}/lib/security/pam_afs.krb.so
 
 ### Populate /usr/vice/etc
-#%{__install} -m0644 cacheinfo SuidCells ThisCell %{buildroot}%{_prefix}/vice/etc/
-#%{__install} -m0644 %{SOURCE5} %{buildroot}%{_prefix}/vice/etc/CellServDB
-#%{__install} -m0755 %{SOURCE6} %{buildroot}%{_prefix}/vice/etc/afsmodname
+#%{__install} -p -m0644 cacheinfo SuidCells ThisCell %{buildroot}%{_prefix}/vice/etc/
+#%{__install} -p -m0644 %{SOURCE5} %{buildroot}%{_prefix}/vice/etc/CellServDB
+#%{__install} -p -m0755 %{SOURCE6} %{buildroot}%{_prefix}/vice/etc/afsmodname
 
 ### Install DOCUMENTATION
 ### Build the DOC directory

Modified: trunk/rpms/kernel-module-opengfs/kernel-module-opengfs.spec
===================================================================
--- trunk/rpms/kernel-module-opengfs/kernel-module-opengfs.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-opengfs/kernel-module-opengfs.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -87,7 +87,7 @@
 	--with-linux_moduledir=&quot;%{buildroot}%{_libmoddir}/%{kversion}-%{krelease}&quot;
 %{__make} %{?_smp_mflags} all
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 cd -
 
 ### Prepare SMP kernel.
@@ -104,7 +104,7 @@
 	--with-linux_moduledir=&quot;%{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp&quot;
 %{__make} %{?_smp_mflags} all
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 %install
 %makeinstall

Modified: trunk/rpms/kernel-module-openswan/kernel-module-openswan.spec
===================================================================
--- trunk/rpms/kernel-module-openswan/kernel-module-openswan.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-openswan/kernel-module-openswan.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -228,7 +228,7 @@
 	SUBARCH=&quot;%{_arch}&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}
 
 %if %{_with_smp}
 ### Prepare SMP kernel.
@@ -248,7 +248,7 @@
 	SUBARCH=&quot;%{_arch}&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}
 %endif
 
 ### Build utilities.
@@ -269,7 +269,7 @@
 
 %{__install} -d -m0700 %{buildroot}%{_localstatedir}/run/pluto/ \
 			%{buildroot}%{_sysconfdir}/ipsec.d/
-#%{__install} -m0755 freeswan.sysv %{buildroot}%{_initrddir}/freeswan
+#%{__install} -Dp -m0755 freeswan.sysv %{buildroot}%{_initrddir}/freeswan
 %{__install} -Dp -m0644 ipsec.secrets %{buildroot}%{_sysconfdir}/ipsec.secrets
 
 ### Clean up buildroot

Modified: trunk/rpms/kernel-module-ov511/kernel-module-ov511-2.26.spec
===================================================================
--- trunk/rpms/kernel-module-ov511/kernel-module-ov511-2.26.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-ov511/kernel-module-ov511-2.26.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -84,7 +84,7 @@
 %{__make} %{?_smp_mflags} clean all \
 	INCLUDEDIR=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build/include&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 
 ### Prepare SMP kernel.
 cd %{_usrsrc}/linux-%{kversion}-%{krelease}
@@ -97,7 +97,7 @@
 %{__make} %{?_smp_mflags} clean all \
 	INCLUDEDIR=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build/include&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 %install
 

Modified: trunk/rpms/kernel-module-ov511/kernel-module-ov511.spec
===================================================================
--- trunk/rpms/kernel-module-ov511/kernel-module-ov511.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-ov511/kernel-module-ov511.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -84,7 +84,7 @@
 %{__make} %{?_smp_mflags} clean all \
 	INCLUDEDIR=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build/include&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 
 ### Prepare SMP kernel.
 cd %{_usrsrc}/linux-%{kversion}-%{krelease}
@@ -97,7 +97,7 @@
 %{__make} %{?_smp_mflags} clean all \
 	INCLUDEDIR=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build/include&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 %install
 

Modified: trunk/rpms/kernel-module-qc-usb/dag-kernel-module-qc-usb.spec
===================================================================
--- trunk/rpms/kernel-module-qc-usb/dag-kernel-module-qc-usb.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-qc-usb/dag-kernel-module-qc-usb.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -95,7 +95,7 @@
 %{__make} %{?_smp_mflags} clean all \
 	MODULE_DIR=&quot;%{_libmoddir}/%{kversion}-%{krelease}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 
 ### Prepare SMP kernel.
 cd %{_usrsrc}/linux-%{kversion}-%{krelease}
@@ -108,12 +108,11 @@
 %{__make} %{?_smp_mflags} clean all \
 	MODULE_DIR=&quot;%{_libmoddir}/%{kversion}-%{krelease}&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 %install
 ### Install utilities.
-%{__install} -d -m0755 %{buildroot}%{_bindir}
-%{__install} -m0755 qcset %{buildroot}%{_bindir}
+%{__install} -Dp -m0755 qcset %{buildroot}%{_bindir}/qcset
 
 %post
 /sbin/depmod -ae %{kversion}-%{krelease} || :

Modified: trunk/rpms/kernel-module-saa7134/kernel-module-saa7134.spec
===================================================================
--- trunk/rpms/kernel-module-saa7134/kernel-module-saa7134.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-saa7134/kernel-module-saa7134.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -81,7 +81,7 @@
 %{__make} %{?_smp_mflags} \
 	KDIR=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -s -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -ps -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 
 ### Prepare SMP kernel.
 cd %{_usrsrc}/linux-%{kversion}-%{krelease}
@@ -95,7 +95,7 @@
 %{__make} %{?_smp_mflags} \
 	KDIR=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -s -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -ps -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 %install
 ### Clean up docs

Modified: trunk/rpms/kernel-module-slmodem/kernel-module-slmodem.spec
===================================================================
--- trunk/rpms/kernel-module-slmodem/kernel-module-slmodem.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-slmodem/kernel-module-slmodem.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -113,7 +113,7 @@
 	EXTFLAGS=&quot;%{optflags}&quot; \
 	KERNEL_DIR=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 
 #### Prepare SMP kernel.
 #cd %{_usrsrc}/linux-%{kversion}-%{krelease}
@@ -127,14 +127,13 @@
 #	EXTFLAGS=&quot;%{optflags}&quot; \
 #	KERNEL_DIR=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build&quot;
 #%{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-#%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+#%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 %install
 ### Install utilities
-%{__install} -d -m0755 %{buildroot}%{_sbindir} \
-			%{buildroot}%{_localstatedir}/lib/slmodem/ \
+%{__install} -d -m0755 %{buildroot}%{_localstatedir}/lib/slmodem/ \
 			%{buildroot}/dev/
-%{__install} -m0755 modem/slmodemd %{buildroot}%{_sbindir}
+%{__install} -Dp -m0755 modem/slmodemd %{buildroot}%{_sbindir}/slmodemd
 for i in 0 1 2 3; do
 	touch %{buildroot}/dev/slamr$i %{buildroot}/dev/slusb$i
 done

Modified: trunk/rpms/kernel-module-speedtouch/kernel-module-speedtouch.spec
===================================================================
--- trunk/rpms/kernel-module-speedtouch/kernel-module-speedtouch.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-speedtouch/kernel-module-speedtouch.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -82,7 +82,7 @@
 %{__make} %{?_smp_mflags} clean all \
 	KERNELDIR=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 
 ### Prepare SMP kernel.
 cd %{_usrsrc}/linux-%{kversion}-%{krelease}
@@ -95,7 +95,7 @@
 %{__make} %{?_smp_mflags} clean all \
 	KERNELDIR=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build&quot;
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 
 %install
 

Modified: trunk/rpms/kernel-module-syscalltrack/kernel-module-syscalltrack.spec
===================================================================
--- trunk/rpms/kernel-module-syscalltrack/kernel-module-syscalltrack.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-syscalltrack/kernel-module-syscalltrack.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -102,13 +102,13 @@
 ### Install UP module.
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 cd %{name}-up/
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 cd -
 
 ### Install SMP module.
 #%{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 #cd %{name}-smp/
-#%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+#%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
 #cd -
 
 %post

Modified: trunk/rpms/kernel-module-thinkpad/kernel-module-thinkpad.spec
===================================================================
--- trunk/rpms/kernel-module-thinkpad/kernel-module-thinkpad.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kernel-module-thinkpad/kernel-module-thinkpad.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -83,13 +83,13 @@
 	KSRC=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build&quot;
 cd 2.4/drivers/
 %{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -p -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
 
 %install
 %{__install} -d -m0755 %{buildroot}/dev \
 			%{buildroot}%{_mandir}/man4
 touch %{buildroot}/dev/thinkpad
-%{__install} -m0644 man/*.4 %{buildroot}%{_mandir}/man4/
+%{__install} -p -m0644 man/*.4 %{buildroot}%{_mandir}/man4/
 
 ### FIXME: A manual page should not be part of a kernel module package, added to documentation.
 %{__rm} -rf %{buildroot}%{_mandir}

Modified: trunk/rpms/kotnet-limiet/kotnet-limiet.spec
===================================================================
--- trunk/rpms/kotnet-limiet/kotnet-limiet.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/kotnet-limiet/kotnet-limiet.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -32,7 +32,7 @@
 %{__mkdir_p} %{buildroot}%{_datadir}/apps/kotnet-limiet/
 %{__cp} -ap kotnet-limiet.conf.template kotnet-limiet.theme pics \
     %{buildroot}%{_datadir}/apps/kotnet-limiet/
-%{__install} -m 0755 kotnet-limiet knl.py %{buildroot}%{_bindir}/
+%{__install} -p -m0755 kotnet-limiet knl.py %{buildroot}%{_bindir}/
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/lbe/lbe.spec
===================================================================
--- trunk/rpms/lbe/lbe.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/lbe/lbe.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -61,14 +61,14 @@
 %{__install} -d -m0755 %{buildroot}%{_datadir}/lbe/help/ \
 			%{buildroot}%{_datadir}/lbe/templates/ \
 			%{buildroot}%{_bindir}
-%{__install} -m0755 lbe.sh %{buildroot}%{_datadir}/lbe/
+%{__install} -Dp -m0755 lbe.sh %{buildroot}%{_datadir}/lbe/lbe.sh
 %{__ln_s} -f %{_datadir}/lbe/lbe.sh %{buildroot}%{_bindir}/lbe
 
-%{__install} -m0644 *.cfg* *.config* %{buildroot}%{_datadir}/lbe/
-%{__install} -m0644 help/*.html %{buildroot}%{_datadir}/lbe/help/
-%{__install} -m0644 lib/*.jar %{buildroot}%{_datadir}/lbe/
-%{__install} -m0644 *.jar %{buildroot}%{_datadir}/lbe/
-%{__install} -m0644 templates/* %{buildroot}%{_datadir}/lbe/templates/
+%{__install} -p -m0644 *.cfg* *.config* %{buildroot}%{_datadir}/lbe/
+%{__install} -p -m0644 help/*.html %{buildroot}%{_datadir}/lbe/help/
+%{__install} -p -m0644 lib/*.jar %{buildroot}%{_datadir}/lbe/
+%{__install} -p -m0644 *.jar %{buildroot}%{_datadir}/lbe/
+%{__install} -p -m0644 templates/* %{buildroot}%{_datadir}/lbe/templates/
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/libevent/libevent.spec
===================================================================
--- trunk/rpms/libevent/libevent.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/libevent/libevent.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -48,13 +48,13 @@
 %makeinstall
 
 ### FIXME: This should be part of the normal 'make install' procedure !
-%{__install} -m0755 libevent.so.0.0.7 %{buildroot}%{_libdir}
+%{__install} -Dp -m0755 libevent.so.0.0.7 %{buildroot}%{_libdir}/libevent.so.0.0.7
 %{__ln_s} -f libevent.so.0.0.7 %{buildroot}%{_libdir}/libevent.so
 %{__ln_s} -f libevent.so.0.0.7 %{buildroot}%{_libdir}/libevent.so.0
 
-%{__install} -m0755 event.h %{buildroot}%{_includedir}/event.h
+%{__install} -Dp -m0755 event.h %{buildroot}%{_includedir}/event.h
 %{__ln_s} -f event.h %{buildroot}%{_includedir}/libevent.h
-%{__install} -m0755 event-internal.h %{buildroot}%{_includedir}/event-internal.h
+%{__install} -Dp -m0755 event-internal.h %{buildroot}%{_includedir}/event-internal.h
 
 %post
 /sbin/ldconfig 2&gt;/dev/null

Modified: trunk/rpms/libgc/libgc.spec
===================================================================
--- trunk/rpms/libgc/libgc.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/libgc/libgc.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,5 +1,4 @@
 # $Id$
-
 # Authority: dag
 
 %define real_name gc
@@ -44,12 +43,12 @@
 %install
 %{__rm} -rf %{buildroot}
 %{__install} -d -m0755 %{buildroot}%{_libdir} \
-			%{buildroot}%{_includedir}/%{real_name} \
+			%{buildroot}%{_includedir}/libgc/ \
 			%{buildroot}%{_mandir}/man1/
 %makeinstall \
 	DESTDIR=&quot;%{buildroot}&quot;
-#%{__install} -m0644 include/*.h %{buildroot}%{_includedir}/%{real_name}
-%{__install} -m0655 doc/gc.man %{buildroot}%{_mandir}/man1/gc.1
+#%{__install} -Dp -m0644 include/*.h %{buildroot}%{_includedir}/libgc/
+%{__install} -Dp -m0655 doc/gc.man %{buildroot}%{_mandir}/man1/gc.1
 
 ### Clean up buildroot
 %{__rm} -f %{buildroot}%{_libdir}/*.la
@@ -76,7 +75,7 @@
 %{_libdir}/*.a
 %{_libdir}/*.so
 %{_includedir}/*.h
-%{_includedir}/%{real_name}/
+%{_includedir}/libgc/
 #exclude %{_libdir}/*.la
 
 %changelog

Modified: trunk/rpms/libjpeg-mmx/libjpeg-mmx.spec
===================================================================
--- trunk/rpms/libjpeg-mmx/libjpeg-mmx.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/libjpeg-mmx/libjpeg-mmx.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,5 +1,4 @@
 # $Id$
-
 # Authority: dag
 
 %define real_name jpeg-mmx
@@ -32,10 +31,9 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_libdir} \
-			%{buildroot}%{_includedir}
-%{__install} -m0755 libjpeg-mmx.a %{buildroot}%{_libdir}/
-%{__install} -m0644 jpegint.h jinclude.h %{buildroot}%{_includedir}/
+%{__install} -Dp -m0755 libjpeg-mmx.a %{buildroot}%{_libdir}/libjpeg-mmx.a
+%{__install} -Dp -m0644 jinclude.h %{buildroot}%{_includedir}/jinclude.h
+%{__install} -Dp -m0644 jpegint.h %{buildroot}%{_includedir}/jpegint.h
 
 %post
 /sbin/ldconfig 2&gt;/dev/null

Modified: trunk/rpms/libmpeg3/libmpeg3.spec
===================================================================
--- trunk/rpms/libmpeg3/libmpeg3.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/libmpeg3/libmpeg3.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -41,11 +41,11 @@
 %install
 %{__rm} -rf %{buildroot}
 %{__install} -d -m0755 %{buildroot}%{_bindir}
-%{__install} -m0755 */mpeg3dump */mpeg3cat */mpeg3toc \
+%{__install} -p -m0755 */mpeg3dump */mpeg3cat */mpeg3toc \
     %{buildroot}%{_bindir}/
 
 %{__install} -d -m0755 %{buildroot}%{_includedir}
-%{__install} -m0644 libmpeg3.h mpeg3private.h mpeg3protos.h \
+%{__install} -p -m0644 libmpeg3.h mpeg3private.h mpeg3protos.h \
     %{buildroot}%{_includedir}
 
 %{__install} -Dp -m0755 */libmpeg3.a %{buildroot}%{_libdir}/libmpeg3.a

Modified: trunk/rpms/libnet/libnet-1.1.spec
===================================================================
--- trunk/rpms/libnet/libnet-1.1.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/libnet/libnet-1.1.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -42,8 +42,7 @@
 	INC_PREFIX=&quot;%{buildroot}%{_includedir}&quot; \
 	LIB_PREFIX=&quot;%{buildroot}%{_libdir}&quot; \
 	MAN_PREFIX=&quot;%{buildroot}/%{_mandir}/man3&quot;
-%{__install} -d -m0755 %{buildroot}%{_bindir}
-%{__install} -m0755 libnet-config %{buildroot}%{_bindir}
+%{__install} -Dp -m0755 libnet-config %{buildroot}%{_bindir}/libnet-config
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/libseal/libseal.spec
===================================================================
--- trunk/rpms/libseal/libseal.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/libseal/libseal.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,7 +1,5 @@
 # $Id$
-
 # Authority: dag
-
 # Upstream: Carlos Hasan &lt;chasan$acm,org&gt;
 
 %define real_name seal
@@ -42,22 +40,22 @@
 %install
 %{__rm} -rf %{buildroot}
 #makeinstall
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-			%{buildroot}%{_libdir} \
-			%{buildroot}%{_includedir}
-%{__install} -m0755 src/mp %{buildroot}%{_bindir}/
-%{__install} -m0755 lib/Linux/* %{buildroot}%{_libdir}/
-%{__install} -m0644 src/audio.h %{buildroot}%{_includedir}/seal.h
+%{__install} -Dp -m0755 src/mp %{buildroot}%{_bindir}/mp
+%{__install} -Dp -m0644 src/audio.h %{buildroot}%{_includedir}/seal.h
 
+%{__install} -d -m0755 %{buildroot}%{_libdir}
+%{__install} -p -m0755 lib/Linux/* %{buildroot}%{_libdir}
+
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
 %doc ChangeLog LICENSE.TXT README.TXT doc/man.html
-%{_bindir}/*
-%{_libdir}/*.so.*
+%{_bindir}/mp
+%{_includedir}/seal.h
 %{_libdir}/*.a
+%{_libdir}/*.so.*
 
 %changelog
 * Mon Apr 21 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.07-0

Modified: trunk/rpms/libtheora/libtheora.spec
===================================================================
--- trunk/rpms/libtheora/libtheora.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/libtheora/libtheora.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -74,12 +74,11 @@
     docdir=$(pwd)/_docs
 
 # Manually install tools
-%{__mkdir_p} %{buildroot}%{_bindir}
-%{__install} -m 0755 examples/.libs/dump_video \
+%{__install} -Dp -m0755 examples/.libs/dump_video \
     %{buildroot}%{_bindir}/theora_dump_video
-%{__install} -m 0755 examples/.libs/encoder_example \
+%{__install} -Dp -m0755 examples/.libs/encoder_example \
     %{buildroot}%{_bindir}/theora_encode
-%{__install} -m 0755 examples/.libs/player_example \
+%{__install} -Dp -m0755 examples/.libs/player_example \
     %{buildroot}%{_bindir}/theora_player
 
 

Modified: trunk/rpms/libxclass/libxclass.spec
===================================================================
--- trunk/rpms/libxclass/libxclass.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/libxclass/libxclass.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -58,16 +58,16 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -Dp -m0644 lib/libxclass/libxclass.a %{buildroot}/%{_libdir}/libxclass.a
-%{__install} -Dp -m0755 config/xc-config %{buildroot}/%{_bindir}/xc-config
-%{__install} -Dp -m0644 doc/xclassrc %{buildroot}/%{_sysconfdir}/xclass/xclassrc
+%{__install} -Dp -m0644 lib/libxclass/libxclass.a %{buildroot}%{_libdir}/libxclass.a
+%{__install} -Dp -m0755 config/xc-config %{buildroot}%{_bindir}/xc-config
+%{__install} -Dp -m0644 doc/xclassrc %{buildroot}%{_sysconfdir}/xclass/xclassrc
 
-%{__install} -d -m0755 %{buildroot}/%{_includedir}/xclass
-%{__install} -m0644 include/xclass/*.h %{buildroot}/%{_includedir}/xclass/
+%{__install} -d -m0755 %{buildroot}%{_includedir}/xclass
+%{__install} -p -m0644 include/xclass/*.h %{buildroot}%{_includedir}/xclass/
 
-%{__install} -d -m0755 %{buildroot}/%{_datadir}/xclass/icons
-%{__install} -m0644 icons/*.xpm %{buildroot}/%{_datadir}/xclass/icons
-%{__install} -m0644 lib/libxclass/icons/*.xpm %{buildroot}/%{_datadir}/xclass/icons
+%{__install} -d -m0755 %{buildroot}%{_datadir}/xclass/icons
+%{__install} -p -m0644 icons/*.xpm %{buildroot}%{_datadir}/xclass/icons
+%{__install} -p -m0644 lib/libxclass/icons/*.xpm %{buildroot}%{_datadir}/xclass/icons
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/lighttpd/lighttpd.spec
===================================================================
--- trunk/rpms/lighttpd/lighttpd.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/lighttpd/lighttpd.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -100,7 +100,7 @@
 
 # Install our own default web page and images
 %{__mkdir_p} %{buildroot}%{webroot}
-%{__install} -m 0644 %{SOURCE10} %{SOURCE11} %{SOURCE12} \
+%{__install} -p -m0644 %{SOURCE10} %{SOURCE11} %{SOURCE12} \
     %{buildroot}%{webroot}/
 
 # Install empty log directory to include

Modified: trunk/rpms/lirc/lirc.spec
===================================================================
--- trunk/rpms/lirc/lirc.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/lirc/lirc.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -66,8 +66,8 @@
 %install
 %{__rm} -rf %{buildroot}
 %{__make} install DESTDIR=%{buildroot}
-%{__install} -m 755 -D %{SOURCE1} %{buildroot}%{_sysconfdir}/rc.d/init.d/lircd
-%{__install} -m 644 -D %{SOURCE2} %{buildroot}%{_sysconfdir}/logrotate.d/lircd
+%{__install} -Dp -m0755 %{SOURCE1} %{buildroot}%{_sysconfdir}/rc.d/init.d/lircd
+%{__install} -Dp -m0644 %{SOURCE2} %{buildroot}%{_sysconfdir}/logrotate.d/lircd
 %{__perl} -pi -e 's|\@SBINDIR\@|%{_sbindir}|g' \
     %{buildroot}%{_sysconfdir}/rc.d/init.d/lircd
 %{__rm} -rf doc/{Makefile*,man2html*,.deps,.libs}

Modified: trunk/rpms/logwatch/logwatch.spec
===================================================================
--- trunk/rpms/logwatch/logwatch.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/logwatch/logwatch.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -43,15 +43,15 @@
 %{__install} -Dp -m0755 scripts/logwatch.pl %{buildroot}%{_sysconfdir}/log.d/scripts/logwatch.pl
 
 %{__install} -d -m0755 %{buildroot}%{_sysconfdir}/log.d/scripts/services/
-%{__install} -m0755 scripts/services/* %{buildroot}%{_sysconfdir}/log.d/scripts/services/
+%{__install} -p -m0755 scripts/services/* %{buildroot}%{_sysconfdir}/log.d/scripts/services/
 
 %{__install} -d -m0755 %{buildroot}%{_sysconfdir}/log.d/scripts/shared/
-%{__install} -m0755 scripts/shared/* %{buildroot}%{_sysconfdir}/log.d/scripts/shared/
+%{__install} -p -m0755 scripts/shared/* %{buildroot}%{_sysconfdir}/log.d/scripts/shared/
 
 for file in scripts/logfiles/* ; do
 	if [ $(ls $file | wc -l) -ne 0 ] ; then
 		%{__install} -d -m0755 %{buildroot}%{_sysconfdir}/log.d/$file
-		%{__install} -m0755 $file/* %{buildroot}%{_sysconfdir}/log.d/$file
+		%{__install} -p -m0755 $file/* %{buildroot}%{_sysconfdir}/log.d/$file
 	fi
 done
 
@@ -60,10 +60,10 @@
 %{__install} -Dp -m0644 lib/Logwatch.pm %{buildroot}%{_sysconfdir}/log.d/lib/Logwatch.pm
 
 %{__install} -d -m0755 %{buildroot}%{_sysconfdir}/log.d/conf/logfiles/
-%{__install} -m0644 conf/logfiles/* %{buildroot}%{_sysconfdir}/log.d/conf/logfiles/
+%{__install} -p -m0644 conf/logfiles/* %{buildroot}%{_sysconfdir}/log.d/conf/logfiles/
 
 %{__install} -d -m0755 %{buildroot}%{_sysconfdir}/log.d/conf/services/
-%{__install} -m0644 conf/services/* %{buildroot}%{_sysconfdir}/log.d/conf/services/
+%{__install} -p -m0644 conf/services/* %{buildroot}%{_sysconfdir}/log.d/conf/services/
 
 %{__ln_s} -f scripts/logwatch.pl %{buildroot}%{_sysconfdir}/log.d/logwatch
 %{__ln_s} -f conf/logwatch.conf %{buildroot}%{_sysconfdir}/log.d/

Modified: trunk/rpms/lplayer/lplayer.spec
===================================================================
--- trunk/rpms/lplayer/lplayer.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/lplayer/lplayer.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -37,7 +37,7 @@
 exec %{_bindir}/lplayer-bin
 EOF
 
-%{__cat} &lt;&lt;EOF &gt;%{name}.desktop
+%{__cat} &lt;&lt;EOF &gt;lplayer.desktop
 [Desktop Entry]
 Name=longplayer
 Comment=%{summary}
@@ -59,19 +59,17 @@
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
-%{__install} -d -m0755 %{buildroot}%{_datadir}/pixmaps/
-%{__install} -m0644 src/lplayer/images/lplayerlogo.png %{buildroot}%{_datadir}/pixmaps/
-%{__install} -m0755 lplayer.sh %{buildroot}%{_bindir}/lplayer
+%{__install} -Dp -m0644 src/lplayer/images/lplayerlogo.png %{buildroot}%{_datadir}/pixmaps/lplayerlogo.png
+%{__install} -Dp -m0755 lplayer.sh %{buildroot}%{_bindir}/lplayer
 
 %if %{dfi}
-	%{__install} -d -m0755 %{buildroot}%{_datadir}/gnome/apps/Multimedia/
-	%{__install} -m0644 %{name}.desktop %{buildroot}%{_datadir}/gnome/apps/Multimedia/
+	%{__install} -Dp -m0644 lplayer.desktop %{buildroot}%{_datadir}/gnome/apps/Multimedia/lplayer.desktop
 %else
 	%{__install} -d -m0755 %{buildroot}%{_datadir}/applications/
 	desktop-file-install --vendor net                  \
 		--add-category X-Red-Hat-Base              \
 		--dir %{buildroot}%{_datadir}/applications \
-		%{name}.desktop
+		lplayer.desktop
 %endif
 
 %clean

Modified: trunk/rpms/lua/lua.spec
===================================================================
--- trunk/rpms/lua/lua.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/lua/lua.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -43,8 +43,8 @@
 		s|^(INSTALL_INC=).*$|$1 \$(includedir)|;
 		s|^(INSTALL_LIB=).*$|$1 \$(libdir)|;
 		s|^(INSTALL_MAN=).*$|$1 \$(mandir)/man1|;
-		s|^(INSTALL_EXEC=).*$|$1 %{__install} -m0755|;
-		s|^(INSTALL_DATA=).*$|$1 %{__install} -m0644|;
+		s|^(INSTALL_EXEC=).*$|$1 %{__install} -p -m0755|;
+		s|^(INSTALL_DATA=).*$|$1 %{__install} -p -m0644|;
 	' config
 
 %build
@@ -54,7 +54,7 @@
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
-%{__install} -m0755 lib/*.so* %{buildroot}%{_libdir}
+%{__install} -p -m0755 lib/*.so* %{buildroot}%{_libdir}
 
 %post
 /sbin/ldconfig 2&gt;/dev/null

Modified: trunk/rpms/lve/lve.spec
===================================================================
--- trunk/rpms/lve/lve.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/lve/lve.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -44,17 +44,18 @@
 
 %install
 %{__rm} -rf %{buildroot}
+%{__install} -Dp -m0755 src/lve %{buildroot}%{_bindir}/lve
+%{__install} -Dp -m0755 src/lvedemux %{buildroot}%{_bindir}/lvedemux
+%{__install} -Dp -m0755 src/lvedump %{buildroot}%{_bindir}/lvedump
+%{__install} -Dp -m0755 src/lvemkdvd %{buildroot}%{_bindir}/lvemkdvd
+%{__install} -Dp -m0755 src/lvemkidx %{buildroot}%{_bindir}/lvemkidx
+%{__install} -Dp -m0755 src/lvemux %{buildroot}%{_bindir}/lvemux
+%{__install} -Dp -m0755 src/lverequant %{buildroot}%{_bindir}/lverequant
+%{__install} -Dp -m0755 qdir/qdir %{buildroot}%{_bindir}/qdir
+%{__install} -Dp -m0755 bin/lvefilter %{buildroot}%{_bindir}/lvefilter
+
 %{__install} -d -m755 %{buildroot}%{_datadir}/lve/lib
-%{__install} -m755 lib/* %{buildroot}%{_datadir}/lve/lib/
-%{__install} -m755 -D src/lve %{buildroot}%{_bindir}/lve
-%{__install} -m755 -D src/lvedemux %{buildroot}%{_bindir}/lvedemux
-%{__install} -m755 -D src/lvedump %{buildroot}%{_bindir}/lvedump
-%{__install} -m755 -D src/lvemkdvd %{buildroot}%{_bindir}/lvemkdvd
-%{__install} -m755 -D src/lvemkidx %{buildroot}%{_bindir}/lvemkidx
-%{__install} -m755 -D src/lvemux %{buildroot}%{_bindir}/lvemux
-%{__install} -m755 -D src/lverequant %{buildroot}%{_bindir}/lverequant
-%{__install} -m755 -D qdir/qdir %{buildroot}%{_bindir}/qdir
-%{__install} -m755 -D bin/lvefilter %{buildroot}%{_bindir}/lvefilter
+%{__install} -p -m0755 lib/* %{buildroot}%{_datadir}/lve/lib/
 
 %post
 /sbin/ldconfig 2&gt;/dev/null

Modified: trunk/rpms/lyx/lyx.spec
===================================================================
--- trunk/rpms/lyx/lyx.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/lyx/lyx.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -80,7 +80,7 @@
 ### Miscellaneous files
 %{__install} -Dp -m0644 lib/images/lyx.xpm %{buildroot}%{_datadir}/lyx/images/lyx.xpm
 %{__install} -Dp -m0644 %{SOURCE1} %{buildroot}%{_datadir}/pixmaps/lyx.png
-%{__install} -m0644 lib/reLyX/README README.reLyX
+%{__install} -p -m0644 lib/reLyX/README README.reLyX
 
 ### Install desktop file and icon
 %if %{?_without_freedesktop:1}0

Modified: trunk/rpms/mach/mach.spec
===================================================================
--- trunk/rpms/mach/mach.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/mach/mach.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -47,14 +47,14 @@
 %{__rm} -rf %{buildroot}
 %makeinstall
 
-%{__install} -d -m 2775 %{buildroot}%{_localstatedir}/lib/mach
-%{__install} -d -m 2775 %{buildroot}%{_localstatedir}/lib/mach/states
-%{__install} -d -m 2775 %{buildroot}%{_localstatedir}/lib/mach/roots
-%{__install} -d -m 775 %{buildroot}%{_localstatedir}/cache/mach/packages
-%{__install} -d -m 775 %{buildroot}%{_localstatedir}/cache/mach/archives
+%{__install} -d -m2775 %{buildroot}%{_localstatedir}/lib/mach
+%{__install} -d -m2775 %{buildroot}%{_localstatedir}/lib/mach/states
+%{__install} -d -m2775 %{buildroot}%{_localstatedir}/lib/mach/roots
+%{__install} -d -m775 %{buildroot}%{_localstatedir}/cache/mach/packages
+%{__install} -d -m775 %{buildroot}%{_localstatedir}/cache/mach/archives
 
 # Additionnal config files
-%{__install} -m 0644 %{SOURCE1} %{SOURCE2} %{SOURCE3} \
+%{__install} -p -m0644 %{SOURCE1} %{SOURCE2} %{SOURCE3} \
     %{buildroot}%{_sysconfdir}/mach/dist.d/
 
 

Modified: trunk/rpms/malsync/malsync.spec
===================================================================
--- trunk/rpms/malsync/malsync.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/malsync/malsync.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,5 +1,4 @@
 # $Id$
-
 # Authority: dag
 
 %define sourcedir stable/%{version}/distribution/tar/generic/source
@@ -30,8 +29,7 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_bindir}
-%{__install} -m0755 malsync %{buildroot}%{_bindir}
+%{__install} -Dp -m0755 malsync %{buildroot}%{_bindir}/malsync
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -39,7 +37,7 @@
 %files
 %defattr(-, root, root, 0755)
 %doc Doc/README* mal/MPL-1_0.txt mal/client/unix/{HISTORY,TODO} README
-%{_bindir}/*
+%{_bindir}/malsync
 
 %changelog
 * Thu Feb 27 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.0.6-0

Modified: trunk/rpms/masqmail/masqmail.spec
===================================================================
--- trunk/rpms/masqmail/masqmail.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/masqmail/masqmail.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -152,8 +152,8 @@
 %{__install} -Dp -m0755 masqmail.sysv %{buildroot}%{_initrddir}/masqmail
 
 %{__install} -d -m0755 %{buildroot}%{_mandir}/man{5,8}/
-%{__install} -m0644 docs/man/*.5 %{buildroot}%{_mandir}/man5/
-%{__install} -m0644 docs/man/*.8 %{buildroot}%{_mandir}/man8/
+%{__install} -p  -m0644 docs/man/*.5 %{buildroot}%{_mandir}/man5/
+%{__install} -p -m0644 docs/man/*.8 %{buildroot}%{_mandir}/man8/
 
 %{__install} -Dp -m0644 masqmail.sysconfig %{buildroot}%{_sysconfdir}/sysconfig/masqmail
 %{__install} -Dp -m0644 examples/masqmail.conf %{buildroot}%{_sysconfdir}/masqmail/masqmail.conf

Modified: trunk/rpms/meld/meld.spec
===================================================================
--- trunk/rpms/meld/meld.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/meld/meld.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -61,10 +61,10 @@
 %{__install} -Dp -m0755 meld %{buildroot}%{_datadir}/meld/meld
 
 %{__install} -d -m0755 %{buildroot}%{_datadir}/meld/glade2/pixmaps/
-%{__install} -m0644 *.py %{buildroot}%{_datadir}/meld/
-%{__install} -m0644 glade2/*.glade* %{buildroot}%{_datadir}/meld/glade2/
-%{__install} -m0644 glade2/pixmaps/* %{buildroot}%{_datadir}/meld/glade2/pixmaps/
-%{__install} -m0644 po/*.po %{buildroot}%{_datadir}/meld/po/
+%{__install} -p -m0644 *.py %{buildroot}%{_datadir}/meld/
+%{__install} -p -m0644 glade2/*.glade* %{buildroot}%{_datadir}/meld/glade2/
+%{__install} -p -m0644 glade2/pixmaps/* %{buildroot}%{_datadir}/meld/glade2/pixmaps/
+%{__install} -p -m0644 po/*.po %{buildroot}%{_datadir}/meld/po/
 
 %{__install} -d -m0755 %{buildroot}%{_datadir}/applications/
 desktop-file-install --vendor %{desktop_vendor}    \

Modified: trunk/rpms/memget/memget.spec
===================================================================
--- trunk/rpms/memget/memget.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/memget/memget.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,5 +1,4 @@
 # $Id$
-
 # Authority: dag
 # Upstream: &lt;info$rndsoftware,com&gt;
 
@@ -26,15 +25,16 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_sbindir}
-%{__install} -m0755 * %{buildroot}%{_sbindir}
+%{__install} -p -m0755 memget %{buildroot}%{_sbindir}/memget
+%{__install} -p -m0755 mempeek %{buildroot}%{_sbindir}/mempeek
 
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
-%{_sbindir}/*
+%{_sbindir}/memget
+%{_sbindir}/mempeek
 
 %changelog
 * Wed Mar 31 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.1.0-2

Modified: trunk/rpms/metacam/metacam.spec
===================================================================
--- trunk/rpms/metacam/metacam.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/metacam/metacam.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,7 +1,5 @@
 # $Id$
-
 # Authority: dag
-
 # Upstream: Daniel Stephens &lt;daniel$cheeseplant,org&gt;
 
 Name: metacam
@@ -12,9 +10,10 @@
 License: GPL
 URL: <A HREF="http://www.cheeseplant.org/~daniel/pages/metacam.html">http://www.cheeseplant.org/~daniel/pages/metacam.html</A>
 
-Source: <A HREF="ftp://ftp.cheeseplant.org/pub/%{name">ftp://ftp.cheeseplant.org/pub/%{name</A>}-%{version}.tar.gz
+Source: <A HREF="ftp://ftp.cheeseplant.org/pub/metacam-%{version">ftp://ftp.cheeseplant.org/pub/metacam-%{version</A>}.tar.gz
 Source1: %{name}.1
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
 BuildRequires: gcc-c++
 
 %description 
@@ -30,10 +29,8 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-			%{buildroot}%{_mandir}/man1/
-%{__install} -m0755 %{name} %{buildroot}%{_bindir}
-%{__install} -m0644 %{SOURCE1} %{buildroot}%{_mandir}/man1/
+%{__install} -Dp -m0755 metacam %{buildroot}%{_bindir}/metacam
+%{__install} -Dp -m0644 %{SOURCE1} %{buildroot}%{_mandir}/man1/metacam.1
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -41,8 +38,8 @@
 %files
 %defattr(-, root, root, 0755)
 %doc README* THANKS
-%doc %{_mandir}/man1/*
-%{_bindir}/*
+%doc %{_mandir}/man1/metacam.1*
+%{_bindir}/metacam
 
 %changelog
 * Tue Jan 04 2005 Bert de Bruijn &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bert at debruijn.be</A>&gt; 1.2-0

Modified: trunk/rpms/mod_gzip/mod_gzip.spec
===================================================================
--- trunk/rpms/mod_gzip/mod_gzip.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/mod_gzip/mod_gzip.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,8 +1,6 @@
 # $Id$
-
 # Authority: dag
 
-# Distcc: 0
 # SourceDists: rh7
 
 %define aversion %(rpm -q apache-devel --qf '%{RPMTAG_VERSION}' | tail -1)
@@ -16,10 +14,9 @@
 Group: System Environment/Daemons
 URL: <A HREF="http://www.schroepl.net/projekte/mod_gzip/">http://www.schroepl.net/projekte/mod_gzip/</A>
 
-Source: <A HREF="http://dl.sf.net/mod-gzip/%{name">http://dl.sf.net/mod-gzip/%{name</A>}-%{real_version}.tgz
+Source: <A HREF="http://dl.sf.net/mod-gzip/mod_gzip-%{real_version">http://dl.sf.net/mod-gzip/mod_gzip-%{real_version</A>}.tgz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-
 BuildRequires: zlib-devel, apache-devel
 Requires: apache = %{aversion}, mm &gt;= 1.0
 
@@ -84,10 +81,8 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_libdir}/apache/ \
-			%{buildroot}%{_sysconfdir}/httpd/conf.d/
-%{__install} -m0755 mod_gzip.so %{buildroot}%{_libdir}/apache/
-%{__install} -m0644 mod_gzip.conf %{buildroot}%{_sysconfdir}/httpd/conf.d/
+%{__install} -Dp -m0755 mod_gzip.so %{buildroot}%{_libdir}/apache/mod_gzip.so
+%{__install} -Dp -m0644 mod_gzip.conf %{buildroot}%{_sysconfdir}/httpd/conf.d/mod_gzip.conf
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/mon/mon.spec
===================================================================
--- trunk/rpms/mon/mon.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/mon/mon.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,5 +1,4 @@
 # $Id$
-
 # Authority: dag
 # Upstream: Jim Trocki &lt;trockij$linux,kernel,org&gt;
 
@@ -200,22 +199,22 @@
 %makeinstall -C mon.d \
 	MONPATH=&quot;%{buildroot}%{_libdir}/mon&quot;
 
-#%{__install} -m0755 mon.d/*.monitor %{buildroot}%{_libdir}/mon/mon.d/
-#%{__install} -m0555 mon.d/dialin.monitor.wrap %{buildroot}%{_libdir}/mon/mon.d/
+#%{__install} -p -m0755 mon.d/*.monitor %{buildroot}%{_libdir}/mon/mon.d/
+#%{__install} -p -m0555 mon.d/dialin.monitor.wrap %{buildroot}%{_libdir}/mon/mon.d/
 
-%{__install} -m0755 mon clients/moncmd clients/monshow clients/skymon/skymon %{buildroot}%{_bindir}
-%{__install} -m0644 doc/*.1 %{buildroot}%{_mandir}/man1/
-%{__install} -m0644 doc/*.8 %{buildroot}%{_mandir}/man8/
+%{__install} -p -m0755 mon clients/moncmd clients/monshow clients/skymon/skymon %{buildroot}%{_bindir}
+%{__install} -p -m0644 doc/*.1 %{buildroot}%{_mandir}/man1/
+%{__install} -p -m0644 doc/*.8 %{buildroot}%{_mandir}/man8/
 
-%{__install} -m0755 alert.d/* %{buildroot}%{_libdir}/mon/alert.d/
-%{__install} -m0755 alerts/*/*.alert %{buildroot}%{_libdir}/mon/alert.d/
+%{__install} -p -m0755 alert.d/* %{buildroot}%{_libdir}/mon/alert.d/
+%{__install} -p -m0755 alerts/*/*.alert %{buildroot}%{_libdir}/mon/alert.d/
 
-%{__install} -m0644 etc/auth.cf %{buildroot}%{_sysconfdir}/mon/auth.cf
-%{__install} -m0644 mon.cf %{buildroot}%{_sysconfdir}/mon/
-%{__install} -m0600 userfile %{buildroot}%{_sysconfdir}/mon/userfile
-%{__install} -m0755 mon.sysv %{buildroot}%{_initrddir}/mon
+%{__install} -Dp -m0644 etc/auth.cf %{buildroot}%{_sysconfdir}/mon/auth.cf
+%{__install} -Dp -m0644 mon.cf %{buildroot}%{_sysconfdir}/mon/mon.cf
+%{__install} -Dp -m0600 userfile %{buildroot}%{_sysconfdir}/mon/userfile
+%{__install} -Dp -m0755 mon.sysv %{buildroot}%{_initrddir}/mon
 
-%{__install} -m0755 mon.cgi-%{moncgi_version}/mon.cgi %{buildroot}%{_localstatedir}/www/cgi-bin/mon.cgi
+%{__install} -Dp -m0755 mon.cgi-%{moncgi_version}/mon.cgi %{buildroot}%{_localstatedir}/www/cgi-bin/mon.cgi
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/mozilla/mozilla-1.3.x.spec
===================================================================
--- trunk/rpms/mozilla/mozilla-1.3.x.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/mozilla/mozilla-1.3.x.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -184,7 +184,7 @@
 #%patch22 -p1 -b .x86_64
 
 ### set up our default bookmarks
-%{__install} -m0644 %{SOURCE19} profile/defaults/bookmarks.html
+%{__install} -p -m0644 %{SOURCE19} profile/defaults/bookmarks.html
 
 %build
 export BUILD_OFFICIAL=&quot;1&quot;
@@ -343,18 +343,18 @@
 #   tar xvf -))
 
 ### copy our devel tools
-%{__install} -m0755 dist/bin/xpcshell \
+%{__install} -p -m0755 dist/bin/xpcshell \
   dist/bin/xpidl \
   dist/bin/xpt_dump \
   dist/bin/xpt_link \
   %{buildroot}%{_libdir}/%{name}-%{real_version}/
 
 ### set up our desktop files
-%{__install} -m0644 %{SOURCE2} %{SOURCE13} %{SOURCE15} %{buildroot}%{_datadir}/pixmaps/
-%{__install} -m0644 %{SOURCE4} %{SOURCE12} %{SOURCE14} %{buildroot}%{_datadir}/applications/
+%{__install} -p -m0644 %{SOURCE2} %{SOURCE13} %{SOURCE15} %{buildroot}%{_datadir}/pixmaps/
+%{__install} -p -m0644 %{SOURCE4} %{SOURCE12} %{SOURCE14} %{buildroot}%{_datadir}/applications/
 
 ### our icons are better!
-%{__install} -m0644 %{SOURCE9} %{SOURCE10} %{buildroot}%{_libdir}/%{name}-%{real_version}/icons/
+%{__install} -p -m0644 %{SOURCE9} %{SOURCE10} %{buildroot}%{_libdir}/%{name}-%{real_version}/icons/
 
 ### install our mozilla.sh file
 %{__cat} %{SOURCE1} | sed -e 's|MOZILLA_VERSION|%{real_version}|g' \

Modified: trunk/rpms/mozilla/mozilla-1.4.x.spec
===================================================================
--- trunk/rpms/mozilla/mozilla-1.4.x.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/mozilla/mozilla-1.4.x.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -224,7 +224,7 @@
 %patch31 -p1
 
 ### set up our default bookmarks
-%{__install} -m0644 %{SOURCE19} profile/defaults/bookmarks.html
+%{__install} -p -m0644 %{SOURCE19} profile/defaults/bookmarks.html
 
 %build
 export BUILD_OFFICIAL=&quot;1&quot;
@@ -383,18 +383,18 @@
 #   tar xvf -))
 
 ### copy our devel tools
-%{__install} -m0755 dist/bin/xpcshell \
+%{__install} -p -m0755 dist/bin/xpcshell \
   dist/bin/xpidl \
   dist/bin/xpt_dump \
   dist/bin/xpt_link \
   %{buildroot}%{_libdir}/%{name}-%{real_version}/
 
 ### set up our desktop files
-%{__install} -m0644 %{SOURCE2} %{SOURCE13} %{SOURCE15} %{buildroot}%{_datadir}/pixmaps/
-%{__install} -m0644 %{SOURCE4} %{SOURCE12} %{SOURCE14} %{buildroot}%{_datadir}/applications/
+%{__install} -p -m0644 %{SOURCE2} %{SOURCE13} %{SOURCE15} %{buildroot}%{_datadir}/pixmaps/
+%{__install} -p -m0644 %{SOURCE4} %{SOURCE12} %{SOURCE14} %{buildroot}%{_datadir}/applications/
 
 ### our icons are better!
-%{__install} -m0644 %{SOURCE9} %{SOURCE10} %{buildroot}%{_libdir}/%{name}-%{real_version}/icons/
+%{__install} -p -m0644 %{SOURCE9} %{SOURCE10} %{buildroot}%{_libdir}/%{name}-%{real_version}/icons/
 
 ### install our mozilla.sh file
 %{__cat} %{SOURCE1} | sed -e 's|MOZILLA_VERSION|%{real_version}|g' \

Modified: trunk/rpms/mozilla/mozilla.spec
===================================================================
--- trunk/rpms/mozilla/mozilla.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/mozilla/mozilla.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -220,7 +220,7 @@
 %patch33 -p1
 
 ### set up our default bookmarks
-%{__install} -m0644 %{SOURCE19} profile/defaults/bookmarks.html
+%{__install} -p -m0644 %{SOURCE19} profile/defaults/bookmarks.html
 
 %build
 # Rebuild configure to ensure that any patches to configure.in get applied
@@ -397,15 +397,15 @@
 #   tar xvf -))
 
 ### copy our devel tools
-%{__install} -m0755 dist/bin/xpcshell dist/bin/xpidl dist/bin/xpt_dump dist/bin/xpt_link \
+%{__install} -p -m0755 dist/bin/xpcshell dist/bin/xpidl dist/bin/xpt_dump dist/bin/xpt_link \
   %{buildroot}%{_libdir}/%{name}-%{version}/
 
 ### set up our desktop files
-%{__install} -m0644 %{SOURCE2} %{SOURCE13} %{SOURCE15} %{buildroot}%{_datadir}/pixmaps/
-%{__install} -m0644 %{SOURCE4} %{SOURCE12} %{SOURCE14} %{buildroot}%{_datadir}/applications/
+%{__install} -p -m0644 %{SOURCE2} %{SOURCE13} %{SOURCE15} %{buildroot}%{_datadir}/pixmaps/
+%{__install} -p -m0644 %{SOURCE4} %{SOURCE12} %{SOURCE14} %{buildroot}%{_datadir}/applications/
 
 ### our icons are better!
-%{__install} -m0644 %{SOURCE9} %{SOURCE10} %{buildroot}%{_libdir}/%{name}-%{version}/icons/
+%{__install} -p -m0644 %{SOURCE9} %{SOURCE10} %{buildroot}%{_libdir}/%{name}-%{version}/icons/
 
 ### install our mozilla.sh file
 %{__cat} %{SOURCE1} | sed -e 's|MOZILLA_VERSION|%{version}|g' \

Modified: trunk/rpms/mysqlcc/mysqlcc.spec
===================================================================
--- trunk/rpms/mysqlcc/mysqlcc.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/mysqlcc/mysqlcc.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,5 +1,4 @@
 # $Id$
-
 # Authority: dag
 
 %define dfi %(which desktop-file-install &amp;&gt;/dev/null; echo $?)
@@ -50,18 +49,15 @@
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-			%{buildroot}%{_datadir}/mysqlcc/translations/ \
-			%{buildroot}%{_datadir}/applications/ \
-			%{buildroot}%{_datadir}/pixmaps/
-%{__install} -m0755 mysqlcc %{buildroot}%{_bindir}
-%{__install} -m0644 syntax.txt *.wav %{buildroot}%{_datadir}/mysqlcc/
-%{__install} -m0644 translations/*.{qm,ts} %{buildroot}%{_datadir}/mysqlcc/translations/
-%{__install} -m0644 xpm/applicationIcon.xpm %{buildroot}%{_datadir}/pixmaps/mysqlcc.xpm
+%{__install} -Dp -m0755 mysqlcc %{buildroot}%{_bindir}/mysqlcc
+%{__install} -Dp -m0644 xpm/applicationIcon.xpm %{buildroot}%{_datadir}/pixmaps/mysqlcc.xpm
 
+%{__install} -d -m0755 %{buildroot}%{_datadir}/mysqlcc/translations/
+%{__install} -p -m0644 syntax.txt *.wav %{buildroot}%{_datadir}/mysqlcc/
+%{__install} -p -m0644 translations/*.{qm,ts} %{buildroot}%{_datadir}/mysqlcc/translations/
+
 %if %{dfi}
-	%{__install} -d -m0755 %{buildroot}%{_datadir}/gnome/apps/Development/
-	%{__install} -m0644 %{name}.desktop %{buildroot}%{_datadir}/gnome/apps/Development/
+	%{__install} -Dp -m0644 mysqlcc.desktop %{buildroot}%{_datadir}/gnome/apps/Development/mysqlcc.desktop
 %else
         %{__install} -d -m0755 %{buildroot}%{_datadir}/applications/
         desktop-file-install --vendor net                 \

Modified: trunk/rpms/nagios/nagios-1.1.spec
===================================================================
--- trunk/rpms/nagios/nagios-1.1.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/nagios/nagios-1.1.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -98,16 +98,16 @@
 %{__make} install DESTDIR=&quot;%{buildroot}&quot; INSTALL_OPTS=&quot;&quot; COMMAND_OPTS=&quot;&quot;
 %{__make} install-daemoninit DESTDIR=&quot;%{buildroot}&quot; INSTALL_OPTS=&quot;&quot; COMMAND_OPTS=&quot;&quot; INIT_OPTS=&quot;&quot;
 
-%{__install} -m0664 sample-config/{cgi,nagios}.cfg %{buildroot}%{_sysconfdir}/nagios/
-%{__install} -m0640 sample-config/resource.cfg %{buildroot}%{_sysconfdir}/nagios/private/
-%{__install} -m0664 sample-config/template-object/*.cfg %{buildroot}%{_sysconfdir}/nagios/
+%{__install} -p -m0664 sample-config/{cgi,nagios}.cfg %{buildroot}%{_sysconfdir}/nagios/
+%{__install} -p -m0640 sample-config/resource.cfg %{buildroot}%{_sysconfdir}/nagios/private/
+%{__install} -p -m0664 sample-config/template-object/*.cfg %{buildroot}%{_sysconfdir}/nagios/
 #%{__ln_s} -f private/resource.cfg %{buildroot}%{_sysconfdir}/nagios/resource.cfg
 
-%{__install} -m0644 common/locations.h %{buildroot}%{_includedir}/nagios/
-#%{__install} -m0644 common/common.h common/config.h common/locations.h ./cgi/cgiutils.h cgi/popen.h %{buildroot}%{_includedir}/nagios/
+%{__install} -p -m0644 common/locations.h %{buildroot}%{_includedir}/nagios/
+#%{__install} -p -m0644 common/common.h common/config.h common/locations.h ./cgi/cgiutils.h cgi/popen.h %{buildroot}%{_includedir}/nagios/
 
 ### Add default .htpasswd file in /etc/nagios/ (in nagios.conf)
-%{__install} -m0644 contrib/htaccess.sample %{buildroot}%{_sysconfdir}/httpd/conf.d/nagios.conf
+%{__install} -p -m0644 contrib/htaccess.sample %{buildroot}%{_sysconfdir}/httpd/conf.d/nagios.conf
 
 %makeinstall -C contrib INSTALL=&quot;%{__install}&quot; INSTALL_OPTS=&quot;&quot; CGIDIR=&quot;%{buildroot}%{_libdir}/nagios/cgi&quot;
 %{__mv} -f %{buildroot}%{_libdir}/nagios/cgi/convertcfg %{buildroot}%{_libdir}/nagios/

Modified: trunk/rpms/nagios/nagios-1.2.spec
===================================================================
--- trunk/rpms/nagios/nagios-1.2.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/nagios/nagios-1.2.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -94,17 +94,17 @@
 %{__make} install DESTDIR=&quot;%{buildroot}&quot; INSTALL_OPTS=&quot;&quot; COMMAND_OPTS=&quot;&quot;
 %{__make} install-daemoninit DESTDIR=&quot;%{buildroot}&quot; INSTALL_OPTS=&quot;&quot; COMMAND_OPTS=&quot;&quot; INIT_OPTS=&quot;&quot;
 
-%{__install} -m0664 sample-config/{cgi,nagios}.cfg %{buildroot}%{_sysconfdir}/nagios/
-%{__install} -m0640 sample-config/resource.cfg %{buildroot}%{_sysconfdir}/nagios/private/
-%{__install} -m0664 sample-config/template-object/*.cfg %{buildroot}%{_sysconfdir}/nagios/
+%{__install} -p -m0664 sample-config/{cgi,nagios}.cfg %{buildroot}%{_sysconfdir}/nagios/
+%{__install} -p -m0640 sample-config/resource.cfg %{buildroot}%{_sysconfdir}/nagios/private/
+%{__install} -p -m0664 sample-config/template-object/*.cfg %{buildroot}%{_sysconfdir}/nagios/
 #%{__ln_s} -f private/resource.cfg %{buildroot}%{_sysconfdir}/nagios/resource.cfg
 
-%{__install} -m0644 common/locations.h %{buildroot}%{_includedir}/nagios/
-#%{__install} -m0644 common/common.h common/config.h common/locations.h ./cgi/cgiutils.h cgi/popen.h %{buildroot}%{_includedir}/nagios/
+%{__install} -p -m0644 common/locations.h %{buildroot}%{_includedir}/nagios/
+#%{__install} -p -m0644 common/common.h common/config.h common/locations.h ./cgi/cgiutils.h cgi/popen.h %{buildroot}%{_includedir}/nagios/
 
 ### FIXME: Add default .htpasswd file in /etc/nagios/ (in nagios.conf) (Please fix upstream)
 %{__perl} -pi.orig -e 's|/lib\b|/%{_lib}|' contrib/htaccess.sample
-%{__install} -m0644 contrib/htaccess.sample %{buildroot}%{_sysconfdir}/httpd/conf.d/nagios.conf
+%{__install} -Dp -m0644 contrib/htaccess.sample %{buildroot}%{_sysconfdir}/httpd/conf.d/nagios.conf
 
 %makeinstall -C contrib INSTALL=&quot;%{__install}&quot; INSTALL_OPTS=&quot;&quot; CGIDIR=&quot;%{buildroot}%{_libdir}/nagios/cgi&quot;
 %{__mv} -f %{buildroot}%{_libdir}/nagios/cgi/convertcfg %{buildroot}%{_libdir}/nagios/

Modified: trunk/rpms/nagios/nagios-2.0.spec
===================================================================
--- trunk/rpms/nagios/nagios-2.0.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/nagios/nagios-2.0.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -97,9 +97,9 @@
 
 ### Install config files
 %{__install} -d -m0755 %{buildroot}%{_sysconfdir}/nagios/private/ \
-%{__install} -m0664 sample-config/{cgi,nagios}.cfg %{buildroot}%{_sysconfdir}/nagios/
-%{__install} -m0640 sample-config/resource.cfg %{buildroot}%{_sysconfdir}/nagios/private/
-%{__install} -m0664 sample-config/template-object/*.cfg %{buildroot}%{_sysconfdir}/nagios/
+%{__install} -p -m0664 sample-config/{cgi,nagios}.cfg %{buildroot}%{_sysconfdir}/nagios/
+%{__install} -p -m0640 sample-config/resource.cfg %{buildroot}%{_sysconfdir}/nagios/private/
+%{__install} -p -m0664 sample-config/template-object/*.cfg %{buildroot}%{_sysconfdir}/nagios/
 #%{__ln_s} -f private/resource.cfg %{buildroot}%{_sysconfdir}/nagios/resource.cfg
 
 #%{__cp} -afpv contrib/eventhandlers/* %{buildroot}%{_libdir}/nagios/plugins/eventhandlers/
@@ -119,12 +119,12 @@
 %{__make} install DESTDIR=&quot;%{buildroot}&quot; INSTALL_OPTS=&quot;&quot; COMMAND_OPTS=&quot;&quot;
 %{__make} install-daemoninit DESTDIR=&quot;%{buildroot}&quot; INSTALL_OPTS=&quot;&quot; COMMAND_OPTS=&quot;&quot; INIT_OPTS=&quot;&quot;
 
-%{__install} -m0644 common/locations.h %{buildroot}%{_includedir}/nagios/
-#%{__install} -m0644 common/common.h common/config.h common/locations.h ./cgi/cgiutils.h cgi/popen.h %{buildroot}%{_includedir}/nagios/
+%{__install} -Dp -m0644 common/locations.h %{buildroot}%{_includedir}/nagios/locations.h
+#%{__install} -p -m0644 common/common.h common/config.h common/locations.h ./cgi/cgiutils.h cgi/popen.h %{buildroot}%{_includedir}/nagios/
 
 ### FIXME: Add default .htpasswd file in /etc/nagios/ (in nagios.conf) (Please fix upstream)
 %{__perl} -pi.orig -e 's|/lib\b|/%{_lib}|' contrib/htaccess.sample
-%{__install} -m0644 contrib/htaccess.sample %{buildroot}%{_sysconfdir}/httpd/conf.d/nagios.conf
+%{__install} -Dp -m0644 contrib/htaccess.sample %{buildroot}%{_sysconfdir}/httpd/conf.d/nagios.conf
 
 %pre
 if ! /usr/bin/id nagios &amp;&gt;/dev/null; then

Modified: trunk/rpms/nagios/nagios.spec
===================================================================
--- trunk/rpms/nagios/nagios.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/nagios/nagios.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -94,10 +94,10 @@
 %{__cp} -afpv contrib/eventhandlers/* %{buildroot}%{_libdir}/nagios/plugins/eventhandlers/
 
 %{__install} -d -m0755 %{buildroot}%{_includedir}/nagios/
-%{__install} -m0644 include/*.h %{buildroot}%{_includedir}/nagios/
+%{__install} -p -m0644 include/*.h %{buildroot}%{_includedir}/nagios/
 
 %{__install} -d -m0755 %{buildroot}%{_sysconfdir}/httpd/conf.d/
-%{__install} -m0644 sample-config/httpd.conf %{buildroot}%{_sysconfdir}/httpd/conf.d/nagios.conf
+%{__install} -Dp -m0644 sample-config/httpd.conf %{buildroot}%{_sysconfdir}/httpd/conf.d/nagios.conf
 
 ### Install logos
 tar -xvz -C %{buildroot}%{_datadir}/nagios/images/logos -f %{SOURCE1}

Modified: trunk/rpms/nagios-nsca/nagios-nsca.spec
===================================================================
--- trunk/rpms/nagios-nsca/nagios-nsca.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/nagios-nsca/nagios-nsca.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -150,18 +150,15 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_sbindir} \
-			%{buildroot}%{_sysconfdir}/nagios/ \
-			%{buildroot}%{_initrddir} \
-			%{buildroot}%{_sysconfdir}/xinetd.d/ \
-			%{buildroot}%{_localstatedir}/spool/nagios/
-%{__install} -m0755 src/nsca %{buildroot}%{_sbindir}
-%{__install} -m0755 src/send_nsca %{buildroot}%{_sbindir}
-%{__install} -m0644 nsca.cfg %{buildroot}%{_sysconfdir}/nagios/
-%{__install} -m0644 send_nsca.cfg %{buildroot}%{_sysconfdir}/nagios/
-%{__install} -m0755 nsca.sysv %{buildroot}%{_initrddir}/nsca
-%{__install} -m0644 nsca.xinetd.dag %{buildroot}%{_sysconfdir}/xinetd.d/nsca
+%{__install} -Dp -m0755 src/nsca %{buildroot}%{_sbindir}/nsca
+%{__install} -Dp -m0755 src/send_nsca %{buildroot}%{_sbindir}/send_nsca
+%{__install} -Dp -m0644 nsca.cfg %{buildroot}%{_sysconfdir}/nagios/nsca.cfg
+%{__install} -Dp -m0644 send_nsca.cfg %{buildroot}%{_sysconfdir}/nagios/send_nsca.cfg
+%{__install} -Dp -m0755 nsca.sysv %{buildroot}%{_initrddir}/nsca
+%{__install} -Dp -m0644 nsca.xinetd.dag %{buildroot}%{_sysconfdir}/xinetd.d/nsca
 
+%{__install} -d -m0755 %{buildroot}%{_localstatedir}/spool/nagios/
+
 %post
 /sbin/chkconfig --add nsca
 
@@ -184,7 +181,8 @@
 %config(noreplace) %{_sysconfdir}/xinetd.d/nsca
 %config %{_initrddir}/nsca
 %dir %{_localstatedir}/spool/nagios/
-%{_sbindir}/*
+%{_sbindir}/nsca
+%{_sbindir}/send_nsca
 
 %changelog
 * Tue Nov 11 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.4-2

Modified: trunk/rpms/ne/ne.spec
===================================================================
--- trunk/rpms/ne/ne.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/ne/ne.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -46,7 +46,7 @@
 %{__install} -Dp -m0644 doc/ne.1 %{buildroot}%{_mandir}/man1/ne.1
 
 %{__install} -d -m0755 %{buildroot}%{_infodir}
-%{__install} -m0644 doc/ne.info* %{buildroot}%{_infodir}
+%{__install} -p -m0644 doc/ne.info* %{buildroot}%{_infodir}
 
 %post
 /sbin/install-info %{_infodir}/%{name}.info.gz %{_infodir}/dir

Modified: trunk/rpms/netmask/netmask.spec
===================================================================
--- trunk/rpms/netmask/netmask.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/netmask/netmask.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -30,10 +30,8 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-			%{buildroot}%{_mandir}/man1/
-%{__install} -m0755 netmask %{buildroot}%{_bindir}
-%{__install} -m0644 netmask.1 %{buildroot}%{_mandir}/man1/
+%{__install} -Dp -m0755 netmask %{buildroot}%{_bindir}/netmask
+%{__install} -Dp -m0644 netmask.1 %{buildroot}%{_mandir}/man1/netmask.1
 
 %post
 /sbin/install-info %{_infodir}/%{name}.info %{_infodir}/dir &amp;&gt;/dev/null || :

Modified: trunk/rpms/neverball/neverball.spec
===================================================================
--- trunk/rpms/neverball/neverball.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/neverball/neverball.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -56,11 +56,11 @@
 %{__mkdir_p} %{buildroot}%{_prefix}/games/neverball
 %{__mkdir_p} %{buildroot}%{_datadir}/pixmaps
 # Install the binaries and the &quot;data&quot; directory
-%{__install} -m 0755 neverball neverputt mapc \
+%{__install} -p -m0755 neverball neverputt mapc \
     %{buildroot}%{_prefix}/games/neverball/
 %{__cp} -ap data %{buildroot}%{_prefix}/games/neverball/data
 # Install the icons for the desktop files
-%{__install} -m 0644 icon/*.png %{buildroot}%{_datadir}/pixmaps/
+%{__install} -p -m0644 icon/*.png %{buildroot}%{_datadir}/pixmaps/
 
 # Install the desktop files
 %{__cat} &gt; neverball.desktop &lt;&lt; EOF

Modified: trunk/rpms/openobex-utils/openobex-utils.spec
===================================================================
--- trunk/rpms/openobex-utils/openobex-utils.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/openobex-utils/openobex-utils.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -38,7 +38,7 @@
 ### Ugly (smart?) hack to have obexserver when bluetooth is compiled in openobex.
 cd src
 ${CC:-%{__cc}} %{optflags} -o obexserver %{SOURCE1} libmisc.a $(openobex-config --libs) &amp;&amp; \
-%{__install} -m0755 obexserver %{buildroot}%{_bindir} || :
+%{__install} -Dp -m0755 obexserver %{buildroot}%{_bindir}/obexserver || :
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/openslp/openslp.spec
===================================================================
--- trunk/rpms/openslp/openslp.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/openslp/openslp.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -195,8 +195,7 @@
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
-%{__install} -d -m0755 %{buildroot}%{_initrddir}
-%{__install} -m0755 slpd.sysv %{buildroot}%{_initrddir}/slpd
+%{__install} -Dp -m0755 slpd.sysv %{buildroot}%{_initrddir}/slpd
 
 %{__rm} -rf %{buildroot}/usr/doc/
 %{__rm} -rf $(find doc/ -name &quot;CVS&quot; -type d)

Modified: trunk/rpms/openvpn/openvpn-1.4.spec
===================================================================
--- trunk/rpms/openvpn/openvpn-1.4.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/openvpn/openvpn-1.4.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -36,15 +36,13 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_mandir}/man8/ \
-			%{buildroot}%{_sbindir} \
-			%{buildroot}%{_initrddir} \
-			%{buildroot}%{_sysconfdir}/openvpn/ \
-			%{buildroot}/dev/net/
-%{__install} -m0755 openvpn.8 %{buildroot}%{_mandir}/man8/
-%{__install} -m0755 openvpn %{buildroot}%{_sbindir}
-%{__install} -m0755 sample-scripts/openvpn.init %{buildroot}%{_initrddir}/openvpn
+%{__install} -Dp -m0755 openvpn.8 %{buildroot}%{_mandir}/man8/openvpn.8
+%{__install} -Dp -m0755 openvpn %{buildroot}%{_sbindir}/openvpn
+%{__install} -Dp -m0755 sample-scripts/openvpn.init %{buildroot}%{_initrddir}/openvpn
 
+%{__install} -d -m0755 %{buildroot}%{_sysconfdir}/openvpn/
+
+%{__install} -d -m0755 %{buildroot}/dev/net/
 %{?rh7:touch %{buildroot}/dev/net/tun}
 %{?rh62:touch %{buildroot}/dev/net/tun}
 

Modified: trunk/rpms/otrs/otrs.spec
===================================================================
--- trunk/rpms/otrs/otrs.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/otrs/otrs.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -87,7 +87,7 @@
 %{__cp} -afpv Kernel/ bin/ scripts/ var/ %{buildroot}/opt/otrs/
 
 ### Copy with permissions.
-%{__install} -m0700 bin/DeleteSessionIDs.pl bin/UnlockTickets.pl bin/otrs.getConfig %{buildroot}/opt/otrs/bin/
+%{__install} -p -m0700 bin/DeleteSessionIDs.pl bin/UnlockTickets.pl bin/otrs.getConfig %{buildroot}/opt/otrs/bin/
 
 ### Copy extra configuration files.
 %{__install} -Dp -m0755 scripts/redhat-rcotrs %{buildroot}%{_initrddir}/otrs

Modified: trunk/rpms/p0f/p0f.spec
===================================================================
--- trunk/rpms/p0f/p0f.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/p0f/p0f.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -137,10 +137,10 @@
 %{__install} -Dp -m0755 p0f %{buildroot}%{_sbindir}/p0f
 
 %{__install} -d -m0755 %{buildroot}%{_bindir}
-%{__install} -m0755 p0frep test/p0fq test/sendack test/sendack2 test/sendsyn %{buildroot}%{_bindir}
+%{__install} -p -m0755 p0frep test/p0fq test/sendack test/sendack2 test/sendsyn %{buildroot}%{_bindir}
 
 %{__install} -d -m0755 %{buildroot}%{_sysconfdir}/p0f/
-%{__install} -m0644 *.fp %{buildroot}%{_sysconfdir}/p0f/
+%{__install} -p -m0644 *.fp %{buildroot}%{_sysconfdir}/p0f/
 
 %{__install} -Dp -m0644 p0f.1 %{buildroot}%{_mandir}/man1/p0f.1
 

Modified: trunk/rpms/papaya/papaya.spec
===================================================================
--- trunk/rpms/papaya/papaya.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/papaya/papaya.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -57,7 +57,7 @@
 %find_lang %{name}
 
 %{__install} -d -m0755 %{buildroot}%{_datadir}/applications/
-%{__install} -m0644 gnome-%{name}.desktop %{buildroot}%{_datadir}/applications/
+%{__install} -Dp -m0644 gnome-papaya.desktop %{buildroot}%{_datadir}/applications/gnome-papaya.desktop
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/partimage/partimage-0.6.spec
===================================================================
--- trunk/rpms/partimage/partimage-0.6.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/partimage/partimage-0.6.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -204,7 +204,7 @@
 %makeinstall
 %find_lang %{name}
 
-%{__install} -m0755 partimage-static %{buildroot}%{_sbindir}
+%{__install} -Dp -m0755 partimage-static %{buildroot}%{_sbindir}/partimage-static
 
 %{__install} -Dp -m0755 partimaged.sysv %{buildroot}%{_initrddir}/partimaged
 %{__install} -Dp -m0644 partimaged.logrotate %{buildroot}%{_sysconfdir}/logrotate.d/partimaged

Modified: trunk/rpms/pdflib/pdflib.spec
===================================================================
--- trunk/rpms/pdflib/pdflib.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/pdflib/pdflib.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -58,8 +58,8 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__make} install DESTDIR=%{buildroot}
-%{__install} -m 0644 bind/cpp/pdflib.hpp %{buildroot}%{_includedir}/pdflib.hpp
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+%{__install} -Dp -m0644 bind/cpp/pdflib.hpp %{buildroot}%{_includedir}/pdflib.hpp
 
 
 %clean

Modified: trunk/rpms/pearpc/pearpc.spec
===================================================================
--- trunk/rpms/pearpc/pearpc.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/pearpc/pearpc.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -74,9 +74,9 @@
 
 # Empty compressed disk images + video driver
 %{__mkdir_p} %{buildroot}%{_datadir}/pearpc/emptyimages
-%{__install} -m 0644 %{SOURCE2} %{SOURCE3} \
+%{__install} -p -m0644 %{SOURCE2} %{SOURCE3} \
     %{buildroot}%{_datadir}/pearpc/emptyimages/
-%{__install} -m 0644 video.x %{buildroot}%{_datadir}/pearpc/
+%{__install} -p -m0644 video.x %{buildroot}%{_datadir}/pearpc/
 
 # Change some paths in the configuration file
 %{__perl} -pi -e \

Modified: trunk/rpms/pgadmin3/pgadmin3.spec
===================================================================
--- trunk/rpms/pgadmin3/pgadmin3.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/pgadmin3/pgadmin3.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,9 +1,9 @@
 # $Id$
-
 # Authority: dag
-
 # Upstream: Jean-Michel POURE &lt;jm$poure,com&gt;
 
+%define desktop-vendor rpmforge
+
 Summary: Graphical client for PostgreSQL
 Name: pgadmin3
 Version: 1.0.2
@@ -41,10 +41,10 @@
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+%{__install} -Dp -m0644 src/include/images/elephant48.xpm %{buildroot}%{_datadir}/pgadmin3/pgadmin3.xpm
+
 %{__install} -d -m0755 %{buildroot}%{_datadir}/applications/
-%{__install} -m0644 src/include/images/elephant48.xpm %{buildroot}%{_datadir}/pgadmin3/pgadmin3.xpm
-
-desktop-file-install --vendor net                  \
+desktop-file-install --vendor %{desktop_vendor}    \
 	--add-category X-Red-Hat-Base              \
 	--add-category Application                 \
 	--add-category Development                 \

Modified: trunk/rpms/php-acid/php-acid.spec
===================================================================
--- trunk/rpms/php-acid/php-acid.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/php-acid/php-acid.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -34,10 +34,10 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_localstatedir}/www/acid \
-			%{buildroot}%{_sysconfdir}/httpd/conf.d
-%{__install} acid_* %{buildroot}%{_localstatedir}/www/acid/
-%{__install} %{SOURCE1} %{buildroot}%{_sysconfdir}/httpd/conf.d/
+%{__install} -Dp %{SOURCE1} %{buildroot}%{_sysconfdir}/httpd/conf.d/acid.conf
+
+%{__install} -d -m0755 %{buildroot}%{_localstatedir}/www/acid/
+%{__install} -p acid_* %{buildroot}%{_localstatedir}/www/acid/
 touch %{buildroot}%{_localstatedir}/www/acid-users
 
 %clean

Modified: trunk/rpms/php-adodb/php-adodb.spec
===================================================================
--- trunk/rpms/php-adodb/php-adodb.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/php-adodb/php-adodb.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -35,14 +35,14 @@
 %install
 %{__rm} -rf %{buildroot}
 %{__install} -d -m0755 %{buildroot}%{_localstatedir}/www/adodb/{datadict,drivers,lang,perf,session,tests,xsl}/
-%{__install} -m0644 *.php *.dtd %{buildroot}%{_localstatedir}/www/adodb/
-%{__install} -m0644 datadict/*.php %{buildroot}%{_localstatedir}/www/adodb/datadict/
-%{__install} -m0644 drivers/*.php %{buildroot}%{_localstatedir}/www/adodb/drivers/
-%{__install} -m0644 lang/*.php %{buildroot}%{_localstatedir}/www/adodb/lang/
-%{__install} -m0644 perf/*.php %{buildroot}%{_localstatedir}/www/adodb/perf/
-%{__install} -m0644 session/*.php %{buildroot}%{_localstatedir}/www/adodb/session/
-%{__install} -m0644 tests/*.php %{buildroot}%{_localstatedir}/www/adodb/tests/
-%{__install} -m0644 xsl/*.xsl %{buildroot}%{_localstatedir}/www/adodb/xsl/
+%{__install} -p -m0644 *.php *.dtd %{buildroot}%{_localstatedir}/www/adodb/
+%{__install} -p -m0644 datadict/*.php %{buildroot}%{_localstatedir}/www/adodb/datadict/
+%{__install} -p -m0644 drivers/*.php %{buildroot}%{_localstatedir}/www/adodb/drivers/
+%{__install} -p -m0644 lang/*.php %{buildroot}%{_localstatedir}/www/adodb/lang/
+%{__install} -p -m0644 perf/*.php %{buildroot}%{_localstatedir}/www/adodb/perf/
+%{__install} -p -m0644 session/*.php %{buildroot}%{_localstatedir}/www/adodb/session/
+%{__install} -p -m0644 tests/*.php %{buildroot}%{_localstatedir}/www/adodb/tests/
+%{__install} -p -m0644 xsl/*.xsl %{buildroot}%{_localstatedir}/www/adodb/xsl/
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/php-jpgraph/php-jpgraph.spec
===================================================================
--- trunk/rpms/php-jpgraph/php-jpgraph.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/php-jpgraph/php-jpgraph.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -53,7 +53,7 @@
 %install
 %{__rm} -rf %{buildroot}
 %{__install} -d -m0755 %{buildroot}%{_localstatedir}/www/%{real_name}-%{version}
-%{__install} -m0644 src/jpgraph*.php src/*.inc src/*.dat %{buildroot}%{_localstatedir}/www/%{real_name}-%{version}/
+%{__install} -p -m0644 src/jpgraph*.php src/*.inc src/*.dat %{buildroot}%{_localstatedir}/www/%{real_name}-%{version}/
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/pine/pine.spec
===================================================================
--- trunk/rpms/pine/pine.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/pine/pine.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -150,12 +150,12 @@
 %{__install} -Dp -m0644 %{SOURCE6} %{buildroot}%{_sysconfdir}/pine.conf.fixed
 
 %{__install} -Dp -m0755 %{SOURCE3} %{buildroot}%{_bindir}/pine-spellcheck
-%{__install} -m0755 bin/{mailutil,pine,pico,pilot,rpdump,rpload} %{buildroot}%{_bindir}
+%{__install} -p -m0755 bin/{mailutil,pine,pico,pilot,rpdump,rpload} %{buildroot}%{_bindir}
 %{__install} -Dp -m0755 imap/{dmail/dmail,tmail/tmail} %{buildroot}%{_bindir}
 %{__install} -Dp -m2755 imap/mlock/mlock %{buildroot}%{_sbindir}/mlock
 
 %{__install} -d -m0755 %{buildroot}%{_mandir}/man1/
-%{__install} -m0644 doc/*.1 imap/src/*/*.1 %{buildroot}%{_mandir}/man1/
+%{__install} -p -m0644 doc/*.1 imap/src/*/*.1 %{buildroot}%{_mandir}/man1/
 
 %{__mv} -f imap/docs/ imap-docs/
 

Modified: trunk/rpms/powertweak/powertweak.spec
===================================================================
--- trunk/rpms/powertweak/powertweak.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/powertweak/powertweak.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -68,7 +68,7 @@
 			%{buildroot}%{_localstatedir}/adm/fillup-templates \
 			%{buildroot}%{_sysconfdir}/powertweak
 			
-#%{__install} -m0755 distro/SuSE/rc.powertweakd %{buildroot}%{_initrddir}/powertweakd
+#%{__install} -p -m0755 distro/SuSE/rc.powertweakd %{buildroot}%{_initrddir}/powertweakd
 #ln -s %{_initrddir}/powertweakd $RPM_BUILD_ROOT%{_sbindir}/rcpowertweakd
 #install -m 644 distro/SuSE/rc.config.powertweakd $RPM_BUILD_ROOT/var/adm/fillup-templates/rc.config.powertweakd
 # Touch config file placeholder

Modified: trunk/rpms/procget/procget.spec
===================================================================
--- trunk/rpms/procget/procget.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/procget/procget.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,5 +1,4 @@
 # $Id$
-
 # Authority: dag
 # Upstream: &lt;info$rndsoftware,com&gt;
 
@@ -26,15 +25,16 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_sbindir}
-%{__install} -m0755 * %{buildroot}%{_sbindir}
+%{__install} -Dp -m0755 procget %{buildroot}%{_sbindir}/procget
+%{__install} -Dp -m0755 procsave %{buildroot}%{_sbindir}/procsave
 
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
-%{_sbindir}/*
+%{_sbindir}/procget
+%{_sbindir}/procsave
 
 %changelog
 * Wed Mar 31 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.1.0-2

Modified: trunk/rpms/proxy-applet/proxy-applet.spec
===================================================================
--- trunk/rpms/proxy-applet/proxy-applet.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/proxy-applet/proxy-applet.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,8 +1,6 @@
 # $Id$
-
 # Authority: dag
 # Upstream: Dag Wieers &lt;dag$wieers,com&gt;
-# Soapbox: 0
 
 Summary: Tray applet for changing network proxy configuration
 Name: proxy-applet
@@ -15,7 +13,6 @@
 Source: <A HREF="http://dag.wieers.com/home-made/gnome-applets/proxy-applet-%{version">http://dag.wieers.com/home-made/gnome-applets/proxy-applet-%{version</A>}.tar.bz2
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-
 BuildRequires: mono, gtk-sharp
 ### FIXME: gtk-sharp needs gtk2/gnome2 *.so files ;(
 Requires: mono, gtk-sharp &gt;= 0.17, gtk2-devel, libgnomeui-devel, GConf2-devel, libglade2-devel
@@ -40,11 +37,12 @@
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+%{__install} -Dp -m0755 proxy-applet.sh %{buildroot}%{_bindir}/proxy-applet
+
 desktop-file-install --vendor gnome --delete-original \
 	--add-category X-Red-Hat-Base                 \
 	--dir %{buildroot}%{_datadir}/applications    \
 	%{buildroot}%{_datadir}/applications/%{name}.desktop
-%{__install} -m0755 proxy-applet.sh %{buildroot}%{_bindir}/proxy-applet
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/psi/psi.spec
===================================================================
--- trunk/rpms/psi/psi.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/psi/psi.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -143,11 +143,11 @@
 %endif
  
 # Install the languagepack files
-%{__install} -m0644 \
+%{__install} -p -m0644 \
     %{SOURCE21} %{SOURCE22} %{SOURCE23} %{SOURCE24} \
     %{SOURCE25} %{SOURCE27} %{SOURCE28} %{SOURCE29} \
     %{SOURCE31} %{SOURCE32} %{SOURCE33} %{SOURCE34} %{SOURCE35} \
-    %{buildroot}%{_datadir}/psi
+    %{buildroot}%{_datadir}/psi/
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/python-twisted/python-twisted.spec
===================================================================
--- trunk/rpms/python-twisted/python-twisted.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/python-twisted/python-twisted.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -52,7 +52,7 @@
 # and remove them from the doc dir
 %{__mkdir_p} %{buildroot}%{_mandir}/man1
 for man in doc/man/*.1; do
-    %{__install} -m 0644 ${man} %{buildroot}%{_mandir}/man1/
+    %{__install} -p -m0644 ${man} %{buildroot}%{_mandir}/man1/
     %{__rm} -f ${man}
 done
 

Modified: trunk/rpms/quicktime4linux/quicktime4linux.spec
===================================================================
--- trunk/rpms/quicktime4linux/quicktime4linux.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/quicktime4linux/quicktime4linux.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -37,7 +37,7 @@
 %{__install} -Dp -m0755 i686/libquicktime.a %{buildroot}%{_libdir}/libquicktime.a
 
 %{__install} -d -m0755 %{buildroot}%{_includedir}/quicktime/
-%{__install} -m0644 *.h %{buildroot}%{_includedir}/quicktime/
+%{__install} -p -m0644 *.h %{buildroot}%{_includedir}/quicktime/
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/rar/rar.spec
===================================================================
--- trunk/rpms/rar/rar.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/rar/rar.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -29,9 +29,9 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -m 755 -D rar %{buildroot}%{_bindir}/rar
-%{__install} -m 644 -D rarfiles.lst %{buildroot}%{_sysconfdir}/rarfiles.lst
-%{__install} -m 755 -D default.sfx %{buildroot}%{_libdir}/default.sfx
+%{__install} -Dp -m0755 rar %{buildroot}%{_bindir}/rar
+%{__install} -Dp -m0644 rarfiles.lst %{buildroot}%{_sysconfdir}/rarfiles.lst
+%{__install} -Dp -m0755 default.sfx %{buildroot}%{_libdir}/default.sfx
 
 
 %clean

Modified: trunk/rpms/regina-rexx/regina-rexx.spec
===================================================================
--- trunk/rpms/regina-rexx/regina-rexx.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/regina-rexx/regina-rexx.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -122,7 +122,7 @@
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
-%{__install} -m0755 rxstack.sysv %{buildroot}%{_initrddir}/rxstack
+%{__install} -Dp -m0755 rxstack.sysv %{buildroot}%{_initrddir}/rxstack
 
 ### FIXME: Fix broken REXX scripts
 %{__perl} -pi -e 's|%{buildroot}||g' %{buildroot}%{_datadir}/regina/*.rexx

Modified: trunk/rpms/rfb/rfb.spec
===================================================================
--- trunk/rpms/rfb/rfb.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/rfb/rfb.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,12 +1,12 @@
 # $Id$
 # Authority: dag
-# Distcc: 0
 
 %{?dist: %{expand: %%define %dist 1}}
 
 %{?rh7:%define _without_freedesktop 1}
 %{?el2:%define _without_freedesktop 1}
 
+%define desktop_vendor rpmforge
 %define _bindir /usr/X11R6/bin
 
 Summary: heXoNet RFB (remote control for the X Window System)
@@ -82,20 +82,20 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_mandir}/man1 \
-			%{buildroot}%{_bindir}
-%{__install} -m0644 man/man1/* %{buildroot}%{_mandir}/man1
-%{__install} -s -m0755 x0rfbserver/x0rfbserver %{buildroot}%{_bindir}
-%{__install} -s -m0755 xvncconnect/xvncconnect %{buildroot}%{_bindir}
-%{__install} -s -m0755 xrfbviewer/{xrfbviewer,xplayfbs} %{buildroot}%{_bindir}
-%{__install} -s -m0755 rfbcat/rfbcat %{buildroot}%{_bindir}
+%{__install} -d -m0755 %{buildroot}%{_mandir}/man1/
+%{__install} -p -m0644 man/man1/* %{buildroot}%{_mandir}/man1/
+%{__install} -Dps -m0755 x0rfbserver/x0rfbserver %{buildroot}%{_bindir}/x0rfbserver
+%{__install} -Dps -m0755 xvncconnect/xvncconnect %{buildroot}%{_bindir}/xvncconnect
+%{__install} -Dps -m0755 xrfbviewer/xplayfbs %{buildroot}%{_bindir}/xplayfbs
+%{__install} -Dps -m0755 xrfbviewer/xrfbviewer %{buildroot}%{_bindir}/xrfbviewer
+%{__install} -Dps -m0755 rfbcat/rfbcat %{buildroot}%{_bindir}/rfbcat
 
 %if %{?_without_freedesktop:1}0
 	%{__install} -Dp -m0644 x0rfbserver.desktop %{buildroot}%{_datadir}/gnome/apps/Utilities/x0rfbserver.desktop
 	%{__install} -Dp -m0644 xvncconnect.desktop %{buildroot}%{_datadir}/gnome/apps/Utilities/xvncconnect.desktop
 %else
         install -d -m0755 %{buildroot}%{_datadir}/applications
-        desktop-file-install --vendor &quot;gnome&quot;              \
+        desktop-file-install --vendor &quot;%{desktop_vendor}&quot;              \
                 --add-category X-Red-Hat-Base              \
                 --dir %{buildroot}%{_datadir}/applications \
                 x0rfbserver.desktop xvncconnect.desktop

Modified: trunk/rpms/rpcmgr/rpcmgr.spec
===================================================================
--- trunk/rpms/rpcmgr/rpcmgr.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/rpcmgr/rpcmgr.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -37,8 +37,7 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_sbindir}
-%{__install} rpcmgr %{buildroot}%{_sbindir}
+%{__install} -Dp -m0755 rpcmgr %{buildroot}%{_sbindir}/rpcmgr
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -46,7 +45,7 @@
 %files
 %defattr(-, root, root, 0755)
 %doc rpcmgr.c
-%{_sbindir}/*
+%{_sbindir}/rpcmgr
 
 %changelog
 * Sun Dec 01 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.2-0

Modified: trunk/rpms/rpm2html/rpm2html-1.7.spec
===================================================================
--- trunk/rpms/rpm2html/rpm2html-1.7.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/rpm2html/rpm2html-1.7.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -13,10 +13,9 @@
 License: MIT
 URL: <A HREF="http://rpmfind.net/linux/rpm2html/">http://rpmfind.net/linux/rpm2html/</A>
 
-Source: <A HREF="ftp://rpmfind.net/pub/%{name">ftp://rpmfind.net/pub/%{name</A>}/%{name}-%{version}.tar.gz
+Source: <A HREF="ftp://rpmfind.net/pub/rpm2html/rpm2html-%{version">ftp://rpmfind.net/pub/rpm2html/rpm2html-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-
 BuildRequires: rpm-devel, db3-devel
 
 %description
@@ -42,16 +41,12 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-		%{buildroot}%{_sysconfdir} \
-		%{buildroot}%{_datadir}/rpm2html \
-		%{buildroot}%{_mandir}/man1
-%{__install} -s -m0755 rpm2html %{buildroot}%{_bindir}
-%{__install} -m0644 rpm2html.config  %{buildroot}%{_sysconfdir}
-%{__install} -m0644 rpm2html.1  %{buildroot}%{_mandir}/man1
+%{__install} -Dp -m0755 rpm2html %{buildroot}%{_bindir}/rpm2html
+%{__install} -Dp -m0644 rpm2html.config  %{buildroot}%{_sysconfdir}/rpm2html.config
+%{__install} -Dp -m0644 rpm2html.1  %{buildroot}%{_mandir}/man1/rpm2html.1
 
 for i in msg.*; do
-  %{__install} -m0644 $i %{buildroot}%{_datadir}/rpm2html/msg.$ll
+  %{__install} -Dp -m0644 $i %{buildroot}%{_datadir}/rpm2html/msg.$ll
 done
 
 %clean
@@ -61,9 +56,9 @@
 %defattr(-, root, root, 0755)
 %doc BUGS CHANGES PRINCIPLES README TODO 
 %doc rpm2html-cdrom.config rpm2html-en.config
-%doc %{_mandir}/man1/*
+%doc %{_mandir}/man1/rpm2html.1*
 %config %{_sysconfdir}/rpm2html.config
-%{_bindir}/*
+%{_bindir}/rpm2html
 %{_datadir}/rpm2html/
 
 %changelog

Modified: trunk/rpms/scribus/scribus.spec
===================================================================
--- trunk/rpms/scribus/scribus.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/scribus/scribus.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,5 +1,4 @@
 # $Id$
-
 # Authority: dag
 
 %{?dist: %{expand: %%define %dist 1}}
@@ -8,6 +7,8 @@
 %{?el2:%define _without_freedesktop 1}
 %{?rh6:%define _without_freedesktop 1}
 
+%define desktop_vendor rpmforge
+
 Summary: Graphical desktop publishing (DTP) application
 Name: scribus
 Version: 1.2.1
@@ -52,14 +53,13 @@
 %{__rm} -rf %{buildroot}
 %makeinstall
 
-%{__install} -d -m0755 %{buildroot}%{_datadir}/pixmaps/
-%{__install} -m0644 scribus/icons/scribusicon.png %{buildroot}%{_datadir}/pixmaps/scribus.png
+%{__install} -Dp -m0644 scribus/icons/scribusicon.png %{buildroot}%{_datadir}/pixmaps/scribus.png
 
 %if %{?_without_freedesktop:1}0
-        %{__install} -Dp -m0644 %{name}.desktop %{buildroot}%{_datadir}/gnome/apps/Applications/
+        %{__install} -Dp -m0644 scribus.desktop %{buildroot}%{_datadir}/gnome/apps/Applications/scribus.desktop
 %else
 	%{__install} -d -m0755 %{buildroot}%{_datadir}/applications/
-	desktop-file-install --vendor kde                  \
+	desktop-file-install --vendor %{desktop_vendor}    \
 		--add-category X-Red-Hat-Base              \
 		--dir %{buildroot}%{_datadir}/applications \
 		%{name}.desktop

Modified: trunk/rpms/sleuthkit/sleuthkit.spec
===================================================================
--- trunk/rpms/sleuthkit/sleuthkit.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/sleuthkit/sleuthkit.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -41,9 +41,9 @@
 %{__rm} -rf %{buildroot}
 %{__install} -d -m0755 %{buildroot}%{_sbindir} \
 			%{buildroot}%{_mandir}/man1/
-%{__install} -m0755 bin/* %{buildroot}%{_sbindir}
-%{__install} -m0644 man/man1/* %{buildroot}%{_mandir}/man1/
-%{__install} -m0755 src/file/src/file %{buildroot}%{_sbindir}
+%{__install} -p -m0755 bin/* %{buildroot}%{_sbindir}
+%{__install} -p -m0644 man/man1/* %{buildroot}%{_mandir}/man1/
+%{__install} -p -m0755 src/file/src/file %{buildroot}%{_sbindir}
 %{__ln_s} -f %{_sbindir}/file %{buildroot}%{_sbindir}/file_sk
 #%{__mv} -f %{buildroot}%{_mandir}/man1/file.1 %{buildroot}%{_mandir}/man1/file_sk.1
 

Modified: trunk/rpms/smbldap-tools/smbldap-tools.spec
===================================================================
--- trunk/rpms/smbldap-tools/smbldap-tools.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/smbldap-tools/smbldap-tools.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -36,7 +36,7 @@
 %install
 %{__rm} -rf %{buildroot}
 %{__install} -d -m0755 %{buildroot}%{_sbindir}
-%{__install} -m0755 smbldap-* smbldap_tools.pm %{buildroot}%{_sbindir}
+%{__install} -p -m0755 smbldap-* smbldap_tools.pm %{buildroot}%{_sbindir}
 %{__install} -Dp -m0644 smbldap.conf %{buildroot}%{_sysconfdir}/smbldap-tools/smbldap.conf
 %{__install} -Dp -m0600 smbldap_bind.conf %{buildroot}%{_sysconfdir}/smbldap-tools/smbldap_bind.conf
 

Modified: trunk/rpms/snackamp/snackamp-fdw.spec
===================================================================
--- trunk/rpms/snackamp/snackamp-fdw.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/snackamp/snackamp-fdw.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -47,10 +47,10 @@
 %{__cp} -afp docs lib %{buildroot}%{_libdir}/tcl/snackAmp/
 find %{buildroot}%{_libdir}/tcl/snackAmp/ -type f -exec chmod 0644 {} \;
 find %{buildroot}%{_libdir}/tcl/snackAmp/ -type d -exec chmod 0755 {} \;
-#%{__install} -m0755 icons/snackAmp.ico %{buildroot}%{_datadir}/pixmaps/
-%{__install} -m0755 %{SOURCE1} %{buildroot}%{_datadir}/pixmaps/
-%{__install} -m0755 snackAmp.tcl %{buildroot}%{_libdir}/tcl/snackAmp/
-%{__install} -m0644 main.tcl snackAmphotKeys.tcl %{buildroot}%{_libdir}/tcl/snackAmp/
+#%{__install} -p -m0755 icons/snackAmp.ico %{buildroot}%{_datadir}/pixmaps/
+%{__install} -p -m0755 %{SOURCE1} %{buildroot}%{_datadir}/pixmaps/
+%{__install} -Dp -m0755 snackAmp.tcl %{buildroot}%{_libdir}/tcl/snackAmp/snackAmp.tcl
+%{__install} -p -m0644 main.tcl snackAmphotKeys.tcl %{buildroot}%{_libdir}/tcl/snackAmp/
 %{__ln_s} -f %{_libdir}/tcl/snackAmp/snackAmp.tcl %{buildroot}%{_bindir}/snackamp
 %{__ln_s} -f %{_libdir}/tcl/snackAmp/snackAmp.tcl %{buildroot}%{_bindir}/snackAmp
 
@@ -65,8 +65,7 @@
 EOF
 
 %if %{dfi}
-	%{__install} -d -m0755 %{buildroot}%{_datadir}/gnome/apps/Multimedia/
-	%{__install} -m0644 %{name}.desktop %{buildroot}%{_datadir}/gnome/apps/Multimedia/
+	%{__install} -Dp -m0644 snackamp.desktop %{buildroot}%{_datadir}/gnome/apps/Multimedia/snackamp.desktop
 %else
         %{__install} -d -m0755 %{buildroot}%{_datadir}/applications
         desktop-file-install --vendor %{desktop_vendor}    \
@@ -74,7 +73,7 @@
                 --add-category Application                 \
                 --add-category AudioVideo                  \
                 --dir %{buildroot}%{_datadir}/applications \
-                %{name}.desktop
+                snackamp.desktop
 %endif
 
 ### Clean up buildroot

Modified: trunk/rpms/snackamp/snackamp.spec
===================================================================
--- trunk/rpms/snackamp/snackamp.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/snackamp/snackamp.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -8,6 +8,7 @@
 %{?el2:%define _without_freedesktop 1}
 %{?rh6:%define _without_freedesktop 1}
 
+%define desktop_vendor rpmforge
 %define real_name snackAmp
 
 Summary: Versatile music player
@@ -59,10 +60,10 @@
 %{__cp} -afp docs lib %{buildroot}%{_libdir}/tcl/snackAmp/
 find %{buildroot}%{_libdir}/tcl/snackAmp/ -type f -exec chmod 0644 {} \;
 find %{buildroot}%{_libdir}/tcl/snackAmp/ -type d -exec chmod 0755 {} \;
-#%{__install} -m0755 icons/snackAmp.ico %{buildroot}%{_datadir}/pixmaps/
+#%{__install} -p -m0755 icons/snackAmp.ico %{buildroot}%{_datadir}/pixmaps/
 %{__install} -Dp -m0755 %{SOURCE1} %{buildroot}%{_datadir}/pixmaps/snackamp.png
 %{__install} -Dp -m0755 snackAmp.tcl %{buildroot}%{_libdir}/tcl/snackAmp/snackAmp.tcl
-%{__install} -m0644 main.tcl snackAmphotKeys.tcl %{buildroot}%{_libdir}/tcl/snackAmp/
+%{__install} -p -m0644 main.tcl snackAmphotKeys.tcl %{buildroot}%{_libdir}/tcl/snackAmp/
 %{__ln_s} -f %{_libdir}/tcl/snackAmp/snackAmp.tcl %{buildroot}%{_bindir}/snackamp
 %{__ln_s} -f %{_libdir}/tcl/snackAmp/snackAmp.tcl %{buildroot}%{_bindir}/snackAmp
 
@@ -70,7 +71,7 @@
 	%{__install} -Dp -m0644 snackamp.desktop %{buildroot}%{_datadir}/gnome/apps/Multimedia/snackamp.desktop
 %else
         %{__install} -d -m0755 %{buildroot}%{_datadir}/applications/
-        desktop-file-install --vendor net                  \
+        desktop-file-install --vendor %{desktop_vendor}    \
                 --add-category X-Red-Hat-Base              \
                 --dir %{buildroot}%{_datadir}/applications \
                 snackamp.desktop
@@ -90,7 +91,7 @@
 %{_libdir}/tcl/snackAmp/
 %{_datadir}/pixmaps/*
 %{?_without_freedesktop:%{_datadir}/gnome/apps/Multimedia/snackamp.desktop}
-%{!?_without_freedesktop:%{_datadir}/applications/net-snackamp.desktop}
+%{!?_without_freedesktop:%{_datadir}/applications/%{desktop_vendor}-snackamp.desktop}
 
 %changelog
 * Thu Aug 05 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 3.0.2-1

Modified: trunk/rpms/snes9x/snes9x.spec
===================================================================
--- trunk/rpms/snes9x/snes9x.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/snes9x/snes9x.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -42,7 +42,7 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -m 0755 -D snes9x/snes9x %{buildroot}%{_bindir}/snes9x
+%{__install} -Dp -m0755 snes9x/snes9x %{buildroot}%{_bindir}/snes9x
 
 
 %clean

Modified: trunk/rpms/sniffit/sniffit.spec
===================================================================
--- trunk/rpms/sniffit/sniffit.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/sniffit/sniffit.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -33,11 +33,9 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_sbindir} \
-			%{buildroot}%{_mandir}/man{5,8}/
-%{__install} -m0755 sniffit   %{buildroot}%{_sbindir}
-%{__install} -m0444 sniffit.5 %{buildroot}%{_mandir}/man5/
-%{__install} -m0444 sniffit.8 %{buildroot}%{_mandir}/man8/
+%{__install} -Dp -m0755 sniffit   %{buildroot}%{_sbindir}/sniffit
+%{__install} -Dp -m0644 sniffit.5 %{buildroot}%{_mandir}/man5/sniffit.5
+%{__install} -Dp -m0644 sniffit.8 %{buildroot}%{_mandir}/man8/sniffit.8
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -45,8 +43,9 @@
 %files
 %defattr(-, root, root, 0755)
 %doc BETA-TESTING HISTORY LICENSE README.FIRST sample_config_file sniffit-FAQ
-%doc %{_mandir}/man?/*
-%{_sbindir}/*
+%doc %{_mandir}/man5/sniffit.5
+%doc %{_mandir}/man8/sniffit.8
+%{_sbindir}/sniffit
 
 %changelog
 * Wed Oct 08 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.3.7-0.beta

Modified: trunk/rpms/snort/snort.spec
===================================================================
--- trunk/rpms/snort/snort.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/snort/snort.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -155,12 +155,12 @@
 %install
 %{__rm} -rf %{buildroot}
 %{__install} -d -m0755 %{buildroot}%{_sbindir}
-%{__install} -m0755 snort-* %{buildroot}%{_sbindir}
+%{__install} -p -m0755 snort-* %{buildroot}%{_sbindir}
 
 %{__install} -Dp -m0644 snort.8 %{buildroot}%{_mandir}/man8/snort.8
 
 %{__install} -d -m0755 %{buildroot}%{_sysconfdir}/snort
-%{__install} -m0644 etc/*.config etc/*.conf etc/*.map rules/*.rules %{buildroot}%{_sysconfdir}/snort/
+%{__install} -p -m0644 etc/*.config etc/*.conf etc/*.map rules/*.rules %{buildroot}%{_sysconfdir}/snort/
 
 #%{__install} -Dp -m0755 snortd.sysv %{buildroot}%{_initrddir}/snortd
 #%{__install} -Dp -m0644 snort.sysconf %{buildroot}%{_sysconfdir}/sysconfig/snort

Modified: trunk/rpms/snortalog/snortalog.spec
===================================================================
--- trunk/rpms/snortalog/snortalog.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/snortalog/snortalog.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -67,7 +67,7 @@
 %{__install} -Dp -m0644 snortalog.httpd %{buildroot}%{_sysconfdir}/httpd/conf.d/snortalog.conf
 
 %{__install} -d -m0755 %{buildroot}%{_sysconfdir}/snortalog/
-%{__install} -m0644 domains hw rules %{buildroot}%{_sysconfdir}/snortalog/
+%{__install} -p -m0644 domains hw rules %{buildroot}%{_sysconfdir}/snortalog/
 
 %{__install} -d -m0755 %{buildroot}%{_localstatedir}/www/snortalog/
 

Modified: trunk/rpms/spamassassin/spamassassin.spec
===================================================================
--- trunk/rpms/spamassassin/spamassassin.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/spamassassin/spamassassin.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -90,7 +90,7 @@
 
 %{__install} -Dp -m0644 %{SOURCE5} %{buildroot}%{_sysconfdir}/sysconfig/spamassassin
 %{__install} -Dp -m0644 %{SOURCE2} %{buildroot}%{_sysconfdir}/mail/spamassassin/local.cf
-%{__install} -m0644 %{SOURCE3} %{SOURCE4} %{SOURCE10} %{buildroot}%{_sysconfdir}/mail/spamassassin/
+%{__install} -p -m0644 %{SOURCE3} %{SOURCE4} %{SOURCE10} %{buildroot}%{_sysconfdir}/mail/spamassassin/
 
 ### Clean up buildroot
 %{__rm} -rf %{buildroot}%{perl_archlib}

Modified: trunk/rpms/sphere/sphere.spec
===================================================================
--- trunk/rpms/sphere/sphere.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/sphere/sphere.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -46,7 +46,7 @@
 yes
 %{optflags} -fPIC
 yes
-%{__install} -m0755
+%{__install} -p -m0755
 yes
 ranlib
 yes
@@ -63,7 +63,7 @@
 %{__make} install
 
 %{__install} -d -m0755 %{buildroot}%{_bindir}
-%{__install} -m0755 bin/* %{buildroot}%{_bindir}
+%{__install} -p -m0755 bin/* %{buildroot}%{_bindir}
 
 %{__install} -Dp -m0755 lib/libsp.a %{buildroot}%{_libdir}/sp/libsp.a
 %{__install} -Dp -m0755 lib/libutil.a %{buildroot}%{_libdir}/sp/libutil.a
@@ -77,10 +77,10 @@
 %{__cp} -apv include/util/* %{buildroot}%{_includedir}/util/
 
 %{__install} -d -m0755 %{buildroot}%{_mandir}/man1/
-%{__install} -m0644 doc/man/man1/* %{buildroot}%{_mandir}/man1/
+%{__install} -p -m0644 doc/man/man1/* %{buildroot}%{_mandir}/man1/
 
 %{__install} -d -m0755 %{buildroot}%{_mandir}/man3/
-%{__install} -m0644 doc/man/man3/* %{buildroot}%{_mandir}/man3/
+%{__install} -p -m0644 doc/man/man3/* %{buildroot}%{_mandir}/man3/
 
 ### Clean up buildroot (conflict with shorten package)
 %{__rm} -f %{buildroot}%{_mandir}/man1/shorten*

Modified: trunk/rpms/sqlitemanager/sqlitemanager.spec
===================================================================
--- trunk/rpms/sqlitemanager/sqlitemanager.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/sqlitemanager/sqlitemanager.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,5 +1,4 @@
 # $Id$
-
 # Authority: dag
 # Upstream: Fr&#233;d&#233;ric Henninot &lt;fhenninot$freesurf,fr&gt;
 
@@ -50,11 +49,11 @@
 %install
 %{__rm} -rf %{buildroot}
 %{__install} -d -m0755 %{buildroot}%{_localstatedir}/www/sqlitemanager/{include,lang,theme/default,pics}/
-%{__install} -m0644 *.php *.sqlite %{buildroot}%{_localstatedir}/www/sqlitemanager/
-%{__install} -m0644 include/*.{db,js,php} %{buildroot}%{_localstatedir}/www/sqlitemanager/include/
-%{__install} -m0644 lang/*.inc.php %{buildroot}%{_localstatedir}/www/sqlitemanager/lang/
-%{__install} -m0644 theme/default/*.{css,php} %{buildroot}%{_localstatedir}/www/sqlitemanager/theme/default/
-%{__install} -m0644 pics/*.{gif,png} %{buildroot}%{_localstatedir}/www/sqlitemanager/pics/
+%{__install} -p -m0644 *.php *.sqlite %{buildroot}%{_localstatedir}/www/sqlitemanager/
+%{__install} -p -m0644 include/*.{db,js,php} %{buildroot}%{_localstatedir}/www/sqlitemanager/include/
+%{__install} -p -m0644 lang/*.inc.php %{buildroot}%{_localstatedir}/www/sqlitemanager/lang/
+%{__install} -p -m0644 theme/default/*.{css,php} %{buildroot}%{_localstatedir}/www/sqlitemanager/theme/default/
+%{__install} -p -m0644 pics/*.{gif,png} %{buildroot}%{_localstatedir}/www/sqlitemanager/pics/
 
 %{__install} -Dp -m0644 sqlitemanager.httpd %{buildroot}%{_sysconfdir}/httpd/conf.d/sqlitemanager.conf
 

Modified: trunk/rpms/squale/squale.spec
===================================================================
--- trunk/rpms/squale/squale.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/squale/squale.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -68,15 +68,15 @@
 %{__mkdir_p} %{buildroot}%{_localstatedir}/log/squale
 
 # Install the init script
-%{__install} -m 0755 -D contrib/squale.init \
+%{__install} -Dp -m0755 contrib/squale.init \
     %{buildroot}%{_initrddir}/squale
 
 # Install the logrotate entry
-%{__install} -m 0644 -D contrib/squale.logrotate \
+%{__install} -Dp -m0644 contrib/squale.logrotate \
     %{buildroot}%{_sysconfdir}/logrotate.d/squale
 
 # Install the monitoring check script
-%{__install} -m 0755 -D %{SOURCE1} \
+%{__install} -Dp -m0755 %{SOURCE1} \
     %{buildroot}%{_bindir}/squale_check.py
 
 

Modified: trunk/rpms/subtitleripper/subtitleripper.spec
===================================================================
--- trunk/rpms/subtitleripper/subtitleripper.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/subtitleripper/subtitleripper.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -32,7 +32,7 @@
 %install
 %{__rm} -rf %{buildroot}
 %{__mkdir_p} %{buildroot}%{_bindir}
-%{__install} -m 755 pgm2txt srttool subtitle2pgm subtitle2vobsub \
+%{__install} -p -m0755 pgm2txt srttool subtitle2pgm subtitle2vobsub \
     %{buildroot}%{_bindir}/
 
 

Modified: trunk/rpms/switcher/switcher.spec
===================================================================
--- trunk/rpms/switcher/switcher.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/switcher/switcher.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -62,14 +62,11 @@
 %{__rm} -rf %{buildroot}
 %makeinstall
 
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-			%{buildroot}%{_datadir}/applications/ \
- 			%{buildroot}%{_datadir}/pixmaps/ \
-			%{buildroot}%{_datadir}/switcher/
-%{__install} -m0644 switcher.png %{buildroot}%{_datadir}/pixmaps/
-%{__install} -m0755 *.dll *.so %{buildroot}%{_datadir}/switcher/
-%{__install} -m0755 switcher.exe %{buildroot}%{_bindir}
-%{__install} -m0755 switcher.sh %{buildroot}%{_bindir}/switcher
+%{__install} -Dp -m0755 switcher.exe %{buildroot}%{_bindir}/switcher.exe
+%{__install} -Dp -m0755 switcher.sh %{buildroot}%{_bindir}/switcher
+%{__install} -Dp -m0644 switcher.png %{buildroot}%{_datadir}/pixmaps/switcher.png
+%{__install} -d -m0755 %{buildroot}%{_datadir}/switcher/
+%{__install} -p -m0755 *.dll *.so %{buildroot}%{_datadir}/switcher/
 
 desktop-file-install --vendor %{desktop_vendor}    \
 	--add-category X-Red-Hat-Base              \

Modified: trunk/rpms/syslinux/syslinux.spec
===================================================================
--- trunk/rpms/syslinux/syslinux.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/syslinux/syslinux.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -46,7 +46,7 @@
 	BINDIR=&quot;%{_bindir}&quot; \
 	LIBDIR=&quot;%{_libdir}&quot; \
 	INCDIR=&quot;%{_includedir}&quot;
-%{__install} -m0755 mkdiskimage sys2ansi.pl keytab-lilo.pl %{buildroot}%{_libdir}/syslinux/
+%{__install} -p -m0755 mkdiskimage sys2ansi.pl keytab-lilo.pl %{buildroot}%{_libdir}/syslinux/
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/tcpreplay/tcpreplay-1.3.spec
===================================================================
--- trunk/rpms/tcpreplay/tcpreplay-1.3.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/tcpreplay/tcpreplay-1.3.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,7 +1,5 @@
 # $Id$
-
 # Authority: dag
-# Distcc: 0
 
 Summary: tool to replay captured network traffic
 Name: tcpreplay
@@ -14,7 +12,6 @@
 Source: <A HREF="http://dl.sf.net/tcpreplay/tcpreplay-%{version">http://dl.sf.net/tcpreplay/tcpreplay-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-
 BuildRequires: libnet
 
 %description
@@ -33,14 +30,12 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-			%{buildroot}%{_sbindir} \
-			%{buildroot}%{_mandir}/man1 \
-			%{buildroot}%{_mandir}/man8
-%{__install} -m0755 capinfo tcpprep %{buildroot}%{_sbindir}/
-%{__install} -m0755 tcpreplay %{buildroot}%{_sbindir}/
-%{__install} -m0644 capinfo.1 tcpprep.1 %{buildroot}%{_mandir}/man1
-%{__install} -m0644 tcpreplay.8 %{buildroot}%{_mandir}/man8
+%{__install} -Dp -m0755 capinfo %{buildroot}%{_sbindir}/capinfo
+%{__install} -Dp -m0755 tcpprep %{buildroot}%{_sbindir}/tcpprep
+%{__install} -Dp -m0755 tcpreplay %{buildroot}%{_sbindir}/tcpreplay
+%{__install} -Dp -m0644 capinfo.1 %{buildroot}%{_mandir}/man1/capinfo.1
+%{__install} -Dp -m0644 tcpprep.1 %{buildroot}%{_mandir}/man1/tcpprep.1
+%{__install} -Dp -m0644 tcpreplay.8 %{buildroot}%{_mandir}/man8/tcpreplay.8
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -48,8 +43,12 @@
 %files
 %defattr(-, root, root, 0755)
 %doc CHANGELOG LICENSE README tcpprep.FAQ
-%doc %{_mandir}/man?/*
-%{_sbindir}/*
+%doc %{_mandir}/man1/capinfo.1*
+%doc %{_mandir}/man1/tcpprep.1*
+%doc %{_mandir}/man8/tcpreplay.8*
+%{_sbindir}/capinfo
+%{_sbindir}/tcpprep
+%{_sbindir}/tcpreplay
 
 %changelog
 * Sun May 04 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.3.3-0

Modified: trunk/rpms/texmaker/texmaker.spec
===================================================================
--- trunk/rpms/texmaker/texmaker.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/texmaker/texmaker.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -86,7 +86,7 @@
 %{__install} -Dp -m0644 utilities/texmaker48x48.png %{buildroot}%{_datadir}/pixmaps/texmaker.png
 
 %{__install} -d -m0755 %{buildroot}%{_datadir}/texmaker/
-%{__install} -m0644 utilities/*.{css,gif,html,png} %{buildroot}%{_datadir}/texmaker/
+%{__install} -p -m0644 utilities/*.{css,gif,html,png} %{buildroot}%{_datadir}/texmaker/
 
 %if %{?_without_freedesktop:1}0
 	%{__install} -Dp -m0644 texmaker.desktop %{buildroot}%{_datadir}/applications/texmaker.desktop

Modified: trunk/rpms/thttpd/thttpd.spec
===================================================================
--- trunk/rpms/thttpd/thttpd.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/thttpd/thttpd.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -56,8 +56,8 @@
 %{__mkdir_p} %{buildroot}%{_sbindir}
 
 # Install init script and logrotate entry
-%{__install} -Dp -m 755 %{SOURCE1} %{buildroot}%{_initrddir}/thttpd
-%{__install} -Dp -m 644 %{SOURCE2} %{buildroot}%{_sysconfdir}/logrotate.d/thttpd
+%{__install} -Dp -m0755 %{SOURCE1} %{buildroot}%{_initrddir}/thttpd
+%{__install} -Dp -m0644 %{SOURCE2} %{buildroot}%{_sysconfdir}/logrotate.d/thttpd
 
 # Main install
 %{__make} install BINDIR=%{buildroot}%{_sbindir} \
@@ -73,7 +73,7 @@
         %{buildroot}%{_mandir}/man1/htpasswd.thttpd.1
 
 # Install the default index.html file
-%{__install} -m 644 %{SOURCE10} %{SOURCE11} %{SOURCE12} %{buildroot}%{webroot}/html/
+%{__install} -p -m0644 %{SOURCE10} %{SOURCE11} %{SOURCE12} %{buildroot}%{webroot}/html/
 
 # Install a default configuration file
 %{__cat} &lt;&lt; EOF &gt; %{buildroot}%{_sysconfdir}/thttpd.conf

Modified: trunk/rpms/tn5250/tn5250.spec
===================================================================
--- trunk/rpms/tn5250/tn5250.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/tn5250/tn5250.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -49,8 +49,8 @@
 %makeinstall
 %{__install} -d -m0755 %{buildroot}%{_datadir}/%{name} \
 			%{buildroot}%{_datadir}/pixmaps
-%{__install} linux/5250.tcap linux/5250.terminfo %{buildroot}%{_datadir}/%{name}/
-%{__install} *.png *.xpm %{buildroot}%{_datadir}/pixmaps
+%{__install} -p linux/5250.tcap linux/5250.terminfo %{buildroot}%{_datadir}/%{name}/
+%{__install} -p *.png *.xpm %{buildroot}%{_datadir}/pixmaps
 export TERMINFO=&quot;%{buildroot}%{_datadir}/terminfo/&quot;
 /usr/bin/tic linux/5250.terminfo
 #/usr/bin/tic -o%{buildroot}%{_datadir}/terminfo/ linux/5250.terminfo

Modified: trunk/rpms/torcs/torcs.spec
===================================================================
--- trunk/rpms/torcs/torcs.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/torcs/torcs.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -57,7 +57,7 @@
 %{__rm} -rf %{buildroot}
 %{__make} install DESTDIR=%{buildroot}
 
-%{__install} -m 644 -D Ticon.png %{buildroot}%{_datadir}/pixmaps/%{name}.png
+%{__install} -Dp -m0644 Ticon.png %{buildroot}%{_datadir}/pixmaps/%{name}.png
 
 %{__cat} &gt; %{name}.desktop &lt;&lt; EOF
 [Desktop Entry]

Modified: trunk/rpms/totem/totem.spec
===================================================================
--- trunk/rpms/totem/totem.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/totem/totem.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -105,7 +105,7 @@
 
 %if %{!?_without_gstreamer:1}0
 # Install the GStreamer version
-%{__install} -m0755 src/totem-gstreamer %{buildroot}%{_bindir}/totem-gstreamer
+%{__install} -Dp -m0755 src/totem-gstreamer %{buildroot}%{_bindir}/totem-gstreamer
 # Rename the xine version
 %{__mv} %{buildroot}%{_bindir}/totem %{buildroot}%{_bindir}/totem-xine
 # Make the wrapper script

Modified: trunk/rpms/tp-scroll/tp-scroll.spec
===================================================================
--- trunk/rpms/tp-scroll/tp-scroll.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/tp-scroll/tp-scroll.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -104,14 +104,10 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_initrddir} \
-			%{buildroot}%{_sbindir} \
-			%{buildroot}%{_sysconfdir}/sysconfig \
-			%{buildroot}/dev
-%{__install} -m0755 tp-scroll %{buildroot}%{_sbindir}
-%{__install} -m0755 tp-scroll.sysv %{buildroot}%{_initrddir}/tp-scroll
-#%{__install} -m0644 tp-scroll.rc %{buildroot}%{_initrddir}/tp-scroll
-%{__install} -m0644 tp-scroll.sysconfig %{buildroot}%{_sysconfdir}/sysconfig/tp-scroll
+%{__install} -Dp -m0755 tp-scroll %{buildroot}%{_sbindir}/tp-scroll
+%{__install} -Dp -m0755 tp-scroll.sysv %{buildroot}%{_initrddir}/tp-scroll
+#%{__install} -Dp -m0644 tp-scroll.rc %{buildroot}%{_initrddir}/tp-scroll
+%{__install} -Dp -m0644 tp-scroll.sysconfig %{buildroot}%{_sysconfdir}/sysconfig/tp-scroll
 
 touch %{buildroot}/dev/imouse
 

Modified: trunk/rpms/tsocks/tsocks.spec
===================================================================
--- trunk/rpms/tsocks/tsocks.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/tsocks/tsocks.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -199,11 +199,9 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_sysconfdir} \
-			%{buildroot}%{_initrddir}
 %makeinstall
-%{__install} -m0644 tsocks.conf.simple.example %{buildroot}%{_sysconfdir}/tsocks.conf
-%{__install} -m0755 tsocksify.sysv %{buildroot}%{_initrddir}/tsocksify
+%{__install} -Dp -m0644 tsocks.conf.simple.example %{buildroot}%{_sysconfdir}/tsocks.conf
+%{__install} -Dp -m0755 tsocksify.sysv %{buildroot}%{_initrddir}/tsocksify
 %{__ln_s} -f tsocks %{buildroot}%{_bindir}/tsocksify
 
 %clean

Modified: trunk/rpms/unrar/unrar.spec
===================================================================
--- trunk/rpms/unrar/unrar.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/unrar/unrar.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -30,8 +30,8 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -m755 -D unrar %{buildroot}%{_bindir}/unrar
-%{__install} -m644 -D %{SOURCE1} %{buildroot}%{_mandir}/man1/unrar.1
+%{__install} -Dp -m755 unrar %{buildroot}%{_bindir}/unrar
+%{__install} -Dp -m644 %{SOURCE1} %{buildroot}%{_mandir}/man1/unrar.1
 
 
 %clean

Modified: trunk/rpms/verynice/verynice.spec
===================================================================
--- trunk/rpms/verynice/verynice.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/verynice/verynice.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -207,7 +207,7 @@
 %{__rm} -rf %{buildroot}
 %{__install} -d -m0755 %{buildroot}%{_initrddir}
 %makeinstall PREFIX=&quot;%{_prefix}&quot; RPM_BUILD_ROOT=&quot;%{buildroot}&quot;
-%{__install} -m0755 verynice.sysv %{buildroot}%{_initrddir}/verynice
+%{__install} -Dp -m0755 verynice.sysv %{buildroot}%{_initrddir}/verynice
 
 ### Clean up buildroot
 %{__rm} -rf %{buildroot}%{_docdir}

Modified: trunk/rpms/vncreflector/vncreflector.spec
===================================================================
--- trunk/rpms/vncreflector/vncreflector.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/vncreflector/vncreflector.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -31,8 +31,7 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_bindir}
-%{__install} -m0755 vncreflector %{buildroot}%{_bindir}
+%{__install} -Dp -m0755 vncreflector %{buildroot}%{_bindir}/vncreflector
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/vrb/vrb.spec
===================================================================
--- trunk/rpms/vrb/vrb.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/vrb/vrb.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -49,7 +49,7 @@
 
 %{__install} -d -m0755 %{buildroot}%{_mandir}/man3/ \
 			%{buildroot}%{_includedir}/libvrb/
-%{__install} -m0644 vrb/man/man3/*.3 %{buildroot}%{_mandir}/man3/
+%{__install} -p -m0644 vrb/man/man3/*.3 %{buildroot}%{_mandir}/man3/
 %{__ln_s} -f %{_includedir}/vrb.h %{buildroot}%{_includedir}/libvrb/
 
 %clean

Modified: trunk/rpms/vtun/vtun.spec
===================================================================
--- trunk/rpms/vtun/vtun.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/vtun/vtun.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -139,9 +139,8 @@
         VAR_DIR=&quot;%{buildroot}%{_localstatedir}&quot; \
 	INSTALL_OWNER=
 
-%{__install} -d -m0755 %{buildroot}%{_initrddir}
-%{__install} -m0755 vtund.sysv %{buildroot}%{_initrddir}/vtund
-#%{__install} -m0755 scripts/vtund.rc.red_hat %{buildroot}%{_initrddir}/vtund
+%{__install} -Dp -m0755 vtund.sysv %{buildroot}%{_initrddir}/vtund
+#%{__install} -Dp -m0755 scripts/vtund.rc.red_hat %{buildroot}%{_initrddir}/vtund
 
 %pre
 if [ ! -e /dev/net/tun ]; then

Modified: trunk/rpms/w32codec/w32codec.spec
===================================================================
--- trunk/rpms/w32codec/w32codec.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/w32codec/w32codec.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -30,7 +30,7 @@
 %install
 %{__rm} -rf %{buildroot}
 %{__install} -d -m0755 %{buildroot}%{_libdir}/win32
-%{__install} -m0644 * %{buildroot}%{_libdir}/win32/
+%{__install} -p -m0644 * %{buildroot}%{_libdir}/win32/
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/white_dune/white_dune.spec
===================================================================
--- trunk/rpms/white_dune/white_dune.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/white_dune/white_dune.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -54,7 +54,7 @@
 Documentatie over het gebruik van dune is ook beschikbaar.
 
 %prep
-%setup -q
+%setup
 
 %build
 %configure \
@@ -70,20 +70,15 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d %{buildroot}%{_bindir}
-%{__install} -d %{buildroot}%{_mandir}/man1
-%{__install} -d %{buildroot}%{_datadir}/misc/white_dune
-%{__install} -d %{buildroot}%{_datadir}/applications
-%{__install} -d %{buildroot}%{_datadir}/icons/Bluecurve/48x48/apps
-%{__install} -m 0755 bin/dune %{buildroot}%{_bindir}/dune
-%{__install} -m 0755 bin/dune4kids %{buildroot}%{_bindir}/dune4kids
-%{__install} -m 0644 man/dune.1 %{buildroot}%{_mandir}/man1/dune.1
-install -m 644 desktop/kde/redhat/dune.desktop %{buildroot}%{_datadir}/applications/dune.desktop
-install -m 644 desktop/kde/dune.png %{buildroot}%{_datadir}/icons/Bluecurve/48x48/apps/dune.png
-install -m 644 desktop/kde/redhat/dune4kids.desktop %{buildroot}%{_datadir}/applications/dune4kids.desktop
-install -m 644 desktop/kde/dune4kids.png %{buildroot}%{_datadir}/icons/Bluecurve/48x48/apps/dune4kids.png
-install -m 755 bin/illegal2vrml %{buildroot}/usr/bin/illegal2vrml
-install -m 644 man/illegal2vrml.1 %{buildroot}%{_mandir}/man1/illegal2vrml.1
+%{__install} -Dp -m0755 bin/dune %{buildroot}%{_bindir}/dune
+%{__install} -Dp -m0755 bin/dune4kids %{buildroot}%{_bindir}/dune4kids
+%{__install} -Dp -m0644 man/dune.1 %{buildroot}%{_mandir}/man1/dune.1
+%{__install} -Dp -m0644 desktop/kde/redhat/dune.desktop %{buildroot}%{_datadir}/applications/dune.desktop
+%{__install} -Dp -m0644 desktop/kde/dune.png %{buildroot}%{_datadir}/icons/Bluecurve/48x48/apps/dune.png
+%{__install} -Dp -m0644 desktop/kde/redhat/dune4kids.desktop %{buildroot}%{_datadir}/applications/dune4kids.desktop
+%{__install} -Dp -m0644 desktop/kde/dune4kids.png %{buildroot}%{_datadir}/icons/Bluecurve/48x48/apps/dune4kids.png
+%{__install} -Dp -m0755 bin/illegal2vrml %{buildroot}/usr/bin/illegal2vrml
+%{__install} -Dp -m0644 man/illegal2vrml.1 %{buildroot}%{_mandir}/man1/illegal2vrml.1
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/widelands/widelands.spec
===================================================================
--- trunk/rpms/widelands/widelands.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/widelands/widelands.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -51,14 +51,11 @@
 %install
 %{__rm} -rf %{buildroot}
 export DESTDIR=%{buildroot}
-%{__install} -d %{buildroot}%{_datadir}/widelands
-%{__install} -d %{buildroot}%{_bindir}
-%{__install} -d %{buildroot}%{_datadir}/applications
 
-%{__install} -s -m 755 widelands.orig %{buildroot}%{_datadir}/widelands/widelands
-%{__install} -m 755 widelands %{buildroot}%{_bindir}/widelands
+%{__install} -Dp -m0755 widelands %{buildroot}%{_bindir}/widelands
+%{__install} -Dp -m0755 widelands.orig %{buildroot}%{_datadir}/widelands/widelands
 %{__cp} -pr fonts maps pics tribes worlds %{buildroot}%{_datadir}/widelands/
-%{__cp} -p widelands.desktop %{buildroot}%{_datadir}/applications/
+%{__install} -Dp -m0644 widelands.desktop %{buildroot}%{_datadir}/applications/widelands.desktop
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -67,7 +64,7 @@
 %defattr(-, root, root, 0755)
 %doc README COPYING AUTHORS
 %{_bindir}/widelands
-%{_datadir}/widelands
+%{_datadir}/widelands/
 %{_datadir}/applications/widelands.desktop
 
 %changelog

Modified: trunk/rpms/x2x/x2x.spec
===================================================================
--- trunk/rpms/x2x/x2x.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/x2x/x2x.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -38,18 +38,16 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_bindir} \
-			%{buildroot}%{_mandir}/man1
-%{__install} -m0755 x2x %{buildroot}%{_bindir}
-%{__install} -m0755 x2x.man %{buildroot}%{_mandir}/man1/x2x.1
+%{__install} -Dp -m0755 x2x %{buildroot}%{_bindir}/x2x
+%{__install} -Dp -m0755 x2x.man %{buildroot}%{_mandir}/man1/x2x.1
 
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
-%{_bindir}/*
-%{_mandir}/man?/*
+%doc %{_mandir}/man1/x2x.1*
+%{_bindir}/x2x
 
 %changelog
 * Mon May 05 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.27-0

Modified: trunk/rpms/xautolock/xautolock.spec
===================================================================
--- trunk/rpms/xautolock/xautolock.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/xautolock/xautolock.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -1,5 +1,4 @@
 # $Id$
-
 # Authority: dries
 
 Summary: Launches a program when your X session has been idle for some time
@@ -28,19 +27,16 @@
 
 %install
 %{__rm} -rf %{buildroot}
-strip xautolock
-mkdir -p %{buildroot}/usr/X11R6/bin/
-mkdir -p %{buildroot}/usr/X11R6/man/man1/
-%{__install} -v -c   xautolock %{buildroot}/usr/X11R6/bin/xautolock
-%{__install} -v -c -m 0444 xautolock._man %{buildroot}/usr/X11R6/man/man1/xautolock.1x
+%{__install} -Dp -m0755 xautolock %{buildroot}%{_prefix}/usr/X11R6/bin/xautolock
+%{__install} -Dp -m0644 xautolock._man %{buildroot}%{_prefix}/X11R6/man/man1/xautolock.1x
 
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
-%{_usr}/X11R6/bin/xautolock
-%{_usr}/X11R6/man/man1/xautolock.1x.gz
+%doc %{_prefix}/X11R6/man/man1/xautolock.1x.gz
+%{_prefix}/X11R6/bin/xautolock
 
 %changelog
 * Thu Feb 26 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; 2.1-2

Modified: trunk/rpms/xmame/xmame.spec
===================================================================
--- trunk/rpms/xmame/xmame.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/xmame/xmame.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -186,9 +186,9 @@
 
 %{__mkdir_p} %{buildroot}%{_bindir}
 for target in %{targets}; do
-    %{__install} -m 0755 x${target}.x11 %{buildroot}%{_bindir}/x${target}
+    %{__install} -p -m0755 x${target}.x11 %{buildroot}%{_bindir}/x${target}
 done
-%{?!_without_mame: %{__install} -m 0755 chdman romcmp xml2info %{buildroot}%{_bindir}/}
+%{?!_without_mame: %{__install} -p -m0755 chdman romcmp xml2info %{buildroot}%{_bindir}/}
 
 # We don't want all the docs
 %{__mkdir_p} _docs/{xmame/html,xmess}
@@ -204,7 +204,7 @@
 # Add all directories
 %{__mkdir_p} %{buildroot}%{_datadir}/xmame/{artwork,roms,samples,snap}
 # The extra dat files
-%{__install} -m 0664 _datfiles/*.dat %{buildroot}%{_datadir}/xmame/
+%{__install} -p -m0664 _datfiles/*.dat %{buildroot}%{_datadir}/xmame/
 # Install the OpenGL cabinets
 %{__cp} -ap src/unix/cab %{buildroot}%{_datadir}/xmame/
 # Uncompress catver.ini (will be in the docs)

Modified: trunk/rpms/xmame-roms/xmame-roms.spec
===================================================================
--- trunk/rpms/xmame-roms/xmame-roms.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/xmame-roms/xmame-roms.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -35,7 +35,7 @@
 
 # Install the ROMs
 %{__mkdir_p} %{buildroot}%{_datadir}/xmame/roms/
-%{__install} -m 644 %{SOURCE0} %{SOURCE1} %{SOURCE2} \
+%{__install} -p -m0644 %{SOURCE0} %{SOURCE1} %{SOURCE2} \
     %{buildroot}%{_datadir}/xmame/roms/
 
 

Modified: trunk/rpms/xpde/xpde.spec
===================================================================
--- trunk/rpms/xpde/xpde.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/xpde/xpde.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -69,7 +69,7 @@
 %{__install} -Dp -m0755 XPde %{buildroot}%{installdir}/bin/XPde
 %{__install} -Dp -m0755 XPwm %{buildroot}%{installdir}/bin/XPwm
 %{__install} -Dp -m0755 stub.sh %{buildroot}%{installdir}/bin/stub.sh
-%{__install} -m0755 *.so* %{buildroot}%{installdir}/bin/
+%{__install} -p -m0755 *.so* %{buildroot}%{installdir}/bin/
 
 %{__install} -Dp -m0755 calculator %{buildroot}%{installdir}/bin/apps/calculator
 %{__install} -Dp -m0755 fileexplorer %{buildroot}%{installdir}/bin/apps/fileexplorer

Modified: trunk/rpms/yum/yum-1.0.spec
===================================================================
--- trunk/rpms/yum/yum-1.0.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/yum/yum-1.0.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -38,7 +38,7 @@
 
 %description
 Yum is a utility that can check for and automatically download and
-%{__install} updated RPM packages. Dependencies are obtained and downloaded 
+install updated RPM packages. Dependencies are obtained and downloaded 
 automatically prompting the user as necessary.
 
 Available rpmbuild rebuild options :
@@ -56,7 +56,7 @@
 %install
 %{__rm} -rf %{buildroot}
 %{__make} DESTDIR=%{buildroot} install
-%{__install} -m 644 %{_sourcedir}/yum-%{distro}.conf \
+%{__install} -p -m0644 %{_sourcedir}/yum-%{distro}.conf \
     %{buildroot}%{_sysconfdir}/yum.conf
 perl -pi -e 's/\$releasever/%{distrover}/g' %{buildroot}%{_sysconfdir}/yum.conf
 perl -pi -e 's/\$basearch/%{distroarch}/g' %{buildroot}%{_sysconfdir}/yum.conf

Modified: trunk/rpms/yum/yum.spec
===================================================================
--- trunk/rpms/yum/yum.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/yum/yum.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -75,7 +75,7 @@
 %{__rm} -rf %{buildroot}
 %{__make} DESTDIR=%{buildroot} install
 %find_lang %{name}
-%{__install} -m 644 %{_sourcedir}/yum-%{distro}.conf %{buildroot}/etc/yum.conf
+%{__install} -p -m0644 %{_sourcedir}/yum-%{distro}.conf %{buildroot}/etc/yum.conf
 %{__cp} -ap %{SOURCE50} %{SOURCE51} %{SOURCE52} %{SOURCE53} .
 
 

Modified: trunk/rpms/yumi/yumi.spec
===================================================================
--- trunk/rpms/yumi/yumi.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/yumi/yumi.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -33,9 +33,9 @@
 
 # The main install
 %{__mkdir_p} %{buildroot}%{_datadir}/yum
-%{__install} -m 0644 yumgui.py progress_bar.py yumi.png \
+%{__install} -p -m0644 yumgui.py progress_bar.py yumi.png \
     %{buildroot}%{_datadir}/yum/
-%{__install} -m 0755 yumi \
+%{__install} -p -m0755 yumi \
     %{buildroot}%{_datadir}/yum/
 # Actually, replace .pyc with .py to make a true .noarch.rpm
 %{__perl} -pi.orig -e 's|\.pyc$|\.py|g' %{buildroot}%{_datadir}/yum/yumi
@@ -43,9 +43,9 @@
 # The helper stuff
 %{__mkdir_p} %{buildroot}%{_bindir}
 %{__ln_s} %{_bindir}/consolehelper %{buildroot}%{_bindir}/yumi
-%{__install} -m 0644 -D yumi.pam \
+%{__install} -Dp -m0644 yumi.pam \
     %{buildroot}%{_sysconfdir}/pam.d/yumi
-%{__install} -m 0644 -D yumi.console.app \
+%{__install} -Dp -m0644 yumi.console.app \
     %{buildroot}%{_sysconfdir}/security/console.apps/yumi
 
 

Modified: trunk/rpms/zaptel/zaptel.spec
===================================================================
--- trunk/rpms/zaptel/zaptel.spec	2005-03-24 15:16:22 UTC (rev 3052)
+++ trunk/rpms/zaptel/zaptel.spec	2005-03-24 17:16:13 UTC (rev 3053)
@@ -71,7 +71,7 @@
     ROOT_PREFIX=%{buildroot}
 
 # Install and generate all the device stuff
-%{__install} -m 644 -D %{SOURCE1} %{buildroot}%{_sysconfdir}/makedev.d/zaptel
+%{__install} -Dp -m0644 %{SOURCE1} %{buildroot}%{_sysconfdir}/makedev.d/zaptel
  
 # Create entry list
 /dev/MAKEDEV \
@@ -80,9 +80,9 @@
     grep -v 'dir /dev$' &gt; device.list
 
 # Install the init script and sysconfig file
-%{__install} -m 0644 -D zaptel.sysconfig \
+%{__install} -Dp -m0644 zaptel.sysconfig \
     %{buildroot}%{_sysconfdir}/sysconfig/zaptel
-%{__install} -m 0755 -D zaptel.init \
+%{__install} -Dp -m0755 zaptel.init \
     %{buildroot}%{_sysconfdir}/rc.d/init.d/zaptel
 
 # Move kernel modules in the &quot;kernel&quot; subdirectory, also get smp right


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001856.html">[svn] r3052 - in trunk/rpms: acroread amsn-skins apserver	armagetronad-moviepack autopsy awstats biew cacti ccal	childsplay cln eternallands fortune freshrpms-release	gdesklets-diskmount gdesklets-rssgrab gtetrinet hardlink	i8kutils j2re kexi kotnet-limiet ldap-account-manager	libdaemon libfame lincvs moagg-data mozilla mplayer-skins muh	nagios neverball ocaml otrs p7zip pine pisg plone rfc rpcmgr	rpmlint rrdtool sarg smart snackamp sphere switcher tightvnc	tinyca tpctl ttcp tuxsaver videolan-client webmin widelands	xine-skins xmame xosview xpde yum
</A></li>
	<LI>Next message: <A HREF="001858.html">[svn] r3054 - in trunk/rpms: . 3ddesktop aterm autossh centericq	esvn gdesklets iozone mod_log_sql perl-Convert-UUlib pfqueue	rootsh smart
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1857">[ date ]</a>
              <a href="thread.html#1857">[ thread ]</a>
              <a href="subject.html#1857">[ subject ]</a>
              <a href="author.html#1857">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
