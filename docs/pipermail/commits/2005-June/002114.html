<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r3312 - in trunk/rpms: 3ddesktop apollon aterm blender boson	cairo dxfscope easysok fltk gambas ghc giftoxic gl-117 gnomba	graphviz gwenview kaffeine kderadiostation kdirstat	kflamesaver kftpgrabber kgeography kig kile kkeyled kleds	kmemaid kmuddy kmyirc knoda knowit konserve kpogre kssh	ksubtile ktechlab kxmleditor lincity lve mathomatic perl-GD	pike pixieplus prima psi root-tail scribus shaaft shalvideo	smb4k spit stellarium tellico tuxpaint tuxsaver vnc2swf	vncselector x11vnc x2x xautolock xlockmore xrestop
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r3312%20-%20in%20trunk/rpms%3A%203ddesktop%20apollon%20aterm%20blender%20boson%0A%09cairo%20dxfscope%20easysok%20fltk%20gambas%20ghc%20giftoxic%20gl-117%20gnomba%0A%09graphviz%20gwenview%20kaffeine%20kderadiostation%20kdirstat%0A%09kflamesaver%20kftpgrabber%20kgeography%20kig%20kile%20kkeyled%20kleds%0A%09kmemaid%20kmuddy%20kmyirc%20knoda%20knowit%20konserve%20kpogre%20kssh%0A%09ksubtile%20ktechlab%20kxmleditor%20lincity%20lve%20mathomatic%20perl-GD%0A%09pike%20pixieplus%20prima%20psi%20root-tail%20scribus%20shaaft%20shalvideo%0A%09smb4k%20spit%20stellarium%20tellico%20tuxpaint%20tuxsaver%20vnc2swf%0A%09vncselector%20x11vnc%20x2x%20xautolock%20xlockmore%20xrestop&In-Reply-To=%3C20050621190212.4AC423180C2%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002113.html">
   <LINK REL="Next"  HREF="002115.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r3312 - in trunk/rpms: 3ddesktop apollon aterm blender boson	cairo dxfscope easysok fltk gambas ghc giftoxic gl-117 gnomba	graphviz gwenview kaffeine kderadiostation kdirstat	kflamesaver kftpgrabber kgeography kig kile kkeyled kleds	kmemaid kmuddy kmyirc knoda knowit konserve kpogre kssh	ksubtile ktechlab kxmleditor lincity lve mathomatic perl-GD	pike pixieplus prima psi root-tail scribus shaaft shalvideo	smb4k spit stellarium tellico tuxpaint tuxsaver vnc2swf	vncselector x11vnc x2x xautolock xlockmore xrestop</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r3312%20-%20in%20trunk/rpms%3A%203ddesktop%20apollon%20aterm%20blender%20boson%0A%09cairo%20dxfscope%20easysok%20fltk%20gambas%20ghc%20giftoxic%20gl-117%20gnomba%0A%09graphviz%20gwenview%20kaffeine%20kderadiostation%20kdirstat%0A%09kflamesaver%20kftpgrabber%20kgeography%20kig%20kile%20kkeyled%20kleds%0A%09kmemaid%20kmuddy%20kmyirc%20knoda%20knowit%20konserve%20kpogre%20kssh%0A%09ksubtile%20ktechlab%20kxmleditor%20lincity%20lve%20mathomatic%20perl-GD%0A%09pike%20pixieplus%20prima%20psi%20root-tail%20scribus%20shaaft%20shalvideo%0A%09smb4k%20spit%20stellarium%20tellico%20tuxpaint%20tuxsaver%20vnc2swf%0A%09vncselector%20x11vnc%20x2x%20xautolock%20xlockmore%20xrestop&In-Reply-To=%3C20050621190212.4AC423180C2%40pooch.vmhosting.org%3E"
       TITLE="[svn] r3312 - in trunk/rpms: 3ddesktop apollon aterm blender boson	cairo dxfscope easysok fltk gambas ghc giftoxic gl-117 gnomba	graphviz gwenview kaffeine kderadiostation kdirstat	kflamesaver kftpgrabber kgeography kig kile kkeyled kleds	kmemaid kmuddy kmyirc knoda knowit konserve kpogre kssh	ksubtile ktechlab kxmleditor lincity lve mathomatic perl-GD	pike pixieplus prima psi root-tail scribus shaaft shalvideo	smb4k spit stellarium tellico tuxpaint tuxsaver vnc2swf	vncselector x11vnc x2x xautolock xlockmore xrestop">packagers at lists.rpmforge.net
       </A><BR>
    <I>Tue Jun 21 21:02:12 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002113.html">[svn] r3311 - trunk/rpms/php-eaccelerator
</A></li>
        <LI>Next message: <A HREF="002115.html">[svn] r3313 - in trunk/rpms: krusader perl-TimeDate texmacs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2114">[ date ]</a>
              <a href="thread.html#2114">[ thread ]</a>
              <a href="subject.html#2114">[ subject ]</a>
              <a href="author.html#2114">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dries
Date: 2005-06-21 21:02:02 +0200 (Tue, 21 Jun 2005)
New Revision: 3312

Modified:
   trunk/rpms/3ddesktop/3ddesktop.spec
   trunk/rpms/apollon/apollon.spec
   trunk/rpms/aterm/aterm.spec
   trunk/rpms/blender/blender.spec
   trunk/rpms/boson/boson.spec
   trunk/rpms/cairo/cairo.spec
   trunk/rpms/dxfscope/dxfscope.spec
   trunk/rpms/easysok/easysok.spec
   trunk/rpms/fltk/fltk.spec
   trunk/rpms/gambas/gambas.spec
   trunk/rpms/ghc/ghc.spec
   trunk/rpms/giftoxic/giftoxic.spec
   trunk/rpms/gl-117/gl-117.spec
   trunk/rpms/gnomba/gnomba.spec
   trunk/rpms/graphviz/graphviz.spec
   trunk/rpms/gwenview/gwenview.spec
   trunk/rpms/kaffeine/kaffeine.spec
   trunk/rpms/kderadiostation/kderadiostation.spec
   trunk/rpms/kdirstat/kdirstat.spec
   trunk/rpms/kflamesaver/kflamesaver.spec
   trunk/rpms/kftpgrabber/kftpgrabber.spec
   trunk/rpms/kgeography/kgeography.spec
   trunk/rpms/kig/kig.spec
   trunk/rpms/kile/kile.spec
   trunk/rpms/kkeyled/kkeyled.spec
   trunk/rpms/kleds/kleds.spec
   trunk/rpms/kmemaid/kmemaid.spec
   trunk/rpms/kmuddy/kmuddy.spec
   trunk/rpms/kmyirc/kmyirc.spec
   trunk/rpms/knoda/knoda.spec
   trunk/rpms/knowit/knowit.spec
   trunk/rpms/konserve/konserve.spec
   trunk/rpms/kpogre/kpogre.spec
   trunk/rpms/kssh/kssh.spec
   trunk/rpms/ksubtile/ksubtile.spec
   trunk/rpms/ktechlab/ktechlab.spec
   trunk/rpms/kxmleditor/kxmleditor.spec
   trunk/rpms/lincity/lincity.spec
   trunk/rpms/lve/lve.spec
   trunk/rpms/mathomatic/mathomatic.spec
   trunk/rpms/perl-GD/perl-GD-1.x.spec
   trunk/rpms/pike/pike.spec
   trunk/rpms/pixieplus/pixieplus.spec
   trunk/rpms/prima/prima.spec
   trunk/rpms/psi/psi.spec
   trunk/rpms/root-tail/root-tail.spec
   trunk/rpms/scribus/scribus.spec
   trunk/rpms/shaaft/shaaft.spec
   trunk/rpms/shalvideo/shalvideo.spec
   trunk/rpms/smb4k/smb4k.spec
   trunk/rpms/spit/spit.spec
   trunk/rpms/stellarium/stellarium.spec
   trunk/rpms/tellico/tellico.spec
   trunk/rpms/tuxpaint/tuxpaint.spec
   trunk/rpms/tuxsaver/tuxsaver.spec
   trunk/rpms/vnc2swf/vnc2swf.spec
   trunk/rpms/vncselector/vncselector.spec
   trunk/rpms/x11vnc/x11vnc.spec
   trunk/rpms/x2x/x2x.spec
   trunk/rpms/xautolock/xautolock.spec
   trunk/rpms/xlockmore/xlockmore.spec
   trunk/rpms/xrestop/xrestop.spec
Log:
fc4 fixes

Modified: trunk/rpms/3ddesktop/3ddesktop.spec
===================================================================
--- trunk/rpms/3ddesktop/3ddesktop.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/3ddesktop/3ddesktop.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -27,7 +27,7 @@
 Source: <A HREF="http://dl.sf.net/desk3d/3ddesktop-%{version">http://dl.sf.net/desk3d/3ddesktop-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: gcc-c++, XFree86-devel, zlib-devel
+BuildRequires: gcc-c++, zlib-devel
 BuildRequires: imlib2-devel, qt-devel, kdelibs-devel
 %{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGL, XFree86-Mesa-libGLU}
 %{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU, xorg-x11-Mesa-libGL}

Modified: trunk/rpms/apollon/apollon.spec
===================================================================
--- trunk/rpms/apollon/apollon.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/apollon/apollon.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -6,6 +6,17 @@
 
 # ExcludeDist: el3 fc1
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+# %{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+%{?yd3:%define _without_xorg 1}
+
 %define desktop_vendor rpmforge
 
 Summary: KDE filesharing client which uses gift
@@ -20,10 +31,13 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: gcc, make, libpng-devel, libart_lgpl-devel
-BuildRequires: arts-devel, gcc-c++, gettext, XFree86-devel
+BuildRequires: arts-devel, gcc-c++, gettext
 BuildRequires: zlib-devel, qt-devel, libjpeg-devel
 BuildRequires: kdelibs-devel, gift-devel, desktop-file-utils
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 %{?el4:BuildRequires: libselinux-devel}
+%{?fc4:BuildRequires: libselinux-devel}
 %{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
 Requires: kdelibs, gift

Modified: trunk/rpms/aterm/aterm.spec
===================================================================
--- trunk/rpms/aterm/aterm.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/aterm/aterm.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -6,6 +6,15 @@
 %{?rh7:%define _without_freedesktop 1}
 %{?el2:%define _without_freedesktop 1}
 
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+# %{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+%{?yd3:%define _without_xorg 1}
+
 %define desktop_vendor rpmforge
 
 Summary: Graphical VT102 emulator
@@ -19,7 +28,8 @@
 Source: <A HREF="http://dl.sf.net/aterm/aterm-%{version">http://dl.sf.net/aterm/aterm-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: XFree86-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 
 %description

Modified: trunk/rpms/blender/blender.spec
===================================================================
--- trunk/rpms/blender/blender.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/blender/blender.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -7,6 +7,15 @@
 %{?el2:%define _without_freedesktop 1}
 %{?rh6:%define _without_freedesktop 1}
 
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+%{?yd3:%define _without_xorg 1}
+
 %define desktop_vendor rpmforge
 
 %define real_version 2.36
@@ -24,10 +33,12 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: zlib-devel, libjpeg-devel, libpng-devel, glut, python-devel
-BuildRequires: XFree86-devel, openssl-devel, SDL-devel, libvorbis-devel
+BuildRequires: openssl-devel, SDL-devel, libvorbis-devel
 BuildRequires: libogg-devel esound-devel, openal-devel, libtool, gettext
 BuildRequires: scons, gcc-c++
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 Blender is the essential software solution you need for 3D, from modeling,

Modified: trunk/rpms/boson/boson.spec
===================================================================
--- trunk/rpms/boson/boson.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/boson/boson.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -22,11 +22,11 @@
 Source: <A HREF="http://dl.sf.net/boson/boson-all-%{version">http://dl.sf.net/boson/boson-all-%{version</A>}.tar.bz2
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: python-devel, gcc-c++, XFree86-devel, zlib-devel, qt-devel
+BuildRequires: python-devel, gcc-c++, zlib-devel, qt-devel
 BuildRequires: kdelibs-devel, gettext, libart_lgpl-devel, libjpeg-devel
 BuildRequires: libpng-devel, arts-devel, lib3ds
-%{?_without_xorg:BuildRequires: XFree86-Mesa-libGLU}
-%{!?_without_xorg:BuildRequires: xorg-x11-Mesa-libGLU}
+%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
 
 %description
 Boson is an OpenGL real-time strategy game, with the feeling of

Modified: trunk/rpms/cairo/cairo.spec
===================================================================
--- trunk/rpms/cairo/cairo.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/cairo/cairo.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -2,6 +2,17 @@
 # Authority: dag
 # Upstream: &lt;cairo$cairographics,org&gt;
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+# %{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+%{?yd3:%define _without_xorg 1}
+
 Summary: Anti-aliased vector-based rendering for X
 Name: cairo
 Version: 0.2.0
@@ -13,9 +24,11 @@
 Source: <A HREF="http://cairo.freedesktop.org/snapshots/cairo-%{version">http://cairo.freedesktop.org/snapshots/cairo-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: pkgconfig, freetype-devel, fontconfig-devel, libpixman-devel, XFree86-devel
+BuildRequires: pkgconfig, freetype-devel, fontconfig-devel, libpixman-devel
 BuildRequires: libpng-devel
 #BuildRequires: glitz-devel, libxcb-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 Cairo provides anti-aliased vector-based rendering for X. Paths consist

Modified: trunk/rpms/dxfscope/dxfscope.spec
===================================================================
--- trunk/rpms/dxfscope/dxfscope.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/dxfscope/dxfscope.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -4,6 +4,17 @@
 # Screenshot: <A HREF="http://wildspark.com/dxfscope/screenshot-city-thumb.png">http://wildspark.com/dxfscope/screenshot-city-thumb.png</A>
 # ScreenshotURL: <A HREF="http://wildspark.com/dxfscope/">http://wildspark.com/dxfscope/</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+%{?yd3:%define _without_xorg 1}
+
 Summary: Viewer for DXF drawings
 Name: dxfscope
 Version: 0.2
@@ -15,7 +26,8 @@
 Source: <A HREF="http://wildspark.com/dxfscope/dxfscope-current.tar.gz">http://wildspark.com/dxfscope/dxfscope-current.tar.gz</A>
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: XFree86-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 DXFscope is a viewer for DXF drawings. It supports the most commonly used

Modified: trunk/rpms/easysok/easysok.spec
===================================================================
--- trunk/rpms/easysok/easysok.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/easysok/easysok.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -1,6 +1,16 @@
 # $Id$
 # Authority: dries
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: sokoban game
 Name: easysok
 Version: 0.3.3
@@ -15,7 +25,9 @@
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel
 BuildRequires: libpng-devel, arts-devel, zlib-devel
 BuildRequires: kdelibs-devel, gcc, make, gcc-c++
-BuildRequires: XFree86-devel, qt-devel, fam-devel
+BuildRequires: qt-devel, fam-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 %{?el4:BuildRequires: libselinux-devel}
 %{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}

Modified: trunk/rpms/fltk/fltk.spec
===================================================================
--- trunk/rpms/fltk/fltk.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/fltk/fltk.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -4,6 +4,17 @@
 
 # Screenshot: <A HREF="http://www.fltk.org/images/fluid.gif">http://www.fltk.org/images/fluid.gif</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
+
 Summary: Cross-platform C++ GUI toolkit
 Name: fltk
 Version: 1.1.6
@@ -15,8 +26,10 @@
 Source: <A HREF="http://dl.sf.net/fltk/fltk-%{version">http://dl.sf.net/fltk/fltk-%{version</A>}-source.tar.bz2
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: gcc, gcc-c++, zlib-devel, XFree86-devel
+BuildRequires: gcc, gcc-c++, zlib-devel
 BuildRequires: libjpeg-devel, libpng-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 FLTK (pronounced &quot;fulltick&quot;) is a cross-platform C++ GUI toolkit for

Modified: trunk/rpms/gambas/gambas.spec
===================================================================
--- trunk/rpms/gambas/gambas.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/gambas/gambas.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -4,8 +4,18 @@
 # ScreenshotURL: <A HREF="http://gambas.sourceforge.net/screenshots.html">http://gambas.sourceforge.net/screenshots.html</A>
 
 # It compiles, but it does not work on my machine
-# Tag: test
+Tag: test
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 %define real_version 1.0
 
 Summary: IDE based on a basic interpreter with object extensions
@@ -23,9 +33,11 @@
 Patch1: automake.patch
 BuildRequires: kdelibs-devel, libjpeg-devel, automake, autoconf
 BuildRequires: gcc, make, qt-devel, SDL-devel, mysql-devel
-BuildRequires: postgresql-devel, XFree86-devel, zlib-devel
+BuildRequires: postgresql-devel, zlib-devel
 BuildRequires: glibc-headers, sqlite-devel, gcc-c++, automake15
 BuildRequires: libtool
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 Gambas is a free development environment based on a Basic interpreter

Modified: trunk/rpms/ghc/ghc.spec
===================================================================
--- trunk/rpms/ghc/ghc.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/ghc/ghc.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -1,6 +1,16 @@
 # $Id$
 # Authority: dries
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 # Warning: you need a lot of diskspace if you want to build this rpm!
 
 Summary: The Glasgow Haskell Compiler
@@ -17,12 +27,9 @@
 BuildRequires: readline-devel, readline
 BuildRequires: m4, python, perl 
 BuildRequires: python-devel, docbook-dtds
-BuildRequires: openjade, jadetex, XFree86-devel
-%{!?dist:BuildRequires: xorg-x11-Mesa-libGL, xorg-x11-Mesa-libGLU}
-%{?el4:BuildRequires: xorg-x11-Mesa-libGL, xorg-x11-Mesa-libGLU}
-%{?fc3:BuildRequires: xorg-x11-Mesa-libGL, xorg-x11-Mesa-libGLU}
-%{?fc2:BuildRequires: xorg-x11-Mesa-libGL, xorg-x11-Mesa-libGLU}
-%{?fc1:BuildRequires: XFree86-Mesa-libGL, XFree86-Mesa-libGLU}
+BuildRequires: openjade, jadetex
+%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU, XFree86-Mesa-libGL}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU, xorg-x11-Mesa-libGL}
 Requires: readline
 
 %description

Modified: trunk/rpms/giftoxic/giftoxic.spec
===================================================================
--- trunk/rpms/giftoxic/giftoxic.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/giftoxic/giftoxic.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -4,6 +4,17 @@
 # Upstream: 
 # Screenshot: <A HREF="http://giftoxic.sourceforge.net/data/images/screenie-transfer.png">http://giftoxic.sourceforge.net/data/images/screenie-transfer.png</A>
 # ScreenshotURL: <A HREF="http://giftoxic.sourceforge.net/index.php?screenshots">http://giftoxic.sourceforge.net/index.php?screenshots</A>
+
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
  
 %define real_name giFToxic
 
@@ -18,7 +29,9 @@
 Source: <A HREF="http://dl.sf.net/giftoxic/giFToxic-%{version">http://dl.sf.net/giftoxic/giFToxic-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: gift-devel, gtk2-devel, XFree86-devel, gettext, bison
+BuildRequires: gift-devel, gtk2-devel, gettext, bison
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: gift
 
 %description

Modified: trunk/rpms/gl-117/gl-117.spec
===================================================================
--- trunk/rpms/gl-117/gl-117.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/gl-117/gl-117.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -21,6 +21,7 @@
 BuildRequires: SDL-devel, SDL_mixer-devel, gcc-c++
 %{!?dist:BuildRequires: freeglut-devel, xorg-x11-devel}
 %{?el4:BuildRequires: freeglut-devel, xorg-x11-devel}
+%{?fc4:BuildRequires: freeglut-devel, xorg-x11-devel}
 %{?fc3:BuildRequires: freeglut-devel, xorg-x11-devel}
 %{?fc2:BuildRequires: freeglut-devel, xorg-x11-devel}
 %{?fc1:BuildRequires: freeglut-devel, XFree86-devel}

Modified: trunk/rpms/gnomba/gnomba.spec
===================================================================
--- trunk/rpms/gnomba/gnomba.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/gnomba/gnomba.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -18,7 +18,7 @@
 Source: <A HREF="http://dl.sf.net/gnomba/gnomba-%{version">http://dl.sf.net/gnomba/gnomba-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gtk+-devel, readline-devel, gnome-libs-devel
-BuildRequires: gettext
+BuildRequires: gettext, automake, autoconf, texinfo
 
 %description
 gnomba is a GUI network browser using the smb protocol.  It allows users

Modified: trunk/rpms/graphviz/graphviz.spec
===================================================================
--- trunk/rpms/graphviz/graphviz.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/graphviz/graphviz.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -1,6 +1,16 @@
 # $Id$
 # Authority: dag
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 %{?rh9:%define _without_tcltk_devel 1}
 %{?rh8:%define _without_tcltk_devel 1}
 %{?rh7:%define _without_tcltk_devel 1}
@@ -17,13 +27,15 @@
 Source: <A HREF="http://www.graphviz.org/pub/graphviz/ARCHIVE/graphviz-%{version">http://www.graphviz.org/pub/graphviz/ARCHIVE/graphviz-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: XFree86-devel, freetype-devel &gt;= 2.0, bison, m4, flex
+BuildRequires: freetype-devel &gt;= 2.0, bison, m4, flex
 BuildRequires: libjpeg-devel, libpng-devel, zlib-devel, expat-devel, gcc-c++
 #BuildRequires: /bin/ksh
 %{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3, tk-devel}
 %{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3, tk}
 # needs version 2.0.29 of gdlib but fc3 contains 2.0.28
 # BuildRequires: gd-progs, gd-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 A collection of tools and tcl packages for the manipulation and layout

Modified: trunk/rpms/gwenview/gwenview.spec
===================================================================
--- trunk/rpms/gwenview/gwenview.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/gwenview/gwenview.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -3,6 +3,16 @@
 # Screenshot: <A HREF="http://gwenview.sourceforge.net/screenshots/shots/thumbs/6.png">http://gwenview.sourceforge.net/screenshots/shots/thumbs/6.png</A>
 # ScreenshotURL: <A HREF="http://gwenview.sourceforge.net/screenshots/">http://gwenview.sourceforge.net/screenshots/</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 ### Temporary exclude as it loops endlessly in configure on x86_64
 # ExcludeDist: el4
 
@@ -19,10 +29,12 @@
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel
 BuildRequires: libpng-devel, arts-devel, zlib-devel
 BuildRequires: kdelibs-devel, gcc, make, gcc-c++
-BuildRequires: XFree86-devel, qt-devel
+BuildRequires: qt-devel
 %{?el4:BuildRequires:libselinux-devel}
 %{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 Gwenview can load and save all image formats supported by KDE and 

Modified: trunk/rpms/kaffeine/kaffeine.spec
===================================================================
--- trunk/rpms/kaffeine/kaffeine.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kaffeine/kaffeine.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -6,6 +6,16 @@
 
 ##ExcludeDist: el3 fc1
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Media player based on xine-lib
 Name: kaffeine
 Version: 0.6
@@ -18,12 +28,14 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: gcc, make, libpng-devel, libart_lgpl-devel
-BuildRequires: arts-devel, gcc-c++, gettext, XFree86-devel
+BuildRequires: arts-devel, gcc-c++, gettext
 BuildRequires: zlib-devel, qt-devel, libjpeg-devel
 BuildRequires: kdelibs-devel, desktop-file-utils
 %{?el4:BuildRequires: libselinux-devel}
 %{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 BuildRequires: xine-lib-devel
 
 %description

Modified: trunk/rpms/kderadiostation/kderadiostation.spec
===================================================================
--- trunk/rpms/kderadiostation/kderadiostation.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kderadiostation/kderadiostation.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -7,6 +7,16 @@
 
 # ExcludeDist: fc1 el3
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Tool which presents you a list of internet streaming radio stations
 Name: kderadiostation
 Version: 0.6
@@ -18,11 +28,13 @@
 Source: <A HREF="http://kderadiostation.coolprojects.org/source/kderadiostation-%{version">http://kderadiostation.coolprojects.org/source/kderadiostation-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gcc-c++, gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
-BuildRequires: XFree86-devel, zlib-devel
+BuildRequires: zlib-devel
 BuildRequires: arts-devel, qt-devel, kdelibs-devel
 %{?el4:BuildRequires: libselinux-devel}
 %{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 This tool presents you a list of internet streaming radio stations. Just

Modified: trunk/rpms/kdirstat/kdirstat.spec
===================================================================
--- trunk/rpms/kdirstat/kdirstat.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kdirstat/kdirstat.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -4,6 +4,16 @@
 # Screenshot: <A HREF="http://kdirstat.sourceforge.net/thumbnails/kdirstat-main.jpg">http://kdirstat.sourceforge.net/thumbnails/kdirstat-main.jpg</A>
 # ScreenshotURL: <A HREF="http://kdirstat.sourceforge.net/kdirstat.html#screen_shots">http://kdirstat.sourceforge.net/kdirstat.html#screen_shots</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Graphical disk usage utility
 Name: kdirstat
 Version: 2.4.0
@@ -17,12 +27,14 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gcc, make, libpng-devel
 BuildRequires: libart_lgpl-devel, arts-devel
-BuildRequires: gcc-c++, gettext, XFree86-devel
+BuildRequires: gcc-c++, gettext
 BuildRequires: zlib-devel, qt-devel
 BuildRequires: libjpeg-devel, kdelibs-devel
 %{?el4:BuildRequires:libselinux-devel}
 %{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: kdelibs, qt
 
 

Modified: trunk/rpms/kflamesaver/kflamesaver.spec
===================================================================
--- trunk/rpms/kflamesaver/kflamesaver.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kflamesaver/kflamesaver.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -2,6 +2,16 @@
 # Authority: dries
 # Screenshot: <A HREF="http://kde-apps.org/content/pics/4485-1.png">http://kde-apps.org/content/pics/4485-1.png</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Screensaver with flames
 Name: kflamesaver
 Version: 0.1
@@ -15,12 +25,13 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel
 BuildRequires: libpng-devel, arts-devel, zlib-devel, kdelibs-devel
-BuildRequires: gcc, make, gcc-c++, XFree86-devel, qt-devel
+BuildRequires: gcc, make, gcc-c++, qt-devel
 %{?el4:BuildRequires:libselinux-devel}
 %{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
-
 %description
 A screensaver for KDE with flame effects like in Twin Peaks.
 

Modified: trunk/rpms/kftpgrabber/kftpgrabber.spec
===================================================================
--- trunk/rpms/kftpgrabber/kftpgrabber.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kftpgrabber/kftpgrabber.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -1,6 +1,16 @@
 # $Id$
 # Authority: dag
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 %define desktop_vendor rpmforge
 
 Summary: Graphical FTP client for the K Desktop Environment.
@@ -16,7 +26,9 @@
 
 BuildRequires: qt-devel &gt;= 3.3.2, kdelibs-devel &gt;= 3.2.0, openssl-devel &gt;= 0.9.7
 BuildRequires: libpng-devel, libart_lgpl-devel, desktop-file-utils, gcc-c++
-BuildRequires: arts-devel, libjpeg-devel, gettext, XFree86-devel, zlib-devel
+BuildRequires: arts-devel, libjpeg-devel, gettext, zlib-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 %{?el4:BuildRequires: libselinux-devel}
 %{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}

Modified: trunk/rpms/kgeography/kgeography.spec
===================================================================
--- trunk/rpms/kgeography/kgeography.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kgeography/kgeography.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -7,6 +7,16 @@
 
 # ExcludeDist: el3 fc2 fc1
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Geography learning tool
 Name: kgeography
 Version: 0.3
@@ -22,8 +32,10 @@
 BuildRequires: libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, gcc
 BuildRequires: kdelibs-devel, make, gcc-c++
-BuildRequires: XFree86-devel, qt-devel
+BuildRequires: qt-devel
 BuildRequires: desktop-file-utils, gcc-g77, flex
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 KGeography is a geography learning tool. Right now it has three usage modes: 

Modified: trunk/rpms/kig/kig.spec
===================================================================
--- trunk/rpms/kig/kig.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kig/kig.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -5,6 +5,16 @@
 
 # ExcludeDist: fc3 fc2 fc1 el3
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Explore mathematical concepts with interactive geometry
 Name: kig
 Version: 0.9
@@ -17,8 +27,10 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
-BuildRequires: arts-devel, kdelibs-devel gcc, make, gcc-c++, XFree86-devel
+BuildRequires: arts-devel, kdelibs-devel gcc, make, gcc-c++
 BuildRequires: zlib-devel, qt-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: kdelibs
 #todo: needed for python scripting
 #BuildRequires:	boost-python-devel

Modified: trunk/rpms/kile/kile.spec
===================================================================
--- trunk/rpms/kile/kile.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kile/kile.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -6,6 +6,16 @@
 
 # ExcludeDist: el3 fc1
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: User friendly TeX/LaTeX editor
 Name: kile
 Version: 1.8
@@ -18,10 +28,12 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make, gcc-c++
-BuildRequires: XFree86-devel, qt-devel
+BuildRequires: qt-devel
 %{?el4:BuildRequires: libselinux-devel}
 %{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: kdelibs
 
 %description

Modified: trunk/rpms/kkeyled/kkeyled.spec
===================================================================
--- trunk/rpms/kkeyled/kkeyled.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kkeyled/kkeyled.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -4,6 +4,16 @@
 # Screenshot: <A HREF="http://www.truesoft.ch/dieter/kkeyled/help/en/HTML/screenshot.png">http://www.truesoft.ch/dieter/kkeyled/help/en/HTML/screenshot.png</A>
 # ScreenshotURL: <A HREF="http://www.truesoft.ch/dieter/kkeyled-screens.html">http://www.truesoft.ch/dieter/kkeyled-screens.html</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Displays the LED states of the keyboard
 Name: kkeyled
 Version: 0.8.11
@@ -16,9 +26,11 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: gcc, make, libpng-devel, libart_lgpl-devel
-BuildRequires: arts-devel, gcc-c++, gettext, XFree86-devel
+BuildRequires: arts-devel, gcc-c++, gettext
 BuildRequires: zlib-devel, qt-devel, libjpeg-devel
 BuildRequires: kdelibs-devel, automake, autoconf
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 KKeyled is a KDE panel tray widget which displays the LED states of

Modified: trunk/rpms/kleds/kleds.spec
===================================================================
--- trunk/rpms/kleds/kleds.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kleds/kleds.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -4,6 +4,16 @@
 # Screenshot: <A HREF="http://www.hansmatzen.de/pics/kleds_ss01.png">http://www.hansmatzen.de/pics/kleds_ss01.png</A>
 # ScreenshotURL: <A HREF="http://www.hansmatzen.de/english/kleds.html#screenshots">http://www.hansmatzen.de/english/kleds.html#screenshots</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Shows the status of the keyboard indicator LEDs in the KDE panel
 Name: kleds
 Version: 0.8.0
@@ -14,9 +24,11 @@
 
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 Source: <A HREF="http://www.hansmatzen.de/software/kleds/kleds-%{version">http://www.hansmatzen.de/software/kleds/kleds-%{version</A>}.tar.bz2
-BuildRequires: gcc, gcc-c++, qt-devel, kdelibs-devel, XFree86-devel
+BuildRequires: gcc, gcc-c++, qt-devel, kdelibs-devel
 BuildRequires: zlib-devel, libart_lgpl-devel, make, arts-devel, gettext
 BuildRequires: libpng-devel, libjpeg-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 KLeds is a little program for the KDE Desktop Environment. It shows 

Modified: trunk/rpms/kmemaid/kmemaid.spec
===================================================================
--- trunk/rpms/kmemaid/kmemaid.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kmemaid/kmemaid.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -5,6 +5,16 @@
 # Screenshot: <A HREF="http://memaid.sourceforge.net/screenshoots/kmemaid_screenshots/thumbs/edit_elements_correct.png">http://memaid.sourceforge.net/screenshoots/kmemaid_screenshots/thumbs/edit_elements_correct.png</A>
 # ScreenshotURL: <A HREF="http://memaid.sourceforge.net/screenshoots/kmemaid_screenshots/">http://memaid.sourceforge.net/screenshoots/kmemaid_screenshots/</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Helps you to memorise question/answer pairs
 Name: kmemaid
 Version: 0.4.7.0
@@ -17,10 +27,12 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make
-BuildRequires: gcc-c++, XFree86-devel, qt-devel
+BuildRequires: gcc-c++, qt-devel
 %{?el4:BuildRequires:libselinux-devel}
 %{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: kdelibs
 
 %description

Modified: trunk/rpms/kmuddy/kmuddy.spec
===================================================================
--- trunk/rpms/kmuddy/kmuddy.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kmuddy/kmuddy.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -6,6 +6,16 @@
 
 # ExcludeDist: el3
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: MUD (multi user dungeon) client
 Name: kmuddy
 Version: 0.7.1
@@ -19,10 +29,12 @@
 
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make
-BuildRequires: gcc-c++, XFree86-devel, qt-devel &gt;= 3.2
+BuildRequires: gcc-c++, qt-devel &gt;= 3.2
 %{?el4:BuildRequires: libselinux-devel}
 %{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 Kmuddy is a MUD client for KDE. A MUD is a multi user dungeon, a 

Modified: trunk/rpms/kmyirc/kmyirc.spec
===================================================================
--- trunk/rpms/kmyirc/kmyirc.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kmyirc/kmyirc.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -4,6 +4,16 @@
 # Screenshot: <A HREF="http://www.kmyirc.de/images/screenshots/thumb_kmyirc-01.png">http://www.kmyirc.de/images/screenshots/thumb_kmyirc-01.png</A>
 # ScreenshotURL: <A HREF="http://www.kmyirc.de/screenshots.php?handed=0">http://www.kmyirc.de/screenshots.php?handed=0</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Internet Relay Chat client for KDE
 Name: kmyirc
 Version: 0.2.9
@@ -15,11 +25,13 @@
 Source: <A HREF="http://dl.sf.net/kmyirc/kmyirc-%{version">http://dl.sf.net/kmyirc/kmyirc-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: libart_lgpl-devel, gettext, arts-devel, libjpeg-devel
-BuildRequires: libpng-devel, XFree86-devel, gcc, gcc-c++, make
-BuildRequires: kdelibs-devel, qt-devel, zlib-devel, XFree86-devel
+BuildRequires: libpng-devel, gcc, gcc-c++, make
+BuildRequires: kdelibs-devel, qt-devel, zlib-devel
 %{?el4:BuildRequires:libselinux-devel}
 %{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 An Internet Relay Chat (IRC) client for KDE.

Modified: trunk/rpms/knoda/knoda.spec
===================================================================
--- trunk/rpms/knoda/knoda.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/knoda/knoda.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -7,6 +7,16 @@
 
 # ExcludeDist: el3 fc1
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Database frontend
 Name: knoda
 Version: 0.7.3
@@ -19,13 +29,15 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gcc, make, libpng-devel
 BuildRequires: libart_lgpl-devel, arts-devel
-BuildRequires: gcc-c++, gettext, XFree86-devel
+BuildRequires: gcc-c++, gettext
 BuildRequires: zlib-devel, qt-devel, libjpeg-devel
 BuildRequires: kdelibs-devel, hk_classes
 BuildRequires: python-devel, python
 %{?el4:BuildRequires: libselinux-devel}
 %{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 knoda is a database frontend for KDE. It is based on hk_classes. 

Modified: trunk/rpms/knowit/knowit.spec
===================================================================
--- trunk/rpms/knowit/knowit.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/knowit/knowit.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -4,6 +4,16 @@
 # Screenshot: <A HREF="http://knowit.sourceforge.net/images/knowit.png">http://knowit.sourceforge.net/images/knowit.png</A>
 # ScreenshotURL: <A HREF="http://knowit.sourceforge.net/screenshots.html">http://knowit.sourceforge.net/screenshots.html</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Tool for managing notes
 Name: knowit
 Version: 0.10
@@ -16,10 +26,12 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make
-BuildRequires: gcc-c++, XFree86-devel, qt-devel
+BuildRequires: gcc-c++, qt-devel
 %{?el4:BuildRequires:libselinux-devel}
 %{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 KnowIt is a tool for managing notes. Notes are organized in a tree-like

Modified: trunk/rpms/konserve/konserve.spec
===================================================================
--- trunk/rpms/konserve/konserve.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/konserve/konserve.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -6,6 +6,16 @@
 
 # ExcludeDist: el3 fc1
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Small backup application
 Name: konserve
 Version: 0.10.3
@@ -18,10 +28,12 @@
 Source: <A HREF="http://dl.sf.net/konserve/konserve-%{version">http://dl.sf.net/konserve/konserve-%{version</A>}.tar.bz2
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make, gcc-c++
-BuildRequires: XFree86-devel, qt-devel
+BuildRequires: qt-devel
 %{?el4:BuildRequires: libselinux-devel}
 %{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: kdelibs
 
 %description

Modified: trunk/rpms/kpogre/kpogre.spec
===================================================================
--- trunk/rpms/kpogre/kpogre.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kpogre/kpogre.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -7,6 +7,16 @@
 
 %define real_version 1.3.0
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: PostgreSQL graphical frontend
 Name: kpogre
 Version: 1.3.0
@@ -20,9 +30,11 @@
 # Patch: fc2-compile-fixes.patch
 
 BuildRequires: gcc, make, libpng-devel, libart_lgpl-devel
-BuildRequires: arts-devel, gcc-c++, gettext, XFree86-devel
+BuildRequires: arts-devel, gcc-c++, gettext
 BuildRequires: zlib-devel, qt-devel, libjpeg-devel, kdelibs-devel
 BuildRequires: postgresql-devel, libpqxx, libpqxx-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 KPoGre is a graphical client for PostgreSQL databases. All important

Modified: trunk/rpms/kssh/kssh.spec
===================================================================
--- trunk/rpms/kssh/kssh.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kssh/kssh.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -4,6 +4,16 @@
 # Screenshot: <A HREF="http://kssh.sourceforge.net/foto2.png">http://kssh.sourceforge.net/foto2.png</A>
 # ScreenshotURL: <A HREF="http://kssh.sourceforge.net/#screenshots">http://kssh.sourceforge.net/#screenshots</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: KDE front-end to ssh
 Name: kssh
 Version: 0.7
@@ -16,10 +26,12 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make, gcc-c++
-BuildRequires: XFree86-devel, qt-devel, fam-devel
+BuildRequires: qt-devel, fam-devel
 %{?el4:BuildRequires:libselinux-devel}
 %{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: kdelibs
 
 %description

Modified: trunk/rpms/ksubtile/ksubtile.spec
===================================================================
--- trunk/rpms/ksubtile/ksubtile.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/ksubtile/ksubtile.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -7,6 +7,16 @@
 
 %define real_version 1.0-1
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Program for editing subtitles in the SRT format
 Name: ksubtile
 Version: 1.0.1
@@ -19,10 +29,12 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make, gcc-c++
-BuildRequires: XFree86-devel, qt-devel, fam-devel
+BuildRequires: qt-devel, fam-devel
 %{?el4:BuildRequires:libselinux-devel}
 %{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: kdelibs
 
 

Modified: trunk/rpms/ktechlab/ktechlab.spec
===================================================================
--- trunk/rpms/ktechlab/ktechlab.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/ktechlab/ktechlab.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -6,6 +6,16 @@
 
 # ExcludeDist: el3
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Development and simulation of microcontrollers and electronic circuits
 Name: ktechlab
 Version: 0.1.2
@@ -18,11 +28,13 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: gpsim-devel, gcc, make, libpng-devel, libart_lgpl-devel
-BuildRequires: arts-devel, gcc-c++, gettext, XFree86-devel
+BuildRequires: arts-devel, gcc-c++, gettext
 BuildRequires: zlib-devel, qt-devel, libjpeg-devel
 BuildRequires: kdelibs-devel, desktop-file-utils
 %{?el4:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: gputils, gpsim
 
 %description

Modified: trunk/rpms/kxmleditor/kxmleditor.spec
===================================================================
--- trunk/rpms/kxmleditor/kxmleditor.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/kxmleditor/kxmleditor.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -39,7 +39,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: gcc, make, libpng-devel, libart_lgpl-devel, arts-devel
-BuildRequires: gcc-c++, gettext, XFree86-devel, zlib-devel, qt-devel
+BuildRequires: gcc-c++, gettext, zlib-devel, qt-devel
 BuildRequires: libjpeg-devel, kdelibs-devel, fam-devel
 %{!?_without_selinux:BuildRequires: libselinux-devel}
 %{?_without_xorg:BuildRequires: XFree86-devel}

Modified: trunk/rpms/lincity/lincity.spec
===================================================================
--- trunk/rpms/lincity/lincity.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/lincity/lincity.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -11,6 +11,14 @@
 %{?el2:%define _without_freedesktop 1}
 %{?rh6:%define _without_freedesktop 1}
 
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: City simulation game
 Name: lincity
 Version: 1.13.1
@@ -22,8 +30,10 @@
 Source: <A HREF="http://dl.sf.net/lincity/lincity-%{version">http://dl.sf.net/lincity/lincity-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: XFree86-devel, gcc-c++, libpng-devel
+BuildRequires: gcc-c++, libpng-devel
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 Lincity is a city simulation game. Build your city up from a primitive

Modified: trunk/rpms/lve/lve.spec
===================================================================
--- trunk/rpms/lve/lve.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/lve/lve.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -3,6 +3,16 @@
 
 %define real_version 040322
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Linux Video Editor
 Name: lve
 Version: 0.%{real_version}
@@ -16,7 +26,9 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: ffmpeg-devel, mpeg2dec-devel, SDL-devel, gcc-c++, qt-devel
-BuildRequires: XFree86-devel, a52dec-devel
+BuildRequires: a52dec-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 LVE provides frame and GOP accurate editing of MPEG1/2 elementary (&quot;ES&quot;) and

Modified: trunk/rpms/mathomatic/mathomatic.spec
===================================================================
--- trunk/rpms/mathomatic/mathomatic.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/mathomatic/mathomatic.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -5,7 +5,7 @@
 
 Summary: Small, portable symbolic math program
 Name: mathomatic
-Version: 12.4.2
+Version: 12.4.3
 Release: 1
 License: LGPL
 Group: Applications/Engineering
@@ -41,6 +41,9 @@
 %exclude %{_usr}/doc
 
 %changelog
+* Tue Jun 21 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; 12.4.3-1
+- Update to release 12.4.3.
+
 * Mon Jun 13 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; 12.4.2-1
 - Update to release 12.4.2.
 

Modified: trunk/rpms/perl-GD/perl-GD-1.x.spec
===================================================================
--- trunk/rpms/perl-GD/perl-GD-1.x.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/perl-GD/perl-GD-1.x.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -3,6 +3,16 @@
 
 %define real_name GD
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: GD Perl interface to the GD Graphics Library
 Name: perl-GD
 Version: 1.41
@@ -15,8 +25,10 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: perl &gt;= 0:5.8.0, gd-devel &gt;= 1.8.4, libpng-devel, zlib-devel
-BuildRequires: freetype-devel, libjpeg-devel, XFree86-devel
+BuildRequires: freetype-devel, libjpeg-devel
 Requires: perl &gt;= 0:5.8.0
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 perl-GD is a Perl interface to the gd graphics library. GD allows you

Modified: trunk/rpms/pike/pike.spec
===================================================================
--- trunk/rpms/pike/pike.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/pike/pike.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -2,6 +2,16 @@
 # Authority: dries
 # Upstream: 
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 %define real_name Pike
 %define real_version v7.6.6
 
@@ -17,7 +27,7 @@
 Source1: <A HREF="ftp://pike.ida.liu.se/pub/pike/latest-stable/Pike-v%{version">ftp://pike.ida.liu.se/pub/pike/latest-stable/Pike-v%{version</A>}-doc.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: nettle-devel, gmp-devel, autoconf, XFree86-devel
+BuildRequires: nettle-devel, gmp-devel, autoconf
 BuildRequires: gdbm-devel, gettext, zlib-devel, nasm, fftw-devel
 BuildRequires: mysql-devel, unixODBC-devel, perl, postgresql-devel
 BuildRequires: sane-backends-devel, openssl-devel, ffmpeg-devel
@@ -25,9 +35,8 @@
 BuildRequires: pcre-devel, bzip2-devel, freeglut-devel, gtk2-devel
 BuildRequires: SDL-devel, pkgconfig, gtkglarea2-devel
 BuildRequires: gtkglarea, gtk+, gtk+-devel, SDL_mixer-devel
-%{?fc3:BuildRequires:xorg-x11-Mesa-libGLU,xorg-x11-Mesa-libGL}
-%{?fc2:BuildRequires:xorg-x11-Mesa-libGLU,xorg-x11-Mesa-libGL}
-%{?fc1:BuildRequires: XFree86-Mesa-libGL, XFree86-Mesa-libGLU}
+%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGL, XFree86-Mesa-libGLU}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU,xorg-x11-Mesa-libGL}
 
 %description
 Pike is a general purpose programming language, which means that you can put

Modified: trunk/rpms/pixieplus/pixieplus.spec
===================================================================
--- trunk/rpms/pixieplus/pixieplus.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/pixieplus/pixieplus.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -3,6 +3,16 @@
 
 %define real_version 0.5.4-2
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Image and photo viewer, browser, manager and simple editor
 Name: pixieplus
 Version: 0.5.4.2
@@ -15,9 +25,11 @@
 BuildRequires: libungif-devel, libtiff-devel, qt-devel, 
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, 
 BuildRequires: libpng-devel, arts-devel, zlib-devel, 
-BuildRequires: kdelibs-devel, make, gcc-c++, XFree86-devel
+BuildRequires: kdelibs-devel, make, gcc-c++
 %{?fc3:BuildRequires:libselinux-devel, libexif-devel, libexif}
 %{?fc2:BuildRequires:libselinux-devel, libexif-devel, libexif}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 Source: <A HREF="http://http.us.debian.org/debian/pool/main/p/pixieplus/pixieplus_%{real_version">http://http.us.debian.org/debian/pool/main/p/pixieplus/pixieplus_%{real_version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root

Modified: trunk/rpms/prima/prima.spec
===================================================================
--- trunk/rpms/prima/prima.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/prima/prima.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -7,6 +7,16 @@
 
 %define perl_sitearch %(eval &quot;`perl -V:installsitearch`&quot;; echo $installsitearch)
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Extensible Perl toolkit for multi-platform GUI development
 Name: prima
 Version: 1.16
@@ -17,11 +27,13 @@
 
 Source: <A HREF="http://search.cpan.org/CPAN/authors/id/K/KA/KARASIK/Prima-%{version">http://search.cpan.org/CPAN/authors/id/K/KA/KARASIK/Prima-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: XFree86-devel, gdbm-devel, db4-devel, libpng-devel
+BuildRequires: gdbm-devel, db4-devel, libpng-devel
 BuildRequires: libjpeg-devel, libungif-devel, libtiff-devel
 Provides: perl(Prima::Buttons), perl(Prima::Classes), perl(Prima::ExtLists)
 Provides: perl(Prima::Grids), perl(Prima::Notebooks), perl(Prima::Outlines)
 Provides: perl(Prima::Sliders), perl(Prima::StdDlg)
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 Prima is an extensible Perl toolkit for multi-platform GUI development.

Modified: trunk/rpms/psi/psi.spec
===================================================================
--- trunk/rpms/psi/psi.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/psi/psi.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -10,6 +10,14 @@
 %{?el2:%define _without_freedesktop 1}
 %{?rh6:%define _without_freedesktop 1}
 
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 %define desktop_vendor rpmforge
 %define qca            qca-1.0
 %define tls_plugin     qca-tls-1.0
@@ -44,7 +52,9 @@
 Source34: psi_vi.qm
 Source35: psi_ru.qm
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: XFree86-devel, kdelibs-devel, openssl-devel, gcc-c++
+BuildRequires: kdelibs-devel, openssl-devel, gcc-c++
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 Obsoletes: psi-iconsets &lt; 0.9.1
 

Modified: trunk/rpms/root-tail/root-tail.spec
===================================================================
--- trunk/rpms/root-tail/root-tail.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/root-tail/root-tail.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -2,6 +2,16 @@
 # Authority: dag
 # Upstream: Marc Lehmann &lt;chris,moore$mail,com&gt;
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Displays a given file anywhere on your X root window
 Name: root-tail
 Version: 1.1
@@ -13,7 +23,8 @@
 Source: <A HREF="http://goof.com/pcg/marc/data/root-tail-%{version">http://goof.com/pcg/marc/data/root-tail-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: XFree86-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 Displays a given file anywhere on your X11 root window with a transparent

Modified: trunk/rpms/scribus/scribus.spec
===================================================================
--- trunk/rpms/scribus/scribus.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/scribus/scribus.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -7,6 +7,14 @@
 %{?el2:%define _without_freedesktop 1}
 %{?rh6:%define _without_freedesktop 1}
 
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 %define desktop_vendor rpmforge
 
 Summary: Graphical desktop publishing (DTP) application
@@ -20,10 +28,12 @@
 Source: <A HREF="http://www.scribus.org.uk/downloads/%{version">http://www.scribus.org.uk/downloads/%{version</A>}/scribus-%{version}.tar.bz2
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: qt-devel &gt;= 3.0, XFree86-devel, gcc-c++
+BuildRequires: qt-devel &gt;= 3.0, gcc-c++
 BuildRequires: zlib-devel, libjpeg-devel, libpng-devel, libtiff-devel
 BuildRequires: libart_lgpl-devel, arts-devel, gettext, kdelibs-devel
 %{?!_without_freedesktop:BuildRequires: desktop-file-utils}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 Scribus is a GUI desktop publishing (DTP) application for GNU/Linux.

Modified: trunk/rpms/shaaft/shaaft.spec
===================================================================
--- trunk/rpms/shaaft/shaaft.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/shaaft/shaaft.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -3,6 +3,16 @@
 
 # Screenshot: <A HREF="http://criticalmass.sourceforge.net/images-shaaft/shaaft02.jpg">http://criticalmass.sourceforge.net/images-shaaft/shaaft02.jpg</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: OpenGL 3D falling block game
 Name: shaaft
 Version: 0.5.0
@@ -14,7 +24,9 @@
 Source: <A HREF="http://dl.sf.net/criticalmass/Shaaft-%{version">http://dl.sf.net/criticalmass/Shaaft-%{version</A>}.tar.bz2
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: SDL-devel, SDL_mixer-devel, SDL_image-devel, zlib-devel
-BuildRequires: libpng-devel, XFree86-devel, gcc-c++, desktop-file-utils
+BuildRequires: libpng-devel, gcc-c++, desktop-file-utils
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 Shaaft is an OpenGL 3D falling block game similar to Blockout. It currently

Modified: trunk/rpms/shalvideo/shalvideo.spec
===================================================================
--- trunk/rpms/shalvideo/shalvideo.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/shalvideo/shalvideo.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -11,6 +11,14 @@
 %{?el2:%define _without_freedesktop 1}
 %{?rh6:%define _without_freedesktop 1}
 
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 %define real_version 1.4-1
 %define dir_name shalVideo-1.4-pre1
 
@@ -28,8 +36,10 @@
 
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc-c++
-BuildRequires: XFree86-devel, qt-devel
+BuildRequires: qt-devel
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 BuildRequires: automake15
 Requires: mplayer, at
 

Modified: trunk/rpms/smb4k/smb4k.spec
===================================================================
--- trunk/rpms/smb4k/smb4k.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/smb4k/smb4k.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -5,6 +5,16 @@
 
 # ExcludeDist: el3 fc1
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: SMB (samba) share browser for KDE
 Name: smb4k
 Version: 0.6.0
@@ -18,9 +28,11 @@
 
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make
-BuildRequires: gcc-c++, XFree86-devel, qt-devel, fam-devel, fam
+BuildRequires: gcc-c++, qt-devel, fam-devel, fam
 %{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: kdelibs, fam
 
 %description

Modified: trunk/rpms/spit/spit.spec
===================================================================
--- trunk/rpms/spit/spit.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/spit/spit.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -4,6 +4,16 @@
 
 # Schreenshot: <A HREF="http://spit.sf.net/images/screenshot-kde.jpg">http://spit.sf.net/images/screenshot-kde.jpg</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Graphical picture indexing tool
 Name: spit
 Version: 0.3.1
@@ -15,8 +25,10 @@
 Source: <A HREF="http://dl.sf.net/spit/spit-%{version">http://dl.sf.net/spit/spit-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: XFree86-devel, qt-devel, ImageMagick-c++-devel
+BuildRequires: qt-devel, ImageMagick-c++-devel
 BuildRequires: libxml2-devel, libxslt-devel, gcc-c++, desktop-file-utils
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 Spit is a graphical picture indexing tool. It can be used to manage pictures,

Modified: trunk/rpms/stellarium/stellarium.spec
===================================================================
--- trunk/rpms/stellarium/stellarium.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/stellarium/stellarium.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -8,6 +8,13 @@
 %{?rh7:%define _without_freedesktop 1}
 %{?el2:%define _without_freedesktop 1}
 
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
 
 Summary: Stellarium renders 3D photo-realistic skies in real time
 Name: stellarium
@@ -19,8 +26,10 @@
 
 Source: <A HREF="http://dl.sf.net/stellarium/%{name">http://dl.sf.net/stellarium/%{name</A>}-%{version}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: dos2unix, gcc-c++, XFree86-devel, SDL-devel
+BuildRequires: dos2unix, gcc-c++, SDL-devel
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 Stellarium renders 3D photo-realistic skies in real time. Most important

Modified: trunk/rpms/tellico/tellico.spec
===================================================================
--- trunk/rpms/tellico/tellico.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/tellico/tellico.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -5,6 +5,16 @@
 # Screenshot: <A HREF="http://www.periapsis.org/tellico/sshots/main_screen-0.9.png">http://www.periapsis.org/tellico/sshots/main_screen-0.9.png</A>
 # ScreenshotURL: <A HREF="http://www.periapsis.org/tellico/sshots.php">http://www.periapsis.org/tellico/sshots.php</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: collection manager
 Name: tellico
 Version: 0.13.6
@@ -17,12 +27,14 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: gcc, make, libpng-devel, libart_lgpl-devel, libgcrypt-devel
-BuildRequires: arts-devel, gcc-c++, gettext, XFree86-devel
+BuildRequires: arts-devel, gcc-c++, gettext
 BuildRequires: zlib-devel, qt-devel, libjpeg-devel, libxslt-devel
 BuildRequires: kdelibs-devel, desktop-file-utils, libxml2-devel
 BuildRequires: kdemultimedia-devel
 %{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 Tellico is a collection manager for KDE. It includes default collections for

Modified: trunk/rpms/tuxpaint/tuxpaint.spec
===================================================================
--- trunk/rpms/tuxpaint/tuxpaint.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/tuxpaint/tuxpaint.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -5,6 +5,16 @@
 
 # ExcludeDist: el3
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Drawing program designed for young children
 Name: tuxpaint
 Version: 0.9.14
@@ -17,8 +27,10 @@
 Source0: <A HREF="http://dl.sf.net/tuxpaint/tuxpaint-%{version">http://dl.sf.net/tuxpaint/tuxpaint-%{version</A>}.tar.gz
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make
-BuildRequires: gcc-c++, XFree86-devel, qt-devel, SDL-devel, SDL_ttf-devel
+BuildRequires: gcc-c++, qt-devel, SDL-devel, SDL_ttf-devel
 BuildRequires: SDL_image-devel, SDL_mixer-devel, gnome-libs-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 Tux Paint is a free drawing program designed for young children (kids ages 3

Modified: trunk/rpms/tuxsaver/tuxsaver.spec
===================================================================
--- trunk/rpms/tuxsaver/tuxsaver.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/tuxsaver/tuxsaver.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -5,6 +5,16 @@
 # Screenshot: <A HREF="http://www.esat.kuleuven.ac.be/~kmuylken/tuxsaver/screenshot1.jpg">http://www.esat.kuleuven.ac.be/~kmuylken/tuxsaver/screenshot1.jpg</A> 
 # ScreenshotURL: <A HREF="http://www.esat.kuleuven.ac.be/~kmuylken/tuxsaver/">http://www.esat.kuleuven.ac.be/~kmuylken/tuxsaver/</A>
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: KDE screensaver showing the adventures of Tux, living at the SouthPole
 Name: tuxsaver
 Version: 1.0
@@ -18,9 +28,11 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make
-BuildRequires: gcc-c++, XFree86-devel, qt-devel
+BuildRequires: gcc-c++, qt-devel
 %{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: kdelibs
 
 %description

Modified: trunk/rpms/vnc2swf/vnc2swf.spec
===================================================================
--- trunk/rpms/vnc2swf/vnc2swf.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/vnc2swf/vnc2swf.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -2,6 +2,16 @@
 # Authority: dag
 # Upstream: &lt;vnc2swf-users$lists,sourceforge,net&gt;
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Recording tool for VNC
 Name: vnc2swf
 Version: 0.4.2
@@ -13,7 +23,9 @@
 Source: <A HREF="http://www.unixuser.org/~euske/vnc2swf/vnc2swf-%{version">http://www.unixuser.org/~euske/vnc2swf/vnc2swf-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: ming-devel, libdnet, XFree86-devel, libstdc++-devel, zlib-devel
+BuildRequires: ming-devel, libdnet, libstdc++-devel, zlib-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 vnc2swf is a recoding tool for Flash.

Modified: trunk/rpms/vncselector/vncselector.spec
===================================================================
--- trunk/rpms/vncselector/vncselector.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/vncselector/vncselector.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -6,6 +6,16 @@
 
 # DistExclude: el3
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Manage a list of currently active VNC server sessions
 Name: vncselector
 Version: 1.6
@@ -18,8 +28,10 @@
 # Source: <A HREF="http://www.dooglio.net/VncSelector/VncSelector_%{version">http://www.dooglio.net/VncSelector/VncSelector_%{version</A>}.tar.gz
 # Source: <A HREF="http://dl.sf.net/vncselector/VncSelector_1.6.tar.gz">http://dl.sf.net/vncselector/VncSelector_1.6.tar.gz</A>
 Source: <A HREF="http://vncselector.sourceforge.net/VncSelector_%{version">http://vncselector.sourceforge.net/VncSelector_%{version</A>}.tar.gz
-BuildRequires: fltk-devel, gcc-c++, XFree86-devel, autoconf, automake
+BuildRequires: fltk-devel, gcc-c++, autoconf, automake
 BuildRequires: libtool
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: fltk
 
 %description

Modified: trunk/rpms/x11vnc/x11vnc.spec
===================================================================
--- trunk/rpms/x11vnc/x11vnc.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/x11vnc/x11vnc.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -2,6 +2,16 @@
 # Authority: dag
 # Upstream: Karl Runge &lt;xvml$karlrunge,com&gt;
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: VNC server for the current X11 session
 Name: x11vnc
 Version: 0.7.1
@@ -14,7 +24,9 @@
 # Source0-md5: b03ba2f34355a4e3c2e0420af2065703
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: XFree86-devel, libjpeg-devel, zlib-devel
+BuildRequires: libjpeg-devel, zlib-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 x11vnc is to X Window System what WinVNC is to Windows, i.e. a server

Modified: trunk/rpms/x2x/x2x.spec
===================================================================
--- trunk/rpms/x2x/x2x.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/x2x/x2x.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -2,6 +2,16 @@
 
 # Authority: dag
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Link two X displays together, simulating a multiheaded display
 Name: x2x
 Version: 1.27
@@ -14,9 +24,9 @@
 Patch: <A HREF="http://ftp.debian.org/debian/pool/main/x/x2x/x2x_1.27-8.diff.gz">http://ftp.debian.org/debian/pool/main/x/x2x/x2x_1.27-8.diff.gz</A>
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
-BuildRequires: XFree86-devel
-
 %description
 x2x joins a pair of X displays together, as if they were a single
 multiheaded display. The pointer can be warped between displays, or,

Modified: trunk/rpms/xautolock/xautolock.spec
===================================================================
--- trunk/rpms/xautolock/xautolock.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/xautolock/xautolock.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -1,6 +1,16 @@
 # $Id$
 # Authority: dries
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Launches a program when your X session has been idle for some time
 Name: xautolock
 Version: 2.1
@@ -12,7 +22,8 @@
 Source: <A HREF="http://www.ibiblio.org/pub/Linux/X11/screensavers/xautolock-%{version">http://www.ibiblio.org/pub/Linux/X11/screensavers/xautolock-%{version</A>}.tgz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: XFree86-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
 %description
 A program that launches a given program when 

Modified: trunk/rpms/xlockmore/xlockmore.spec
===================================================================
--- trunk/rpms/xlockmore/xlockmore.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/xlockmore/xlockmore.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -1,6 +1,16 @@
 # $Id$
 # Authority: dries
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: Screen lock and screen saver.
 Name: xlockmore
 Version: 5.18
@@ -12,11 +22,10 @@
 Source: <A HREF="http://www.tux.org/~bagleyd/latest/xlockmore-%{version">http://www.tux.org/~bagleyd/latest/xlockmore-%{version</A>}.tar.bz2
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: XFree86-devel, gcc-c++, esound-devel, gtk2-devel
+BuildRequires: gcc-c++, esound-devel, gtk2-devel
 BuildRequires: openmotif-devel, openmotif
-%{?fc3:BuildRequires: xorg-x11-Mesa-libGL, xorg-x11-Mesa-libGLU}
-%{?fc2:BuildRequires: xorg-x11-Mesa-libGL, xorg-x11-Mesa-libGLU}
-%{?fc1:BuildRequires: XFree86-Mesa-libGL, XFree86-Mesa-libGLU}
+%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGL, XFree86-Mesa-libGLU}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGL, xorg-x11-Mesa-libGLU}
 
 %description
 A screen locker and screen saver.

Modified: trunk/rpms/xrestop/xrestop.spec
===================================================================
--- trunk/rpms/xrestop/xrestop.spec	2005-06-21 10:47:39 UTC (rev 3311)
+++ trunk/rpms/xrestop/xrestop.spec	2005-06-21 19:02:02 UTC (rev 3312)
@@ -1,6 +1,16 @@
 # $Id$
 # Authority: dag
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+
 Summary: X resource monitor
 Name: xrestop
 Version: 0.3
@@ -12,8 +22,11 @@
 Source: <A HREF="http://freedesktop.org/Software/xrestop/xrestop-%{version">http://freedesktop.org/Software/xrestop/xrestop-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: XFree86-devel ncurses-devel
+BuildRequires: ncurses-devel
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 
+
 %description
 A utility to monitor the usage of resources within the X Server, and
 display them in a manner similar to top.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002113.html">[svn] r3311 - trunk/rpms/php-eaccelerator
</A></li>
	<LI>Next message: <A HREF="002115.html">[svn] r3313 - in trunk/rpms: krusader perl-TimeDate texmacs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2114">[ date ]</a>
              <a href="thread.html#2114">[ thread ]</a>
              <a href="subject.html#2114">[ subject ]</a>
              <a href="author.html#2114">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
