<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r5264 - in trunk/rpms: bbkeys biew cabletv gtkglext hackedbox	libXvMCW libvisual-gforce libvisual-plugins lincity openrm	paintlib peeper perl-SDL pike pointless spit thunderbird	tightvnc torcs tpb tvtime vncselector white_dune windowmaker	x2 xautolock xdesktopwaves xephem xfrisk xkobo xlockmore xrestop
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5264%20-%20in%20trunk/rpms%3A%20bbkeys%20biew%20cabletv%20gtkglext%20hackedbox%0A%09libXvMCW%20libvisual-gforce%20libvisual-plugins%20lincity%20openrm%0A%09paintlib%20peeper%20perl-SDL%20pike%20pointless%20spit%20thunderbird%0A%09tightvnc%20torcs%20tpb%20tvtime%20vncselector%20white_dune%20windowmaker%0A%09x2%20xautolock%20xdesktopwaves%20xephem%20xfrisk%20xkobo%20xlockmore%20xrestop&In-Reply-To=%3C20070401151440.D9AA3944B48%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004062.html">
   <LINK REL="Next"  HREF="004064.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r5264 - in trunk/rpms: bbkeys biew cabletv gtkglext hackedbox	libXvMCW libvisual-gforce libvisual-plugins lincity openrm	paintlib peeper perl-SDL pike pointless spit thunderbird	tightvnc torcs tpb tvtime vncselector white_dune windowmaker	x2 xautolock xdesktopwaves xephem xfrisk xkobo xlockmore xrestop</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5264%20-%20in%20trunk/rpms%3A%20bbkeys%20biew%20cabletv%20gtkglext%20hackedbox%0A%09libXvMCW%20libvisual-gforce%20libvisual-plugins%20lincity%20openrm%0A%09paintlib%20peeper%20perl-SDL%20pike%20pointless%20spit%20thunderbird%0A%09tightvnc%20torcs%20tpb%20tvtime%20vncselector%20white_dune%20windowmaker%0A%09x2%20xautolock%20xdesktopwaves%20xephem%20xfrisk%20xkobo%20xlockmore%20xrestop&In-Reply-To=%3C20070401151440.D9AA3944B48%40pooch.vmhosting.org%3E"
       TITLE="[svn] r5264 - in trunk/rpms: bbkeys biew cabletv gtkglext hackedbox	libXvMCW libvisual-gforce libvisual-plugins lincity openrm	paintlib peeper perl-SDL pike pointless spit thunderbird	tightvnc torcs tpb tvtime vncselector white_dune windowmaker	x2 xautolock xdesktopwaves xephem xfrisk xkobo xlockmore xrestop">packagers at lists.rpmforge.net
       </A><BR>
    <I>Sun Apr  1 17:14:40 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="004062.html">[svn] r5263 - in trunk/rpms: R armagetronad aterm bochs bzflag camE	dxfscope dxpc frontline ghc giftoxic gruler libvisual	neverball ocaml orsa pearpc perl-GD powermanga prismstumbler	pyrpm python-opengl soundconverter streamdvd twin valgrind	xawtv xforms xpenguins-applet xtraceroute xvattr
</A></li>
        <LI>Next message: <A HREF="004064.html">[svn] r5265 - trunk/rpms/dvdrip
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4063">[ date ]</a>
              <a href="thread.html#4063">[ thread ]</a>
              <a href="subject.html#4063">[ subject ]</a>
              <a href="author.html#4063">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2007-04-01 17:14:36 +0200 (Sun, 01 Apr 2007)
New Revision: 5264

Modified:
   trunk/rpms/bbkeys/bbkeys.spec
   trunk/rpms/biew/biew.spec
   trunk/rpms/cabletv/cabletv.spec
   trunk/rpms/gtkglext/gtkglext.spec
   trunk/rpms/hackedbox/hackedbox.spec
   trunk/rpms/libXvMCW/libXvMCW.spec
   trunk/rpms/libvisual-gforce/libvisual-gforce.spec
   trunk/rpms/libvisual-plugins/libvisual-plugins.spec
   trunk/rpms/lincity/lincity.spec
   trunk/rpms/openrm/openrm.spec
   trunk/rpms/paintlib/paintlib.spec
   trunk/rpms/peeper/peeper.spec
   trunk/rpms/perl-SDL/perl-SDL.spec
   trunk/rpms/pike/pike.spec
   trunk/rpms/pointless/pointless.spec
   trunk/rpms/spit/spit.spec
   trunk/rpms/thunderbird/thunderbird.spec
   trunk/rpms/tightvnc/tightvnc-1.3.spec
   trunk/rpms/tightvnc/tightvnc.spec
   trunk/rpms/torcs/torcs.spec
   trunk/rpms/tpb/tpb.spec
   trunk/rpms/tvtime/tvtime.spec
   trunk/rpms/vncselector/vncselector.spec
   trunk/rpms/white_dune/white_dune.spec
   trunk/rpms/windowmaker/windowmaker.spec
   trunk/rpms/x2/x2.spec
   trunk/rpms/xautolock/xautolock.spec
   trunk/rpms/xdesktopwaves/xdesktopwaves.spec
   trunk/rpms/xephem/xephem.spec
   trunk/rpms/xfrisk/xfrisk.spec
   trunk/rpms/xkobo/xkobo.spec
   trunk/rpms/xlockmore/xlockmore.spec
   trunk/rpms/xrestop/xrestop.spec
Log:
Improved modxorg macros.

Modified: trunk/rpms/bbkeys/bbkeys.spec
===================================================================
--- trunk/rpms/bbkeys/bbkeys.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/bbkeys/bbkeys.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -1,6 +1,19 @@
 # $Id$
 # Authority: matthias
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 Summary: Completely configurable key-combo grabber for blackbox
 Name: bbkeys
 Version: 0.9.0
@@ -10,7 +23,9 @@
 URL: <A HREF="http://bbkeys.sourceforge.net/">http://bbkeys.sourceforge.net/</A>
 Source: <A HREF="http://dl.sf.net/bbkeys/bbkeys-%{version">http://dl.sf.net/bbkeys/bbkeys-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: blackbox-devel, XFree86-devel
+BuildRequires: blackbox-devel
+%{?_without_modxorg:BuildRequires: XFree86-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
 
 %description
 bbkeys is a configurable key-grabber designed for the blackbox window manager

Modified: trunk/rpms/biew/biew.spec
===================================================================
--- trunk/rpms/biew/biew.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/biew/biew.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -6,8 +6,8 @@
 
 Summary: Console hex viewer/editor with disassembler
 Name: biew
-Version: 5.6.2
-Release: 2
+Version: 5.6.3
+Release: 1
 License: GPL
 Group: Applications/Editors
 URL: <A HREF="http://biew.sourceforge.net/">http://biew.sourceforge.net/</A>
@@ -54,6 +54,9 @@
 %{_datadir}/biew/
 
 %changelog
+* Sun Apr 01 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 5.6.3-1
+- Updated to release 5.6.3.
+
 * Mon Oct 09 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 5.6.2-2
 - Fixed group name.
 

Modified: trunk/rpms/cabletv/cabletv.spec
===================================================================
--- trunk/rpms/cabletv/cabletv.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/cabletv/cabletv.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -3,6 +3,17 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %{?fc1:%define _without_xorg 1}
 %{?el3:%define _without_xorg 1}
 %{?rh9:%define _without_xorg 1}
@@ -10,9 +21,8 @@
 %{?rh7:%define _without_xorg 1}
 %{?el2:%define _without_xorg 1}
 %{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
+%{?yd3:%define _without_xorg 1} 
 
-
 Summary: CableCrypt Decoder for Linux
 Name: cabletv
 Version: 1.3.9
@@ -27,9 +37,12 @@
 BuildRequires: nasm
 #BuildRequires: liblirc-devel
 Requires: xawtv
+%if 0%{?_without_modxorg:1}
 %{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
 %{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
-%{!?_without_freedesktop:BuildRequires: desktop-file-utils}
+%else
+BuildRequires: mesa-libGLU-devel
+%endif
 
 %description
 CableTV is a CableCrypt decoder for Linux. It has been tested with BT878 cards

Modified: trunk/rpms/gtkglext/gtkglext.spec
===================================================================
--- trunk/rpms/gtkglext/gtkglext.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/gtkglext/gtkglext.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -2,6 +2,29 @@
 # Authority: matthias
 # Upstream: &lt;gtkglext-list$gnome,org&gt;
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+%{?yd3:%define _without_xorg 1}
+
 Summary: OpenGL Extension to GTK
 Name: gtkglext
 Version: 1.0.6
@@ -9,14 +32,19 @@
 License: LGPL
 Group: System Environment/Libraries
 URL: <A HREF="http://gtkglext.sourceforge.net/">http://gtkglext.sourceforge.net/</A>
+
 Source: <A HREF="http://dl.sf.net/gtkglext/gtkglext-%{version">http://dl.sf.net/gtkglext/gtkglext-%{version</A>}.tar.bz2
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU, XFree86-Mesa-libGL}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU, xorg-x11-Mesa-libGL}
+
 BuildRequires: gtk2-devel
-
 # libtool *sigh*
 BuildRequires: gcc-c++
+%if 0%{?_without_modxorg:1}
+%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%else
+BuildRequires: libXt-devel, mesa-libGLU-devel
+%endif
 
 %description
 GtkGLExt is an OpenGL extension to GTK. It provides the GDK objects
@@ -27,7 +55,7 @@
 %package devel
 Summary: Header files, libraries and development documentation for %{name}
 Group: Development/Libraries
-Requires: %{name} = %{version}, XFree86-devel, gtk2-devel
+Requires: %{name} = %{version}, gtk2-devel
 
 %description devel
 This package contains the header files, static libraries and development
@@ -53,13 +81,10 @@
 %{__rm} -rf %{buildroot}
 
 
-%post
-/sbin/ldconfig &amp;&gt;/dev/null
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
 
-%postun
-/sbin/ldconfig &amp;&gt;/dev/null
 
-
 %files
 %defattr(-, root, root, 0755)
 %doc AUTHORS ChangeLog COPYING COPYING.LIB NEWS README TODO

Modified: trunk/rpms/hackedbox/hackedbox.spec
===================================================================
--- trunk/rpms/hackedbox/hackedbox.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/hackedbox/hackedbox.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -1,6 +1,19 @@
 # $Id$
 # Authority: matthias
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 Summary: The bastard son of Blackbox, a small and fast Window Manager
 Name: hackedbox
 Version: 0.8.4
@@ -8,12 +21,16 @@
 License: GPL
 Group: User Interface/Desktops
 URL: <A HREF="http://scrudgeware.org/projects/Hackedbox">http://scrudgeware.org/projects/Hackedbox</A>
+
 Source: <A HREF="http://scrudgeware.org/downloads/hackedbox/hackedbox-%{version">http://scrudgeware.org/downloads/hackedbox/hackedbox-%{version</A>}.tar.gz
 Source1: hackedbox.desktop
 Patch: blackbox-0.65.0-gcc34.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: XFree86-devel, libstdc++-devel, gcc-c++, perl
 
+BuildRequires: libstdc++-devel, gcc-c++, perl
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
+
 %description
 Hackedbox is a stripped down version of Blackbox - The X11 Window Manager.
 The toolbar and Slit have been removed. The goal of Hackedbox is to be a

Modified: trunk/rpms/libXvMCW/libXvMCW.spec
===================================================================
--- trunk/rpms/libXvMCW/libXvMCW.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/libXvMCW/libXvMCW.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -1,6 +1,20 @@
 # $Id$
 # Authority: matthias
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 Summary: Wrapper for run-time loading of XvMC libraries
 Name: libXvMCW
 Version: 0.9.3
@@ -10,7 +24,8 @@
 URL: <A HREF="http://sourceforge.net/projects/unichrome">http://sourceforge.net/projects/unichrome</A>
 Source: <A HREF="http://dl.sf.net/unichrome/libXvMCW-%{version">http://dl.sf.net/unichrome/libXvMCW-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: XFree86-devel
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 A Wrapper for XvMC libraries that allows the X server or user to specify the

Modified: trunk/rpms/libvisual-gforce/libvisual-gforce.spec
===================================================================
--- trunk/rpms/libvisual-gforce/libvisual-gforce.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/libvisual-gforce/libvisual-gforce.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -1,11 +1,23 @@
 # $Id$
+# Authority: dries
 
-# Authority: dries
 # Screenshot: <A HREF="http://libvisual.sourceforge.net/v2/images/jess1.png">http://libvisual.sourceforge.net/v2/images/jess1.png</A>
 # ScreenshotURL: <A HREF="http://libvisual.sourceforge.net/v2/index.php?page=screenshots">http://libvisual.sourceforge.net/v2/index.php?page=screenshots</A>
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %{?fc1:%define _without_xorg 1}
 %{?el3:%define _without_xorg 1}
 %{?rh9:%define _without_xorg 1}
@@ -15,7 +27,6 @@
 %{?rh6:%define _without_xorg 1}
 %{?yd3:%define _without_xorg 1}
 
-
 Summary: Libvisual port of the G-Force visualisation plugin
 Name: libvisual-gforce
 Version: 0.1.1
@@ -28,8 +39,12 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: libvisual-devel, gcc-c++
+%if 0%{?_without_modxorg:1}
 %{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
 %{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%else
+BuildRequires: libXt-devel, mesa-libGLU-devel
+%endif
 
 %description
 Libvisual-gforce is the libvisual port of the well-known G-Force
@@ -56,12 +71,9 @@
 %{__install} -d %{buildroot}%{_datadir}/libvisual-gforce
 %makeinstall
 
-%post
-/sbin/ldconfig 2&gt;/dev/null
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
 
-%postun
-/sbin/ldconfig 2&gt;/dev/null
-
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -74,8 +86,5 @@
 %{_datadir}/libvisual/actor/actor_gforce
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.1.1-1.2
-- Rebuild for Fedora Core 5.
-
 * Fri Nov 05 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.1.1-1
 - Initial package.

Modified: trunk/rpms/libvisual-plugins/libvisual-plugins.spec
===================================================================
--- trunk/rpms/libvisual-plugins/libvisual-plugins.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/libvisual-plugins/libvisual-plugins.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -6,16 +6,27 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+   
 %{?fc1:%define _without_xorg 1}
 %{?el3:%define _without_xorg 1}
 %{?rh9:%define _without_xorg 1}
 %{?rh8:%define _without_xorg 1}
 %{?rh7:%define _without_xorg 1}
 %{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1} 
+%{?yd3:%define _without_xorg 1} 
 
-
 Summary: Plugins for libvisual
 Name: libvisual-plugins
 Version: 0.2.0
@@ -28,8 +39,12 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: libvisual-devel, gcc-c++, esound-devel
+%if 0%{?_without_modxorg:1}
 %{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
 %{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%else
+BuildRequires: libXt-devel, mesa-libGLU-devel
+%endif
 
 %description
 This package contains many plugins for libvisual.
@@ -54,12 +69,9 @@
 %{__rm} -rf %{buildroot}
 %makeinstall
 
-%post
-/sbin/ldconfig 2&gt;/dev/null
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
 
-%postun
-/sbin/ldconfig 2&gt;/dev/null
-
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -70,9 +82,6 @@
 %{_datadir}/libvisual/actor/actor_madspin
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.2.0-1.2
-- Rebuild for Fedora Core 5.
-
 * Mon Aug 15 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.2.0-1
 - Update to release 0.2.0.
 

Modified: trunk/rpms/lincity/lincity.spec
===================================================================
--- trunk/rpms/lincity/lincity.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/lincity/lincity.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -7,18 +7,22 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %{?rh7:%define _without_freedesktop 1}
 %{?el2:%define _without_freedesktop 1}
 %{?rh6:%define _without_freedesktop 1}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
-
 Summary: City simulation game
 Name: lincity
 Version: 1.13.1
@@ -32,8 +36,8 @@
 
 BuildRequires: gcc-c++, libpng-devel
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 Lincity is a city simulation game. Build your city up from a primitive

Modified: trunk/rpms/openrm/openrm.spec
===================================================================
--- trunk/rpms/openrm/openrm.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/openrm/openrm.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -1,14 +1,21 @@
 # $Id$
-
 # Authority: dries
 
 %define real_version 1.5.2-3
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?rh7:%define _without_freedesktop 1}
-%{?el2:%define _without_freedesktop 1}
-%{?rh6:%define _without_freedesktop 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 %{?fc1:%define _without_xorg 1}
 %{?el3:%define _without_xorg 1}
@@ -19,6 +26,10 @@
 %{?rh6:%define _without_xorg 1}
 %{?yd3:%define _without_xorg 1}
 
+%{?rh7:%define _without_freedesktop 1}
+%{?el2:%define _without_freedesktop 1}
+%{?rh6:%define _without_freedesktop 1}
+
 Summary: OpenRM Scene Graph
 Name: openrm
 Version: 1.5.2.3
@@ -33,8 +44,12 @@
 #BuildArch: i486
 
 BuildRequires: gcc-c++, libjpeg-devel
+%if 0%{?_without_modxorg:1}
 %{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
 %{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%else
+BuildRequires: libXt-devel, mesa-libGLU-devel
+%endif
 
 %description
 OpenRM Scene Graph is a developers toolkit that implements a scene graph
@@ -70,12 +85,9 @@
 %makeinstall INSTALL_DIR=%{buildroot}/usr
 %{__mv} %{buildroot}/usr/docs .
 
-%post
-/sbin/ldconfig 2&gt;/dev/null
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
 
-%postun
-/sbin/ldconfig 2&gt;/dev/null
-
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -91,8 +103,5 @@
 %{_libdir}/*.so
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.5.2.3-1.2
-- Rebuild for Fedora Core 5.
-
 * Mon Aug 09 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.5.2.3-1
 - Initial package.

Modified: trunk/rpms/paintlib/paintlib.spec
===================================================================
--- trunk/rpms/paintlib/paintlib.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/paintlib/paintlib.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -1,6 +1,19 @@
 # $Id$
 # Authority: matthias
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 Summary: Portable C++ class library for image loading, saving and manipulation
 Name: paintlib
 Version: 2.6.1
@@ -10,8 +23,10 @@
 URL: <A HREF="http://www.paintlib.de/paintlib/">http://www.paintlib.de/paintlib/</A>
 Source: <A HREF="http://www.paintlib.de/paintlib/paintlib-%{version">http://www.paintlib.de/paintlib/paintlib-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: gcc-c++, curl-devel, zlib-devel, SDL-devel, XFree86-devel
+BuildRequires: gcc-c++, curl-devel, zlib-devel, SDL-devel
 BuildRequires: libungif-devel, libjpeg-devel, libtiff-devel, libpng-devel
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 Paintlib is a portable C++ class library for image loading, saving and
@@ -49,18 +64,12 @@
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
 
 %clean
 %{__rm} -rf %{buildroot}
 
-
-%post
-/sbin/ldconfig
-
-%postun
-/sbin/ldconfig
-
-
 %files
 %defattr(-, root, root, 0755)
 %doc AUTHORS COPYING ChangeLog NEWS README TODO

Modified: trunk/rpms/peeper/peeper.spec
===================================================================
--- trunk/rpms/peeper/peeper.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/peeper/peeper.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -1,6 +1,19 @@
 # $Id$
 # Authority: dag
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %define desktop_vendor rpmforge
 
 Summary: Tool to magnify parts of your screen
@@ -14,7 +27,9 @@
 Source: <A HREF="http://dl.sf.net/peeper/peeper-%{version">http://dl.sf.net/peeper/peeper-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: XFree86-devel, libgnomeui-devel, gcc-c++
+BuildRequires: gcc-c++, libgnomeui-devel
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 Peeper is a program to view an area of the screen at a certain
@@ -65,8 +80,5 @@
 %{_datadir}/applications/*.desktop
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.3-0.2
-- Rebuild for Fedora Core 5.
-
 * Sun Aug 03 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.3-0
 - Initial package. (using DAR)

Modified: trunk/rpms/perl-SDL/perl-SDL.spec
===================================================================
--- trunk/rpms/perl-SDL/perl-SDL.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/perl-SDL/perl-SDL.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -4,12 +4,27 @@
 %{?dist: %{expand: %%define %dist 1}}
 %{?fedora: %{expand: %%define fc%{fedora} 1}}
 
-%{!?dist:%define _with_modxorg 1}
-%{?fc7:  %define _with_modxorg 1}
-%{?el5:  %define _with_modxorg 1}
-%{?fc6:  %define _with_modxorg 1}
-%{?fc5:  %define _with_modxorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1} 
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+%{?yd3:%define _without_xorg 1}
+
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 %define _use_internal_dependency_generator 0
@@ -33,14 +48,12 @@
 BuildRequires: SDL_ttf-devel, SDL_gfx-devel
 BuildRequires: smpeg-devel, libjpeg-devel, libpng-devel
 BuildRequires: perl(Module::Build)
-%{?_with_modxorg:BuildRequires: libXt-devel, mesa-libGLU-devel}
-%{!?_with_modxorg:BuildRequires: XFree86-devel}
-%{?el4:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
-%{?fc3:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
-%{?fc2:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
-%{?fc1:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
-%{?el3:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
-%{?rh9:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
+%if 0%{?_without_modxorg:1}
+%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%else
+BuildRequires: libXt-devel, mesa-libGLU-devel
+%endif
 Provides: SDL_perl = %{version}-%{release}
 Provides: SDL_Perl = %{version}-%{release}
 

Modified: trunk/rpms/pike/pike.spec
===================================================================
--- trunk/rpms/pike/pike.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/pike/pike.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -4,6 +4,18 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %{?fc1:%define _without_xorg 1}
 %{?el3:%define _without_xorg 1}
 %{?rh9:%define _without_xorg 1}
@@ -11,6 +23,7 @@
 %{?rh7:%define _without_xorg 1}
 %{?el2:%define _without_xorg 1}
 %{?rh6:%define _without_xorg 1}
+%{?yd3:%define _without_xorg 1}
 
 %define real_name Pike
 %define real_version v7.6.24
@@ -35,8 +48,12 @@
 BuildRequires: pcre-devel, bzip2-devel, freeglut-devel, gtk2-devel
 BuildRequires: SDL-devel, pkgconfig, gtkglarea2-devel
 BuildRequires: gtkglarea, gtk+, gtk+-devel, SDL_mixer-devel
-%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGL, XFree86-Mesa-libGLU}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU,xorg-x11-Mesa-libGL}
+%if 0%{?_without_modxorg:1}
+%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%else
+BuildRequires: libXt-devel, mesa-libGLU-devel
+%endif
 
 %description
 Pike is a general purpose programming language, which means that you can put

Modified: trunk/rpms/pointless/pointless.spec
===================================================================
--- trunk/rpms/pointless/pointless.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/pointless/pointless.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -1,8 +1,30 @@
 # $Id$
-
 # Authority: dag
 # Upstream: Peter Andreasen &lt;pandr$pandr,dk&gt;
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+%{?yd3:%define _without_xorg 1}
+
 Summary: Markup-language based presentation tool
 Name: pointless
 Version: 0.5
@@ -14,15 +36,13 @@
 Source: <A HREF="http://dl.sf.net/pointless/pointless-%{version">http://dl.sf.net/pointless/pointless-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-
-BuildRequires: XFree86-devel, libpng-devel, zlib-devel, python &gt;= 2.2
-BuildRequires: gcc-c++
-%{?fc3:BuildRequires: xorg-x11-Mesa-libGL}
-%{?fc2:BuildRequires: xorg-x11-Mesa-libGL}
-%{?fc1:BuildRequires: XFree86-Mesa-libGL}
-%{?el3:BuildRequires: XFree86-Mesa-libGL}
-%{?rh9:BuildRequires: XFree86-Mesa-libGL}
-%{?rh8:BuildRequires: XFree86-Mesa-libGL}
+BuildRequires: gcc-c++, libpng-devel, zlib-devel, python &gt;= 2.2
+%if 0%{?_without_modxorg:1}
+%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%else
+BuildRequires: libXt-devel, mesa-libGLU-devel
+%endif
 Requires: python &gt;= 2.2
 
 %description

Modified: trunk/rpms/spit/spit.spec
===================================================================
--- trunk/rpms/spit/spit.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/spit/spit.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -6,13 +6,16 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 Summary: Graphical picture indexing tool
 Name: spit
@@ -27,8 +30,8 @@
 
 BuildRequires: qt-devel, ImageMagick-c++-devel
 BuildRequires: libxml2-devel, libxslt-devel, gcc-c++, desktop-file-utils
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 Spit is a graphical picture indexing tool. It can be used to manage pictures,
@@ -85,9 +88,6 @@
 %{_datadir}/spit/
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.3.1-1.2
-- Rebuild for Fedora Core 5.
-
 * Thu Apr 01 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.3.1-1
 - Updated to release 0.3.1.
 

Modified: trunk/rpms/thunderbird/thunderbird.spec
===================================================================
--- trunk/rpms/thunderbird/thunderbird.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/thunderbird/thunderbird.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -5,9 +5,21 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %{?rh7:%define _without_freedesktop 1}
+%{?el2:%define _without_freedesktop 1}
+
 %{?rh7:%define _without_gtk2 1}
-%{?el2:%define _without_freedesktop 1}
 %{?el2:%define _without_gtk2 1}
 
 %define desktop_vendor rpmforge

Modified: trunk/rpms/tightvnc/tightvnc-1.3.spec
===================================================================
--- trunk/rpms/tightvnc/tightvnc-1.3.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/tightvnc/tightvnc-1.3.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -6,20 +6,22 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 %{?rh7:%define _without_freedesktop 1}
-%{?rh7:%define _without_xorg 1}
-
 %{?el2:%define _without_freedesktop 1}
-%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_freedesktop 1}
 
-%{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
-
 %define desktop_vendor rpmforge
 
 Summary: Graphical remote administration system
@@ -35,8 +37,8 @@
 
 BuildPrereq: /usr/bin/perl, tcp_wrappers
 BuildRequires: zlib-devel, libjpeg-devel
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 #Obsoletes: vnc
 Conflicts: vnc
 
@@ -54,8 +56,6 @@
 Summary: TightVNC server
 Group: User Interface/X
 
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: bash &gt;= 2.0
 Prereq: /sbin/chkconfig, /sbin/service
 #Obsoletes: vnc-server

Modified: trunk/rpms/tightvnc/tightvnc.spec
===================================================================
--- trunk/rpms/tightvnc/tightvnc.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/tightvnc/tightvnc.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -4,35 +4,31 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 %{?fc2:%define _without_fdsbits_patch 1}
-
 %{?fc1:%define _without_fdsbits_patch 1}
-%{?fc1:%define _without_xorg 1}
-
 %{?el3:%define _without_fdsbits_patch 1}
-%{?el3:%define _without_xorg 1}
-
 %{?rh9:%define _without_fdsbits_patch 1}
-%{?rh9:%define _without_xorg 1}
-
 %{?rh8:%define _without_fdsbits_patch 1}
-%{?rh8:%define _without_xorg 1}
-
 %{?rh7:%define _without_fdsbits_patch 1}
-%{?rh7:%define _without_freedesktop 1}
-%{?rh7:%define _without_xorg 1}
-
 %{?el2:%define _without_fdsbits_patch 1}
-%{?el2:%define _without_freedesktop 1}
-%{?el2:%define _without_xorg 1}
-
 %{?rh6:%define _without_fdsbits_patch 1}
-%{?rh6:%define _without_xorg 1}
-
 %{?yd3:%define _without_fdsbits_patch 1}
-%{?yd3:%define _without_xorg 1}
 
+%{?rh7:%define _without_freedesktop 1}
+%{?el2:%define _without_freedesktop 1}
+%{?rh6:%define _without_freedesktop 1}
+
 %define desktop_vendor rpmforge
 
 Summary: Graphical remote administration system
@@ -55,8 +51,8 @@
 
 BuildPrereq: /usr/bin/perl, tcp_wrappers
 BuildRequires: zlib-devel, libjpeg-devel
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 #Obsoletes: vnc
 Conflicts: vnc
 
@@ -73,9 +69,6 @@
 %package server
 Summary: TightVNC server
 Group: User Interface/X
-
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: bash &gt;= 2.0
 Prereq: /sbin/chkconfig, /sbin/service
 #Obsoletes: vnc-server

Modified: trunk/rpms/torcs/torcs.spec
===================================================================
--- trunk/rpms/torcs/torcs.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/torcs/torcs.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -1,6 +1,29 @@
 # $Id$
 # Authority: matthias
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
+%{?fc1:%define _without_xorg 1}
+%{?el3:%define _without_xorg 1}
+%{?rh9:%define _without_xorg 1}
+%{?rh8:%define _without_xorg 1}
+%{?rh7:%define _without_xorg 1}
+%{?el2:%define _without_xorg 1}
+%{?rh6:%define _without_xorg 1}
+%{?yd3:%define _without_xorg 1}
+
 %define desktop_vendor rpmforge
 
 Summary: The Open Racing Car Simulator
@@ -17,8 +40,12 @@
 Source4: <A HREF="http://dl.sf.net/torcs/TORCS-%{version">http://dl.sf.net/torcs/TORCS-%{version</A>}-src-robots-olethros.tgz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 Requires: torcs-data, torcs-data-tracks-road, torcs-data-cars-extra
-%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU, XFree86-Mesa-libGL}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU, xorg-x11-Mesa-libGL}
+%if 0%{?_without_modxorg:1}
+%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%else
+BuildRequires: mesa-libGLU-devel
+%endif
 BuildRequires: gcc-c++, freeglut-devel, plib-devel &gt;= 1.8.3
 BuildRequires: libpng-devel, libjpeg-devel, zlib-devel, openal-devel
 BuildRequires: desktop-file-utils

Modified: trunk/rpms/tpb/tpb.spec
===================================================================
--- trunk/rpms/tpb/tpb.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/tpb/tpb.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -2,6 +2,19 @@
 # Authority: dag
 # Upstream: Markus Braun &lt;markus,braun$krawel,de&gt;
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 Summary: Utility to enable the IBM ThinkPad(tm) special keys
 Name: tpb
 Version: 0.6.3
@@ -14,7 +27,9 @@
 #Source1: tpbrc
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: gettext, XFree86-devel, xosd-devel &gt;= 2.0
+BuildRequires: gettext, xosd-devel &gt;= 2.0
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 This program enables the IBM Thinkpad(tm) special keys. It is possible to bind

Modified: trunk/rpms/tvtime/tvtime.spec
===================================================================
--- trunk/rpms/tvtime/tvtime.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/tvtime/tvtime.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -4,6 +4,17 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %{?rh7:%define _without_freedesktop 1}
 %{?el2:%define _without_freedesktop 1}
 %{?rh6:%define _without_freedesktop 1}
@@ -23,9 +34,11 @@
 
 ExcludeArch: sparc sparc64
 
-BuildRequires: freetype-devel &gt;= 2.0, zlib-devel, libpng-devel, XFree86-libs
+BuildRequires: freetype-devel &gt;= 2.0, zlib-devel, libpng-devel
 BuildRequires: SDL-devel, gcc-c++, libxml2-devel
 #BuildRequires: libstdc++-devel
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 
 %description

Modified: trunk/rpms/vncselector/vncselector.spec
===================================================================
--- trunk/rpms/vncselector/vncselector.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/vncselector/vncselector.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -1,20 +1,23 @@
 # $Id$
+# Authority: dries
 
-# Authority: dries
-# Upstream:
 # Screenshot: <A HREF="http://www.dooglio.net/VncSelector/screenshot.png">http://www.dooglio.net/VncSelector/screenshot.png</A>
 
 # ExcludeDist: el3
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 Summary: Manage a list of currently active VNC server sessions
 Name: vncselector
@@ -30,8 +33,8 @@
 # Source: <A HREF="http://vncselector.sourceforge.net/VncSelector_%{version">http://vncselector.sourceforge.net/VncSelector_%{version</A>}.tar.gz
 BuildRequires: fltk-devel, gcc-c++, autoconf, automake
 BuildRequires: libtool, libpng-devel, libjpeg-devel
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 Requires: fltk
 
 %description
@@ -51,7 +54,7 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -Dp -m 755 src/vncselector %{buildroot}%{_bindir}/vncselector
+%{__install} -Dp -m0755 src/vncselector %{buildroot}%{_bindir}/vncselector
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -59,12 +62,9 @@
 %files
 %defattr(-, root, root, 0755)
 %doc AUTHORS COPYING ChangeLog INSTALL NEWS README TODO
-%{_bindir}/*
+%{_bindir}/vncselector
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.6.1-2.2
-- Rebuild for Fedora Core 5.
-
 * Tue Nov 08 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; 1.6.1-2
 - Source url fixed.
 

Modified: trunk/rpms/white_dune/white_dune.spec
===================================================================
--- trunk/rpms/white_dune/white_dune.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/white_dune/white_dune.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -10,17 +10,25 @@
 %{?fc3:%define _without_modxorg 1}
 %{?fc2:%define _without_modxorg 1}
 %{?fc1:%define _without_modxorg 1}
-
-%{?el3:%define _without_freeglut 1}
 %{?el3:%define _without_modxorg 1}
-
-%{?rh9:%define _without_freeglut 1}
 %{?rh9:%define _without_modxorg 1}
-
 %{?rh7:%define _without_modxorg 1}
 %{?el2:%define _without_modxorg 1}
 %{?yd3:%define _without_modxorg 1}
 
+%{?el3:%define _without_freeglut 1}
+%{?rh9:%define _without_freeglut 1}
+
+%{!?dist:%define _with_lesstif 1}
+%{?el5:%define _with_openmotif 1}
+%{?fc6:%define _with_lesstif 1}
+%{?fc5:%define _with_openmotif 1}
+%{?fc4:%define _with_openmotif 1}
+%{?fc3:%define _with_lesstif 1}
+%{?el4:%define _with_openmotif 1}
+%{?el3:%define _with_openmotif 1}
+%{?el2:%define _with_lesstif 1}
+
 %define real_version 0.29beta596
 
 Summary: Graphical VRML97 editor and animation tool
@@ -40,10 +48,8 @@
 %{?_without_modxorg:BuildRequires: XFree86-devel, /usr/X11R6/bin/Xvfb}
 %{!?_without_freeglut:BuildRequires: freeglut-devel}
 %{?_without_freeglut:BuildRequires: glut-devel}
-%{?el5:BuildRequires: lesstif-devel}
-%{?fc6:BuildRequires: lesstif-devel}
-%{?fc5:BuildRequires: openmotif-devel}
-%{?fc4:BuildRequires: openmotif-devel}
+%{?_with_lesstif:BuildRequires: lesstif-devel}
+%{?_with_openmotif:BuildRequires: openmotif-devel}
 
 %description
 The white_dune program is a graphical VRML97 editor and animation tool.
@@ -64,7 +70,7 @@
   --with-optimization \
   --with-buginlesstif \
   --without-devil \
-  --with-vrmlbrowser=mozilla \
+  --with-vrmlbrowser=&quot;mozilla&quot; \
   --with-helpurl=&quot;%{_datadir}/doc/white_dune-%{real_version}/docs/index.html&quot; \
   --with-nurbscurveprotourl=&quot;%{_datadir}/misc/white_dune/NurbsCurvePROTO.wrl&quot; \
   --with-nurbsgroupprotourl=&quot;%{_datadir}/misc/white_dune/NurbsGroupPROTO.wrl&quot; \
@@ -89,14 +95,15 @@
 %files
 %defattr(-, root, root, 0755)
 %doc COPYING README docs
+%doc %{_mandir}/man1/dune.1*
+%doc %{_mandir}/man1/illegal2vrml.1*
 %{_bindir}/dune
 %{_bindir}/dune4kids
 %{_bindir}/illegal2vrml
-%{_mandir}/man1/*.1*
 %{_datadir}/applications/dune.desktop
 %{_datadir}/applications/dune4kids.desktop
-%{_datadir}/icons/*/48x48/apps/dune.png
-%{_datadir}/icons/*/48x48/apps/dune4kids.png
+%{_datadir}/icons/Bluecurve/48x48/apps/dune.png
+%{_datadir}/icons/Bluecurve/48x48/apps/dune4kids.png
 
 %changelog
 * Sun Apr 01 2007 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.29-0.beta596

Modified: trunk/rpms/windowmaker/windowmaker.spec
===================================================================
--- trunk/rpms/windowmaker/windowmaker.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/windowmaker/windowmaker.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -3,14 +3,17 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 %define real_name WindowMaker
 
@@ -27,8 +30,8 @@
 
 BuildRequires: libpng-devel, libjpeg-devel, libungif-devel
 BuildRequires: libtiff-devel, zlib-devel, gettext, gcc-c++
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 Provides: WindowMaker = %{version}-%{release}
 Provides: WindowMaker-libs = %{version}-%{release}

Modified: trunk/rpms/x2/x2.spec
===================================================================
--- trunk/rpms/x2/x2.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/x2/x2.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -4,14 +4,17 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 Summary: The X2 text editor
 Name: x2
@@ -25,9 +28,9 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 ExclusiveArch: i386
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 BuildRequires: ncurses-devel
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 X2 is a text mode editor that is designed to make the code writing process as

Modified: trunk/rpms/xautolock/xautolock.spec
===================================================================
--- trunk/rpms/xautolock/xautolock.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/xautolock/xautolock.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -3,13 +3,16 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 Summary: Launches a program when your X session has been idle for some time
 Name: xautolock
@@ -22,8 +25,8 @@
 Source: <A HREF="http://www.ibiblio.org/pub/Linux/X11/screensavers/xautolock-%{version">http://www.ibiblio.org/pub/Linux/X11/screensavers/xautolock-%{version</A>}.tgz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 A program that launches a given program when
@@ -50,9 +53,6 @@
 %{_prefix}/X11R6/bin/xautolock
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 2.1-2.2
-- Rebuild for Fedora Core 5.
-
 * Thu Feb 26 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; 2.1-2
 - fixed: man page not installed.
   bug found by Matt Thompson, thanks Matt!

Modified: trunk/rpms/xdesktopwaves/xdesktopwaves.spec
===================================================================
--- trunk/rpms/xdesktopwaves/xdesktopwaves.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/xdesktopwaves/xdesktopwaves.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -1,6 +1,20 @@
 # $Id$
 # Authority: matthias
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 Summary: Set the background of your X Windows desktop under water
 Name: xdesktopwaves
 Version: 1.3
@@ -8,10 +22,13 @@
 License: GPL
 Group: Amusements/Graphics
 URL: <A HREF="http://xdesktopwaves.sourceforge.net/">http://xdesktopwaves.sourceforge.net/</A>
+
 Source: <A HREF="http://dl.sf.net/xdesktopwaves/xdesktopwaves-%{version">http://dl.sf.net/xdesktopwaves/xdesktopwaves-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: XFree86-devel
 
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
+
 %description
 xdesktopwaves is a cellular automata setting the background of your X Windows
 desktop under water. Windows and mouse are like ships on the sea. Each movement

Modified: trunk/rpms/xephem/xephem.spec
===================================================================
--- trunk/rpms/xephem/xephem.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/xephem/xephem.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -4,6 +4,29 @@
 # still work in progress
 # Tag: test
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
+%{!?dist:%define _with_lesstif 1}
+%{?el5:%define _with_openmotif 1}
+%{?fc6:%define _with_lesstif 1}
+%{?fc5:%define _with_openmotif 1}
+%{?fc4:%define _with_openmotif 1}
+%{?fc3:%define _with_lesstif 1}
+%{?el4:%define _with_openmotif 1}
+%{?el3:%define _with_openmotif 1}
+%{?el2:%define _with_lesstif 1}
+
 Summary: Attractive astronomical ephemeris program for X Windows
 Name: xephem
 Version: 3.7.2
@@ -20,8 +43,10 @@
 
 Provides: perl(cgi-lib.pl)
 Requires: lesstif, libXmu, libXt, libXp
-# TODO without_modxorg
-BuildRequires: libXmu-devel, lesstif-devel, libXt-devel, libXp-devel, libXau-devel
+%{!?_without_modxorg:BuildRequires: libXmu-devel, libXt-devel, libXp-devel, libXau-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
+%{?_with_lesstif:BuildRequires: lesstif-devel}
+%{?_with_openmotif:BuildRequires: openmotif-devel}
 
 %description
 XEphem is an interactive astronomical ephemeris program for X Windows

Modified: trunk/rpms/xfrisk/xfrisk.spec
===================================================================
--- trunk/rpms/xfrisk/xfrisk.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/xfrisk/xfrisk.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -1,10 +1,21 @@
 # $Id$
-
 # Authority: dag
 # Upstream: &lt;xfrisk-devel$tuxick,net&gt;
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 Summary: Multi-user network version of the classic &quot;Risk&quot;
 Name: xfrisk
 Version: 1.2
@@ -17,12 +28,8 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: Xaw3d-devel
-%{!?dist:BuildRequires: xorg-x11-devel}
-%{?fc4:BuildRequires: xorg-x11-devel}
-%{?fc3:BuildRequires: xorg-x11-devel}
-%{?fc2:BuildRequires: xorg-x11-devel}
-%{?fc1:BuildRequires: XFree86-devel}
-%{?rh9:BuildRequires: XFree86-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 Obsoletes: XFrisk
 

Modified: trunk/rpms/xkobo/xkobo.spec
===================================================================
--- trunk/rpms/xkobo/xkobo.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/xkobo/xkobo.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -3,6 +3,18 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %{?rh7:%define _without_freedesktop 1}
 %{?el2:%define _without_freedesktop 1}
 %{?rh6:%define _without_freedesktop 1}
@@ -23,11 +35,8 @@
 Patch0: xkobo-1.11+w01-imake.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gcc-c++
-%{!?dist:BuildRequires: xorg-x11-devel}
-%{?fc3:BuildRequires: xorg-x11-devel}
-%{?fc2:BuildRequires: xorg-x11-devel}
-%{?fc1:BuildRequires: XFree86-devel}
-%{?rh9:BuildRequires: XFree86-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 
 %description

Modified: trunk/rpms/xlockmore/xlockmore.spec
===================================================================
--- trunk/rpms/xlockmore/xlockmore.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/xlockmore/xlockmore.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -3,6 +3,18 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %{?fc1:%define _without_xorg 1}
 %{?el3:%define _without_xorg 1}
 %{?rh9:%define _without_xorg 1}
@@ -10,7 +22,18 @@
 %{?rh7:%define _without_xorg 1}
 %{?el2:%define _without_xorg 1}
 %{?rh6:%define _without_xorg 1}
+%{?yd3:%define _without_xorg 1}
 
+%{!?dist:%define _with_lesstif 1}
+%{?el5:%define _with_openmotif 1}
+%{?fc6:%define _with_lesstif 1}
+%{?fc5:%define _with_openmotif 1}
+%{?fc4:%define _with_openmotif 1}
+%{?fc3:%define _with_lesstif 1}
+%{?el4:%define _with_openmotif 1}
+%{?el3:%define _with_openmotif 1}
+%{?el2:%define _with_lesstif 1}
+
 %define desktop_vendor rpmforge
 
 Summary: Screen lock and screen saver.
@@ -24,11 +47,16 @@
 Source: <A HREF="http://www.tux.org/~bagleyd/latest/xlockmore-%{version">http://www.tux.org/~bagleyd/latest/xlockmore-%{version</A>}.tar.bz2
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: gcc-c++, esound-devel, gtk2-devel
-BuildRequires: openmotif-devel, openmotif, pam-devel
-%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGL, XFree86-Mesa-libGLU}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGL, xorg-x11-Mesa-libGLU}
+BuildRequires: gcc-c++, esound-devel, gtk2-devel, pam-devel
 BuildRequires: desktop-file-utils
+%{?_with_lesstif:BuildRequires: lesstif-devel}
+%{?_with_openmotif:BuildRequires: openmotif-devel}
+%if 0%{?_without_modxorg:1}
+%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%else
+BuildRequires: mesa-libGLU-devel
+%endif
 
 %description
 A screen locker and screen saver.

Modified: trunk/rpms/xrestop/xrestop.spec
===================================================================
--- trunk/rpms/xrestop/xrestop.spec	2007-04-01 15:12:22 UTC (rev 5263)
+++ trunk/rpms/xrestop/xrestop.spec	2007-04-01 15:14:36 UTC (rev 5264)
@@ -3,13 +3,16 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 Summary: X resource monitor
 Name: xrestop
@@ -23,8 +26,8 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: ncurses-devel
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 xrestop is a utility to monitor the usage of resources within the X Server,


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004062.html">[svn] r5263 - in trunk/rpms: R armagetronad aterm bochs bzflag camE	dxfscope dxpc frontline ghc giftoxic gruler libvisual	neverball ocaml orsa pearpc perl-GD powermanga prismstumbler	pyrpm python-opengl soundconverter streamdvd twin valgrind	xawtv xforms xpenguins-applet xtraceroute xvattr
</A></li>
	<LI>Next message: <A HREF="004064.html">[svn] r5265 - trunk/rpms/dvdrip
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4063">[ date ]</a>
              <a href="thread.html#4063">[ thread ]</a>
              <a href="subject.html#4063">[ subject ]</a>
              <a href="author.html#4063">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
