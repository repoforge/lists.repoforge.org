<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r5252 - in trunk/rpms: . SDL_Pango SDL_ttf perl-Data-Alias	perl-GD perl-Games-Chess-Referee perl-HTML-SBC	perl-Locale-gettext perl-Log-Log4perl perl-Module-Install	perl-Net-Server-Mail-ESMTP-XFORWARD perl-OpenGL-Simple	perl-SDL perl-WWW-Yahoo-Movies python-memcached
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5252%20-%20in%20trunk/rpms%3A%20.%20SDL_Pango%20SDL_ttf%20perl-Data-Alias%0A%09perl-GD%20perl-Games-Chess-Referee%20perl-HTML-SBC%0A%09perl-Locale-gettext%20perl-Log-Log4perl%20perl-Module-Install%0A%09perl-Net-Server-Mail-ESMTP-XFORWARD%20perl-OpenGL-Simple%0A%09perl-SDL%20perl-WWW-Yahoo-Movies%20python-memcached&In-Reply-To=%3C20070330100217.04A17944A9A%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004050.html">
   <LINK REL="Next"  HREF="004052.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r5252 - in trunk/rpms: . SDL_Pango SDL_ttf perl-Data-Alias	perl-GD perl-Games-Chess-Referee perl-HTML-SBC	perl-Locale-gettext perl-Log-Log4perl perl-Module-Install	perl-Net-Server-Mail-ESMTP-XFORWARD perl-OpenGL-Simple	perl-SDL perl-WWW-Yahoo-Movies python-memcached</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5252%20-%20in%20trunk/rpms%3A%20.%20SDL_Pango%20SDL_ttf%20perl-Data-Alias%0A%09perl-GD%20perl-Games-Chess-Referee%20perl-HTML-SBC%0A%09perl-Locale-gettext%20perl-Log-Log4perl%20perl-Module-Install%0A%09perl-Net-Server-Mail-ESMTP-XFORWARD%20perl-OpenGL-Simple%0A%09perl-SDL%20perl-WWW-Yahoo-Movies%20python-memcached&In-Reply-To=%3C20070330100217.04A17944A9A%40pooch.vmhosting.org%3E"
       TITLE="[svn] r5252 - in trunk/rpms: . SDL_Pango SDL_ttf perl-Data-Alias	perl-GD perl-Games-Chess-Referee perl-HTML-SBC	perl-Locale-gettext perl-Log-Log4perl perl-Module-Install	perl-Net-Server-Mail-ESMTP-XFORWARD perl-OpenGL-Simple	perl-SDL perl-WWW-Yahoo-Movies python-memcached">packagers at lists.rpmforge.net
       </A><BR>
    <I>Fri Mar 30 12:02:17 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="004050.html">[svn] r5251 - in trunk/rpms: perl-AnyEvent perl-Apache-ASP	perl-Apache-AuthCookie perl-Coro perl-DateTime-Format-Builder	perl-DateTime-Locale perl-DateTime-TimeZone perl-HTML-Mason	perl-IMAP-BodyStructure perl-Image-Imlib2	perl-Lingua-DE-Wortschatz perl-Math-Fleximal	perl-Math-Prime-XS perl-Module-Build perl-Net-Google	perl-SVN-Log perl-Text-Diff-HTML perl-Text-SimpleTable	perl-XML-Generator-RFC822-RDF perl-YAML-Active
</A></li>
        <LI>Next message: <A HREF="004052.html">[svn] r5253 - in trunk/rpms: . dvd95
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4051">[ date ]</a>
              <a href="thread.html#4051">[ thread ]</a>
              <a href="subject.html#4051">[ subject ]</a>
              <a href="author.html#4051">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2007-03-30 12:02:15 +0200 (Fri, 30 Mar 2007)
New Revision: 5252

Added:
   trunk/rpms/SDL_Pango/
   trunk/rpms/SDL_Pango/SDL_Pango-0.1.2-API-adds.patch
   trunk/rpms/SDL_Pango/SDL_Pango-0.1.2-suppress-warning.patch
   trunk/rpms/SDL_Pango/SDL_Pango.spec
   trunk/rpms/SDL_Pango/doxygen.png
Modified:
   trunk/rpms/SDL_ttf/SDL_ttf.spec
   trunk/rpms/perl-Data-Alias/perl-Data-Alias.spec
   trunk/rpms/perl-GD/perl-GD.spec
   trunk/rpms/perl-Games-Chess-Referee/perl-Games-Chess-Referee.spec
   trunk/rpms/perl-HTML-SBC/perl-HTML-SBC.spec
   trunk/rpms/perl-Locale-gettext/perl-Locale-gettext.spec
   trunk/rpms/perl-Log-Log4perl/perl-Log-Log4perl.spec
   trunk/rpms/perl-Module-Install/perl-Module-Install.spec
   trunk/rpms/perl-Net-Server-Mail-ESMTP-XFORWARD/perl-Net-Server-Mail-ESMTP-XFORWARD.spec
   trunk/rpms/perl-OpenGL-Simple/perl-OpenGL-Simple.spec
   trunk/rpms/perl-SDL/perl-SDL.spec
   trunk/rpms/perl-WWW-Yahoo-Movies/perl-WWW-Yahoo-Movies.spec
   trunk/rpms/python-memcached/python-memcached.spec
Log:
Updates

Added: trunk/rpms/SDL_Pango/SDL_Pango-0.1.2-API-adds.patch
===================================================================
--- trunk/rpms/SDL_Pango/SDL_Pango-0.1.2-API-adds.patch	                        (rev 0)
+++ trunk/rpms/SDL_Pango/SDL_Pango-0.1.2-API-adds.patch	2007-03-30 10:02:15 UTC (rev 5252)
@@ -0,0 +1,118 @@
+diff -Naupr SDL_Pango-0.1.2.orig/src/SDL_Pango.c SDL_Pango-0.1.2/src/SDL_Pango.c
+--- SDL_Pango-0.1.2.orig/src/SDL_Pango.c	2004-12-10 10:06:33.000000000 +0100
++++ SDL_Pango-0.1.2/src/SDL_Pango.c	2006-09-29 17:42:09.000000000 +0200
+@@ -723,13 +723,8 @@ SDLPango_CopyFTBitmapToSurface(
+     SDL_UnlockSurface(surface);
+ }
+ 
+-/*!
+-    Create a context which contains Pango objects.
+-
+-    @return A pointer to the context as a SDLPango_Context*.
+-*/
+ SDLPango_Context*
+-SDLPango_CreateContext()
++SDLPango_CreateContext_GivenFontDesc(const char* font_desc)
+ {
+     SDLPango_Context *context = g_malloc(sizeof(SDLPango_Context));
+     G_CONST_RETURN char *charset;
+@@ -743,8 +738,7 @@ SDLPango_CreateContext()
+     pango_context_set_language (context-&gt;context, pango_language_from_string (charset));
+     pango_context_set_base_dir (context-&gt;context, PANGO_DIRECTION_LTR);
+ 
+-    context-&gt;font_desc = pango_font_description_from_string(
+-	MAKE_FONT_NAME (DEFAULT_FONT_FAMILY, DEFAULT_FONT_SIZE));
++    context-&gt;font_desc = pango_font_description_from_string(font_desc);
+ 
+     context-&gt;layout = pango_layout_new (context-&gt;context);
+ 
+@@ -762,6 +756,17 @@ SDLPango_CreateContext()
+ }
+ 
+ /*!
++    Create a context which contains Pango objects.
++
++    @return A pointer to the context as a SDLPango_Context*.
++*/
++SDLPango_Context*
++SDLPango_CreateContext()
++{
++     SDLPango_CreateContext_GivenFontDesc(MAKE_FONT_NAME(DEFAULT_FONT_FAMILY, DEFAULT_FONT_SIZE));
++}
++
++/*!
+     Free a context.
+ 
+     @param *context [i/o] Context to be free
+@@ -1053,6 +1058,20 @@ SDLPango_SetMarkup(
+     pango_layout_set_font_description (context-&gt;layout, context-&gt;font_desc);
+ }
+ 
++void
++SDLPango_SetText_GivenAlignment(
++    SDLPango_Context *context,
++    const char *text,
++    int length,
++    SDLPango_Alignment alignment)
++{
++    pango_layout_set_attributes(context-&gt;layout, NULL);
++    pango_layout_set_text (context-&gt;layout, text, length);
++    pango_layout_set_auto_dir (context-&gt;layout, TRUE);
++    pango_layout_set_alignment (context-&gt;layout, alignment);
++    pango_layout_set_font_description (context-&gt;layout, context-&gt;font_desc);
++}
++
+ /*!
+     Set plain text to context.
+     Text must be utf-8.
+@@ -1067,11 +1086,7 @@ SDLPango_SetText(
+     const char *text,
+     int length)
+ {
+-    pango_layout_set_attributes(context-&gt;layout, NULL);
+-    pango_layout_set_text (context-&gt;layout, text, length);
+-    pango_layout_set_auto_dir (context-&gt;layout, TRUE);
+-    pango_layout_set_alignment (context-&gt;layout, PANGO_ALIGN_LEFT);
+-    pango_layout_set_font_description (context-&gt;layout, context-&gt;font_desc);
++     SDLPango_SetText_GivenAlignment(context, text, length, SDLPANGO_ALIGN_LEFT);
+ }
+ 
+ /*!
+diff -Naupr SDL_Pango-0.1.2.orig/src/SDL_Pango.h SDL_Pango-0.1.2/src/SDL_Pango.h
+--- SDL_Pango-0.1.2.orig/src/SDL_Pango.h	2004-12-10 10:06:33.000000000 +0100
++++ SDL_Pango-0.1.2/src/SDL_Pango.h	2006-09-29 17:42:09.000000000 +0200
+@@ -109,12 +109,20 @@ typedef enum {
+     SDLPANGO_DIRECTION_NEUTRAL	/*! Neutral */
+ } SDLPango_Direction;
+ 
+-
++/*!
++    Specifies alignment of text. See Pango reference for detail
++*/
++typedef enum {
++    SDLPANGO_ALIGN_LEFT,
++    SDLPANGO_ALIGN_CENTER,
++    SDLPANGO_ALIGN_RIGHT
++} SDLPango_Alignment;
+ 
+ extern DECLSPEC int SDLCALL SDLPango_Init();
+ 
+ extern DECLSPEC int SDLCALL SDLPango_WasInit();
+ 
++extern DECLSPEC SDLPango_Context* SDLCALL SDLPango_CreateContext_GivenFontDesc(const char* font_desc);
+ extern DECLSPEC SDLPango_Context* SDLCALL SDLPango_CreateContext();
+ 
+ extern DECLSPEC void SDLCALL SDLPango_FreeContext(
+@@ -157,6 +165,12 @@ extern DECLSPEC void SDLCALL SDLPango_Se
+     const char *markup,
+     int length);
+ 
++extern DECLSPEC void SDLCALL SDLPango_SetText_GivenAlignment(
++    SDLPango_Context *context,
++    const char *text,
++    int length,
++    SDLPango_Alignment alignment);
++
+ extern DECLSPEC void SDLCALL SDLPango_SetText(
+     SDLPango_Context *context,
+     const char *markup,

Added: trunk/rpms/SDL_Pango/SDL_Pango-0.1.2-suppress-warning.patch
===================================================================
--- trunk/rpms/SDL_Pango/SDL_Pango-0.1.2-suppress-warning.patch	                        (rev 0)
+++ trunk/rpms/SDL_Pango/SDL_Pango-0.1.2-suppress-warning.patch	2007-03-30 10:02:15 UTC (rev 5252)
@@ -0,0 +1,87 @@
+--- SDL_Pango-0.1.2/src/SDL_Pango.c.warn	2004-12-10 18:06:33.000000000 +0900
++++ SDL_Pango-0.1.2/src/SDL_Pango.c	2006-09-23 22:49:42.000000000 +0900
+@@ -437,6 +437,10 @@
+     PangoRectangle ink_rect;
+     int x_off = 0;
+ 
++    /* only suppress warning */
++    fg_color.red = fg_color.green = fg_color.blue = 0;
++    bg_color.red = bg_color.green = bg_color.blue = 0;
++
+     while (tmp_list) {
+ 	SDLPango_Matrix color_matrix = context-&gt;color_matrix;
+ 	PangoUnderline uline = PANGO_UNDERLINE_NONE;
+--- SDL_Pango-0.1.2/src/SDL_Pango.h.warn	2004-12-10 18:06:33.000000000 +0900
++++ SDL_Pango-0.1.2/src/SDL_Pango.h	2006-09-23 22:49:42.000000000 +0900
+@@ -47,10 +47,10 @@
+ } SDLPango_Matrix;
+ 
+ const SDLPango_Matrix _MATRIX_WHITE_BACK
+-    = {255, 0, 0, 0,
+-       255, 0, 0, 0,
+-       255, 0, 0, 0,
+-       255, 255, 0, 0,};
++= {{{255, 0, 0, 0},
++    {255, 0, 0, 0},
++    {255, 0, 0, 0},
++    {255, 255, 0, 0}}};
+ 
+ /*!
+     Specifies white back and black letter.
+@@ -58,40 +58,40 @@
+ const SDLPango_Matrix *MATRIX_WHITE_BACK = &amp;_MATRIX_WHITE_BACK;
+ 
+ const SDLPango_Matrix _MATRIX_BLACK_BACK
+-    = {0, 255, 0, 0,
+-       0, 255, 0, 0,
+-       0, 255, 0, 0,
+-       255, 255, 0, 0,};
++= {{{0, 255, 0, 0},
++    {0, 255, 0, 0},
++    {0, 255, 0, 0},
++    {255, 255, 0, 0}}};
+ /*!
+     Specifies black back and white letter.
+ */
+ const SDLPango_Matrix *MATRIX_BLACK_BACK = &amp;_MATRIX_BLACK_BACK;
+ 
+ const SDLPango_Matrix _MATRIX_TRANSPARENT_BACK_BLACK_LETTER
+-    = {0, 0, 0, 0,
+-       0, 0, 0, 0,
+-       0, 0, 0, 0,
+-       0, 255, 0, 0,};
++= {{{0, 0, 0, 0},
++    {0, 0, 0, 0},
++    {0, 0, 0, 0},
++    {0, 255, 0, 0}}};
+ /*!
+     Specifies transparent back and black letter.
+ */
+ const SDLPango_Matrix *MATRIX_TRANSPARENT_BACK_BLACK_LETTER = &amp;_MATRIX_TRANSPARENT_BACK_BLACK_LETTER;
+ 
+ const SDLPango_Matrix _MATRIX_TRANSPARENT_BACK_WHITE_LETTER
+-    = {255, 255, 0, 0,
+-       255, 255, 0, 0,
+-       255, 255, 0, 0,
+-       0, 255, 0, 0,};
++= {{{255, 255, 0, 0},
++    {255, 255, 0, 0},
++    {255, 255, 0, 0},
++    {0, 255, 0, 0}}};
+ /*!
+     Specifies transparent back and white letter.
+ */
+ const SDLPango_Matrix *MATRIX_TRANSPARENT_BACK_WHITE_LETTER = &amp;_MATRIX_TRANSPARENT_BACK_WHITE_LETTER;
+ 
+ const SDLPango_Matrix _MATRIX_TRANSPARENT_BACK_TRANSPARENT_LETTER
+-    = {255, 255, 0, 0,
+-       255, 255, 0, 0,
+-       255, 255, 0, 0,
+-       0, 0, 0, 0,};
++= {{{255, 255, 0, 0},
++    {255, 255, 0, 0},
++    {255, 255, 0, 0},
++    {0, 0, 0, 0}}};
+ /*!
+     Specifies transparent back and transparent letter.
+     This is useful for KARAOKE like rendering.

Added: trunk/rpms/SDL_Pango/SDL_Pango.spec
===================================================================
--- trunk/rpms/SDL_Pango/SDL_Pango.spec	                        (rev 0)
+++ trunk/rpms/SDL_Pango/SDL_Pango.spec	2007-03-30 10:02:15 UTC (rev 5252)
@@ -0,0 +1,101 @@
+# $Id$
+# Authority: dag
+
+Summary: Rendering of internationalized text for SDL (Simple DirectMedia Layer)
+Name: SDL_Pango
+Version: 0.1.2
+Release: 1
+License: LGPL
+Group: System Environment/Libraries
+URL: <A HREF="http://sdlpango.sourceforge.net/">http://sdlpango.sourceforge.net/</A>
+
+Source0: <A HREF="http://dl.sf.net/sdlpango/SDL_Pango-%{version">http://dl.sf.net/sdlpango/SDL_Pango-%{version</A>}.tar.gz
+Source1: doxygen.png
+Patch0: SDL_Pango-0.1.2-suppress-warning.patch
+Patch1: SDL_Pango-0.1.2-API-adds.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: pango-devel, SDL-devel, dos2unix
+BuildRequires: autoconf, automake, libtool
+
+%description
+Pango is the text rendering engine of GNOME 2. SDL_Pango connects that engine
+to SDL, the Simple DirectMedia Layer.
+
+%package devel
+Summary: Header files, libraries and development documentation for %{name}.
+Group: Development/Libraries
+Requires: %{name} = %{version}-%{release}
+Requires: pango-devel, SDL-devel, pkgconfig
+
+%description devel
+This package contains the header files, static libraries and development
+documentation for %{name}. If you like to develop programs using %{name},
+you will need to install %{name}-devel.
+
+%prep
+%setup
+%patch0 -p1 -b .suppress-warning
+
+dos2unix src/SDL_Pango.c src/SDL_Pango.h
+
+%patch1 -p1 -b .API-adds
+
+# Clean up, we include the entire &quot;docs/html&quot; content for the devel package
+%{__rm} -rf docs/html/CVS/
+
+# Replace the corrupt doxygen.png file with a proper one
+%{__install} -m 0644 -p %{SOURCE1} docs/html/doxygen.png
+
+# Fix the (many) DOS encoded files, not *.png since they get corrupt
+find . -not -name \*.png -type f -exec dos2unix -k {} \;
+
+# For FC-5 x86_64 this is required, or the shared library doesn't get built
+autoreconf
+libtoolize --copy --force
+
+%build
+%configure
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
+
+%files
+%defattr(-, root, root, 0755)
+%doc AUTHORS ChangeLog COPYING NEWS README
+%{_libdir}/*.so.*
+
+%files devel
+%defattr(-, root, root, 0755)
+%doc docs/html/*
+%{_includedir}/SDL_Pango.h
+%{_libdir}/pkgconfig/SDL_Pango.pc
+%exclude %{_libdir}/*.a
+%exclude %{_libdir}/*.la
+%{_libdir}/*.so
+
+%changelog
+* Fri Sep 29 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.1.2-4
+- Add autoreconf and libtoolize calls since on FC5 x86_64 the shared library
+  isn't build otherwise.
+- Add API-adds patch (submitted upstream), required for the only project known
+  to use SDL_Pango, so it does makes kind of sense...
+
+* Tue Sep 26 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.1.2-3
+- Use dos2unix to convert all DOS encoded files.
+- Replace the corrupt doxygen.png file with a proper one.
+
+* Tue Sep 26 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.1.2-2
+- Change %%makeinstall to using DESTDIR, according to the guidelines.
+- Include patch from Mamoru Tasaka to remove all compilation warnings.
+
+* Fri Sep 22 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.1.2-1
+- Initial RPM release.


Property changes on: trunk/rpms/SDL_Pango/SDL_Pango.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Added: trunk/rpms/SDL_Pango/doxygen.png
===================================================================
(Binary files differ)


Property changes on: trunk/rpms/SDL_Pango/doxygen.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/rpms/SDL_ttf/SDL_ttf.spec
===================================================================
--- trunk/rpms/SDL_ttf/SDL_ttf.spec	2007-03-29 22:38:32 UTC (rev 5251)
+++ trunk/rpms/SDL_ttf/SDL_ttf.spec	2007-03-30 10:02:15 UTC (rev 5252)
@@ -9,13 +9,14 @@
 
 Summary: Simple DirectMedia Layer - Sample TrueType Font Library
 Name: SDL_ttf
-Version: 2.0.7
-Release: 0.2
+Version: 2.0.8
+Release: 1
 License: LGPL
 Group: System Environment/Libraries
 URL: <A HREF="http://www.libsdl.org/projects/SDL_ttf/">http://www.libsdl.org/projects/SDL_ttf/</A>
 
 Source: <A HREF="http://www.libsdl.org/projects/SDL_ttf/release/SDL_ttf-%{version">http://www.libsdl.org/projects/SDL_ttf/release/SDL_ttf-%{version</A>}.tar.gz
+Patch0: SDL_ttf-2.0.7-freetype-internals.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: SDL-devel &gt;= 1.2.4, freetype-devel &gt;= 2.0, zlib-devel, gcc-c++
@@ -36,6 +37,7 @@
 
 %prep
 %setup
+%patch0 -p1 -b .freetype
 
 ### FIXME: Add missing ftbuild.h include (fix upstream please)
 %{?_freetype_fix:%{__perl} -pi.orig -e 's|^(#include &lt;freetype/freetype.h&gt;)$|#include &lt;ft2build.h&gt;\n$1|' SDL_ttf.c}
@@ -49,10 +51,8 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%makeinstall
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
 
-### Clean up buildroot
-%{__rm} -f %{buildroot}%{_libdir}/*.la
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -70,15 +70,15 @@
 %dir %{_includedir}/SDL/
 %{_includedir}/SDL/*.h
 %{_libdir}/*.a
+%exclude %{_libdir}/*.la
 %{_libdir}/*.so
-#exclude %{_libdir}/*.la
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 2.0.7-0.2
-- Rebuild for Fedora Core 5.
+* Fri Mar 30 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.0.8-1
+- Updated to release 2.0.8.
 
 * Mon Sep 05 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 2.0.7-0
-- Update to release 2.0.7.
+- Updated to release 2.0.7.
 
 * Thu Sep 04 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.0.6-0
 - Initial package. (using DAR)

Modified: trunk/rpms/perl-Data-Alias/perl-Data-Alias.spec
===================================================================
--- trunk/rpms/perl-Data-Alias/perl-Data-Alias.spec	2007-03-29 22:38:32 UTC (rev 5251)
+++ trunk/rpms/perl-Data-Alias/perl-Data-Alias.spec	2007-03-30 10:02:15 UTC (rev 5252)
@@ -18,7 +18,7 @@
 Source: <A HREF="http://search.cpan.org//CPAN/authors/id/X/XM/XMATH/Data-Alias-%{version">http://search.cpan.org//CPAN/authors/id/X/XM/XMATH/Data-Alias-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: perl
+BuildRequires: perl &gt;= 2:5.8.1
 
 %description
 Comprehensive set of aliasing operations.

Modified: trunk/rpms/perl-GD/perl-GD.spec
===================================================================
--- trunk/rpms/perl-GD/perl-GD.spec	2007-03-29 22:38:32 UTC (rev 5251)
+++ trunk/rpms/perl-GD/perl-GD.spec	2007-03-30 10:02:15 UTC (rev 5252)
@@ -1,6 +1,14 @@
 # $Id$
 # Authority: dag
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{!?dist:%define _with_modxorg 1}
+%{?fc7:  %define _with_modxorg 1}
+%{?el5:  %define _with_modxorg 1}
+%{?fc6:  %define _with_modxorg 1}
+%{?fc5:  %define _with_modxorg 1}
+
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
 
@@ -18,7 +26,9 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: perl &gt;= 0:5.8.0, gd-devel &gt;= 2.0.12, libpng-devel, zlib-devel
-BuildRequires: freetype-devel, libjpeg-devel, XFree86-devel
+BuildRequires: freetype-devel, libjpeg-devel
+%{?_with_modxorg:BuildRequires: libX11-devel}
+%{!?_with_modxorg:BuildRequires: XFree86-devel}
 Requires: perl &gt;= 0:5.8.0
 
 %description

Modified: trunk/rpms/perl-Games-Chess-Referee/perl-Games-Chess-Referee.spec
===================================================================
--- trunk/rpms/perl-Games-Chess-Referee/perl-Games-Chess-Referee.spec	2007-03-29 22:38:32 UTC (rev 5251)
+++ trunk/rpms/perl-Games-Chess-Referee/perl-Games-Chess-Referee.spec	2007-03-30 10:02:15 UTC (rev 5252)
@@ -52,7 +52,7 @@
 %doc README
 %{_bindir}/mkbd
 %{_bindir}/tryme
-#%doc %{_mandir}/man3/*
+%doc %{_mandir}/man3/Games::Chess::Rules.3pm*
 %{perl_vendorlib}/Games/Chess/Referee.p*
 %{perl_vendorlib}/Games/Chess/Piece/
 %{perl_vendorlib}/Games/Chess/Rules.pm

Modified: trunk/rpms/perl-HTML-SBC/perl-HTML-SBC.spec
===================================================================
--- trunk/rpms/perl-HTML-SBC/perl-HTML-SBC.spec	2007-03-29 22:38:32 UTC (rev 5251)
+++ trunk/rpms/perl-HTML-SBC/perl-HTML-SBC.spec	2007-03-30 10:02:15 UTC (rev 5252)
@@ -20,7 +20,7 @@
 
 BuildArch: noarch
 BuildRequires: perl, perl(Test::Exception), perl(Test::Simple) &gt;= 0.62, perl(Test::More) &gt;= 0.62
-BuildRequires: perl(Carp), perl(Scalar::Util), perl(Exporter) &gt;= 5.562
+BuildRequires: perl(Carp), perl(Scalar::Util), perl(Exporter) &gt;= 5.58
 
 %description
 Simple blog code (SBC) is a simple markup language, You can use it for guest

Modified: trunk/rpms/perl-Locale-gettext/perl-Locale-gettext.spec
===================================================================
--- trunk/rpms/perl-Locale-gettext/perl-Locale-gettext.spec	2007-03-29 22:38:32 UTC (rev 5251)
+++ trunk/rpms/perl-Locale-gettext/perl-Locale-gettext.spec	2007-03-30 10:02:15 UTC (rev 5252)
@@ -1,18 +1,20 @@
 # $Id$
 # Authority: dag
 
+%define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
+%define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
+
 %define real_name gettext
 
 Summary: Internationalization for Perl
 Name: perl-Locale-gettext
 Version: 1.05
-Release: 1.2
+Release: 1
 License: distributable
 Group: Applications/CPAN
 URL: <A HREF="http://search.cpan.org/dist/gettext/">http://search.cpan.org/dist/gettext/</A>
 
 Source: <A HREF="http://search.cpan.org/CPAN/authors/id/P/PV/PVANDRY/gettext-%{version">http://search.cpan.org/CPAN/authors/id/P/PV/PVANDRY/gettext-%{version</A>}.tar.gz
-Patch0: gettext-1.01-fix-example-in-README.patch
 Patch1: gettext-1.01-includes.patch
 Patch2: gettext-1.01-add-iconv.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
@@ -30,16 +32,12 @@
 
 %prep
 %setup -n %{real_name}-%{version}
-%patch0 -p1
-%patch1 -p1 -b .includes
-%patch2 -p0
+#patch1 -p1 -b .includes
+#patch2 -p0
 
 %build
-CFLAGS=&quot;%{optflags}&quot; %{__perl} Makefile.PL \
-        PREFIX=&quot;%{buildroot}%{_prefix}&quot; \
-        INSTALLDIRS=&quot;vendor&quot;
-%{__make} %{?_smp_mflags} \
-	OPTIMIZE=&quot;%{optflags}&quot;
+CFLAGS=&quot;%{optflags}&quot; %{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
+%{__make} %{?_smp_mflags} OPTIMIZE=&quot;%{optflags}&quot;
 #%{__make} test
 
 %install
@@ -47,8 +45,7 @@
 %makeinstall
 
 ### Clean up buildroot
-%{__rm} -rf %{buildroot}%{_libdir}/perl5/*/*-linux-thread-multi/
-%{__rm} -f %{buildroot}%{_libdir}/perl5/vendor_perl/*/*-linux-thread-multi/auto/*{,/*}/.packlist
+%{__rm} -rf %{buildroot}%{perl_archlib} %{buildroot}%{perl_vendorarch}/auto/*{,/*{,/*}}/.packlist
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -56,13 +53,11 @@
 %files
 %defattr(-, root, root, 0755)
 %doc README
-%doc %{_mandir}/man?/*
-%{_libdir}/perl5/vendor_perl/*/*
+%doc %{_mandir}/man3/*.3*
+%{perl_vendorarch}/Locale/
+%{perl_vendorarch}/auto/Locale/
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.05-1.2
-- Rebuild for Fedora Core 5.
-
 * Sat Nov 05 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.05-1
 - Updated to release 1.05.
 

Modified: trunk/rpms/perl-Log-Log4perl/perl-Log-Log4perl.spec
===================================================================
--- trunk/rpms/perl-Log-Log4perl/perl-Log-Log4perl.spec	2007-03-29 22:38:32 UTC (rev 5251)
+++ trunk/rpms/perl-Log-Log4perl/perl-Log-Log4perl.spec	2007-03-30 10:02:15 UTC (rev 5252)
@@ -18,8 +18,8 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildArch: noarch
-BuildRequires: perl, perl-Time-HiRes
-Requires: perl-IPC-Shareable, perl-Log-Dispatch, perl-Log-Dispatch-FileRotate, perl-Time-HiRes
+BuildRequires: perl, perl(Time::HiRes)
+Requires: perl(IPC::Shareable), perl(Log::Dispatch), perl(Log::Dispatch::FileRotate), perl(Time::HiRes)
 
 %description
 Log::Log4perl is a Perl port of the widely popular log4j logging package. It

Modified: trunk/rpms/perl-Module-Install/perl-Module-Install.spec
===================================================================
--- trunk/rpms/perl-Module-Install/perl-Module-Install.spec	2007-03-29 22:38:32 UTC (rev 5251)
+++ trunk/rpms/perl-Module-Install/perl-Module-Install.spec	2007-03-30 10:02:15 UTC (rev 5252)
@@ -2,7 +2,7 @@
 # Authority: dries
 # Upstream: &amp;#9786;&amp;#21776;&amp;#40179;&amp;#9787; &lt;autrijus$autrijus,org&gt;
 
-# Tag: test
+##Tag: test
 
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)

Modified: trunk/rpms/perl-Net-Server-Mail-ESMTP-XFORWARD/perl-Net-Server-Mail-ESMTP-XFORWARD.spec
===================================================================
--- trunk/rpms/perl-Net-Server-Mail-ESMTP-XFORWARD/perl-Net-Server-Mail-ESMTP-XFORWARD.spec	2007-03-29 22:38:32 UTC (rev 5251)
+++ trunk/rpms/perl-Net-Server-Mail-ESMTP-XFORWARD/perl-Net-Server-Mail-ESMTP-XFORWARD.spec	2007-03-30 10:02:15 UTC (rev 5252)
@@ -19,7 +19,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildArch: noarch
-BuildRequires: perl &gt;= 5.8.8
+BuildRequires: perl &gt;= 4:5.8.8
 
 %description
 This module adds support for XFORWARD to Net::Server::Mail::ESMTP.

Modified: trunk/rpms/perl-OpenGL-Simple/perl-OpenGL-Simple.spec
===================================================================
--- trunk/rpms/perl-OpenGL-Simple/perl-OpenGL-Simple.spec	2007-03-29 22:38:32 UTC (rev 5251)
+++ trunk/rpms/perl-OpenGL-Simple/perl-OpenGL-Simple.spec	2007-03-30 10:02:15 UTC (rev 5252)
@@ -2,22 +2,19 @@
 # Authority: dries
 # Upstream: Jonathan Chin &lt;jon-pause-public$earth,li&gt;
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{!?dist:%define _with_modxorg 1}
+%{?fc7:  %define _with_modxorg 1}
+%{?el5:  %define _with_modxorg 1}
+%{?fc6:  %define _with_modxorg 1}
+%{?fc5:  %define _with_modxorg 1}
+
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
 
 %define real_name OpenGL-Simple
 
-%{?dist: %{expand: %%define %dist 1}}
-
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
-
 Summary: Interface to OpenGL
 Name: perl-OpenGL-Simple
 Version: 0.03
@@ -30,8 +27,8 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: perl
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{?_with_modxorg:BuildRequires: libX11-devel}
+%{!?_with_modxorg:BuildRequires: XFree86-devel}
 
 %description
 This module provides another interface to OpenGL. It does not support

Modified: trunk/rpms/perl-SDL/perl-SDL.spec
===================================================================
--- trunk/rpms/perl-SDL/perl-SDL.spec	2007-03-29 22:38:32 UTC (rev 5251)
+++ trunk/rpms/perl-SDL/perl-SDL.spec	2007-03-30 10:02:15 UTC (rev 5252)
@@ -5,35 +5,42 @@
 %{?fedora: %{expand: %%define fc%{fedora} 1}}
 
 %{!?dist:%define _with_modxorg 1}
-%{?fc5:%define _with_modxorg 1}
+%{?fc7:  %define _with_modxorg 1}
+%{?el5:  %define _with_modxorg 1}
+%{?fc6:  %define _with_modxorg 1}
+%{?fc5:  %define _with_modxorg 1}
 
-%define perl_archsitelib %(eval &quot;`%{__perl} -V:installsitearch`&quot;; echo $installsitearch)
+%define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
+%define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 %define _use_internal_dependency_generator 0
 
+%define real_name SDL_Perl
+
 Summary: Simple DirectMedia Layer - Bindings for the perl language
 Name: perl-SDL
-Version: 2.1.2
-Release: 6
+Version: 2.1.3
+Release: 1
 License: GPL
 Group: System Environment/Libraries
 URL: <A HREF="http://sdl.perl.org/">http://sdl.perl.org/</A>
 Source: <A HREF="http://search.cpan.org/CPAN/authors/id/D/DG/DGOEHRIG/SDL_Perl-%{version">http://search.cpan.org/CPAN/authors/id/D/DG/DGOEHRIG/SDL_Perl-%{version</A>}.tar.gz
 Source10: filter-depends.sh
+Patch0: <A HREF="http://ftp.debian.org/debian/pool/main/s/sdlperl/sdlperl_2.1.2-1.diff.gz">http://ftp.debian.org/debian/pool/main/s/sdlperl/sdlperl_2.1.2-1.diff.gz</A>
+Patch1: perl-SDL-no-mixertest.patch
+Patch2: perl-SDL-gfxPie.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: SDL-devel, SDL_mixer-devel, SDL_image-devel, SDL_net-devel
 BuildRequires: SDL_ttf-devel, SDL_gfx-devel
 BuildRequires: smpeg-devel, libjpeg-devel, libpng-devel
 BuildRequires: perl(Module::Build)
-%if 0%{?_with_modxorg:1}
-BuildRequires: libXt-devel, mesa-libGLU-devel
-%else
-# This is to pull in missing libs, to fix the &quot;undefined symbol: _Znwj&quot; problem
-%{?!dist:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%{?_with_modxorg:BuildRequires: libXt-devel, mesa-libGLU-devel}
+%{!?_with_modxorg:BuildRequires: XFree86-devel}
 %{?el4:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
 %{?fc3:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
 %{?fc2:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
 %{?fc1:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
-%endif
+%{?el3:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
+%{?rh9:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
 Provides: SDL_perl = %{version}-%{release}
 Provides: SDL_Perl = %{version}-%{release}
 
@@ -44,26 +51,37 @@
 
 
 %prep
-%setup -n SDL_Perl-%{version}
+%setup -n %{real_name}-%{version}
+%patch0 -p1
+patch -p1 -b -z .deb &lt; debian/patches/030_glu_nurbs.diff
+patch -p1 &lt; debian/patches/030_opengl_fixes.diff
+%patch1 -p1 -z .no-mixertest
+%patch2 -p0 -z .gfxPie
 
-
 %build
 %{__perl} Build.PL
 ./Build
+
+### Fix the location from where the modules are to be copied
+%{__cp} -av blib/arch/auto/src/SDL* blib/arch/auto/
+
 # This, we don't want since it'll fail the audio dev check in a minimal chroot
 #./Build test
 
 
 %install
 %{__rm} -rf %{buildroot}
-export PERL_INSTALL_ROOT=%{buildroot}
-./Build install
+export PERL_INSTALL_ROOT=&quot;%{buildroot}&quot;
+./Build install installdirs=&quot;vendor&quot;
 
 # Remove files we don't want to include
 %{__rm} -f `/usr/bin/find %{buildroot} -type f \
     -name perllocal.pod -o -name .packlist -o -name '*.bs'`
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_vendorarch}/auto/src/
 
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -71,15 +89,19 @@
 %files
 %defattr(-, root, root, 0755)
 %doc BUGS CHANGELOG COPYING MANIFEST README TODO
-%{perl_archsitelib}/auto/SDL/
-%{perl_archsitelib}/auto/SDL_perl/
-%{perl_archsitelib}/SDL/
-%{perl_archsitelib}/SDL.pm
-%{perl_archsitelib}/SDL_perl.pm
+%{perl_vendorarch}/auto/SDL/
+%{perl_vendorarch}/auto/SDL_perl/
+%{perl_vendorarch}/SDL/
+%{perl_vendorarch}/SDL.pm
+%{perl_vendorarch}/SDL_perl.pm
 %{_mandir}/man3/*
 
 
 %changelog
+* Fri Mar 30 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.1.3-1
+- Move the modules from %%{perl_sitearch} to %{perl_vendorarch}.
+- Updated to release 2.1.3.
+
 * Thu Dec 28 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.1.2-6
 - Rebuild against SDL_gfx 2.0.15.
 

Modified: trunk/rpms/perl-WWW-Yahoo-Movies/perl-WWW-Yahoo-Movies.spec
===================================================================
--- trunk/rpms/perl-WWW-Yahoo-Movies/perl-WWW-Yahoo-Movies.spec	2007-03-29 22:38:32 UTC (rev 5251)
+++ trunk/rpms/perl-WWW-Yahoo-Movies/perl-WWW-Yahoo-Movies.spec	2007-03-30 10:02:15 UTC (rev 5252)
@@ -19,7 +19,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildArch: noarch
-BuildRequires: perl &gt;= 5.8.6
+BuildRequires: perl &gt;= 3:5.8.6
 
 %description
 WWW-Yahoo-Movies is OO Perl interface to the Yahoo! Movies.

Modified: trunk/rpms/python-memcached/python-memcached.spec
===================================================================
--- trunk/rpms/python-memcached/python-memcached.spec	2007-03-29 22:38:32 UTC (rev 5251)
+++ trunk/rpms/python-memcached/python-memcached.spec	2007-03-30 10:02:15 UTC (rev 5252)
@@ -4,7 +4,7 @@
 Summary: Python interface to the memcached memory cache daemon
 Name: python-memcached
 Version: 1.31
-Release:1
+Release: 1
 License: Unknown
 Group: Development/Libraries
 URL: <A HREF="ftp://ftp.tummy.com/pub/python-memcached/">ftp://ftp.tummy.com/pub/python-memcached/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004050.html">[svn] r5251 - in trunk/rpms: perl-AnyEvent perl-Apache-ASP	perl-Apache-AuthCookie perl-Coro perl-DateTime-Format-Builder	perl-DateTime-Locale perl-DateTime-TimeZone perl-HTML-Mason	perl-IMAP-BodyStructure perl-Image-Imlib2	perl-Lingua-DE-Wortschatz perl-Math-Fleximal	perl-Math-Prime-XS perl-Module-Build perl-Net-Google	perl-SVN-Log perl-Text-Diff-HTML perl-Text-SimpleTable	perl-XML-Generator-RFC822-RDF perl-YAML-Active
</A></li>
	<LI>Next message: <A HREF="004052.html">[svn] r5253 - in trunk/rpms: . dvd95
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4051">[ date ]</a>
              <a href="thread.html#4051">[ thread ]</a>
              <a href="subject.html#4051">[ subject ]</a>
              <a href="author.html#4051">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
