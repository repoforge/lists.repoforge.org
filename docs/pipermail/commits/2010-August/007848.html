<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r9055 - in /trunk/rpms: bison/ flex/ make/
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r9055%20-%20in%20/trunk/rpms%3A%20bison/%20flex/%20make/&In-Reply-To=%3C201008121252.o7CCqMwF013719%40surya.karan.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007847.html">
   <LINK REL="Next"  HREF="007849.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r9055 - in /trunk/rpms: bison/ flex/ make/</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r9055%20-%20in%20/trunk/rpms%3A%20bison/%20flex/%20make/&In-Reply-To=%3C201008121252.o7CCqMwF013719%40surya.karan.org%3E"
       TITLE="[svn] r9055 - in /trunk/rpms: bison/ flex/ make/">dag at wieers.com
       </A><BR>
    <I>Thu Aug 12 14:52:22 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007847.html">[svn] r9054 - /trunk/rpms/cacti/cacti.spec
</A></li>
        <LI>Next message: <A HREF="007849.html">[svn] r9056 - in /trunk/rpms: perl-Authen-Radius/ perl-File-Spec/
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7848">[ date ]</a>
              <a href="thread.html#7848">[ thread ]</a>
              <a href="subject.html#7848">[ subject ]</a>
              <a href="author.html#7848">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: Thu Aug 12 13:52:22 2010
New Revision: 9055

URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge?rev=9055&amp;view=rev">http://svn.rpmforge.net/viewvc/rpmforge?rev=9055&amp;view=rev</A>
Log:
Imported from RHEL6 beta2

Added:
    trunk/rpms/bison/
    trunk/rpms/bison/bison-2.4-reap_subpipe.patch
    trunk/rpms/bison/bison.spec   (with props)
    trunk/rpms/flex/
    trunk/rpms/flex/flex-2.5.35-gcc44.patch
    trunk/rpms/flex/flex-2.5.35-hardening.patch
    trunk/rpms/flex/flex-2.5.35-sign.patch
    trunk/rpms/flex/flex.spec   (with props)
    trunk/rpms/make/
    trunk/rpms/make/make-3.79.1-noclock_gettime.patch
    trunk/rpms/make/make-3.80-getcwd.patch
    trunk/rpms/make/make-3.80-j8k.patch
    trunk/rpms/make/make-3.81-err-reporting.patch
    trunk/rpms/make/make-3.81-fdleak.patch
    trunk/rpms/make/make-3.81-jobserver.patch
    trunk/rpms/make/make-3.81-memory.patch
    trunk/rpms/make/make-3.81-newlines.patch
    trunk/rpms/make/make-3.81-rlimit.patch
    trunk/rpms/make/make-3.81-strcpy-overlap.patch
    trunk/rpms/make/make.spec   (with props)

Added: trunk/rpms/bison/bison-2.4-reap_subpipe.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/bison/bison-2.4-reap_subpipe.patch?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/bison/bison-2.4-reap_subpipe.patch?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/bison/bison-2.4-reap_subpipe.patch (added)
+++ trunk/rpms/bison/bison-2.4-reap_subpipe.patch Thu Aug 12 13:52:22 2010
@@ -1,0 +1,87 @@
+diff -urp bison-2.4-pm/lib/subpipe.c bison-2.4/lib/subpipe.c
+--- bison-2.4-pm/lib/subpipe.c	2008-07-14 10:56:12.000000000 +0200
++++ bison-2.4/lib/subpipe.c	2008-11-20 14:37:42.000000000 +0100
+@@ -143,7 +143,9 @@ create_subpipe (char const * const *argv
+ }
+ 
+ 
+-/* Wait for the subprocess to exit.  */
++/* Wait for the subprocess to exit.  PROGRAM==NULL means errors
++   shouldn't be emitted, typically becuase we are reaping the subpipe
++   in response to some other error. */
+ 
+ void
+ reap_subpipe (pid_t pid, char const *program)
+@@ -151,11 +153,14 @@ reap_subpipe (pid_t pid, char const *pro
+ #if HAVE_WAITPID || defined waitpid
+   int wstatus;
+   if (waitpid (pid, &amp;wstatus, 0) &lt; 0)
+-    error (EXIT_FAILURE, errno, &quot;waitpid&quot;);
++    {
++      if (program)
++	error (EXIT_FAILURE, errno, &quot;waitpid&quot;);
++    }
+   else
+     {
+       int status = WIFEXITED (wstatus) ? WEXITSTATUS (wstatus) : -1;
+-      if (status)
++      if (status &amp;&amp; program)
+ 	error (EXIT_FAILURE, 0,
+ 	       _(status == 126
+ 		 ? &quot;subsidiary program `%s' could not be invoked&quot;
+diff -urp bison-2.4-pm/src/output.c bison-2.4/src/output.c
+--- bison-2.4-pm/src/output.c	2008-11-02 19:09:10.000000000 +0100
++++ bison-2.4/src/output.c	2008-11-20 14:39:08.000000000 +0100
+@@ -467,6 +467,21 @@ prepare_actions (void)
+ | Call the skeleton parser.  |
+ `---------------------------*/
+ 
++static pid_t pid = 0;
++
++/* Clean up opened pipe. */
++static void
++die (void)
++{
++  static int dying = 0;
++  if (pid &amp;&amp; !dying)
++    {
++      dying = 1;
++      reap_subpipe (pid, NULL);
++      pid = 0;
++    }
++}
++
+ static void
+ output_skeleton (void)
+ {
+@@ -474,7 +489,6 @@ output_skeleton (void)
+   FILE *out;
+   int filter_fd[2];
+   char const *argv[9];
+-  pid_t pid;
+ 
+   /* Compute the names of the package data dir and skeleton files.  */
+   char const m4sugar[] = &quot;m4sugar/m4sugar.m4&quot;;
+@@ -586,6 +600,7 @@ output_skeleton (void)
+   scan_skel (in);
+   xfclose (in);
+   reap_subpipe (pid, m4);
++  pid = 0;
+   timevar_pop (TV_M4);
+ }
+ 
+@@ -653,6 +669,14 @@ prepare (void)
+ void
+ output (void)
+ {
++  /* Register shutdown handler.  */
++  static int registered = 0;
++  if (!registered)
++    {
++      registered = 1;
++      atexit (die);
++    }
++
+   obstack_init (&amp;format_obstack);
+ 
+   prepare_symbols ();

Added: trunk/rpms/bison/bison.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/bison/bison.spec?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/bison/bison.spec?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/bison/bison.spec (added)
+++ trunk/rpms/bison/bison.spec Thu Aug 12 13:52:22 2010
@@ -1,0 +1,349 @@
+# $Id$
+# Authority: dag
+
+### This package replaces base packages
+# Tag: rfb
+
+### This package has been imported from RHEL6 beta2
+# ExclusiveDist: el2 el3 el4 el5
+
+Summary: A GNU general-purpose parser generator
+Name: bison
+Version: 2.4.1
+Release: 0.5%{?dist}
+License: GPLv3+
+Group: Development/Tools
+URL: <A HREF="http://www.gnu.org/software/bison/">http://www.gnu.org/software/bison/</A>
+
+Source: <A HREF="ftp://ftp.gnu.org/pub/gnu/bison/bison-%{version">ftp://ftp.gnu.org/pub/gnu/bison/bison-%{version</A>}.tar.bz2
+Patch1: bison-2.4-reap_subpipe.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: java-1.6.0-openjdk-devel
+BuildRequires: m4 &gt;= 1.4
+Requires: m4 &gt;= 1.4
+Requires(post): /sbin/install-info
+Requires(preun): /sbin/install-info
+
+%description
+Bison is a general purpose parser generator that converts a grammar
+description for an LALR(1) context-free grammar into a C program to
+parse that grammar. Bison can be used to develop a wide range of
+language parsers, from ones used in simple desk calculators to complex
+programming languages. Bison is upwardly compatible with Yacc, so any
+correctly written Yacc grammar should work with Bison without any
+changes. If you know Yacc, you shouldn't have any trouble using
+Bison. You do need to be very proficient in C programming to be able
+to use Bison. Bison is only needed on systems that are used for
+development.
+
+If your system will be used for C development, you should install
+Bison.
+
+%package devel
+Summary: -ly library for development using Bison-generated parsers
+Group: Development/Libraries
+
+%description devel
+The bison-devel package contains the -ly library sometimes used by
+programs using Bison-generated parsers.  If you are developing programs
+using Bison, you might want to link with this library.  This library
+is not required by all Bison-generated parsers, but may be employed by
+simple programs to supply minimal support for the generated parsers.
+
+# -ly is kept static.  It only contains two symbols: main and yyerror,
+# and both of these are extremely simple (couple lines of C total).
+# It doesn't really pay off to introduce a shared library for that.
+#
+# Therefore -devel subpackage could have been created as -static, but
+# the split was done in Jan 2005, which predates current guidelines.
+# Besides there is logic to that: the library is devel in the sense
+# that the generated parser could be distributed together with other
+# sources, and only bison-devel would be necessary to wrap the build.
+
+%package runtime
+Summary: Runtime support files used by Bison-generated parsers
+Group: Development/Libraries
+
+%description runtime
+The bison-runtime package contains files used at runtime by parsers
+that Bison generates.  Packages whose binaries contain parsers
+generated by Bison should depend on bison-runtime to ensure that
+these files are available.  See the Internationalization in the
+Bison manual section for more information.
+
+%prep
+%setup -q
+%patch1 -p1
+
+%build
+%configure
+make
+
+%check
+make check
+#make maintainer-check
+
+%install
+rm -rf $RPM_BUILD_ROOT
+%makeinstall
+
+# Remove unpackaged files.
+rm -f $RPM_BUILD_ROOT/%{_bindir}/yacc
+rm -f $RPM_BUILD_ROOT/%{_infodir}/dir
+rm -f $RPM_BUILD_ROOT/%{_mandir}/man1/yacc*
+
+%find_lang %{name}
+%find_lang %{name}-runtime
+
+gzip -9nf ${RPM_BUILD_ROOT}%{_infodir}/bison.info*
+
+%post
+if [ -f %{_infodir}/bison.info.gz ]; then # for --excludedocs
+   /sbin/install-info %{_infodir}/bison.info.gz %{_infodir}/dir --entry=&quot;* bison: (bison).                        The GNU parser generator.&quot; || :
+fi
+
+%preun
+if [ $1 = 0 ]; then
+    if [ -f %{_infodir}/bison.info.gz ]; then # for --excludedocs
+      /sbin/install-info --delete %{_infodir}/bison.info.gz %{_infodir}/dir --entry=&quot;* bison: (bison).                        The GNU parser generator.&quot; || :
+    fi
+fi
+
+# The distribution contains also source files.  These are used by m4
+# when the target parser file is generated.
+%files -f %{name}.lang
+%defattr(-,root,root)
+%doc AUTHORS ChangeLog NEWS OChangeLog README THANKS TODO COPYING
+%{_mandir}/*/bison*
+%{_datadir}/bison
+%{_infodir}/bison.info*
+%{_bindir}/bison
+%{_datadir}/aclocal/bison*.m4
+
+%files -f %{name}-runtime.lang runtime
+%doc COPYING
+
+%files devel
+%doc COPYING
+%defattr(-,root,root)
+%{_libdir}/liby.a
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+%changelog
+* Thu Aug 12 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.4.1-0.5
+- Imported from RHEL6 beta2.
+
+* Fri Mar  5 2010 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.4.1-5
+- Fix the license tag
+- Install COPYING
+- Resolves: #543948
+
+* Mon Aug 24 2009 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.4.1-4
+- Fix installation with --excludedocs
+- Resolves: #515939
+
+* Fri Jul 24 2009 Fedora Release Engineering &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rel-eng at lists.fedoraproject.org</A>&gt; - 2.4.1-3
+- Rebuilt for <A HREF="https://fedoraproject.org/wiki/Fedora_12_Mass_Rebuild">https://fedoraproject.org/wiki/Fedora_12_Mass_Rebuild</A>
+
+* Mon Feb 23 2009 Fedora Release Engineering &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rel-eng at lists.fedoraproject.org</A>&gt; - 2.4.1-2
+- Rebuilt for <A HREF="https://fedoraproject.org/wiki/Fedora_11_Mass_Rebuild">https://fedoraproject.org/wiki/Fedora_11_Mass_Rebuild</A>
+
+* Sun Dec 28 2008 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.4.1-1
+- Rebase to 2.4.1
+- Resolves: #478348
+
+* Wed Nov 12 2008 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.4-2
+- Rebase to 2.4
+- Resolves: #471183
+
+* Mon Sep 15 2008 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.3-6
+- Merge review:
+  - Drop terminating dot from Summary
+  - Escape macros inadvertently left in changelog
+  - Explain why are there source files in the main package
+
+* Tue Feb 19 2008 Fedora Release Engineering &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rel-eng at fedoraproject.org</A>&gt; - 2.3-5
+- Autorebuild for GCC 4.3
+
+* Tue Aug 28 2007 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; - 2.3-4
+- Canonicalize License tag.
+
+* Sun Jan 21 2007 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; - 2.3-3
+- Canonicalize post/preun use of install-info.
+- Resolves: 223679
+
+* Wed Jul 12 2006 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt; - 2.3-2.1
+- rebuild
+
+* Wed Jun  7 2006 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; - 2.3-2
+- Add BuildRequires on m4.
+
+* Wed Jun  7 2006 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; - 2.3-1
+- New upstream version 2.3
+
+* Mon May 22 2006 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; - 2.2-1
+- New upstream version 2.2
+
+* Mon May  1 2006 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; - 2.1-3
+- Fix K&amp;R parser definition when it has no arguments (#190376).
+
+* Fri Feb 10 2006 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt; - 2.1-1.2.1
+- bump again for double-long bug on ppc(64)
+
+* Tue Feb 07 2006 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt; - 2.1-1.2
+- rebuilt for new gcc4.1 snapshot and glibc changes
+
+* Fri Dec 09 2005 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt;
+- rebuilt
+
+* Fri Oct 14 2005 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; - 2.1-1
+- New upstream version 2.1
+- New subpackage bison-runtime for i18n support files used by parsers.
+
+* Thu Apr  7 2005 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; - 2.0-6
+- run test suite in %%check
+
+* Mon Mar 14 2005 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; - 2.0-5
+- rebuilt
+
+* Thu Jan  6 2005 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; - 2.0-4
+- update upstream URLs, add doc files (#144346)
+
+* Thu Jan  6 2005 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; - 2.0-3
+- missing %%defattr for subpackage
+
+* Thu Jan  6 2005 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; - 2.0-2
+- split liby.a into bison-devel package
+
+* Tue Jan  4 2005 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; - 2.0-1
+- new upstream version
+
+* Tue Jun 15 2004 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- rebuilt
+
+* Fri Jun  4 2004 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; 1.875c-1
+- new upstream version (fixes bug #116823)
+
+* Tue Mar 02 2004 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- rebuilt
+
+* Fri Feb 13 2004 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- rebuilt
+
+* Thu Oct 30 2003 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; 1.875-6
+- add dependency on m4 (bug #108655)
+
+* Wed Sep 24 2003 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; 1.875-5
+- remove problematic __attribute__ use for label (bug #105034)
+
+* Fri Aug  1 2003 Havoc Pennington &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">hp at redhat.com</A>&gt; 1.875-3
+- put #ifndef __cplusplus around attribute(unused) on goto label in yacc.c
+
+* Wed Jun 04 2003 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- rebuilt
+
+* Sat Mar 22 2003 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; 1.875-2
+- update specs for new files installed by new version
+
+* Wed Mar 19 2003 Roland McGrath &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roland at redhat.com</A>&gt; 1.875-1
+- new upstream version 1.875 (bug #83184)
+
+* Wed Jan 22 2003 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- rebuilt
+
+* Wed Nov 27 2002 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.com</A>&gt; 1.35-5
+- rebuild in new build enviroment
+- remove unneeded file
+
+* Fri Jun 21 2002 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- automated rebuild
+
+* Tue Jun 18 2002 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.com</A>&gt; 1.35-3
+- don't forcibly strip binaries
+
+* Thu May 23 2002 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- automated rebuild
+
+* Wed Mar 27 2002 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.com</A>&gt; 1.35-1
+- 1.35 fix incompatible with C++ compilers (bug #62121)
+
+* Sun Mar 17 2002 Florian La Roche &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">Florian.LaRoche at redhat.de</A>&gt;
+- update to 1.34
+
+* Sat Feb 09 2002 Florian La Roche &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">Florian.LaRoche at redhat.de</A>&gt;
+- update to 1.33
+
+* Sat Jan 26 2002 Florian La Roche &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">Florian.LaRoche at redhat.de</A>&gt;
+- update to 1.32
+
+* Tue Jan 15 2002 Florian La Roche &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">Florian.LaRoche at redhat.de</A>&gt;
+- update to 1.31
+
+* Wed Jan 09 2002 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- automated rebuild
+
+* Mon Nov 27 2001 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.com</A>&gt; 1.30-4
+- add missing Url
+
+* Sun Nov 25 2001 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.com</A>&gt; 1.30-3
+- fixed coredumps on some input bug #56607i, thanks to Enrico for locating this bug
+
+* Tue Nov 06 2001 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.com</A>&gt; 1.30-2
+- FHS packaging
+- use find_lang
+
+* Sun Nov 04 2001 Florian La Roche &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">Florian.LaRoche at redhat.de</A>&gt;
+- update to 1.30
+
+* Mon Oct 15 2001 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.de</A>&gt; 1.29-1
+- update to 1.29
+- update Url (bug #54597)
+
+* Sun Jun 24 2001 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- Bump release + rebuild.
+
+* Wed Jul 12 2000 Prospector &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bugzilla at redhat.com</A>&gt;
+- automatic rebuild
+
+* Sun Jun 18 2000 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.de</A>&gt;
+- rebuilt in the new build environment
+- FHS packaging
+
+* Sat May 27 2000 Ngo Than &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.de</A>&gt;
+- rebuild for 7.0
+- put man pages and info files to correct place
+
+* Thu Feb 03 2000 Preston Brown &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pbrown at redhat.com</A>&gt;
+- rebuild to gzip man page.
+
+* Fri Jul 16 1999 Jeff Johnson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jbj at redhat.com</A>&gt;
+- update to 1.28.
+
+* Sun Mar 21 1999 Cristian Gafton &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">gafton at redhat.com</A>&gt;
+- auto rebuild in the new build environment (release 3)
+
+* Mon Mar  8 1999 Jeff Johnson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jbj at redhat.com</A>&gt;
+- configure with datadir=/usr/lib (#1386).
+
+* Mon Feb 22 1999 Jeff Johnson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jbj at redhat.com</A>&gt;
+- updated text in spec file.
+- update to 1.27
+
+* Thu Dec 17 1998 Cristian Gafton &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">gafton at redhat.com</A>&gt;
+- build for glibc 2.1
+
+* Fri Apr 24 1998 Prospector System &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bugs at redhat.com</A>&gt;
+- translations modified for de, fr, tr
+
+* Wed Apr 08 1998 Cristian Gafton &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">gafton at redhat.com</A>&gt;
+- built for Manhattan
+- added build root
+
+* Wed Oct 15 1997 Donnie Barnes &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">djb at redhat.com</A>&gt;
+- various spec file cleanups
+
+* Mon Jun 02 1997 Erik Troan &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">ewt at redhat.com</A>&gt;
+- built against glibc

Propchange: trunk/rpms/bison/bison.spec
------------------------------------------------------------------------------
    svn:eol-style = native

Propchange: trunk/rpms/bison/bison.spec
------------------------------------------------------------------------------
    svn:keywords = Id Revision

Added: trunk/rpms/flex/flex-2.5.35-gcc44.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/flex/flex-2.5.35-gcc44.patch?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/flex/flex-2.5.35-gcc44.patch?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/flex/flex-2.5.35-gcc44.patch (added)
+++ trunk/rpms/flex/flex-2.5.35-gcc44.patch Thu Aug 12 13:52:22 2010
@@ -1,0 +1,22 @@
+diff -urNp flex-2.5.35.orig/flex.skl flex-2.5.35/flex.skl
+--- flex-2.5.35.orig/flex.skl	2009-04-20 03:09:46.000000000 +0530
++++ flex-2.5.35/flex.skl	2009-04-20 07:46:58.000000000 +0530
+@@ -217,6 +217,7 @@ m4preproc_include(`flexint.h')
+ /* begin standard C++ headers. */
+ #include &lt;iostream&gt; 
+ #include &lt;errno.h&gt;
++#include &lt;cstdio&gt;
+ #include &lt;cstdlib&gt;
+ #include &lt;cstring&gt;
+ /* end standard C++ headers. */
+diff -urNp flex-2.5.35.orig/skel.c flex-2.5.35/skel.c
+--- flex-2.5.35.orig/skel.c	2009-04-20 03:09:46.000000000 +0530
++++ flex-2.5.35/skel.c	2009-04-20 07:46:40.000000000 +0530
+@@ -284,6 +284,7 @@ const char *skel[] = {
+   &quot;/* begin standard C++ headers. */&quot;,
+   &quot;#include &lt;iostream&gt; &quot;,
+   &quot;#include &lt;errno.h&gt;&quot;,
++  &quot;#include &lt;cstdio&gt;&quot;,
+   &quot;#include &lt;cstdlib&gt;&quot;,
+   &quot;#include &lt;cstring&gt;&quot;,
+   &quot;/* end standard C++ headers. */&quot;,

Added: trunk/rpms/flex/flex-2.5.35-hardening.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/flex/flex-2.5.35-hardening.patch?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/flex/flex-2.5.35-hardening.patch?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/flex/flex-2.5.35-hardening.patch (added)
+++ trunk/rpms/flex/flex-2.5.35-hardening.patch Thu Aug 12 13:52:22 2010
@@ -1,0 +1,36 @@
+diff -u flex-2.5.35/scan.c flex-2.5.35/scan.c
+--- flex-2.5.35/scan.c
++++ flex-2.5.35/scan.c
+@@ -2096,7 +2096,7 @@
+ /* This used to be an fputs(), but since the string might contain NUL's,
+  * we now use fwrite().
+  */
+-#define ECHO fwrite( yytext, yyleng, 1, yyout )
++#define ECHO do { if (fwrite( yytext, yyleng, 1, yyout )) {} } while (0)
+ #endif
+ 
+ /* Gets input and stuffs it into &quot;buf&quot;.  number of characters read, or YY_NULL,
+diff -u flex-2.5.35/flex.skl flex-2.5.35/flex.skl
+--- flex-2.5.35/flex.skl
++++ flex-2.5.35/flex.skl
+@@ -1075,7 +1075,7 @@
+ /* This used to be an fputs(), but since the string might contain NUL's,
+  * we now use fwrite().
+  */
+-#define ECHO fwrite( yytext, yyleng, 1, yyout )
++#define ECHO do { if (fwrite( yytext, yyleng, 1, yyout )) {} } while (0)
+ %endif
+ %if-c++-only C++ definition
+ #define ECHO LexerOutput( yytext, yyleng )
+diff -u flex-2.5.35/skel.c flex-2.5.35/skel.c
+--- flex-2.5.35/skel.c
++++ flex-2.5.35/skel.c
+@@ -1142,7 +1142,7 @@
+   &quot;/* This used to be an fputs(), but since the string might contain NUL's,&quot;,
+   &quot; * we now use fwrite().&quot;,
+   &quot; */&quot;,
+-  &quot;#define ECHO fwrite( yytext, yyleng, 1, yyout )&quot;,
++  &quot;#define ECHO do { if (fwrite( yytext, yyleng, 1, yyout )) {} } while (0)&quot;,
+   &quot;%endif&quot;,
+   &quot;%if-c++-only C++ definition&quot;,
+   &quot;#define ECHO LexerOutput( yytext, yyleng )&quot;,

Added: trunk/rpms/flex/flex-2.5.35-sign.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/flex/flex-2.5.35-sign.patch?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/flex/flex-2.5.35-sign.patch?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/flex/flex-2.5.35-sign.patch (added)
+++ trunk/rpms/flex/flex-2.5.35-sign.patch Thu Aug 12 13:52:22 2010
@@ -1,0 +1,11 @@
+--- flex-2.5.35/gen.c-orig	2008-04-30 22:51:08.000000000 +0200
++++ flex-2.5.35/gen.c	2008-04-30 22:51:14.000000000 +0200
+@@ -1890,7 +1890,7 @@
+ 			outn (&quot;\tif ( YY_CURRENT_BUFFER_LVALUE-&gt;yy_is_interactive ) \\&quot;);
+ 			outn (&quot;\t\t{ \\&quot;);
+ 			outn (&quot;\t\tint c = '*'; \\&quot;);
+-			outn (&quot;\t\tint n; \\&quot;);
++			outn (&quot;\t\tunsigned n; \\&quot;);
+ 			outn (&quot;\t\tfor ( n = 0; n &lt; max_size &amp;&amp; \\&quot;);
+ 			outn (&quot;\t\t\t     (c = getc( yyin )) != EOF &amp;&amp; c != '\\n'; ++n ) \\&quot;);
+ 			outn (&quot;\t\t\tbuf[n] = (char) c; \\&quot;);

Added: trunk/rpms/flex/flex.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/flex/flex.spec?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/flex/flex.spec?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/flex/flex.spec (added)
+++ trunk/rpms/flex/flex.spec Thu Aug 12 13:52:22 2010
@@ -1,0 +1,360 @@
+# $Id$
+# Authority: dag
+
+### This package replaces base packages
+# Tag: rfb
+
+### This package has been imported from RHEL6 beta2
+# ExclusiveDist: el2 el3 el4 el5
+
+Summary: A tool for creating scanners (text pattern recognizers)
+Name: flex
+Version: 2.5.35
+Release: 0.8%{?dist}
+License: BSD
+Group: Development/Tools
+URL: <A HREF="http://flex.sourceforge.net/">http://flex.sourceforge.net/</A>
+
+Source: <A HREF="http://dl.sf.net/flex/flex-%{version">http://dl.sf.net/flex/flex-%{version</A>}.tar.bz2
+Patch0: flex-2.5.35-sign.patch
+Patch1: flex-2.5.35-hardening.patch
+Patch2: flex-2.5.35-gcc44.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: bison
+BuildRequires: gettext
+BuildRequires: m4
+Requires(post): /sbin/install-info
+Requires(preun): /sbin/install-info
+Requires: m4
+
+%description
+The flex program generates scanners.  Scanners are programs which can
+recognize lexical patterns in text.  Flex takes pairs of regular
+expressions and C code as input and generates a C source file as
+output.  The output file is compiled and linked with a library to
+produce an executable.  The executable searches through its input for
+occurrences of the regular expressions.  When a match is found, it
+executes the corresponding C code.  Flex was designed to work with
+both Yacc and Bison, and is used by many programs as part of their
+build process.
+
+You should install flex if you are going to use your system for
+application development.
+
+%prep
+%setup
+%patch0 -p1
+%patch1 -p1
+%patch2 -p1
+
+%build
+%configure --disable-dependency-tracking CFLAGS=&quot;-fPIC $RPM_OPT_FLAGS&quot;
+make %{?_smp_mflags}
+
+%install
+rm -rf $RPM_BUILD_ROOT
+make DESTDIR=$RPM_BUILD_ROOT install
+rm -f $RPM_BUILD_ROOT/%{_infodir}/dir
+
+( cd ${RPM_BUILD_ROOT}
+  ln -sf flex .%{_bindir}/lex
+  ln -sf flex .%{_bindir}/flex++
+  ln -s flex.1 .%{_mandir}/man1/lex.1
+  ln -s flex.1 .%{_mandir}/man1/flex++.1
+  ln -s libfl.a .%{_libdir}/libl.a
+)
+
+%find_lang flex
+
+%post
+if [ -f %{_infodir}/flex.info.gz ]; then # for --excludedocs
+   /sbin/install-info %{_infodir}/flex.info.gz --dir-file=%{_infodir}/dir ||:
+fi
+
+%preun
+if [ $1 = 0 ]; then
+    if [ -f %{_infodir}/flex.info.gz ]; then # for --excludedocs
+	/sbin/install-info --delete %{_infodir}/%{name}.info.gz %{_infodir}/dir ||:
+    fi
+fi
+
+%check
+echo ============TESTING===============
+make check
+echo ============END TESTING===========
+
+%clean
+rm -rf ${RPM_BUILD_ROOT}
+
+%files -f flex.lang
+%defattr(-,root,root)
+%doc COPYING NEWS README
+%{_bindir}/*
+%{_mandir}/man1/*
+%{_libdir}/*.a
+%{_includedir}/FlexLexer.h
+%{_infodir}/flex.info*
+
+%changelog
+* Thu Aug 12 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.5.35-0.8
+- Imported from RHEL6 beta2.
+
+* Tue Jan 12 2010 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.35-8
+- Add source URL
+- Related: #543948
+
+* Mon Aug 24 2009 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.35-7
+- Fix installation with --excludedocs
+- Resolves: #515928
+
+* Fri Jul 24 2009 Fedora Release Engineering &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rel-eng at lists.fedoraproject.org</A>&gt; - 2.5.35-6
+- Rebuilt for <A HREF="https://fedoraproject.org/wiki/Fedora_12_Mass_Rebuild">https://fedoraproject.org/wiki/Fedora_12_Mass_Rebuild</A>
+
+* Mon Apr 20 2009 Debarshi Ray &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rishi at fedoraproject.org</A>&gt; - 2.5.35-5
+- Resolves: #496548.
+
+* Mon Apr 20 2009 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.35-4
+- Get rid of warning caused by ignoring return value of fwrite() in
+  ECHO macro.  Debian patch.
+- Resolves: #484961
+
+* Tue Feb 24 2009 Fedora Release Engineering &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rel-eng at lists.fedoraproject.org</A>&gt; - 2.5.35-3
+- Rebuilt for <A HREF="https://fedoraproject.org/wiki/Fedora_11_Mass_Rebuild">https://fedoraproject.org/wiki/Fedora_11_Mass_Rebuild</A>
+
+* Mon May 12 2008 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.35-2
+- Resolves: #445950
+
+* Wed Feb 27 2008 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.35-1
+- Rebase to 2.5.35. Drop two patches.
+- Resolves: #434961
+- Resolves: #435047
+
+* Mon Feb 25 2008 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.34-1
+- Rebase to 2.5.34. Drop five patches.
+- Resolves: #434676
+
+* Mon Feb 11 2008 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.33-17
+- Generate prototypes for accessor functions.  Upstream patch.
+- Related: #432203
+
+* Mon Feb  4 2008 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.33-16
+- Fix comparison between signed and unsigned in generated scanner.
+  Patch by Roland McGrath.
+- Resolves: #431151
+
+* Tue Jan 15 2008 Stepan Kasal &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">skasal at redhat.com</A>&gt; - 2.5.33-15
+- Do not run autogen.sh, it undoes the effect of includedir patch.
+- Adapt test-linedir-r.patch so that it fixes Makefile.in and works
+  even though autogen.sh is not run.
+
+* Thu Jan 10 2008 Stepan Kasal &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">skasal at redhat.com</A>&gt; - 2.5.33-14
+- Insert the &quot;-fPIC&quot; on configure command-line.
+- Drop the -fPIC patch.
+
+* Tue Jan  8 2008 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.33-13
+- Patch with -fPIC only after the autogen.sh is run.
+
+* Thu Jan  3 2008 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.33-12
+- Run autogen.sh before the rest of the build.
+- Add BR autoconf automake gettext-devel.
+
+* Thu Aug 30 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.33-11
+- Add BR gawk
+- Fix use of awk in one of the tests
+
+* Wed Aug 29 2007 Fedora Release Engineering &lt;rel-eng at fedoraproject dot org&gt; - 2.5.33-10
+- Rebuild for selinux ppc32 issue.
+
+* Fri Jun 22 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.33-9
+- Remove wrong use of @includedir@ in Makefile.in.
+- Spec cleanups.
+- Related: #225758
+
+* Fri Jun 22 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.33-8
+- Don't emit yy-prefixed variables in C++ mode.  Thanks Srinivas Aji.
+- Related: #242742
+- Related: #244259
+
+* Fri May 11 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.33-7
+- Allow joining short options into one commandline argument.
+- Resolves: #239695
+
+* Fri Mar 30 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.33-5
+- Make yy-prefixed variables available to scanner even with -P.
+
+* Fri Feb  2 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.33-4
+- Use %%find_lang to package locale files.
+
+* Wed Jan 31 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.33-3
+- Compile with -fPIC.
+
+* Tue Jan 30 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redaht.com</A>&gt; - 2.5.33-2
+- Add Requires:m4.
+
+* Fri Jan 19 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.33-1
+- Rebase to 2.5.33
+
+* Tue Jul 18 2006 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.4a-41
+- Reverting posix patch.  Imposing posix because of warning is too
+  much of a restriction.
+
+* Sun Jul 16 2006 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.4a-40
+- using dist tag
+
+* Fri Jul 14 2006 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.4a-39
+- fileno is defined in posix standard, so adding #define _POSIX_SOURCE
+  to compile without warnings (#195687)
+- dropping 183098 test, since the original bug was already resolved
+
+* Wed Jul 12 2006 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt; - 2.5.4a-38.1
+- rebuild
+
+* Fri Mar 10 2006 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.4a-38
+- Caught the real cause of #183098.  It failed because the parser
+  built with `flex -f' *sometimes* made it into the final package, and
+  -f assumes seven-bit tables.  Solution has two steps.  Move `make
+  bigcheck' to `%%check' part, where it belongs anyway, so that flexes
+  built during `make bigcheck' don't overwrite original build.  And
+  change makefile so that `make bigcheck' will *always* execute *all*
+  check commands.
+
+* Wed Mar  8 2006 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.4a-37.4
+- adding test for #183098 into build process
+
+* Fri Mar  2 2006 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 2.5.4a-37.3
+- rebuilt, no changes inside. In hunt for #183098
+
+* Fri Feb 10 2006 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt; - 2.5.4a-37.2
+- bump again for double-long bug on ppc(64)
+
+* Tue Feb 07 2006 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt; - 2.5.4a-37.1
+- rebuilt for new gcc4.1 snapshot and glibc changes
+
+* Wed Feb 02 2006 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; 2.5.4a-37
+- adding `make bigcheck' into build process.  Refreshing initscan.c to
+  make this possible.
+
+* Wed Jan 18 2006 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; 2.5.4a-36
+- Applying Jonathan S. Shapiro's bugfix-fixing patch. More std:: fixes
+  and better way to silent warnings under gcc.
+
+* Fri Jan 13 2006 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; 2.5.4a-35
+- Adding `std::' prefixes, got rid of `using namespace std'. (#115354)
+- Dummy use of `yy_flex_realloc' to silent warnings. (#30943)
+- Adding URL of flex home page to spec (#142675)
+
+* Sun Dec 18 2005 Jason Vas Dias&lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jvdias at redhat.com</A>&gt;
+- rebuild with 'flex-pic.patch' to enable -pie links
+  on x86_64 (patch from Jesse Keating) .
+
+* Fri Dec 09 2005 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt;
+- rebuilt
+
+* Sun Apr 10 2005 Jakub Jelinek &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jakub at redhat.com</A>&gt; 2.5.4a-34
+- rebuilt with GCC 4
+- add %%check script
+
+* Tue Aug 24 2004 Warren Togami &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">wtogami at redhat.com</A>&gt; 2.5.4a-33
+- #116407 BR byacc
+
+* Tue Jun 15 2004 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- rebuilt
+
+* Tue Mar 02 2004 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- rebuilt
+
+* Fri Feb 13 2004 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- rebuilt
+
+* Wed Jun 04 2003 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- rebuilt
+
+* Wed Jan 22 2003 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- rebuilt
+
+* Tue Jan  7 2003 Jeff Johnson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jbj at redhat.com</A>&gt; 2.5.4a-28
+- don't include -debuginfo files in package.
+
+* Mon Nov  4 2002 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.com</A>&gt; 2.5.4a-27
+- YY_NO_INPUT patch from Jean Marie
+
+* Fri Jun 21 2002 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- automated rebuild
+
+* Tue Jun 18 2002 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.com</A>&gt; 2.5.4a-25
+- don't forcibly strip binaries
+
+* Thu May 23 2002 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- automated rebuild
+
+* Tue Apr  2 2002 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.com</A>&gt; 2.5.4a-23
+- More ISO C++ 98 fixes (#59670)
+
+* Tue Feb 26 2002 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.com</A>&gt; 2.5.4a-22
+- rebuild in new enviroment
+
+* Wed Feb 20 2002 Bernhard Rosenkraenzer &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bero at redhat.com</A>&gt; 2.5.4a-21
+- More ISO C++ 98 fixes (#59670)
+
+* Tue Feb 19 2002 Bernhard Rosenkraenzer &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bero at redhat.com</A>&gt; 2.5.4a-20
+- Fix ISO C++ 98 compliance (#59670)
+
+* Wed Jan 23 2002 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.com</A>&gt; 2.5.4a-19
+- fixed #58643
+
+* Wed Jan 09 2002 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- automated rebuild
+
+* Tue Nov  6 2001 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.com</A>&gt; 2.5.4a-17
+- fixed for working with gcc 3 (bug #55778)
+
+* Sat Oct 13 2001 Than Ngo &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">than at redhat.com</A>&gt; 2.5.4a-16
+- fix wrong License (bug #54574)
+
+* Sun Jun 24 2001 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- Bump release + rebuild.
+
+* Sat Sep 30 2000 Bernhard Rosenkraenzer &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bero at redhat.com</A>&gt;
+- Fix generation of broken code (conflicting isatty() prototype w/ glibc 2.2)
+  This broke, among other things, the kdelibs 2.0 build
+- Fix source URL
+
+* Thu Sep  7 2000 Jeff Johnson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jbj at redhat.com</A>&gt;
+- FHS packaging (64bit systems need to use libdir).
+
+* Wed Jul 12 2000 Prospector &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bugzilla at redhat.com</A>&gt;
+- automatic rebuild
+
+* Tue Jun  6 2000 Bill Nottingham &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">notting at redhat.com</A>&gt;
+- rebuild, FHS stuff.
+
+* Thu Feb  3 2000 Bill Nottingham &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">notting at redhat.com</A>&gt;
+- handle compressed man pages
+
+* Fri Jan 28 2000 Bill Nottingham &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">notting at redhat.com</A>&gt;
+- add a libl.a link to libfl.a
+
+* Wed Aug 25 1999 Jeff Johnson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jbj at redhat.com</A>&gt;
+- avoid uninitialized variable warning (Erez Zadok).
+
+* Sun Mar 21 1999 Cristian Gafton &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">gafton at redhat.com</A>&gt; 
+- auto rebuild in the new build environment (release 6)
+
+* Fri Dec 18 1998 Bill Nottingham &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">notting at redhat.com</A>&gt;
+- build for 6.0 tree
+
+* Mon Aug 10 1998 Jeff Johnson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jbj at redhat.com</A>&gt;
+- build root
+
+* Mon Apr 27 1998 Prospector System &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bugs at redhat.com</A>&gt;
+- translations modified for de, fr, tr
+
+* Thu Oct 23 1997 Donnie Barnes &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">djb at redhat.com</A>&gt;
+- updated from 2.5.4 to 2.5.4a
+
+* Mon Jun 02 1997 Erik Troan &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">ewt at redhat.com</A>&gt;
+- built against glibc
+
+* Thu Mar 20 1997 Michael Fulbright &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">msf at redhat.com</A>&gt;
+- Updated to v. 2.5.4

Propchange: trunk/rpms/flex/flex.spec
------------------------------------------------------------------------------
    svn:eol-style = native

Propchange: trunk/rpms/flex/flex.spec
------------------------------------------------------------------------------
    svn:keywords = Id Revision

Added: trunk/rpms/make/make-3.79.1-noclock_gettime.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.79.1-noclock_gettime.patch?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.79.1-noclock_gettime.patch?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/make/make-3.79.1-noclock_gettime.patch (added)
+++ trunk/rpms/make/make-3.79.1-noclock_gettime.patch Thu Aug 12 13:52:22 2010
@@ -1,0 +1,13 @@
+diff -urp make-3.81/configure make-3.81-pm/configure
+--- make-3.81/configure	2006-04-01 08:40:00.000000000 +0200
++++ make-3.81-pm/configure	2008-09-22 10:50:40.000000000 +0200
+@@ -8018,7 +8018,7 @@ fi
+ rm -f conftest.err conftest.$ac_objext \
+       conftest$ac_exeext conftest.$ac_ext
+ if test &quot;$ac_cv_search_clock_gettime&quot; = no; then
+-  for ac_lib in rt posix4; do
++  for ac_lib in posix4; do
+     LIBS=&quot;-l$ac_lib  $ac_func_search_save_LIBS&quot;
+     cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+ /* confdefs.h.  */
+Only in make-3.81-pm/: configure.orig

Added: trunk/rpms/make/make-3.80-getcwd.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.80-getcwd.patch?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.80-getcwd.patch?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/make/make-3.80-getcwd.patch (added)
+++ trunk/rpms/make/make-3.80-getcwd.patch Thu Aug 12 13:52:22 2010
@@ -1,0 +1,15 @@
+Only in make-3.81-pm/: configure.orig
+diff -urp make-3.81/make.h make-3.81-pm/make.h
+--- make-3.81/make.h	2006-02-16 00:54:43.000000000 +0100
++++ make-3.81-pm/make.h	2008-09-22 10:53:35.000000000 +0200
+@@ -488,7 +488,7 @@ extern long int lseek ();
+ #endif  /* Not GNU C library or POSIX.  */
+ 
+ #ifdef  HAVE_GETCWD
+-# if !defined(VMS) &amp;&amp; !defined(__DECC)
++# if !defined(VMS) &amp;&amp; !defined(__DECC) &amp;&amp; !defined(getcwd)
+ extern char *getcwd ();
+ # endif
+ #else
+Only in make-3.81-pm/: make.h~
+Only in make-3.81-pm/: make.h.orig

Added: trunk/rpms/make/make-3.80-j8k.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.80-j8k.patch?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.80-j8k.patch?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/make/make-3.80-j8k.patch (added)
+++ trunk/rpms/make/make-3.80-j8k.patch Thu Aug 12 13:52:22 2010
@@ -1,0 +1,23 @@
+--- make-3.80/main.c.jj	2002-08-09 21:27:17.000000000 -0400
++++ make-3.80/main.c	2004-12-13 12:48:25.000000000 -0500
+@@ -1549,6 +1549,20 @@ int main (int argc, char ** argv)
+       }
+   }
+ 
++#ifdef PIPE_BUF
++  if (job_slots &gt; PIPE_BUF)
++#elif defined _POSIX_PIPE_BUF
++  if (job_slots &gt; _POSIX_PIPE_BUF)
++#else
++  if (job_slots &gt; 512)
++#endif
++    {
++      error (NILF,
++	     _(&quot;More parallel jobs (-jN) than this platform can handle requested.&quot;));
++      error (NILF, _(&quot;Resetting to single job (-j1) mode.&quot;));
++      job_slots = 1;
++    }
++
+   /* If we have &gt;1 slot but no jobserver-fds, then we're a top-level make.
+      Set up the pipe and install the fds option for our children.  */
+ 

Added: trunk/rpms/make/make-3.81-err-reporting.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.81-err-reporting.patch?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.81-err-reporting.patch?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/make/make-3.81-err-reporting.patch (added)
+++ trunk/rpms/make/make-3.81-err-reporting.patch Thu Aug 12 13:52:22 2010
@@ -1,0 +1,152 @@
+diff -urp make-3.81/misc.c make-3.81-pm/misc.c
+--- make-3.81/misc.c	2006-04-01 08:36:40.000000000 +0200
++++ make-3.81-pm/misc.c	2008-09-22 12:45:18.000000000 +0200
+@@ -311,17 +311,31 @@ strerror (int errnum)
+ /* Print an error message from errno.  */
+ 
+ void
++perror_with_name_err (const char *str, const char *name, int errnum)
++{
++  error (NILF, _(&quot;%s%s: %s&quot;), str, name, strerror (errnum));
++}
++
++void
+ perror_with_name (const char *str, const char *name)
+ {
+-  error (NILF, _(&quot;%s%s: %s&quot;), str, name, strerror (errno));
++  perror_with_name_err (str, name, errno);
+ }
+ 
+ /* Print an error message from errno and exit.  */
+ 
+ void
++pfatal_with_name_err (const char *name, int errnum)
++{
++  fatal (NILF, _(&quot;%s: %s&quot;), name, strerror (errnum));
++
++  /* NOTREACHED */
++}
++
++void
+ pfatal_with_name (const char *name)
+ {
+-  fatal (NILF, _(&quot;%s: %s&quot;), name, strerror (errno));
++  pfatal_with_name_err (name, errno);
+ 
+   /* NOTREACHED */
+ }
+diff -urp make-3.81/main.c make-3.81-pm/main.c
+--- make-3.81/main.c	2008-09-22 12:45:07.000000000 +0200
++++ make-3.81-pm/main.c	2008-09-22 12:45:18.000000000 +0200
+@@ -1502,13 +1502,13 @@ main (int argc, char **argv, char **envp
+ 	    strcat (template, DEFAULT_TMPFILE);
+ 	    outfile = open_tmpfile (&amp;stdin_nm, template);
+ 	    if (outfile == 0)
+-	      pfatal_with_name (_(&quot;fopen (temporary file)&quot;));
++	      pfatal_with_name_err (_(&quot;fopen (temporary file)&quot;), errno);
+ 	    while (!feof (stdin) &amp;&amp; ! ferror (stdin))
+ 	      {
+ 		char buf[2048];
+ 		unsigned int n = fread (buf, 1, sizeof (buf), stdin);
+ 		if (n &gt; 0 &amp;&amp; fwrite (buf, 1, n, outfile) != n)
+-		  pfatal_with_name (_(&quot;fwrite (temporary file)&quot;));
++		  pfatal_with_name_err (_(&quot;fwrite (temporary file)&quot;), errno);
+ 	      }
+ 	    (void) fclose (outfile);
+ 
+@@ -1681,7 +1681,7 @@ main (int argc, char **argv, char **envp
+     else if ((job_rfd = dup (job_fds[0])) &lt; 0)
+       {
+         if (errno != EBADF)
+-          pfatal_with_name (_(&quot;dup jobserver&quot;));
++          pfatal_with_name_err (_(&quot;dup jobserver&quot;), errno);
+ 
+         error (NILF,
+                _(&quot;warning: jobserver unavailable: using -j1.  Add `+' to parent make rule.&quot;));
+@@ -1721,7 +1721,7 @@ main (int argc, char **argv, char **envp
+       char c = '+';
+ 
+       if (pipe (job_fds) &lt; 0 || (job_rfd = dup (job_fds[0])) &lt; 0)
+-	pfatal_with_name (_(&quot;creating jobs pipe&quot;));
++	pfatal_with_name_err (_(&quot;creating jobs pipe&quot;), errno);
+ 
+       /* Every make assumes that it always has one job it can run.  For the
+          submakes it's the token they were given by their parent.  For the
+@@ -1736,7 +1736,7 @@ main (int argc, char **argv, char **envp
+ 
+           EINTRLOOP (r, write (job_fds[1], &amp;c, 1));
+           if (r != 1)
+-            pfatal_with_name (_(&quot;init jobserver pipe&quot;));
++            pfatal_with_name_err (_(&quot;init jobserver pipe&quot;), errno);
+         }
+ 
+       /* Fill in the jobserver_fds struct for our children.  */
+@@ -2151,7 +2151,7 @@ main (int argc, char **argv, char **envp
+   /* If there is a temp file from reading a makefile from stdin, get rid of
+      it now.  */
+   if (stdin_nm &amp;&amp; unlink (stdin_nm) &lt; 0 &amp;&amp; errno != ENOENT)
+-    perror_with_name (_(&quot;unlink (temporary file): &quot;), stdin_nm);
++    perror_with_name_err (_(&quot;unlink (temporary file): &quot;), stdin_nm, errno);
+ 
+   {
+     int status;
+diff -urp make-3.81/make.h make-3.81-pm/make.h
+--- make-3.81/make.h	2008-09-22 12:45:07.000000000 +0200
++++ make-3.81-pm/make.h	2008-09-22 12:45:18.000000000 +0200
+@@ -414,6 +414,8 @@ extern void die PARAMS ((int)) __attribu
+ extern void log_working_directory PARAMS ((int));
+ extern void pfatal_with_name PARAMS ((const char *)) __attribute__ ((noreturn));
+ extern void perror_with_name PARAMS ((const char *, const char *));
++extern void pfatal_with_name_err PARAMS ((const char *, int errnum)) __attribute__ ((noreturn));
++extern void perror_with_name_err PARAMS ((const char *, const char *, int errnum));
+ extern char *savestring PARAMS ((const char *, unsigned int));
+ extern char *concat PARAMS ((const char *, const char *, const char *));
+ extern char *xmalloc PARAMS ((unsigned int));
+diff -urp make-3.81/job.c make-3.81-pm/job.c
+--- make-3.81/job.c	2006-03-20 04:03:04.000000000 +0100
++++ make-3.81-pm/job.c	2008-09-22 12:45:18.000000000 +0200
+@@ -859,7 +859,7 @@ free_child (struct child *child)
+ 
+       EINTRLOOP (r, write (job_fds[1], &amp;token, 1));
+       if (r != 1)
+-	pfatal_with_name (_(&quot;write jobserver&quot;));
++	pfatal_with_name_err (_(&quot;write jobserver&quot;), errno);
+ 
+       DB (DB_JOBS, (_(&quot;Released token for child 0x%08lx (%s).\n&quot;),
+                     (unsigned long int) child, child-&gt;file-&gt;name));
+@@ -1699,6 +1699,7 @@ new_job (struct file *file)
+ 
+         /* Set interruptible system calls, and read() for a job token.  */
+ 	set_child_handler_action_flags (1, waiting_jobs != NULL);
++	errno = 0;
+ 	got_token = read (job_rfd, &amp;token, 1);
+ 	saved_errno = errno;
+ 	set_child_handler_action_flags (0, waiting_jobs != NULL);
+@@ -1713,10 +1714,14 @@ new_job (struct file *file)
+ 
+         /* If the error _wasn't_ expected (EINTR or EBADF), punt.  Otherwise,
+            go back and reap_children(), and try again.  */
+-	errno = saved_errno;
+-        if (errno != EINTR &amp;&amp; errno != EBADF)
+-          pfatal_with_name (_(&quot;read jobs pipe&quot;));
+-        if (errno == EBADF)
++        if (saved_errno != EINTR &amp;&amp; saved_errno != EBADF)
++	  {
++	    if (got_token == 0)
++	      fatal (NILF, _(&quot;read jobs pipe EOF&quot;));
++	    else
++	      pfatal_with_name_err (_(&quot;read jobs pipe&quot;), saved_errno);
++	  }
++        if (saved_errno == EBADF)
+           DB (DB_JOBS, (&quot;Read returned EBADF.\n&quot;));
+       }
+ #endif
+@@ -1831,7 +1836,7 @@ load_too_high (void)
+ 	    error (NILF,
+                    _(&quot;cannot enforce load limits on this operating system&quot;));
+ 	  else
+-	    perror_with_name (_(&quot;cannot enforce load limit: &quot;), &quot;getloadavg&quot;);
++	    perror_with_name_err (_(&quot;cannot enforce load limit: &quot;), &quot;getloadavg&quot;, errno);
+ 	}
+       lossage = errno;
+       load = 0;

Added: trunk/rpms/make/make-3.81-fdleak.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.81-fdleak.patch?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.81-fdleak.patch?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/make/make-3.81-fdleak.patch (added)
+++ trunk/rpms/make/make-3.81-fdleak.patch Thu Aug 12 13:52:22 2010
@@ -1,0 +1,60 @@
+diff -urp make-3.81/read.c make-3.81-leak/read.c
+--- make-3.81/read.c	2006-03-17 15:24:20.000000000 +0100
++++ make-3.81-leak/read.c	2008-09-16 16:43:12.000000000 +0200
+@@ -296,6 +300,37 @@ restore_conditionals (struct conditional
+   conditionals = saved;
+ }
+ 
++/* If possible, open the file and mark it close-on-exec, so that make
++   doesn't leak the descriptor to binaries called via $(shell ...).*/
++static FILE *
++open_makefile (char *filename)
++{
++  FILE *fp;
++
++#if HAVE_FDOPEN
++  int fd = open (filename, O_RDONLY);
++  int save;
++  if (fd &lt; 0)
++    return NULL;
++
++  fp = fdopen (fd, &quot;r&quot;);
++  if (fp == NULL)
++    {
++      save = errno;
++      close (fd);
++      errno = save;
++      return NULL;
++    }
++
++  CLOSE_ON_EXEC (fd);
++
++#else
++  fp = fopen (filename, &quot;r&quot;);
++#endif
++
++  return fp;
++}
++
+ static int
+ eval_makefile (char *filename, int flags)
+ {
+@@ -335,7 +376,8 @@ eval_makefile (char *filename, int flags
+ 	filename = expanded;
+     }
+ 
+-  ebuf.fp = fopen (filename, &quot;r&quot;);
++  ebuf.fp = open_makefile (filename);
++
+   /* Save the error code so we print the right message later.  */
+   makefile_errno = errno;
+ 
+@@ -348,7 +390,7 @@ eval_makefile (char *filename, int flags
+       for (i = 0; include_directories[i] != 0; ++i)
+ 	{
+ 	  included = concat (include_directories[i], &quot;/&quot;, filename);
+-	  ebuf.fp = fopen (included, &quot;r&quot;);
++	  ebuf.fp = open_makefile (included);
+ 	  if (ebuf.fp)
+ 	    {
+ 	      filename = included;

Added: trunk/rpms/make/make-3.81-jobserver.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.81-jobserver.patch?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.81-jobserver.patch?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/make/make-3.81-jobserver.patch (added)
+++ trunk/rpms/make/make-3.81-jobserver.patch Thu Aug 12 13:52:22 2010
@@ -1,0 +1,18 @@
+diff -urp make-3.81/main.c make-3.81-pm/main.c
+--- make-3.81/main.c	2007-09-24 15:28:34.000000000 +0200
++++ make-3.81-pm/main.c	2007-09-24 15:32:50.000000000 +0200
+@@ -1669,8 +1669,12 @@ main (int argc, char **argv, char **envp
+ 
+     if (job_slots &gt; 0)
+       {
+-        close (job_fds[0]);
+-        close (job_fds[1]);
++	if (restarts == 0)
++	  {
++	    close (job_fds[0]);
++	    close (job_fds[1]);
++	  }
++
+         job_fds[0] = job_fds[1] = -1;
+         free (jobserver_fds-&gt;list);
+         free (jobserver_fds);

Added: trunk/rpms/make/make-3.81-memory.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.81-memory.patch?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.81-memory.patch?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/make/make-3.81-memory.patch (added)
+++ trunk/rpms/make/make-3.81-memory.patch Thu Aug 12 13:52:22 2010
@@ -1,0 +1,261 @@
+diff -Bburpd make-3.81_orig/file.c make-3.81/file.c
+--- make-3.81_orig/file.c	2006-05-23 13:59:11.000000000 +0200
++++ make-3.81/file.c	2006-05-23 14:39:34.000000000 +0200
+@@ -490,7 +490,7 @@ expand_deps (struct file *f)
+ 
+               o = subst_expand (buffer, d-&gt;name, &quot;%&quot;, &quot;$*&quot;, 1, 2, 0);
+ 
+-              free (d-&gt;name);
++              hash_strfree (d-&gt;name);
+               d-&gt;name = savestring (buffer, o - buffer);
+               d-&gt;staticpattern = 0; /* Clear staticpattern so that we don't
+                                        re-expand %s below. */
+@@ -549,7 +549,7 @@ expand_deps (struct file *f)
+                         dp-&gt;name[0] = '\0';
+                       else
+                         {
+-                          free (dp-&gt;name);
++                          hash_strfree (dp-&gt;name);
+                           dp-&gt;name = savestring (buffer, o - buffer);
+                         }
+                     }
+@@ -580,7 +580,7 @@ expand_deps (struct file *f)
+           if (d1-&gt;file == 0)
+             d1-&gt;file = enter_file (d1-&gt;name);
+           else
+-            free (d1-&gt;name);
++            hash_strfree (d1-&gt;name);
+           d1-&gt;name = 0;
+           d1-&gt;staticpattern = 0;
+           d1-&gt;need_2nd_expansion = 0;
+Only in make-3.81: file.c~
+diff -Bburpd make-3.81_orig/implicit.c make-3.81/implicit.c
+--- make-3.81_orig/implicit.c	2006-05-23 13:59:11.000000000 +0200
++++ make-3.81/implicit.c	2006-05-23 14:40:01.000000000 +0200
+@@ -864,7 +864,7 @@ pattern_search (struct file *file, int a
+ 	      dep-&gt;file = enter_file (dep-&gt;name);
+               /* enter_file uses dep-&gt;name _if_ we created a new file.  */
+               if (dep-&gt;name != dep-&gt;file-&gt;name)
+-                free (dep-&gt;name);
++                hash_strfree (dep-&gt;name);
+ 	      dep-&gt;name = 0;
+ 	      dep-&gt;file-&gt;tried_implicit |= dep-&gt;changed;
+ 	    }
+Only in make-3.81: implicit.c~
+diff -Bburpd make-3.81_orig/main.c make-3.81/main.c
+--- make-3.81_orig/main.c	2006-05-23 13:59:11.000000000 +0200
++++ make-3.81/main.c	2006-05-23 14:40:49.000000000 +0200
+@@ -540,6 +540,7 @@ initialize_global_hash_tables (void)
+   init_hash_files ();
+   hash_init_directories ();
+   hash_init_function_table ();
++  init_hash_strings ();
+ }
+ 
+ static struct file *
+Only in make-3.81: main.c~
+diff -Bburpd make-3.81_orig/make.h make-3.81/make.h
+--- make-3.81_orig/make.h	2006-05-23 13:59:11.000000000 +0200
++++ make-3.81/make.h	2006-05-23 14:41:21.000000000 +0200
+@@ -431,6 +431,11 @@ extern void print_spaces PARAMS ((unsign
+ extern char *find_percent PARAMS ((char *));
+ extern FILE *open_tmpfile PARAMS ((char **, const char *));
+ 
++extern void init_hash_strings PARAMS ((void));
++extern char *hash_strdup PARAMS ((const char *));
++extern char *hash_savestring PARAMS ((const char *, unsigned int));
++extern void hash_strfree PARAMS ((char *));
++
+ #ifndef NO_ARCHIVES
+ extern int ar_name PARAMS ((char *));
+ extern void ar_parse_name PARAMS ((char *, char **, char **));
+Only in make-3.81: make.h~
+diff -Bburpd make-3.81_orig/misc.c make-3.81/misc.c
+--- make-3.81_orig/misc.c	2006-05-23 13:59:11.000000000 +0200
++++ make-3.81/misc.c	2006-05-23 14:42:59.000000000 +0200
+@@ -16,8 +16,10 @@ You should have received a copy of the G
+ GNU Make; see the file COPYING.  If not, write to the Free Software
+ Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.  */
+ 
++#include &lt;assert.h&gt;
+ #include &quot;make.h&quot;
+ #include &quot;dep.h&quot;
++#include &quot;hash.h&quot;
+ #include &quot;debug.h&quot;
+ 
+ /* Variadic functions.  We go through contortions to allow proper function
+@@ -511,7 +513,7 @@ void
+ free_dep (struct dep *d)
+ {
+   if (d-&gt;name != 0)
+-    free (d-&gt;name);
++    hash_strfree (d-&gt;name);
+ 
+   if (d-&gt;stem != 0)
+     free (d-&gt;stem);
+@@ -535,7 +537,7 @@ copy_dep_chain (const struct dep *d)
+       bcopy ((char *) d, (char *) c, sizeof (struct dep));
+ 
+       if (c-&gt;name != 0)
+-	c-&gt;name = xstrdup (c-&gt;name);
++	c-&gt;name = hash_strdup (c-&gt;name);
+       if (c-&gt;stem != 0)
+ 	c-&gt;stem = xstrdup (c-&gt;stem);
+ 
+@@ -909,3 +911,154 @@ close_stdout (void)
+       exit (EXIT_FAILURE);
+     }
+ }
++
++/* Hash table of duplicated strings.  */
++
++struct hash_string
++{
++  char *string;
++  unsigned int count;
++};
++
++static unsigned long
++string_hash_1 (key)
++    const void *key;
++{
++  return_ISTRING_HASH_1 (((const struct hash_string *) key)-&gt;string);
++}
++
++static unsigned long
++string_hash_2 (key)
++    const void *key;
++{
++  return_ISTRING_HASH_2 (((const struct hash_string *) key)-&gt;string);
++}
++
++static int
++string_hash_cmp (x, y)
++    const void *x;
++    const void *y;
++{
++  return_ISTRING_COMPARE (((const struct hash_string *) x)-&gt;string,
++			  ((const struct hash_string *) y)-&gt;string);
++}
++
++static struct hash_table strings;
++
++void
++init_hash_strings ()
++{
++  hash_init (&amp;strings, 1000, string_hash_1, string_hash_2,
++	     string_hash_cmp);
++}
++
++/* Keep track duplicated string and return the old one if exists.  */
++
++char *
++hash_strdup (ptr)
++     const char *ptr;
++{
++  struct hash_string *h, key;
++
++  if (*ptr == '\0')
++    return &quot;&quot;;
++
++  key.string = (char *) ptr;
++  key.count = 0;
++  h = (struct hash_string *) hash_find_item (&amp;strings, &amp;key);
++  if (h == NULL)
++    {
++      char *result = (char *) malloc (strlen (ptr) + 1);
++
++      if (result == NULL)
++	fatal (NILF, _(&quot;virtual memory exhausted&quot;));
++
++      strcpy (result, ptr);
++
++      h = (struct hash_string *) malloc (sizeof (struct hash_string));
++      if (h == NULL)
++	fatal (NILF, _(&quot;virtual memory exhausted&quot;));
++
++      h-&gt;string = result;
++      h-&gt;count = 1;
++      hash_insert (&amp;strings, h);
++    }
++  else
++    {
++      h-&gt;count++;
++      assert (h-&gt;count != 0);
++    }
++
++  return h-&gt;string;
++}
++
++char *
++hash_savestring (str, length)
++     const char *str;
++     unsigned int length;
++{
++  struct hash_string *h, key;
++
++  if (length == 0 || *str == '\0')
++    return &quot;&quot;;
++
++  key.string = alloca (length + 1);
++  key.count = 0;
++  bcopy (str, key.string, length);
++  key.string [length] = '\0';
++
++  h = (struct hash_string *) hash_find_item (&amp;strings, &amp;key);
++  if (h == NULL)
++    {
++      char *out = (char *) xmalloc (length + 1);
++      bcopy (str, out, length);
++      out[length] = '\0';
++
++      h = (struct hash_string *) malloc (sizeof (struct hash_string));
++      if (h == NULL)
++	fatal (NILF, _(&quot;virtual memory exhausted&quot;));
++
++      h-&gt;string = out;
++      h-&gt;count = 1;
++      hash_insert (&amp;strings, h);
++    }
++  else
++    {
++      h-&gt;count++;
++      assert (h-&gt;count != 0);
++    }
++
++  return h-&gt;string;
++}
++
++void
++hash_strfree (ptr)
++     char *ptr;
++{
++  struct hash_string *h, key;
++
++  if (*ptr == '\0')
++    return;
++
++  key.string = ptr;
++  key.count = 0;
++  h = (struct hash_string *) hash_find_item (&amp;strings, &amp;key);
++
++  /* Check if string comes from hash_strdup or hash_savestring.  */
++  if (h == NULL || h-&gt;string != ptr)
++    {
++      free (ptr);
++      return;
++    }
++
++  h-&gt;count--;
++  if (h-&gt;count == 0)
++    {
++      struct hash_string *d;
++
++      d = hash_delete (&amp;strings, h);
++      assert (d == h);
++      free (h-&gt;string);
++      free (h);
++    }
++}
+Only in make-3.81: misc.c~
+Only in make-3.81: read.c~

Added: trunk/rpms/make/make-3.81-newlines.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.81-newlines.patch?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.81-newlines.patch?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/make/make-3.81-newlines.patch (added)
+++ trunk/rpms/make/make-3.81-newlines.patch Thu Aug 12 13:52:22 2010
@@ -1,0 +1,23 @@
+--- make-3.81-orig/job.c	2007-02-21 19:10:54.000000000 +0100
++++ make-3.81-pm/job.c	2007-02-22 18:13:59.000000000 +0100
+@@ -2706,7 +2706,7 @@
+     unsigned int line_len = strlen (line);
+ 
+     char *new_line = (char *) alloca (shell_len + (sizeof (minus_c) - 1)
+-				      + (line_len * 2) + 1);
++				      + (line_len * 4) + 1);
+     char *command_ptr = NULL; /* used for batch_mode_shell mode */
+ 
+ # ifdef __EMX__ /* is this necessary? */
+@@ -2740,9 +2740,10 @@
+ #endif
+ 	    if (PRESERVE_BSNL)
+ 	      {
+-		*(ap++) = '\\';
++		*(ap++) = '\'';
+ 		*(ap++) = '\\';
+ 		*(ap++) = '\n';
++		*(ap++) = '\'';
+ 	      }
+ 
+ 	    ++p;

Added: trunk/rpms/make/make-3.81-rlimit.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.81-rlimit.patch?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.81-rlimit.patch?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/make/make-3.81-rlimit.patch (added)
+++ trunk/rpms/make/make-3.81-rlimit.patch Thu Aug 12 13:52:22 2010
@@ -1,0 +1,111 @@
+diff -urp make-3.81/job.c make-3.81-pm/job.c
+--- make-3.81/job.c	2008-03-25 18:15:38.000000000 +0100
++++ make-3.81-pm/job.c	2008-03-25 17:51:11.000000000 +0100
+@@ -2079,6 +2079,9 @@ exec_command (char **argv, char **envp)
+ # else
+ 
+   /* Run the program.  */
++#ifdef SET_STACK_SIZE
++  restore_original_stack_rlimit ();
++#endif
+   environ = envp;
+   execvp (argv[0], argv);
+ 
+diff -urp make-3.81/main.c make-3.81-pm/main.c
+--- make-3.81/main.c	2008-03-25 18:15:38.000000000 +0100
++++ make-3.81-pm/main.c	2008-03-25 18:14:04.000000000 +0100
+@@ -44,12 +44,53 @@ Foundation, Inc., 51 Franklin St, Fifth 
+ # include &lt;fcntl.h&gt;
+ #endif
+ 
+-#if defined(HAVE_SYS_RESOURCE_H) &amp;&amp; defined(HAVE_GETRLIMIT) &amp;&amp; defined(HAVE_SETRLIMIT)
+-# define SET_STACK_SIZE
+-#endif
+-
+ #ifdef SET_STACK_SIZE
+ # include &lt;sys/resource.h&gt;
++/* Whether the rlimit was set successfuly */
++static int setrlimit_succeeded = 0;
++/* Original rlim_cur */
++static rlim_t setrlimit_orig_cur = 0;
++
++/* Get rid of any avoidable limit on stack size so that alloca does
++   not fail. */
++void
++set_max_stack_rlimit (void)
++{
++  struct rlimit rlim;
++
++  /* Back off if the limit is still set, probably due to failure in
++     restore_original_stack_rlimit. */
++  if (setrlimit_succeeded)
++    return;
++
++  if (getrlimit (RLIMIT_STACK, &amp;rlim) == 0)
++    {
++      setrlimit_orig_cur = rlim.rlim_cur;
++      rlim.rlim_cur = rlim.rlim_max;
++      if (setrlimit (RLIMIT_STACK, &amp;rlim) != -1)
++	setrlimit_succeeded = 1;
++    }
++}
++
++/* Set the rlimit back to its original value.  To be called before
++   process spawn. */
++void
++restore_original_stack_rlimit (void)
++{
++  struct rlimit rlim;
++
++  if (!setrlimit_succeeded)
++    return;
++
++  if (getrlimit (RLIMIT_STACK, &amp;rlim) == 0)
++    {
++      rlim.rlim_cur = setrlimit_orig_cur;
++      setrlimit (RLIMIT_STACK, &amp;rlim);
++      /* Don't reset the setrlimit_succeeded flag.  This can be called
++	 after vfork, in which case the flag is in memory shared with
++	 the parent. */
++    }
++}
+ #endif
+ 
+ #ifdef _AMIGA
+@@ -915,17 +956,7 @@ main (int argc, char **argv, char **envp
+ #endif
+ 
+ #ifdef SET_STACK_SIZE
+- /* Get rid of any avoidable limit on stack size.  */
+-  {
+-    struct rlimit rlim;
+-
+-    /* Set the stack limit huge so that alloca does not fail.  */
+-    if (getrlimit (RLIMIT_STACK, &amp;rlim) == 0)
+-      {
+-        rlim.rlim_cur = rlim.rlim_max;
+-        setrlimit (RLIMIT_STACK, &amp;rlim);
+-      }
+-  }
++  set_max_stack_rlimit ();
+ #endif
+ 
+ #ifdef HAVE_ATEXIT
+diff -urp make-3.81/make.h make-3.81-pm/make.h
+--- make-3.81/make.h	2008-03-25 18:15:38.000000000 +0100
++++ make-3.81-pm/make.h	2008-03-25 17:51:10.000000000 +0100
+@@ -346,6 +346,13 @@ extern int strcmpi (const char *,const c
+ #define N_(msgid)           gettext_noop (msgid)
+ #define S_(msg1,msg2,num)   ngettext (msg1,msg2,num)
+ 
++/* Handle rlimit */
++#if defined(HAVE_SYS_RESOURCE_H) &amp;&amp; defined(HAVE_GETRLIMIT) &amp;&amp; defined(HAVE_SETRLIMIT)
++# define SET_STACK_SIZE
++void set_max_stack_rlimit (void);
++void restore_original_stack_rlimit (void);
++#endif
++
+ /* Handle other OSs.  */
+ #if defined(HAVE_DOS_PATHS)
+ # define PATH_SEPARATOR_CHAR ';'
+diff -urp make-3.81/w32/Makefile make-3.81-pm/w32/Makefile

Added: trunk/rpms/make/make-3.81-strcpy-overlap.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.81-strcpy-overlap.patch?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make-3.81-strcpy-overlap.patch?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/make/make-3.81-strcpy-overlap.patch (added)
+++ trunk/rpms/make/make-3.81-strcpy-overlap.patch Thu Aug 12 13:52:22 2010
@@ -1,0 +1,16 @@
+Index: job.c
+===================================================================
+RCS file: /sources/make/make/job.c,v
+retrieving revision 1.193
+diff -u -r1.193 job.c
+--- job.c	9 Jun 2009 15:35:38 -0000	1.193
++++ job.c	31 Jul 2009 11:42:16 -0000
+@@ -1600,7 +1600,7 @@
+       /* There are no more references in this line to worry about.
+ 	 Copy the remaining uninteresting text to the output.  */
+       if (out != in)
+-	strcpy (out, in);
++	memmove (out, in, strlen (in) + 1);
+ 
+       /* Finally, expand the line.  */
+       lines[i] = allocated_variable_expand_for_file (cmds-&gt;command_lines[i],

Added: trunk/rpms/make/make.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make.spec?rev=9055&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/make/make.spec?rev=9055&amp;view=markup</A>
==============================================================================
--- trunk/rpms/make/make.spec (added)
+++ trunk/rpms/make/make.spec Thu Aug 12 13:52:22 2010
@@ -1,0 +1,330 @@
+# $Id$
+# Authority: dag
+
+### This package replaces base packages
+# Tag: rfb
+
+### This package has been imported from RHEL6 beta2 (but same version is in RHEL5)
+# ExclusiveDist: el2 el3 el4
+
+# -*- coding: utf-8 -*-
+Summary: A GNU tool which simplifies the build process for users
+Name: make
+Epoch: 1
+Version: 3.81
+Release: 0.18.1%{?dist}
+License: GPLv2+
+Group: Development/Tools
+URL: <A HREF="http://www.gnu.org/software/make/">http://www.gnu.org/software/make/</A>
+
+Source: <A HREF="ftp://ftp.gnu.org/gnu/make/make-%{version">ftp://ftp.gnu.org/gnu/make/make-%{version</A>}.tar.bz2
+Patch: make-3.79.1-noclock_gettime.patch
+Patch4: make-3.80-j8k.patch
+Patch5: make-3.80-getcwd.patch
+Patch6: make-3.81-err-reporting.patch
+Patch7: make-3.81-memory.patch
+Patch8: make-3.81-rlimit.patch
+Patch9: make-3.81-newlines.patch
+Patch10: make-3.81-jobserver.patch
+Patch11: make-3.81-fdleak.patch
+Patch12: make-3.81-strcpy-overlap.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+Requires(post): /sbin/install-info
+Requires(preun): /sbin/install-info
+
+%description
+A GNU tool for controlling the generation of executables and other
+non-source files of a program from the program's source files. Make
+allows users to build and install packages without any significant
+knowledge about the details of the build process. The details about
+how the program should be built are provided for make in the program's
+makefile.
+
+%prep
+%setup -q
+%patch -p1
+%patch4 -p1
+%patch5 -p1
+%patch6 -p1
+%patch7 -p1
+%patch8 -p1
+%patch9 -p1
+%patch10 -p1
+%patch11 -p1
+%patch12 -p0
+
+%build
+%configure
+make %{?_smp_mflags}
+
+%install
+rm -rf ${RPM_BUILD_ROOT}
+make DESTDIR=$RPM_BUILD_ROOT install
+ln -sf make ${RPM_BUILD_ROOT}/%{_bindir}/gmake
+ln -sf make.1 ${RPM_BUILD_ROOT}/%{_mandir}/man1/gmake.1
+rm -f ${RPM_BUILD_ROOT}/%{_infodir}/dir
+
+%find_lang %name
+
+%check
+echo ============TESTING===============
+/usr/bin/env LANG=C make check
+echo ============END TESTING===========
+
+%clean
+rm -rf ${RPM_BUILD_ROOT}
+
+%post
+if [ -f %{_infodir}/make.info.gz ]; then # for --excludedocs
+   /sbin/install-info %{_infodir}/make.info.gz %{_infodir}/dir --entry=&quot;* Make: (make).                 The GNU make utility.&quot; || :
+fi
+
+%preun
+if [ $1 = 0 ]; then
+   if [ -f %{_infodir}/make.info.gz ]; then # for --excludedocs
+      /sbin/install-info --delete %{_infodir}/make.info.gz %{_infodir}/dir --entry=&quot;* Make: (make).                 The GNU make utility.&quot; || :
+   fi
+fi
+
+%files  -f %{name}.lang
+%defattr(-,root,root)
+%doc NEWS README COPYING AUTHORS
+%{_bindir}/*
+%{_mandir}/man*/*
+%{_infodir}/*.info*
+
+%changelog
+* Thu Aug 12 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1:3.81-0.18.1
+- Imported from RHEL6 beta2.
+
+* Mon Nov 30 2009 Dennis Gregorovic &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dgregor at redhat.com</A>&gt; - 1:3.81-18.1
+- Rebuilt for RHEL 6
+
+* Tue Aug 11 2009 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 1:3.81-18
+- Fix installation with --excludedocs
+- Resolves: #515917
+
+* Fri Jul 31 2009 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 1:3.81-17
+- Replace the use of strcpy on overlapping areas with memmove
+- Resolves: #514721
+
+* Sat Jul 25 2009 Fedora Release Engineering &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rel-eng at lists.fedoraproject.org</A>&gt; - 1:3.81-16
+- Rebuilt for <A HREF="https://fedoraproject.org/wiki/Fedora_12_Mass_Rebuild">https://fedoraproject.org/wiki/Fedora_12_Mass_Rebuild</A>
+
+* Wed Feb 25 2009 Fedora Release Engineering &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rel-eng at lists.fedoraproject.org</A>&gt; - 1:3.81-15
+- Rebuilt for <A HREF="https://fedoraproject.org/wiki/Fedora_11_Mass_Rebuild">https://fedoraproject.org/wiki/Fedora_11_Mass_Rebuild</A>
+
+* Mon Sep 22 2008 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 1:3.81-14
+- Fix patches to apply cleanly with fuzz=0
+
+* Tue Sep 16 2008 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 1:3.81-13
+- Mark opened files as cloexec to prevent their leaking through fork
+- Resolves: #462090
+
+* Tue Mar 25 2008 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 1:3.81-12
+- Fix the rlimit patch.  The success flag is kept in memory shared
+  with parent process after vfork, and so cannot be reset.
+- Related: #214033
+
+* Tue Feb 19 2008 Fedora Release Engineering &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rel-eng at fedoraproject.org</A>&gt; - 1:3.81-11
+- Autorebuild for GCC 4.3
+
+* Thu Oct  4 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 1:3.81-10
+- Fix parallel builds with reexec.
+- Related: #212111, #211290
+
+* Thu Oct  4 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 1:3.81-8
+- Cleaned up per merge review.
+- Related: #226120
+
+* Thu Aug 16 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 1:3.81-7
+- Fix licensing tag.
+
+* Fri Mar 16 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 1:3.81-6
+- Always run testsuite with C locale.
+- Resolves: #232607
+
+* Thu Feb 22 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 1:3.81-5
+- Fix newline handling for quoted SHELL.
+- Resolves: #219409
+
+* Fri Feb  2 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 1:3.81-4
+- Tidy up the specfile per rpmlint comments
+- Use utf-8 and fix national characters in contributor's names
+
+* Thu Jan 25 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 1:3.81-3
+- Ville Skytt&#195;&#164;: patch for non-failing %%post, %%preun
+- Resolves: #223709
+
+* Thu Jan 25 2007 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 1:3.81-2
+- make now restores rlimit to its original values before launching
+  subprocess (#214033)
+
+* Wed Jul 12 2006 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt; - 1:3.81-1.1
+- rebuild
+
+* Tue May 23 2006 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; - 1:3.81-1
+- Upstream 3.81:
+  - Contains several backwards incompatible changes.  See NEWS inside
+    the source package to find out more.
+- memory patch and error reporting patch were ported to this version.
+
+* Wed Mar 15 2006 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; 1:3.80-11
+- Applied (five years old) patch from Jonathan Kamens to allow make to
+  handle several pattern-specific variables (#52962).
+
+  The patch was changed so that it forces make to process pattern
+  specific variables in the same order as they appear in file.
+  (Upstream make behaves this way, too.)  This is change from old make
+  behavior, which processed the variables in reverse order.  In case
+  you used only x=a assignments, this had the effect of using the
+  first pattern specific variable that matched.  For x+=a this just
+  doesn't work, and it produces absolutely nonintuitive results.
+
+- (It would be great if make's target-specific variables were handled
+  the same way as pattern-specific ones, just without the pattern
+  component.  However current handling is documented and considered a
+  feature.)
+
+* Fri Feb 10 2006 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt; - 1:3.80-10.2
+- bump again for double-long bug on ppc(64)
+
+* Tue Feb 07 2006 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt; - 1:3.80-10.1
+- rebuilt for new gcc4.1 snapshot and glibc changes
+
+* Mon Feb 02 2006 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; 3.80-10
+- H.J. Lu caught a typo in the patch and provided a new one. (#175376)
+
+* Mon Jan 09 2006 Petr Machata &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pmachata at redhat.com</A>&gt; 3.80-9
+- Applied patch from H.J. Lu.  Somehow reduces make's enormous memory
+  consumption. (#175376)
+
+* Fri Dec 09 2005 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt;
+- rebuilt
+
+* Mon Aug 22 2005 Jakub Jelinek &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jakub at redhat.com</A>&gt; 3.80-8
+- make sure errno for error reporting is not lost accross _() calls
+- report EOF on read pipe differently from read returning &lt; 0 reporting
+
+* Mon Mar  7 2005 Jakub Jelinek &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jakub at redhat.com</A>&gt; 3.80-7
+- rebuilt with GCC 4
+
+* Mon Dec 13 2004 Jakub Jelinek &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jakub at redhat.com</A>&gt; 3.80-6
+- refuse -jN where N is bigger than PIPE_BUF (#142691, #17374)
+
+* Thu Oct  7 2004 Jakub Jelinek &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jakub at redhat.com</A>&gt; 3.80-5
+- add URL rpm tag (#134799)
+
+* Tue Jun 15 2004 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- rebuilt
+
+* Fri Feb 13 2004 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- rebuilt
+
+* Tue Dec 02 2003 Florian La Roche &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">Florian.LaRoche at redhat.de</A>&gt;
+- add important bug-fixes from make home-page
+
+* Sun Nov 30 2003 Florian La Roche &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">Florian.LaRoche at redhat.de</A>&gt;
+- update to 3.80
+
+* Wed Jun 04 2003 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- rebuilt
+
+* Wed Jan 22 2003 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- rebuilt
+
+* Sun Dec 29 2002 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- fix references to %%install in the changelog so that the package will build
+
+* Tue Dec 03 2002 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt; 3.79.1-15
+- _smp_mflags
+- Fix ppc build (sys_siglist issues in patch2)
+
+* Fri Jun 21 2002 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- automated rebuild
+
+* Thu May 23 2002 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- automated rebuild
+
+* Thu May 23 2002 Jakub Jelinek &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jakub at redhat.com</A>&gt;
+- Run make check during build
+
+* Thu May 23 2002 Bernhard Rosenkraenzer &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bero at redhat.com</A>&gt;
+- Fix build with current auto* tools
+
+* Fri Jan 25 2002 Jakub Jelinek &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jakub at redhat.com</A>&gt;
+- rebuilt with gcc 3.1
+
+* Fri Jul  6 2001 Trond Eivind Glomsr&#195;&#184;d &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">teg at redhat.com</A>&gt;
+- s/Copyright/License/
+- langify
+- Make sure it isn't setgid if built as root
+
+* Sun Jun 24 2001 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- Bump release + rebuild.
+
+* Mon Aug  7 2000 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt;
+- change info-dir entry so that 'info make' works (#15029).
+
+* Tue Aug  1 2000 Jakub Jelinek &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jakub at redhat.com</A>&gt;
+- assume we don't have clock_gettime in configure, so that
+  make is not linked against -lpthread (and thus does not
+  limit stack to 2MB).
+
+* Sat Jul 22 2000 Jeff Johnson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jbj at redhat.com</A>&gt;
+- add locale files (#14362).
+
+* Wed Jul 12 2000 Prospector &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bugzilla at redhat.com</A>&gt;
+- automatic rebuild
+
+* Sat Jun 24 2000 Preston Brown &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pbrown at redhat.com</A>&gt;
+- 3.79.1 bugfix release
+
+* Mon Jun  5 2000 Jeff Johnson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jbj at redhat.com</A>&gt;
+- FHS packaging.
+
+* Sun May  7 2000 Bernhard Rosenkraenzer &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bero at redhat.com</A>&gt;
+- Fix build for some odd situations, such as
+  - previously installed make != GNU make
+  - /bin/sh != bash
+
+* Mon Apr 17 2000 Florian La Roche &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">Florian.LaRoche at redhat.com</A>&gt;
+- update to 3.79
+
+* Thu Feb 24 2000 Cristian Gafton &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">gafton at redhat.com</A>&gt;
+- add patch from Andreas Jaeger to fix dtype lookups (for glibc 2.1.3
+  builds)
+
+* Mon Feb  7 2000 Jeff Johnson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jbj at redhat.com</A>&gt;
+- compress man page.
+
+* Fri Jan 21 2000 Cristian Gafton &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">gafton at redhat.com</A>&gt;
+- apply patch to fix a /tmp race condition from Thomas Biege
+- simplify %%install
+
+* Sat Nov 27 1999 Jeff Johnson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jbj at redhat.com</A>&gt;
+- update to 3.78.1.
+
+* Thu Apr 15 1999 Bill Nottingham &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">notting at redhat.com</A>&gt;
+- added a serial tag so it upgrades right
+
+* Sun Mar 21 1999 Cristian Gafton &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">gafton at redhat.com</A>&gt; 
+- auto rebuild in the new build environment (release 5)
+
+* Wed Sep 16 1998 Cristian Gafton &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">gafton at redhat.com</A>&gt;
+- added a patch for large file support in glob
+ 
+* Tue Aug 18 1998 Jeff Johnson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jbj at redhat.com</A>&gt;
+- update to 3.77
+
+* Mon Apr 27 1998 Prospector System &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bugs at redhat.com</A>&gt;
+- translations modified for de, fr, tr
+
+* Thu Oct 16 1997 Donnie Barnes &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">djb at redhat.com</A>&gt;
+- udpated from 3.75 to 3.76
+- various spec file cleanups
+- added install-info support
+
+* Mon Jun 02 1997 Erik Troan &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">ewt at redhat.com</A>&gt;
+- built against glibc

Propchange: trunk/rpms/make/make.spec
------------------------------------------------------------------------------
    svn:eol-style = native

Propchange: trunk/rpms/make/make.spec
------------------------------------------------------------------------------
    svn:keywords = Id Revision


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007847.html">[svn] r9054 - /trunk/rpms/cacti/cacti.spec
</A></li>
	<LI>Next message: <A HREF="007849.html">[svn] r9056 - in /trunk/rpms: perl-Authen-Radius/ perl-File-Spec/
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7848">[ date ]</a>
              <a href="thread.html#7848">[ thread ]</a>
              <a href="subject.html#7848">[ subject ]</a>
              <a href="author.html#7848">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
