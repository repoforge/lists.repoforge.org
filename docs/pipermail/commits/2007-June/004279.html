<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r5480 - in trunk/rpms: cinelerra ffmpeg libquicktime mpd	mpg123 mplayer scanmem sreplay typespeed udpcast vlc wine x264
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5480%20-%20in%20trunk/rpms%3A%20cinelerra%20ffmpeg%20libquicktime%20mpd%0A%09mpg123%20mplayer%20scanmem%20sreplay%20typespeed%20udpcast%20vlc%20wine%20x264&In-Reply-To=%3C20070605194710.352C0944A87%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004278.html">
   <LINK REL="Next"  HREF="004280.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r5480 - in trunk/rpms: cinelerra ffmpeg libquicktime mpd	mpg123 mplayer scanmem sreplay typespeed udpcast vlc wine x264</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5480%20-%20in%20trunk/rpms%3A%20cinelerra%20ffmpeg%20libquicktime%20mpd%0A%09mpg123%20mplayer%20scanmem%20sreplay%20typespeed%20udpcast%20vlc%20wine%20x264&In-Reply-To=%3C20070605194710.352C0944A87%40pooch.vmhosting.org%3E"
       TITLE="[svn] r5480 - in trunk/rpms: cinelerra ffmpeg libquicktime mpd	mpg123 mplayer scanmem sreplay typespeed udpcast vlc wine x264">packagers at lists.rpmforge.net
       </A><BR>
    <I>Tue Jun  5 21:47:10 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="004278.html">[svn] r5479 - in trunk/rpms: . mercurial
</A></li>
        <LI>Next message: <A HREF="004280.html">[svn] r5481 - in trunk/rpms: 3ddesktop ding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4279">[ date ]</a>
              <a href="thread.html#4279">[ thread ]</a>
              <a href="subject.html#4279">[ subject ]</a>
              <a href="author.html#4279">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2007-06-05 21:47:07 +0200 (Tue, 05 Jun 2007)
New Revision: 5480

Added:
   trunk/rpms/ffmpeg/ffmpeg-20070109-faad2.patch
   trunk/rpms/ffmpeg/ffmpeg-20070109-gsm.patch
   trunk/rpms/ffmpeg/ffmpeg-20070109.spec
Modified:
   trunk/rpms/cinelerra/cinelerra.spec
   trunk/rpms/ffmpeg/ffmpeg.spec
   trunk/rpms/libquicktime/libquicktime.spec
   trunk/rpms/mpd/mpd.spec
   trunk/rpms/mpg123/mpg123.spec
   trunk/rpms/mplayer/mplayer.spec
   trunk/rpms/scanmem/scanmem.spec
   trunk/rpms/sreplay/sreplay.spec
   trunk/rpms/typespeed/typespeed.spec
   trunk/rpms/udpcast/udpcast.spec
   trunk/rpms/vlc/vlc.spec
   trunk/rpms/wine/wine.spec
   trunk/rpms/x264/x264.spec
Log:
Updates

Modified: trunk/rpms/cinelerra/cinelerra.spec
===================================================================
--- trunk/rpms/cinelerra/cinelerra.spec	2007-06-05 18:34:00 UTC (rev 5479)
+++ trunk/rpms/cinelerra/cinelerra.spec	2007-06-05 19:47:07 UTC (rev 5480)
@@ -15,7 +15,7 @@
 Summary: Advanced audio and video capturing, compositing, and editing
 Name: cinelerra
 Version: 2.1
-Release: 0.12%{?prever:.%{prever}}
+Release: 0.13%{?prever:.%{prever}}
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://cvs.cinelerra.org/">http://cvs.cinelerra.org/</A>
@@ -126,6 +126,9 @@
 
 
 %changelog
+* Sun Jun 03 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.0-0.13.20070108
+- Rebuild against x264-0.4.20070529 because I missed it.
+
 * Mon Jan  8 2007 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 2.0-0.12.20070108
 - Update to today's SVN code.
 - Include faad2 patch.

Added: trunk/rpms/ffmpeg/ffmpeg-20070109-faad2.patch
===================================================================
--- trunk/rpms/ffmpeg/ffmpeg-20070109-faad2.patch	                        (rev 0)
+++ trunk/rpms/ffmpeg/ffmpeg-20070109-faad2.patch	2007-06-05 19:47:07 UTC (rev 5480)
@@ -0,0 +1,234 @@
+diff -Naupr ffmpeg-20070109.orig/configure ffmpeg-20070109/configure
+--- ffmpeg-20070109.orig/configure	2007-01-07 01:22:32.000000000 +0100
++++ ffmpeg-20070109/configure	2007-01-09 16:28:16.000000000 +0100
+@@ -1516,7 +1516,7 @@ if enabled libfaad; then
+     check_ld &lt;&lt;EOF &amp;&amp; add_extralibs -lfaad || die &quot;ERROR: libfaad not found&quot;
+ #include &lt;faad.h&gt;
+ int main(){
+-    faacDecOpen();
++    NeAACDecOpen();
+     return 0;
+ }
+ EOF
+diff -Naupr ffmpeg-20070109.orig/libavcodec/faad.c ffmpeg-20070109/libavcodec/faad.c
+--- ffmpeg-20070109.orig/libavcodec/faad.c	2007-01-07 00:54:01.000000000 +0100
++++ ffmpeg-20070109/libavcodec/faad.c	2007-01-09 16:28:52.000000000 +0100
+@@ -55,42 +55,42 @@ typedef struct {
+     int init;
+ 
+     /* faad calls */
+-    faacDecHandle FAADAPI (*faacDecOpen)(void);
+-    faacDecConfigurationPtr FAADAPI (*faacDecGetCurrentConfiguration)(faacDecHandle hDecoder);
++    NeAACDecHandle FAADAPI (*NeAACDecOpen)(void);
++    NeAACDecConfigurationPtr FAADAPI (*NeAACDecGetCurrentConfiguration)(NeAACDecHandle hDecoder);
+ #ifndef FAAD2_VERSION
+-        int FAADAPI (*faacDecSetConfiguration)(faacDecHandle hDecoder,
+-                                           faacDecConfigurationPtr config);
+-        int FAADAPI (*faacDecInit)(faacDecHandle hDecoder,
++        int FAADAPI (*NeAACDecSetConfiguration)(NeAACDecHandle hDecoder,
++                                           NeAACDecConfigurationPtr config);
++        int FAADAPI (*NeAACDecInit)(NeAACDecHandle hDecoder,
+                                 unsigned char *buffer,
+                                 unsigned long *samplerate,
+                                 unsigned long *channels);
+-        int FAADAPI (*faacDecInit2)(faacDecHandle hDecoder, unsigned char *pBuffer,
++        int FAADAPI (*NeAACDecInit2)(NeAACDecHandle hDecoder, unsigned char *pBuffer,
+                                 unsigned long SizeOfDecoderSpecificInfo,
+                                 unsigned long *samplerate, unsigned long *channels);
+-        int FAADAPI (*faacDecDecode)(faacDecHandle hDecoder,
++        int FAADAPI (*NeAACDecDecode)(NeAACDecHandle hDecoder,
+                                 unsigned char *buffer,
+                                 unsigned long *bytesconsumed,
+                                 short *sample_buffer,
+                                 unsigned long *samples);
+ #else
+-        unsigned char FAADAPI (*faacDecSetConfiguration)(faacDecHandle hDecoder,
+-                                                     faacDecConfigurationPtr config);
+-        long FAADAPI (*faacDecInit)(faacDecHandle hDecoder,
++        unsigned char FAADAPI (*NeAACDecSetConfiguration)(NeAACDecHandle hDecoder,
++                                                     NeAACDecConfigurationPtr config);
++        long FAADAPI (*NeAACDecInit)(NeAACDecHandle hDecoder,
+                                    unsigned char *buffer,
+                                  unsigned long buffer_size,
+                                  unsigned long *samplerate,
+                                  unsigned char *channels);
+-        char FAADAPI (*faacDecInit2)(faacDecHandle hDecoder, unsigned char *pBuffer,
++        char FAADAPI (*NeAACDecInit2)(NeAACDecHandle hDecoder, unsigned char *pBuffer,
+                                  unsigned long SizeOfDecoderSpecificInfo,
+                                  unsigned long *samplerate, unsigned char *channels);
+-        void *FAADAPI (*faacDecDecode)(faacDecHandle hDecoder,
+-                                         faacDecFrameInfo *hInfo,
++        void *FAADAPI (*NeAACDecDecode)(NeAACDecHandle hDecoder,
++                                         NeAACDecFrameInfo *hInfo,
+                                          unsigned char *buffer,
+                                                                  unsigned long buffer_size);
+-        char* FAADAPI (*faacDecGetErrorMessage)(unsigned char errcode);
++        char* FAADAPI (*NeAACDecGetErrorMessage)(unsigned char errcode);
+ #endif
+ 
+-    void FAADAPI (*faacDecClose)(faacDecHandle hDecoder);
++    void FAADAPI (*NeAACDecClose)(NeAACDecHandle hDecoder);
+ 
+ 
+ } FAACContext;
+@@ -113,12 +113,12 @@ static int faac_init_mp4(AVCodecContext 
+     int r = 0;
+ 
+     if (avctx-&gt;extradata){
+-        r = s-&gt;faacDecInit2(s-&gt;faac_handle, (uint8_t*) avctx-&gt;extradata,
++        r = s-&gt;NeAACDecInit2(s-&gt;faac_handle, (uint8_t*) avctx-&gt;extradata,
+                             avctx-&gt;extradata_size,
+                             &amp;samplerate, &amp;channels);
+         if (r &lt; 0){
+             av_log(avctx, AV_LOG_ERROR,
+-                   &quot;faacDecInit2 failed r:%d   sr:%ld  ch:%ld  s:%d\n&quot;,
++                   &quot;NeAACDecInit2 failed r:%d   sr:%ld  ch:%ld  s:%d\n&quot;,
+                    r, samplerate, (long)channels, avctx-&gt;extradata_size);
+         } else {
+             avctx-&gt;sample_rate = samplerate;
+@@ -141,13 +141,13 @@ static int faac_decode_frame(AVCodecCont
+     unsigned long samples;
+     int out;
+ #else
+-    faacDecFrameInfo frame_info;
++    NeAACDecFrameInfo frame_info;
+     void *out;
+ #endif
+     if(buf_size == 0)
+         return 0;
+ #ifndef FAAD2_VERSION
+-    out = s-&gt;faacDecDecode(s-&gt;faac_handle,
++    out = s-&gt;NeAACDecDecode(s-&gt;faac_handle,
+                            (unsigned char*)buf,
+                            &amp;bytesconsumed,
+                            data,
+@@ -162,10 +162,10 @@ static int faac_decode_frame(AVCodecCont
+     if(!s-&gt;init){
+         unsigned long srate;
+         unsigned char channels;
+-        int r = s-&gt;faacDecInit(s-&gt;faac_handle, buf, buf_size, &amp;srate, &amp;channels);
++        int r = s-&gt;NeAACDecInit(s-&gt;faac_handle, buf, buf_size, &amp;srate, &amp;channels);
+         if(r &lt; 0){
+             av_log(avctx, AV_LOG_ERROR, &quot;faac: codec init failed: %s\n&quot;,
+-                   s-&gt;faacDecGetErrorMessage(frame_info.error));
++                   s-&gt;NeAACDecGetErrorMessage(frame_info.error));
+             return -1;
+         }
+         avctx-&gt;sample_rate = srate;
+@@ -173,11 +173,11 @@ static int faac_decode_frame(AVCodecCont
+         s-&gt;init = 1;
+     }
+ 
+-    out = s-&gt;faacDecDecode(s-&gt;faac_handle, &amp;frame_info, (unsigned char*)buf, (unsigned long)buf_size);
++    out = s-&gt;NeAACDecDecode(s-&gt;faac_handle, &amp;frame_info, (unsigned char*)buf, (unsigned long)buf_size);
+ 
+     if (frame_info.error &gt; 0) {
+         av_log(avctx, AV_LOG_ERROR, &quot;faac: frame decoding failed: %s\n&quot;,
+-                s-&gt;faacDecGetErrorMessage(frame_info.error));
++                s-&gt;NeAACDecGetErrorMessage(frame_info.error));
+         return -1;
+     }
+ 
+@@ -196,8 +196,8 @@ static int faac_decode_end(AVCodecContex
+ {
+     FAACContext *s = (FAACContext *) avctx-&gt;priv_data;
+ 
+-    if (s-&gt;faacDecClose)
+-        s-&gt;faacDecClose(s-&gt;faac_handle);
++    if (s-&gt;NeAACDecClose)
++        s-&gt;NeAACDecClose(s-&gt;faac_handle);
+ 
+     dlclose(s-&gt;handle);
+     return 0;
+@@ -206,7 +206,7 @@ static int faac_decode_end(AVCodecContex
+ static int faac_decode_init(AVCodecContext *avctx)
+ {
+     FAACContext *s = (FAACContext *) avctx-&gt;priv_data;
+-    faacDecConfigurationPtr faac_cfg;
++    NeAACDecConfigurationPtr faac_cfg;
+ 
+ #ifdef CONFIG_LIBFAADBIN
+     const char* err = 0;
+@@ -219,38 +219,38 @@ static int faac_decode_init(AVCodecConte
+         return -1;
+     }
+ #define dfaac(a, b) \
+-    do { static const char* n = &quot;faacDec&quot; #a; \
+-    if ((s-&gt;faacDec ## a = b dlsym( s-&gt;handle, n )) == NULL) { err = n; break; } } while(0)
++    do { static const char* n = &quot;NeAACDec&quot; #a; \
++    if ((s-&gt;NeAACDec ## a = b dlsym( s-&gt;handle, n )) == NULL) { err = n; break; } } while(0)
+     for(;;) {
+ #else  /* !CONFIG_LIBFAADBIN */
+-#define dfaac(a, b)     s-&gt;faacDec ## a = faacDec ## a
++#define dfaac(a, b)     s-&gt;NeAACDec ## a = NeAACDec ## a
+ #endif /* CONFIG_LIBFAADBIN */
+ 
+         // resolve all needed function calls
+-        dfaac(Open, (faacDecHandle FAADAPI (*)(void)));
+-        dfaac(GetCurrentConfiguration, (faacDecConfigurationPtr
+-                                        FAADAPI (*)(faacDecHandle)));
++        dfaac(Open, (NeAACDecHandle FAADAPI (*)(void)));
++        dfaac(GetCurrentConfiguration, (NeAACDecConfigurationPtr
++                                        FAADAPI (*)(NeAACDecHandle)));
+ #ifndef FAAD2_VERSION
+-        dfaac(SetConfiguration, (int FAADAPI (*)(faacDecHandle,
+-                                                           faacDecConfigurationPtr)));
++        dfaac(SetConfiguration, (int FAADAPI (*)(NeAACDecHandle,
++                                                           NeAACDecConfigurationPtr)));
+ 
+-        dfaac(Init, (int FAADAPI (*)(faacDecHandle, unsigned char*,
++        dfaac(Init, (int FAADAPI (*)(NeAACDecHandle, unsigned char*,
+                                      unsigned long*, unsigned long*)));
+-    dfaac(Init2, (int FAADAPI (*)(faacDecHandle, unsigned char*,
++    dfaac(Init2, (int FAADAPI (*)(NeAACDecHandle, unsigned char*,
+                                        unsigned long, unsigned long*,
+                                        unsigned long*)));
+-    dfaac(Close, (void FAADAPI (*)(faacDecHandle hDecoder)));
+-        dfaac(Decode, (int FAADAPI (*)(faacDecHandle, unsigned char*,
++    dfaac(Close, (void FAADAPI (*)(NeAACDecHandle hDecoder)));
++        dfaac(Decode, (int FAADAPI (*)(NeAACDecHandle, unsigned char*,
+                              unsigned long*, short*, unsigned long*)));
+ #else
+-        dfaac(SetConfiguration, (unsigned char FAADAPI (*)(faacDecHandle,
+-                                                           faacDecConfigurationPtr)));
+-        dfaac(Init, (long FAADAPI (*)(faacDecHandle, unsigned char*,
++        dfaac(SetConfiguration, (unsigned char FAADAPI (*)(NeAACDecHandle,
++                                                           NeAACDecConfigurationPtr)));
++        dfaac(Init, (long FAADAPI (*)(NeAACDecHandle, unsigned char*,
+                                      unsigned long, unsigned long*, unsigned char*)));
+-        dfaac(Init2, (char FAADAPI (*)(faacDecHandle, unsigned char*,
++        dfaac(Init2, (char FAADAPI (*)(NeAACDecHandle, unsigned char*,
+                                        unsigned long, unsigned long*,
+                                        unsigned char*)));
+-        dfaac(Decode, (void *FAADAPI (*)(faacDecHandle, faacDecFrameInfo*,
++        dfaac(Decode, (void *FAADAPI (*)(NeAACDecHandle, NeAACDecFrameInfo*,
+                              unsigned char*, unsigned long)));
+         dfaac(GetErrorMessage, (char* FAADAPI (*)(unsigned char)));
+ #endif
+@@ -267,7 +267,7 @@ static int faac_decode_init(AVCodecConte
+     }
+ #endif
+ 
+-    s-&gt;faac_handle = s-&gt;faacDecOpen();
++    s-&gt;faac_handle = s-&gt;NeAACDecOpen();
+     if (!s-&gt;faac_handle) {
+         av_log(avctx, AV_LOG_ERROR, &quot;FAAD library: cannot create handler!\n&quot;);
+         faac_decode_end(avctx);
+@@ -275,7 +275,7 @@ static int faac_decode_init(AVCodecConte
+     }
+ 
+ 
+-    faac_cfg = s-&gt;faacDecGetCurrentConfiguration(s-&gt;faac_handle);
++    faac_cfg = s-&gt;NeAACDecGetCurrentConfiguration(s-&gt;faac_handle);
+ 
+     if (faac_cfg) {
+         switch (avctx-&gt;bits_per_sample) {
+@@ -305,7 +305,7 @@ static int faac_decode_init(AVCodecConte
+         faac_cfg-&gt;defObjectType = LC;
+     }
+ 
+-    s-&gt;faacDecSetConfiguration(s-&gt;faac_handle, faac_cfg);
++    s-&gt;NeAACDecSetConfiguration(s-&gt;faac_handle, faac_cfg);
+ 
+     faac_init_mp4(avctx);
+ 

Added: trunk/rpms/ffmpeg/ffmpeg-20070109-gsm.patch
===================================================================
--- trunk/rpms/ffmpeg/ffmpeg-20070109-gsm.patch	                        (rev 0)
+++ trunk/rpms/ffmpeg/ffmpeg-20070109-gsm.patch	2007-06-05 19:47:07 UTC (rev 5480)
@@ -0,0 +1,24 @@
+diff -Naupr ffmpeg-20070109.orig/configure ffmpeg-20070109/configure
+--- ffmpeg-20070109.orig/configure	2007-01-07 01:22:32.000000000 +0100
++++ ffmpeg-20070109/configure	2007-01-09 16:26:37.000000000 +0100
+@@ -1481,7 +1481,7 @@ done
+ 
+ # these are off by default, so fail if requested and not available
+ enabled libdts  &amp;&amp; require libdts dts.h dts_init -ldts -lm
+-enabled libgsm  &amp;&amp; require libgsm gsm.h gsm_create -lgsm
++enabled libgsm  &amp;&amp; require libgsm gsm/gsm.h gsm_create -lgsm
+ enabled libmp3lame &amp;&amp; require LAME lame/lame.h lame_init -lmp3lame -lm
+ enabled libvorbis &amp;&amp; require libvorbis vorbis/vorbisenc.h vorbis_info_init -lvorbis -lvorbisenc -logg
+ enabled libogg  &amp;&amp; require libogg ogg/ogg.h ogg_sync_init -logg
+diff -Naupr ffmpeg-20070109.orig/libavcodec/libgsm.c ffmpeg-20070109/libavcodec/libgsm.c
+--- ffmpeg-20070109.orig/libavcodec/libgsm.c	2006-10-07 17:30:46.000000000 +0200
++++ ffmpeg-20070109/libavcodec/libgsm.c	2007-01-09 16:26:54.000000000 +0100
+@@ -25,7 +25,7 @@
+  */
+ 
+ #include &quot;avcodec.h&quot;
+-#include &lt;gsm.h&gt;
++#include &lt;gsm/gsm.h&gt;
+ 
+ // gsm.h miss some essential constants
+ #define GSM_BLOCK_SIZE 33

Added: trunk/rpms/ffmpeg/ffmpeg-20070109.spec
===================================================================
--- trunk/rpms/ffmpeg/ffmpeg-20070109.spec	                        (rev 0)
+++ trunk/rpms/ffmpeg/ffmpeg-20070109.spec	2007-06-05 19:47:07 UTC (rev 5480)
@@ -0,0 +1,354 @@
+# $Id$
+# Authority: matthias
+
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?el4:%define _without_texi2html 1}
+%{?fc3:%define _without_texi2html 1}
+%{?fc2:%define _without_texi2html 1}
+%{?fc1:%define _without_texi2html 1}
+%{?el3:%define _without_texi2html 1}
+
+%{?rh9:%define _without_texi2html 1}
+%{?rh9:%define _without_x264 1}
+
+%{?rh7:%define _without_faac 1}
+%{?rh7:%define _without_texi2html 1}
+%{?rh7:%define _without_x264 1}
+
+%{?el2:%define _without_faac 1}
+%{?el2:%define _without_texi2html 1}
+%{?el2:%define _without_vorbis 1}
+%{?el2:%define _without_x264 1}
+
+%define date 20070109
+
+Summary: Utilities and libraries to record, convert and stream audio and video
+Name: ffmpeg
+Version: 0.4.9
+Release: 0.9%{?date:.%{date}}
+License: GPL
+Group: Applications/Multimedia
+URL: <A HREF="http://ffmpeg.org/">http://ffmpeg.org/</A>
+# svn checkout <A HREF="svn://svn.mplayerhq.hu/ffmpeg/trunk">svn://svn.mplayerhq.hu/ffmpeg/trunk</A> ffmpeg
+# find ffmpeg -name .svn | xargs rm -rf
+# then rename the directory and compress
+Source: ffmpeg-%{date}.tar.bz2
+Patch0: ffmpeg-20070109-gsm.patch
+Patch1: ffmpeg-20070109-faad2.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+BuildRequires: imlib2-devel, SDL-devel, freetype-devel, zlib-devel
+%{!?_without_texi2html:BuildRequires: texi2html}
+%{!?_without_lame:BuildRequires: lame-devel}
+%{!?_without_vorbis:BuildRequires: libogg-devel, libvorbis-devel}
+%{!?_without_faad:BuildRequires: faad2-devel}
+%{!?_without_faac:BuildRequires: faac-devel}
+%{!?_without_gsm:BuildRequires: gsm-devel}
+%{!?_without_xvid:BuildRequires: xvidcore-devel}
+%{!?_without_x264:BuildRequires: x264-devel}
+%{!?_without_a52dec:Requires: a52dec}
+%{!?_without_a52dec:BuildRequires: a52dec-devel}
+%{!?_without_dts:BuildRequires: libdca-devel}
+
+%description
+FFmpeg is a very fast video and audio converter. It can also grab from a
+live audio/video source.
+The command line interface is designed to be intuitive, in the sense that
+ffmpeg tries to figure out all the parameters, when possible. You have
+usually to give only the target bitrate you want. FFmpeg can also convert
+from any sample rate to any other, and resize video on the fly with a high
+quality polyphase filter.
+
+Available rpmbuild rebuild options :
+--without : lame vorbis faad faac gsm xvid x264 a52dec dts altivec
+
+
+%package devel
+Summary: Header files and static library for the ffmpeg codec library
+Group: Development/Libraries
+Requires: %{name} = %{version}
+Requires: imlib2-devel, SDL-devel, freetype-devel, zlib-devel, pkgconfig
+%{!?_without_lame:Requires: lame-devel}
+%{!?_without_vorbis:Requires: libogg-devel, libvorbis-devel}
+%{!?_without_faad:Requires: faad2-devel}
+%{!?_without_faac:Requires: faac-devel}
+%{!?_without_gsm:Requires: gsm-devel}
+%{!?_without_xvid:Requires: xvidcore-devel}
+%{!?_without_x264:Requires: x264-devel}
+%{!?_without_a52dec:Requires: a52dec-devel}
+%{!?_without_dts:Requires: libdca-devel}
+
+%description devel
+FFmpeg is a very fast video and audio converter. It can also grab from a
+live audio/video source.
+The command line interface is designed to be intuitive, in the sense that
+ffmpeg tries to figure out all the parameters, when possible. You have
+usually to give only the target bitrate you want. FFmpeg can also convert
+from any sample rate to any other, and resize video on the fly with a high
+quality polyphase filter.
+
+Install this package if you want to compile apps with ffmpeg support.
+
+
+%package libpostproc
+Summary: Video postprocessing library from ffmpeg
+Group: System Environment/Libraries
+Provides: ffmpeg-libpostproc-devel = %{version}-%{release}
+Provides: libpostproc = 1.0-1
+Provides: libpostproc-devel = 1.0-1
+Obsoletes: libpostproc &lt; 1.0-1
+Obsoletes: libpostproc-devel &lt; 1.0-1
+Requires: pkgconfig
+
+%description libpostproc
+FFmpeg is a very fast video and audio converter. It can also grab from a
+live audio/video source.
+
+This package contains only ffmpeg's libpostproc post-processing library which
+other projects such as transcode may use. Install this package if you intend
+to use MPlayer, transcode or other similar programs.
+
+
+%prep
+%setup -n ffmpeg-%{date}
+%patch0 -p1 -b .gsm
+%patch1 -p1 -b .faad2
+
+
+%build
+export CFLAGS=&quot;%{optflags}&quot;
+# We should be using --disable-opts since configure is adding some default opts
+# to ours (-O3), but as of 20061215 the build fails on asm stuff when it's set
+./configure \
+    --prefix=&quot;%{_prefix}&quot; \
+    --libdir=&quot;%{_libdir}&quot; \
+    --mandir=&quot;%{_mandir}&quot; \
+    --incdir=&quot;%{_includedir}/ffmpeg&quot; \
+%ifarch x86_64
+    --extra-cflags=&quot;-fPIC&quot; \
+%endif
+    %{!?_without_lame:   --enable-mp3lame} \
+    %{!?_without_vorbis: --enable-libogg --enable-vorbis} \
+    %{!?_without_faad:   --enable-faad} \
+    %{!?_without_faac:   --enable-faac} \
+    %{!?_without_gsm:    --enable-libgsm} \
+    %{!?_without_xvid:   --enable-xvid} \
+    %{!?_without_x264:   --enable-x264} \
+    %{!?_without_a52:    --enable-a52 --enable-a52bin} \
+    %{!?_without_dts:    --enable-dts} \
+    --enable-pp \
+    --enable-shared \
+    --enable-pthreads \
+    --enable-gpl \
+    --disable-strip
+%{__make} %{?_smp_mflags}
+
+
+%install
+%{__rm} -rf %{buildroot} _docs
+%makeinstall \
+    incdir=&quot;%{buildroot}%{_includedir}/ffmpeg&quot; \
+    shlibdir=&quot;%{buildroot}%{_libdir}&quot; \
+    libdir=&quot;%{buildroot}%{_libdir}&quot;
+
+# Remove unwanted files from the included docs
+%{__cp} -a doc _docs
+%{__rm} -rf _docs/{Makefile,*.texi,*.pl}
+
+# The &lt;postproc/postprocess.h&gt; is now at &lt;ffmpeg/postprocess.h&gt;, so provide
+# a compatibility symlink
+%{__mkdir_p} %{buildroot}%{_includedir}/postproc/
+%{__ln_s}    ../ffmpeg/postprocess.h \
+             %{buildroot}%{_includedir}/postproc/postprocess.h
+
+
+%clean
+%{__rm} -rf %{buildroot}
+
+
+%post
+/sbin/ldconfig
+chcon -t textrel_shlib_t %{_libdir}/libav{codec,format,util}.so.*.*.* \
+    &amp;&gt;/dev/null || :
+
+%postun -p /sbin/ldconfig
+
+
+%post libpostproc -p /sbin/ldconfig
+
+%postun libpostproc -p /sbin/ldconfig
+
+
+%files
+%defattr(-, root, root, 0755)
+%doc Changelog COPYING CREDITS README
+%{_bindir}/*
+%{_libdir}/*.so.*
+%exclude %{_libdir}/libpostproc.so*
+%{_libdir}/vhook/
+%{_mandir}/man1/*
+
+%files devel
+%defattr(-, root, root, 0755)
+%doc _docs/*
+%{_includedir}/ffmpeg/
+%{_libdir}/*.a
+%{_libdir}/*.so
+%{_libdir}/pkgconfig/*.pc
+%exclude %{_libdir}/pkgconfig/libpostproc.pc
+
+%files libpostproc
+%defattr(-, root, root, 0755)
+%{_includedir}/postproc/
+%{_libdir}/libpostproc.so*
+%{_libdir}/pkgconfig/libpostproc.pc
+
+
+%changelog
+* Mon Jun 04 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.4.9-0.9.20070109
+- Rebuild against x264-0.4.20070529 because I missed it.
+
+* Tue Jan  9 2007 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.8.20070109
+- Update to today's SVN codebase, fixes the non existing ffmpeg.pc refrence.
+- Add faad2 patch.
+
+* Fri Dec 15 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.7.20061215
+- Update to today's SVN codebase.
+- Update gsm patch so that it still applies.
+- Remove no longer needed x264 patch.
+- Remove --disable-opts option for now, as the build fails without. It seems
+  like an option from -O3 might be required for inline asm to work on x86.
+
+* Tue Oct 24 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.7.20060918
+- Try to update, but stick with 20060918 as linking &quot;as needed&quot; is causing
+  too much trouble for now (libdca and libmp3lame with libm functions).
+- Include patch to work with latest x264.
+- Update URL and remove non-%%date stuff since there are no more releases.
+- Change group to Applications/Multimedia since ffmpeg is an application.
+- Remove dc1394 support since the lib isn't available anymore anyway.
+
+* Mon Sep 18 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.6.20060918
+- Update to today's SVN codebase.
+- Remove theora support, it seems to be gone...
+- Remove a52 patch as ffmpeg doesn't link against it anyway.
+- Make installlib works again, so don't manually install anymore.
+- Remove all prever stuff that hasn't been useful in ages.
+- Change postproc/postprocess.h to be a symlink.
+
+* Fri May 12 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.5.20060317
+- Change selinux library context in %%post to allow text relocation.
+
+* Fri Mar 17 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.4.20060317
+- Update to CVS snapshot.
+- The libraries are versionned at last, so no longer use the autoreqprov hack.
+- Override incdir to get install to work properly.
+- Provide a postprocess.h compatibility copy.
+
+* Wed Dec  7 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.3.20051207
+- Update to CVS snapshot.
+- Added theora, gsm, x264, dts and dc1394 rebuild options, all on by default.
+- Nope, disable dc1394, as it fails to build.
+- Add GSM patch &lt;gsm.h&gt; -&gt; &lt;gsm/gsm.h&gt;
+- Enable pthreads explicitly, as the build fails otherwise.
+- Include new pkgconfig files, add pkgconfig requirements to devel packages.
+- Add new libavutil.so* provides.
+- Rename libpostproc package to ffmpeg-libpostproc, in order to make things
+  easier to obsolete the old mplayer sub-package.
+- No longer use %%configure, since --host makes the script stop.
+- No longer explicitly disable MMX for non-x86 (works again on x86_64).
+
+* Tue May  3 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.20050427.1
+- Downgrade to 20050427 since avcodec.h is missing AVCodecContext otherwise.
+- Re-enable upgrade path for FC3.
+
+* Tue May  3 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.1.20050502
+- Update and include patches from Enrico to fix gcc4 build.
+- Remove no longer include static libs from the devel package.
+- Remove no longer required explicit requirements.
+- Clean up obsolete stuff from the build : separate libpostproc compile etc.
+
+* Sun Apr 17 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.1.20050417
+- Update to today's snapshot (no upgrade path, but that shouldn't matter).
+- Disable patch3 as it's nowhere to be found :-(
+- Added theora... hmm, nope, the build is broken.
+
+* Sat Jan 15 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.4.9-0.20041110.3
+- Exclude libpostproc.so* from ffmpeg package.
+
+* Sun Nov 21 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.20041110.2
+- Put back explicit requirements since some (all?) don't get properly added
+  automatically, like faad2 (thanks to Holden McGroin).
+
+* Tue Nov 16 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.20041110.1
+- Update to latest CVS snaphsot.
+- Explicitely disable mmx on non-x86 to fix x86_64 build.
+- Add -fPIC to --extra-cflags on non-x86 to fix x86_64 build, as it seems mmx
+  and pic are mutually exclusive (build fails with both).
+
+* Tue Nov  2 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.20041102.1
+- Update to 20040926 CVS to fix FC3 compilation problems... not!
+- Moved OPTFLAGS to --extra-cflags configure option... no better!
+- Add HAVE_LRINTF workaround to fix compile failure... yeah, one less.
+- Disable -fPIC, libpostproc breaks with it enabled... argh :-(
+- ...I give up, disable a52 for now.
+
+* Mon Sep 27 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.pre1.1
+- Update to 0.4.9-pre1.
+- Enable GPL, pp, shared and shared-pp!
+- Add sharedpp and nostrip patches from livna.org rpm.
+- Add PIC vs. __PIC__ patch.
+- Re-enable MMX.
+- Add mandatory -fomit-frame-pointer flag to not bomb on compile.
+- Added man pages.
+- Added -UUSE_FASTMEMCPY for libpostproc, otherwise we get :
+  libpostproc.so.0: undefined reference to `fast_memcpy'
+
+* Mon Aug  2 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.8-3
+- Removed explicit binary dependencies.
+- Removed faac support, it doesn't exist.
+- Seems like Imlib2 support is broken...
+- Added missing -devel requirements for the -devel package.
+
+* Thu Jun 03 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.4.8-3
+- Fixes for building for x86_64 architecture.
+
+* Tue May 18 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.8-3
+- Rebuilt for Fedora Core 2.
+
+* Sat Feb 21 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.8-2
+- Add faac support.
+- Enable pp.
+- Remove unneeded explicit main a52dec dependency.
+
+* Fri Nov  7 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.8-1
+- Update to 0.4.8.
+- Steal some changes back from Troy Engel : Disabling mmx to make the build
+  succeed and added man pages.
+- Re-enabled auto provides but added explicit libavcodec.so and libavformat.so.
+- Rebuild for Fedora Core 1.
+
+* Mon Aug 25 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.4.7.
+
+* Fri Aug  8 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to todays's snapshot.
+
+* Tue Jul  1 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to a CVS snapshot as videolan-client 0.6.0 needs it.
+- Enable faad, imlib2 and SDL support.
+- Force OPTFLAGS to remove -mcpu, -march and -pipe that all prevent building!
+
+* Mon Mar 31 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuilt for Red Hat Linux 9.
+- Hardcode provides in order to get it right :-/
+
+* Tue Feb 25 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Moved libavcodec.so to the main package to fix dependency problems.
+
+* Wed Feb 19 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Major spec file updates, based on a very nice Mandrake spec.
+- Revert to the 0.4.6 release as CVS snapshots don't build.
+
+* Tue Feb  4 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Initial RPM release.
+


Property changes on: trunk/rpms/ffmpeg/ffmpeg-20070109.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Modified: trunk/rpms/ffmpeg/ffmpeg.spec
===================================================================
--- trunk/rpms/ffmpeg/ffmpeg.spec	2007-06-05 18:34:00 UTC (rev 5479)
+++ trunk/rpms/ffmpeg/ffmpeg.spec	2007-06-05 19:47:07 UTC (rev 5480)
@@ -3,22 +3,28 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?rh7:%define _without_faac 1}
+%{?el2:%define _without_faac 1}
+
+%{?el4:%define _without_theora 1}
+%{?el3:%define _without_theora 1}
+%{?rh9:%define _without_theora 1}
+%{?rh7:%define _without_theora 1}
+%{?el2:%define _without_theora 1}
+
 %{?el4:%define _without_texi2html 1}
 %{?fc3:%define _without_texi2html 1}
 %{?fc2:%define _without_texi2html 1}
 %{?fc1:%define _without_texi2html 1}
 %{?el3:%define _without_texi2html 1}
-
 %{?rh9:%define _without_texi2html 1}
-%{?rh9:%define _without_x264 1}
-
-%{?rh7:%define _without_faac 1}
 %{?rh7:%define _without_texi2html 1}
-%{?rh7:%define _without_x264 1}
+%{?el2:%define _without_texi2html 1}
 
-%{?el2:%define _without_faac 1}
-%{?el2:%define _without_texi2html 1}
 %{?el2:%define _without_vorbis 1}
+
+%{?rh9:%define _without_x264 1}
+%{?rh7:%define _without_x264 1}
 %{?el2:%define _without_x264 1}
 
 %define date 20070530
@@ -26,7 +32,7 @@
 Summary: Utilities and libraries to record, convert and stream audio and video
 Name: ffmpeg
 Version: 0.4.9
-Release: 0.8%{?date:.%{date}}
+Release: 0.9%{?date:.%{date}}
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://ffmpeg.org/">http://ffmpeg.org/</A>
@@ -119,10 +125,10 @@
 # We should be using --disable-opts since configure is adding some default opts
 # to ours (-O3), but as of 20061215 the build fails on asm stuff when it's set
 ./configure \
-    --prefix=%{_prefix} \
-    --libdir=%{_libdir} \
-    --mandir=%{_mandir} \
-    --incdir=%{_includedir}/ffmpeg \
+    --prefix=&quot;%{_prefix}&quot; \
+    --libdir=&quot;%{_libdir}&quot; \
+    --mandir=&quot;%{_mandir}&quot; \
+    --incdir=&quot;%{_includedir}/ffmpeg&quot; \
 %ifarch x86_64
     --extra-cflags=&quot;-fPIC&quot; \
 %endif
@@ -146,9 +152,9 @@
 %install
 %{__rm} -rf %{buildroot} _docs
 %makeinstall \
-    incdir=%{buildroot}%{_includedir}/ffmpeg \
-    shlibdir=%{buildroot}%{_libdir} \
-    libdir=%{buildroot}%{_libdir}
+    incdir=&quot;%{buildroot}%{_includedir}/ffmpeg&quot; \
+    shlibdir=&quot;%{buildroot}%{_libdir}&quot; \
+    libdir=&quot;%{buildroot}%{_libdir}&quot;
 
 # Remove unwanted files from the included docs
 %{__cp} -a doc _docs
@@ -204,6 +210,9 @@
 
 
 %changelog
+* Mon Jun 04 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.4.9-0.9.20070530
+- Rebuild against x264-0.4.20070529 because I missed it.
+
 * Wed May 30 2007 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.8.20070530
 - Update to today's SVN codebase.
 - Rename various options to match new configure names.

Modified: trunk/rpms/libquicktime/libquicktime.spec
===================================================================
--- trunk/rpms/libquicktime/libquicktime.spec	2007-06-05 18:34:00 UTC (rev 5479)
+++ trunk/rpms/libquicktime/libquicktime.spec	2007-06-05 19:47:07 UTC (rev 5480)
@@ -27,11 +27,13 @@
 
 %{?rh7:%define _without_1394 1}
 %{?rh7:%define _without_alsa 1}
+%{?rh7:%define _without_faac 1}
 %{?rh7:%define _without_gtk24 1}
 %{?rh7:%define _without_x264 1}
 
 %{?el2:%define _without_1394 1}
 %{?el2:%define _without_alsa 1}
+%{?el2:%define _without_faac 1}
 %{?el2:%define _without_gtk24 1}
 %{?el2:%define _without_x264 1}
 
@@ -42,7 +44,7 @@
 Summary: Library for reading and writing quicktime files
 Name: libquicktime
 Version: 1.0.0
-Release: 1%{?prever:.%{prever}}
+Release: 2%{?prever:.%{prever}}
 License: GPL
 Group: System Environment/Libraries
 URL: <A HREF="http://libquicktime.sourceforge.net/">http://libquicktime.sourceforge.net/</A>
@@ -147,6 +149,9 @@
 
 
 %changelog
+* Mon Jun 04 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0.0-2
+- Rebuild against x264-0.4.20070529 because I missed it.
+
 * Sat Apr 21 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0.0-1
 - Updated to release 1.0.0.
 

Modified: trunk/rpms/mpd/mpd.spec
===================================================================
--- trunk/rpms/mpd/mpd.spec	2007-06-05 18:34:00 UTC (rev 5479)
+++ trunk/rpms/mpd/mpd.spec	2007-06-05 19:47:07 UTC (rev 5480)
@@ -20,7 +20,7 @@
 BuildRequires: zlib-devel
 BuildRequires: alsa-lib-devel, libshout-devel, mikmod-devel
 BuildRequires: libid3tag-devel, libmad-devel, libogg-devel, libvorbis-devel
-BuildRequires: flac-devel, audiofile-devel, faad2-devel, libmpcdec-devel
+BuildRequires: flac-devel &gt;= 1.1.2, audiofile-devel, faad2-devel, libmpcdec-devel
 %{!?_without_pulseaudio:BuildRequires: pulseaudio-devel}
 
 %description

Modified: trunk/rpms/mpg123/mpg123.spec
===================================================================
--- trunk/rpms/mpg123/mpg123.spec	2007-06-05 18:34:00 UTC (rev 5479)
+++ trunk/rpms/mpg123/mpg123.spec	2007-06-05 19:47:07 UTC (rev 5480)
@@ -5,6 +5,9 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?el5:%define _without_jack 1}
+%{?el5:%define _without_nas 1}
+
 %{?el4:%define _without_jack 1}
 %{?el4:%define _without_nas 1}
 
@@ -42,7 +45,7 @@
 
 Summary: MPEG audio player
 Name: mpg123
-Version: 0.65
+Version: 0.66
 Release: 1
 License: GPL/LGPL
 Group: Applications/Multimedia
@@ -95,6 +98,9 @@
 
 
 %changelog
+* Mon Jun 04 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.66-1
+- Updated to release 0.66.
+
 * Wed Feb 07 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.65-1
 - Updated to release 0.65.
 

Modified: trunk/rpms/mplayer/mplayer.spec
===================================================================
--- trunk/rpms/mplayer/mplayer.spec	2007-06-05 18:34:00 UTC (rev 5479)
+++ trunk/rpms/mplayer/mplayer.spec	2007-06-05 19:47:07 UTC (rev 5480)
@@ -70,7 +70,7 @@
 Summary: MPlayer, the Movie Player for Linux
 Name: mplayer
 Version: 1.0
-Release: 0.34%{?rcver:.%{rcver}}%{?date:.%{date}}try2
+Release: 0.35%{?rcver:.%{rcver}}%{?date:.%{date}}try2
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://mplayerhq.hu/">http://mplayerhq.hu/</A>
@@ -318,6 +318,9 @@
 
 
 %changelog
+* Mon Jun 04 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0-0.35.rc1try2
+- Rebuild against x264-0.4.20070529 because I missed it.
+
 * Tue Jan  9 2007 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0-0.34.rc1try2
 - Include patch to fix mp3 playback on AMD CPUs.
 - Include patch to fix buffer overflow in asmrp.c.

Modified: trunk/rpms/scanmem/scanmem.spec
===================================================================
--- trunk/rpms/scanmem/scanmem.spec	2007-06-05 18:34:00 UTC (rev 5479)
+++ trunk/rpms/scanmem/scanmem.spec	2007-06-05 19:47:07 UTC (rev 5480)
@@ -4,7 +4,7 @@
 
 Summary: Simple interactive debugging utility
 Name: scanmem
-Version: 0.06
+Version: 0.07
 Release: 1
 License: GPL
 Group: Development/Debuggers
@@ -41,6 +41,9 @@
 %{_bindir}/scanmem
 
 %changelog
+* Tue Jun 05 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.07-1
+- Updated to release 0.07.
+
 * Sun Apr 15 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.06-1
 - Updated to release 0.06.
 

Modified: trunk/rpms/sreplay/sreplay.spec
===================================================================
--- trunk/rpms/sreplay/sreplay.spec	2007-06-05 18:34:00 UTC (rev 5479)
+++ trunk/rpms/sreplay/sreplay.spec	2007-06-05 19:47:07 UTC (rev 5480)
@@ -4,7 +4,7 @@
 
 Summary: Tool that performs system call replay of strace logs
 Name: sreplay
-Version: 0.2.7
+Version: 0.2.8
 Release: 1
 License: LGPL
 Group: Development/Debuggers
@@ -39,6 +39,9 @@
 %{_bindir}/sreplay
 
 %changelog
+* Tue Jun 05 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.2.8-1
+- Updated to release 0.2.8.
+
 * Tue May 29 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.2.7-1
 - Updated to release 0.2.7.
 

Modified: trunk/rpms/typespeed/typespeed.spec
===================================================================
--- trunk/rpms/typespeed/typespeed.spec	2007-06-05 18:34:00 UTC (rev 5479)
+++ trunk/rpms/typespeed/typespeed.spec	2007-06-05 19:47:07 UTC (rev 5480)
@@ -25,34 +25,30 @@
 %build
 %configure
 %{__make} %{?_smp_mflags}
-#CC=&quot;%{__cc}&quot; CFLAGS=&quot;%{optflags} -D_GNU_SOURCE -I%{_includedir}/ncurses&quot; PREFIX=&quot;%{_prefix}&quot;
 
 %install
 %{__rm} -rf %{buildroot}
 %{__make} install DESTDIR=&quot;%{buildroot}&quot;
-#%{__install} -Dp -m0755 typespeed %{buildroot}%{_bindir}/typespeed
-#%{__install} -Dp -m0644 typespeed.6 %{buildroot}%{_mandir}/man6/typespeed.6
-#%{__install} -Dp -m0644 typespeedrc %{buildroot}%{_sysconfdir}/typespeedrc
+%find_lang %{name}
 
-#%{__install} -d -m0755 %{buildroot}%{_datadir}/typespeed/
-#%{__install} -p -m0644 words/words.* %{buildroot}%{_datadir}/typespeed/
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{_docdir}/typespeed/
 
-#%{__install} -d -m0755 %{buildroot}%{_localstatedir}/games/typespeed/
-
 %post
 %{_bindir}/typespeed --makescores &amp;&gt;/dev/null || :
 
 %clean
 %{__rm} -rf %{buildroot}
 
-%files
+%files -f %{name}.lang
 %defattr(-, root, root, 0755)
 %doc AUTHORS BUGS ChangeLog COPYING NEWS README TODO
 %doc %{_mandir}/man6/typespeed.6*
 %config %{_sysconfdir}/typespeedrc
 %{_bindir}/typespeed
 %{_datadir}/typespeed/
-#%dir %{_localstatedir}/games/typespeed/
+%dir %{_localstatedir}/games/
+%{_localstatedir}/games/typespeed.score
 
 %changelog
 * Sat Jun 02 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.6.2-1

Modified: trunk/rpms/udpcast/udpcast.spec
===================================================================
--- trunk/rpms/udpcast/udpcast.spec	2007-06-05 18:34:00 UTC (rev 5479)
+++ trunk/rpms/udpcast/udpcast.spec	2007-06-05 19:47:07 UTC (rev 5480)
@@ -4,8 +4,8 @@
 
 Summary: UDP broadcast installation
 Name: udpcast
-%define real_version 20070323
-Version: 0.0.20070323
+%define real_version 20070602
+Version: 0.0.20070602
 Release: 1
 License: GPL or BSD
 Group: Applications/System
@@ -44,6 +44,9 @@
 %{_sbindir}/udp-sender
 
 %changelog
+* Mon Jun 04 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.0.20070602-1
+- Updated to release 20070602.
+
 * Sun Mar 25 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.0.20070323-1
 - Updated to release 20070323.
 

Modified: trunk/rpms/vlc/vlc.spec
===================================================================
--- trunk/rpms/vlc/vlc.spec	2007-06-05 18:34:00 UTC (rev 5479)
+++ trunk/rpms/vlc/vlc.spec	2007-06-05 19:47:07 UTC (rev 5480)
@@ -100,7 +100,7 @@
 Summary: The VideoLAN client, also a very good standalone video player
 Name: vlc
 Version: 0.8.6b
-Release: 2
+Release: 3
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://www.videolan.org/">http://www.videolan.org/</A>
@@ -336,6 +336,9 @@
 
 
 %changelog
+* Mon Jun 04 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.8.6b-3
+- Rebuild against x264-0.4.20070529 because I missed it.
+
 * Thu May 31 2007 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.8.6b-2
 - Still no dc1394 support.
 - F7 rebuild.

Modified: trunk/rpms/wine/wine.spec
===================================================================
--- trunk/rpms/wine/wine.spec	2007-06-05 18:34:00 UTC (rev 5479)
+++ trunk/rpms/wine/wine.spec	2007-06-05 19:47:07 UTC (rev 5480)
@@ -46,7 +46,7 @@
 
 Summary: Windows 16/32/64 bit emulator
 Name: wine
-Version: 0.9.37
+Version: 0.9.38
 Release: 1
 License: LGPL
 Group: Applications/Emulators
@@ -461,6 +461,7 @@
 %{_libdir}/wine/msiexec.exe.so
 %{_libdir}/wine/net.exe.so
 %{_libdir}/wine/notepad.exe.so
+%{_libdir}/wine/ntoskrnl.exe.so
 %{_libdir}/wine/oleview.exe.so
 %{_libdir}/wine/progman.exe.so
 %{_libdir}/wine/regedit.exe.so
@@ -476,6 +477,7 @@
 %{_libdir}/wine/winecfg.exe.so
 %{_libdir}/wine/wineconsole.exe.so
 %{_libdir}/wine/winedbg.exe.so
+%{_libdir}/wine/winedevice.exe.so
 %{_libdir}/wine/winefile.exe.so
 %{_libdir}/wine/winemenubuilder.exe.so
 %{_libdir}/wine/winemine.exe.so
@@ -582,8 +584,10 @@
 %{_libdir}/wine/dswave.dll.so
 %{_libdir}/wine/dxdiagn.dll.so
 %{_libdir}/wine/gdi32.dll.so
+%{_libdir}/wine/gdiplus.dll.so
 %{_libdir}/wine/glu32.dll.so
 #%{_libdir}/wine/glut32.dll.so
+%{_libdir}/wine/hal.dll.so
 %{_libdir}/wine/hid.dll.so
 %{_libdir}/wine/hlink.dll.so
 %{_libdir}/wine/iccvid.dll.so
@@ -688,6 +692,7 @@
 %{_libdir}/wine/wininet.dll.so
 %{_libdir}/wine/winmm.dll.so
 %{_libdir}/wine/winnls32.dll.so
+%{_libdir}/wine/winscard.dll.so
 %{_libdir}/wine/wintab32.dll.so
 %{_libdir}/wine/wintrust.dll.so
 %{_libdir}/wine/wnaspi32.dll.so
@@ -810,6 +815,9 @@
 %{_libdir}/wine/*.def
 
 %changelog
+* Mon Jun 04 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.9.38-1
+- Updated to release 0.9.38.
+
 * Tue May 15 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.9.37-1
 - Updated to release 0.9.37.
 

Modified: trunk/rpms/x264/x264.spec
===================================================================
--- trunk/rpms/x264/x264.spec	2007-06-05 18:34:00 UTC (rev 5479)
+++ trunk/rpms/x264/x264.spec	2007-06-05 19:47:07 UTC (rev 5480)
@@ -38,7 +38,7 @@
 Group: System Environment/Libraries
 URL: <A HREF="http://developers.videolan.org/x264.html">http://developers.videolan.org/x264.html</A>
 Source: <A HREF="http://downloads.videolan.org/pub/videolan/x264/snapshots/x264-snapshot-%{date">http://downloads.videolan.org/pub/videolan/x264/snapshots/x264-snapshot-%{date</A>}-2245.tar.bz2
-Patch0: x264-snapshot-20061214-2245-glibc232.patch
+Patch0: x264-snapshot-20070529-2245-glibc232.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: nasm, yasm, gettext
 %{?!_without_gtk26:BuildRequires: gtk2-devel &gt;= 2.6}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004278.html">[svn] r5479 - in trunk/rpms: . mercurial
</A></li>
	<LI>Next message: <A HREF="004280.html">[svn] r5481 - in trunk/rpms: 3ddesktop ding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4279">[ date ]</a>
              <a href="thread.html#4279">[ thread ]</a>
              <a href="subject.html#4279">[ subject ]</a>
              <a href="author.html#4279">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
