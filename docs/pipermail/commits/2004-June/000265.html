<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [SVN] r1457 - in trunk/rpms: glunarclock gnome-netstatus	kernel-module-ntfs kernel-module-openswan logwatch meanwhile	nget smbc snort tcpflow transcode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r1457%20-%20in%20trunk/rpms%3A%20glunarclock%20gnome-netstatus%0A%09kernel-module-ntfs%20kernel-module-openswan%20logwatch%20meanwhile%0A%09nget%20smbc%20snort%20tcpflow%20transcode&In-Reply-To=%3C20040628084026.B4B201FCAA%40server01.nl.egwn.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000264.html">
   <LINK REL="Next"  HREF="000266.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[SVN] r1457 - in trunk/rpms: glunarclock gnome-netstatus	kernel-module-ntfs kernel-module-openswan logwatch meanwhile	nget smbc snort tcpflow transcode</H1>
    <B>svn-commits at rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r1457%20-%20in%20trunk/rpms%3A%20glunarclock%20gnome-netstatus%0A%09kernel-module-ntfs%20kernel-module-openswan%20logwatch%20meanwhile%0A%09nget%20smbc%20snort%20tcpflow%20transcode&In-Reply-To=%3C20040628084026.B4B201FCAA%40server01.nl.egwn.net%3E"
       TITLE="[SVN] r1457 - in trunk/rpms: glunarclock gnome-netstatus	kernel-module-ntfs kernel-module-openswan logwatch meanwhile	nget smbc snort tcpflow transcode">svn-commits at rpmforge.net
       </A><BR>
    <I>Mon Jun 28 10:40:26 CEST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000264.html">[SVN] r1456 - trunk/rpms/pgpool
</A></li>
        <LI>Next message: <A HREF="000266.html">[SVN] r1458 - in trunk/rpms: gaim-meanwhile kernel-module-acx100	kernel-module-cloop tcptrace
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#265">[ date ]</a>
              <a href="thread.html#265">[ thread ]</a>
              <a href="subject.html#265">[ subject ]</a>
              <a href="author.html#265">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2004-06-28 10:40:24 +0200 (Mon, 28 Jun 2004)
New Revision: 1457

Modified:
   trunk/rpms/glunarclock/glunarclock.spec
   trunk/rpms/gnome-netstatus/gnome-netstatus.spec
   trunk/rpms/kernel-module-ntfs/kernel-module-ntfs.spec
   trunk/rpms/kernel-module-openswan/kernel-module-openswan.spec
   trunk/rpms/logwatch/logwatch.spec
   trunk/rpms/meanwhile/meanwhile.spec
   trunk/rpms/nget/nget.spec
   trunk/rpms/smbc/smbc.spec
   trunk/rpms/snort/snort.spec
   trunk/rpms/tcpflow/tcpflow.spec
   trunk/rpms/transcode/transcode.spec
Log:
Update to new release, or small fixes.


Modified: trunk/rpms/glunarclock/glunarclock.spec
===================================================================
--- trunk/rpms/glunarclock/glunarclock.spec	2004-06-27 22:32:43 UTC (rev 1456)
+++ trunk/rpms/glunarclock/glunarclock.spec	2004-06-28 08:40:24 UTC (rev 1457)
@@ -39,10 +39,8 @@
 %{__rm} -rf %{buildroot}
 export GCONF_DISABLE_MAKEFILE_SCHEMA_INSTALL=&quot;1&quot;
 %makeinstall
-%find_lang %{name}
+%find_lang %{name}-%{real_version}
 
-### Clean up buildroot
-
 %post
 scrollkeeper-update -q || :
 
@@ -52,7 +50,7 @@
 %clean
 %{__rm} -rf %{buildroot}
 
-%files -f %{name}.lang
+%files -f %{name}-%{real_version}.lang
 %defattr (-, root, root, 0755)
 %doc AUTHORS ChangeLog COPYING* NEWS README 
 #%doc %{_mandir}/man1/*
@@ -64,7 +62,7 @@
 %{_datadir}/gnome-2.0/ui/*.xml
 %{_datadir}/pixmaps/*.png
 %{_datadir}/pixmaps/glunarclock/
-%{_datadir}/omf/gnome-applets/*.omf
+%{_datadir}/omf/glunarclock/*.omf
 %exclude %{_localstatedir}/scrollkeeper/
 
 %changelog

Modified: trunk/rpms/gnome-netstatus/gnome-netstatus.spec
===================================================================
--- trunk/rpms/gnome-netstatus/gnome-netstatus.spec	2004-06-27 22:32:43 UTC (rev 1456)
+++ trunk/rpms/gnome-netstatus/gnome-netstatus.spec	2004-06-28 08:40:24 UTC (rev 1457)
@@ -4,7 +4,7 @@
 
 Summary: Network interface status applet
 Name: gnome-netstatus
-Version: 2.6.1
+Version: 2.6.2
 Release: 1
 License: GPL
 Group: Applications/Internet
@@ -67,6 +67,9 @@
 %exclude %{_localstatedir}/scrollkeeper/
 
 %changelog
+* Sat Jun 26 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; -  2.6.2-1
+- Updated to release 2.6.2.
+
 * Fri May 21 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; -  2.6.1-1
 - Updated to release 2.6.1.
 

Modified: trunk/rpms/kernel-module-ntfs/kernel-module-ntfs.spec
===================================================================
--- trunk/rpms/kernel-module-ntfs/kernel-module-ntfs.spec	2004-06-27 22:32:43 UTC (rev 1456)
+++ trunk/rpms/kernel-module-ntfs/kernel-module-ntfs.spec	2004-06-28 08:40:24 UTC (rev 1457)
@@ -20,7 +20,6 @@
 %define krelease %(echo &quot;%{kernel}&quot; | sed -e 's|.*-||')
 
 %define real_name ntfs
-%define real_release 1
 
 %define moduledir /kernel/fs/ntfs
 %define modules ntfs.o
@@ -28,7 +27,7 @@
 Summary: Linux driver for NTFS filesystem
 Name: kernel-module-ntfs
 Version: 0.0
-Release: %{real_release}
+Release: 1
 License: GPL
 Group: System Environment/Kernel
 URL: <A HREF="http://linux-ntfs.sf.net/info/redhat.html">http://linux-ntfs.sf.net/info/redhat.html</A>
@@ -51,7 +50,7 @@
 Requires: /boot/vmlinuz-%{kernel}
 Requires: kernel = %{kernel}
 
-Provides: kernel-module-ntfs = %{version}-%{real_release}
+Provides: kernel-module-ntfs = %{version}-%{release}
 Provides: kernel-modules
 
 %description -n kernel-module-ntfs-%{kernel}
@@ -69,7 +68,7 @@
 Requires: /boot/vmlinuz-%{kernel}smp
 Requires: kernel-smp = %{kernel}smp
 
-Provides: kernel-module-ntfs = %{version}-%{real_release}
+Provides: kernel-module-ntfs = %{version}-%{release}
 Provides: kernel-modules
 
 %description -n kernel-smp-module-ntfs-%{kernel}
@@ -84,7 +83,7 @@
 
 %build
 %{__rm} -rf %{buildroot}
-echo -e &quot;\nDriver version: %{real_version}\nKernel version: %{kernel}\n&quot;
+echo -e &quot;\nDriver version: %{version}\nKernel version: %{kernel}\n&quot;
 
 ### Prepare UP kernel.
 cd %{_usrsrc}/linux-%{kernel}

Modified: trunk/rpms/kernel-module-openswan/kernel-module-openswan.spec
===================================================================
--- trunk/rpms/kernel-module-openswan/kernel-module-openswan.spec	2004-06-27 22:32:43 UTC (rev 1456)
+++ trunk/rpms/kernel-module-openswan/kernel-module-openswan.spec	2004-06-28 08:40:24 UTC (rev 1457)
@@ -7,24 +7,28 @@
 # Soapbox: 0
 # BuildAsRoot: 1
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc1:%define __cc gcc32}
+
 %define _libmoddir /lib/modules
 
 %{!?kernel:%define kernel %(rpm -q kernel-source --qf '%{RPMTAG_VERSION}-%{RPMTAG_RELEASE}' | tail -1)}
 
+%define _with_smp %(test -f /usr/src/linux-%{kernel}/configs/kernel-%{kversion}-%{_target_cpu}-smp.config &amp;&amp; echo 1 || echo 0)
+
 %define kversion %(echo &quot;%{kernel}&quot; | sed -e 's|-.*||')
 %define krelease %(echo &quot;%{kernel}&quot; | sed -e 's|.*-||')
 
 %define real_name openswan
-%define real_version 2.1.1
-%define real_release 1
 
 %define moduledir /kernel/net/openswan
 %define modules linux/net/ipsec/ipsec.o
 
 Summary: Linux drivers for OpenS/WAN IPsec support
 Name: kernel-module-openswan
-Version: %{real_version}
-Release: %{real_release}_%{kversion}_%{krelease}
+Version: 2.1.2
+Release: 1
 License: GPL
 Group: System Environment/Kernel
 URL: <A HREF="http://www.openswan.org/">http://www.openswan.org/</A>
@@ -32,49 +36,58 @@
 Packager: Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;
 Vendor: Dag Apt Repository, <A HREF="http://dag.wieers.com/apt/">http://dag.wieers.com/apt/</A>
 
-Source: <A HREF="http://www.openswan.org/code/openswan-%{real_version">http://www.openswan.org/code/openswan-%{real_version</A>}.tar.gz
+Source: <A HREF="http://www.openswan.org/code/openswan-%{version">http://www.openswan.org/code/openswan-%{version</A>}.tar.gz
 Patch0: openswan-2.1.1-mts.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: libpcap, gmp-devel
-BuildRequires: /usr/bin/man2html
+BuildRequires: libpcap, gmp-devel, /usr/bin/man2html
+BuildRequires: kernel-source = %{kernel}
 
-Requires: /boot/vmlinuz-%{kversion}-%{krelease}
+%description
+Linux drivers for OpenS/WAN IPsec support.
+
+%package -n kernel-module-openswan-%{kernel}
+Summary: Linux SMP drivers for OpenS/WAN IPsec support
+Group: System Environment/Kernel
+
+Requires: /boot/vmlinuz-%{kernel}
+Requires: kernel = %{kernel}
 Requires: openswan-utils
 
+Provides: kernel-module-openswan = %{version}-%{release}
 Provides: kernel-modules
 Provides: freeswan-modules = %{version}-%{release}, freeswan-module = %{version}-%{release}
 Obsoletes: freeswan-modules &lt;= %{version}, freeswan-module &lt;= %{version}, openswan
 
-%description
+%description -n kernel-module-openswan-%{kernel}
 Linux drivers for OpenS/WAN IPsec support.
 
-These drivers are built for kernel %{kversion}-%{krelease}
+These drivers are built for kernel %{kernel}
 and architecture %{_target_cpu}.
 They might work with newer/older kernels.
 
-%package -n kernel-smp-module-openswan
+%package -n kernel-smp-module-openswan-%{kernel}
 Summary: Linux SMP drivers for OpenS/WAN IPsec support
-Release: %{real_release}_%{kversion}_%{krelease}
 Group: System Environment/Kernel
 
-Requires: /boot/vmlinuz-%{kversion}-%{krelease}smp
+Requires: /boot/vmlinuz-%{kernel}smp
+Requires: kernel-smp = %{kernel}
 Requires: openswan-utils
 
+Provides: kernel-module-openswan = %{version}-%{release}
 Provides: kernel-modules
 Provides: freeswan-modules = %{version}-%{release}, freeswan-module = %{version}-%{release}
 #Obsoletes: freeswan-modules &lt;= %{version}, freeswan-module &lt;= %{version}
 
-%description -n kernel-smp-module-openswan
+%description -n kernel-smp-module-openswan-%{kernel}
 Linux SMP drivers for OpenS/WAN IPsec support.
 
-These drivers are built for kernel %{kversion}-%{krelease}smp
+These drivers are built for kernel %{kernel}smp
 and architecture %{_target_cpu}.
 They might work with newer/older kernels.
 
 %package -n openswan-utils
 Summary: OpenS/WAN programs and libraries
-Release: %{real_release}
 Group: System Environment/Base
 
 Provides: freeswan = %{version}-%{release}, freeswan-programs = %{version}-%{release}
@@ -86,7 +99,7 @@
 OpenS/WAN programs and libraries.
 
 %prep
-%setup -n %{real_name}-%{real_version}
+%setup -n %{real_name}-%{version}
 #%setup -n %{real_name}-%{real_version} -a 1
 %patch0
 #%{__cat} x509-*/freeswan.diff | patch -p1
@@ -199,39 +212,47 @@
 
 %build
 %{__rm} -rf %{buildroot}
-echo -e &quot;\nDriver version: %{real_version}\nKernel version: %{kversion}-%{krelease}\n&quot;
+echo -e &quot;\nDriver version: %{version}\nKernel version: %{kernel}\n&quot;
 
 ### Prepare UP kernel.
-cd %{_usrsrc}/linux-%{kversion}-%{krelease}
+cd %{_usrsrc}/linux-%{kernel}
 %{__make} -s distclean &amp;&gt;/dev/null
 %{__cp} -f configs/kernel-%{kversion}-%{_target_cpu}.config .config
-%{__make} -s symlinks oldconfig dep EXTRAVERSION=&quot;-%{krelease}&quot; &amp;&gt;/dev/null
+%{__make} -s symlinks oldconfig dep \
+	EXTRAVERSION=&quot;-%{krelease}&quot; \
+	ARCH=&quot;$(echo %{_target_cpu} | sed -e 's/\(i.86\|athlon\)/i386/' -e 's|sun4u|sparc64|' -e 's|arm.*|arm|' -e 's|sa110|arm|')&quot; \
+	&amp;&gt;/dev/null
 cd -
 
 ### Make UP module.
 %{__make} clean module \
-	KERNELSRC=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build&quot; \
-	ARCH=&quot;%{_arch}&quot; \
+	KERNELSRC=&quot;%{_libmoddir}/%{kernel}/build&quot; \
+	ARCH=&quot;$(echo %{_target_cpu} | sed -e 's/\(i.86\|athlon\)/i386/' -e 's|sun4u|sparc64|' -e 's|arm.*|arm|' -e 's|sa110|arm|')&quot; \
 	SUBARCH=&quot;%{_arch}&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
-%{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}
+%{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}
+%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}%{moduledir}
 
+%if %{_with_smp}
 ### Prepare SMP kernel.
-cd %{_usrsrc}/linux-%{kversion}-%{krelease}
+cd %{_usrsrc}/linux-%{kernel}
 %{__make} -s distclean &amp;&gt;/dev/null
 %{__cp} -f configs/kernel-%{kversion}-%{_target_cpu}-smp.config .config
-%{__make} -s symlinks oldconfig dep EXTRAVERSION=&quot;-%{krelease}smp&quot; &amp;&gt;/dev/null
+%{__make} -s symlinks oldconfig dep \
+	EXTRAVERSION=&quot;-%{krelease}smp&quot; \
+	ARCH=&quot;$(echo %{_target_cpu} | sed -e 's/\(i.86\|athlon\)/i386/' -e 's|sun4u|sparc64|' -e 's|arm.*|arm|' -e 's|sa110|arm|')&quot; \
+	&amp;&gt;/dev/null
 cd -
 
 ### Make SMP module.
 %{__make} clean module \
-	KERNELSRC=&quot;%{_libmoddir}/%{kversion}-%{krelease}/build&quot; \
-	ARCH=&quot;%{_arch}&quot; \
+	KERNELSRC=&quot;%{_libmoddir}/%{kernel}/build&quot; \
+	ARCH=&quot;$(echo %{_target_cpu} | sed -e 's/\(i.86\|athlon\)/i386/' -e 's|sun4u|sparc64|' -e 's|arm.*|arm|' -e 's|sa110|arm|')&quot; \
 	SUBARCH=&quot;%{_arch}&quot; \
 	CC=&quot;${CC:-%{__cc}}&quot;
-%{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
-%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}
+%{__install} -d -m0755 %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}
+%{__install} -m0644 %{modules} %{buildroot}%{_libmoddir}/%{kernel}smp%{moduledir}
+%endif
 
 ### Build utilities.
 %{__make} %{?_smp_mflags} programs \
@@ -252,7 +273,7 @@
 %{__install} -d -m0700 %{buildroot}%{_localstatedir}/run/pluto/ \
 			%{buildroot}%{_sysconfdir}/ipsec.d/
 #%{__install} -m0755 freeswan.sysv %{buildroot}%{_initrddir}/freeswan
-%{__install} -m0644 ipsec.secrets %{buildroot}%{_sysconfdir}
+%{__install} -D -m0644 ipsec.secrets %{buildroot}%{_sysconfdir}/ipsec.secrets
 
 ### Clean up buildroot
 %{__perl} -pi -e 's|/usr/local|%{_prefix}|g' %{buildroot}%{_libexecdir}/ipsec/* %{buildroot}%{_libdir}/ipsec/*
@@ -262,17 +283,17 @@
 %{__mv} -f %{buildroot}%{_prefix}/share/doc/freeswan/ rpm-doc/
 %{__rm} -f rpm-doc/*.{pdf,ps}
 
-%post
-/sbin/depmod -ae %{kversion}-%{krelease} || :
+%post -n kernel-module-openswan-%{kernel}
+/sbin/depmod -ae %{kernel} || :
 
-%postun
-/sbin/depmod -ae %{kversion}-%{krelease} || :
+%postun -n kernel-module-openswan-%{kernel}
+/sbin/depmod -ae %{kernel} || :
 
-%post -n kernel-smp-module-openswan
-/sbin/depmod -ae %{kversion}-%{krelease}smp || :
+%post -n kernel-smp-module-openswan-%{kernel}
+/sbin/depmod -ae %{kernel}smp || :
 
-%postun -n kernel-smp-module-openswan
-/sbin/depmod -ae %{kversion}-%{krelease}smp || :
+%postun -n kernel-smp-module-openswan-%{kernel}
+/sbin/depmod -ae %{kernel}smp || :
 
 %post -n openswan-utils
 /sbin/chkconfig --add ipsec
@@ -289,17 +310,19 @@
 %clean
 %{__rm} -rf %{buildroot}
 
-%files
+%files -n kernel-module-openswan-%{kernel}
 %defattr(-, root, root, 0755)
-%{_libmoddir}/%{kversion}-%{krelease}%{moduledir}/
+%{_libmoddir}/%{kernel}%{moduledir}/
 
-%files -n kernel-smp-module-openswan
+%if %{_with_smp}
+%files -n kernel-smp-module-openswan-%{kernel}
 %defattr(-, root, root, 0755)
-%{_libmoddir}/%{kversion}-%{krelease}smp%{moduledir}/
+%{_libmoddir}/%{kernel}smp%{moduledir}/
+%endif
 
 %files -n openswan-utils
 %defattr(-, root, root, 0755)
-%doc BUGS* CHANGES* COPYING CREDITS INSTALL LICENSE README* doc/ rpm-doc/*
+%doc BUGS* CHANGES* COPYING CREDITS LICENSE README* doc/ rpm-doc/*
 %doc programs/_confread/ipsec.conf
 %doc %{_mandir}/man?/*
 %config(noreplace) %{_sysconfdir}/ipsec.secrets
@@ -314,6 +337,9 @@
 #%{_includedir}/*.h
 
 %changelog
+* Sun Jun 27 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.1.2-1
+- Moved to new standard naming scheme.
+
 * Wed Apr 07 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.1.1-1
 - Updated to openswan release 2.1.1.
 

Modified: trunk/rpms/logwatch/logwatch.spec
===================================================================
--- trunk/rpms/logwatch/logwatch.spec	2004-06-27 22:32:43 UTC (rev 1456)
+++ trunk/rpms/logwatch/logwatch.spec	2004-06-28 08:40:24 UTC (rev 1457)
@@ -1,10 +1,12 @@
 # $Id$
 # Authority: dag
 # Upstream: Kirk Bauer &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">kirk at kaybee.org</A>&gt;
+# Upstream: &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">logwatch-bugs at logwatch.org</A>&gt;
+# Upstream: &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">logwatch-devel at logwatch.org</A>&gt;
 
 Summary: Log file analysis program
 Name: logwatch
-Version: 5.2
+Version: 5.2.2
 Release: 0.1
 License: MIT
 Group: Applications/System
@@ -91,6 +93,9 @@
 %{_sbindir}/logwatch
 
 %changelog
+* Sat Jun 26 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 5.2.2-1
+- Updated to release 5.2.2.
+
 * Mon Jun 21 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 5.2-1
 - Updated to release 5.2.
 

Modified: trunk/rpms/meanwhile/meanwhile.spec
===================================================================
--- trunk/rpms/meanwhile/meanwhile.spec	2004-06-27 22:32:43 UTC (rev 1456)
+++ trunk/rpms/meanwhile/meanwhile.spec	2004-06-28 08:40:24 UTC (rev 1457)
@@ -1,9 +1,10 @@
 # $Id: _template.spec 765 2004-05-20 17:33:53Z dag $
 # Authority: dag
+# Christopher O'Brien &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">siege at preoccupied.net</A>&gt;
 
-Summary: Meanwhile
+Summary: Lotus Sametime Community Client library
 Name: meanwhile
-Version: 0.2
+Version: 0.3
 Release: 1
 License: LGPL
 Group: Applications/Internet
@@ -15,6 +16,8 @@
 Source: <A HREF="http://dl.sf.net/meanwhile/meanwhile-%{version">http://dl.sf.net/meanwhile/meanwhile-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
+BuildRequires: glib2-devel &gt;= 2.2
+
 %description
 Lotus Sametime Community Client library
 
@@ -50,14 +53,20 @@
 
 %files
 %defattr(-, root, root, 0755)
+%doc AUTHORS ChangeLog COPYING INSTALL NEWS README TODO
 %{_libdir}/*.so.*
 
 %files devel
+%defattr(-, root, root, 0755)
 %{_includedir}/meanwhile/
 %{_libdir}/*.a
+%exclude %{_libdir}/*.la
 %{_libdir}/*.so
-%exclude %{_libdir}/*.la
+%{_libdir}/pkgconfig/meanwhile.pc
 
 %changelog
+* Mon Jun 28 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.3-1
+- Updated to release 0.3.
+
 * Fri Jun 25 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.2-1
 - Initial package. (using DAR)

Modified: trunk/rpms/nget/nget.spec
===================================================================
--- trunk/rpms/nget/nget.spec	2004-06-27 22:32:43 UTC (rev 1456)
+++ trunk/rpms/nget/nget.spec	2004-06-28 08:40:24 UTC (rev 1457)
@@ -1,14 +1,14 @@
 # $Id$
-
 # Authority: dag
+# Upstream: Matthew Mueller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">donut at dakotacom.net</A>&gt;
 
 Summary: Command line NNTP file grabber
 Name: nget
-Version: 0.26
-Release: 0
+Version: 0.27
+Release: 1
 License: GPL
 Group: Applications/System
-URL: <A HREF="http://nget.sf.net/">http://nget.sf.net/</A>
+URL: <A HREF="http://nget.sourceforge.net/">http://nget.sourceforge.net/</A>
 
 Packager: Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;
 Vendor: Dag Apt Repository, <A HREF="http://dag.wieers.com/apt/">http://dag.wieers.com/apt/</A>
@@ -16,7 +16,6 @@
 Source: <A HREF="http://dl.sf.net/nget/nget-%{version">http://dl.sf.net/nget/nget-%{version</A>}+uulib.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-
 BuildRequires: pcre-devel, popt, ncurses-devel, zlib-devel
 
 %description
@@ -36,8 +35,6 @@
 	        
 %install
 %{__rm} -rf %{buildroot}
-#%{__install} -d -m0755 %{buildroot}%{_bindir} \
-#			%{buildroot}%{_mandir}
 %makeinstall
 
 %post
@@ -56,6 +53,9 @@
 %{_bindir}/*
 
 %changelog
+* Sun Jun 27 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.27-1
+- Updated to release 0.27.
+
 * Sat Mar 06 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.26-0
 - Updated to release 0.26.
 

Modified: trunk/rpms/smbc/smbc.spec
===================================================================
--- trunk/rpms/smbc/smbc.spec	2004-06-27 22:32:43 UTC (rev 1456)
+++ trunk/rpms/smbc/smbc.spec	2004-06-28 08:40:24 UTC (rev 1457)
@@ -1,7 +1,7 @@
 # $Id: $
+# Authority: dries
+# Upstream: &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">smbc-list at lists.sourceforge.net</A>&gt;
 
-# Authority: dries
-# Upstream: <A HREF="http://lists.repoforge.org/mailman/listinfo/commits">smbc-list at lists.sourceforge.net</A>
 # Screenshot: <A HREF="http://www.air.rzeszow.pl/smbc/smbc/screenshots/mainpage.jpg">http://www.air.rzeszow.pl/smbc/smbc/screenshots/mainpage.jpg</A>
 # ScreenshotURL: <A HREF="http://www.air.rzeszow.pl/smbc/smbc/screenshots/">http://www.air.rzeszow.pl/smbc/smbc/screenshots/</A>
 
@@ -16,8 +16,9 @@
 Packager: Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt;
 Vendor: Dries Apt/Yum Repository <A HREF="http://dries.ulyssis.org/ayo/">http://dries.ulyssis.org/ayo/</A>
 
-BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}
 Source: <A HREF="http://www.air.rzeszow.pl/smbc/smbc/%{version">http://www.air.rzeszow.pl/smbc/smbc/%{version</A>}/smbc-%{version}.tgz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
 BuildRequires: gettext, ncurses-devel, samba-common
 
 %description
@@ -26,7 +27,6 @@
 directories. Smbc has a resume function and supports UTF-8 characters.
 
 %prep
-%{__rm} -rf %{buildroot}
 %setup
 
 %build
@@ -34,12 +34,13 @@
 %{__make} %{?_smp_mflags}
 
 %install
+%{__rm} -rf %{buildroot}
 %makeinstall
 %find_lang %{name}
 
 %files -f %{name}.lang
-%defattr(-,root,root,0755)
-%doc FAQ NEWS COPYING README doc/sample.smbcrc
+%defattr(-, root, root, 0755)
+%doc COPYING FAQ NEWS README doc/sample.smbcrc
 %{_bindir}/*
 %exclude %{_datadir}/doc
 

Modified: trunk/rpms/snort/snort.spec
===================================================================
--- trunk/rpms/snort/snort.spec	2004-06-27 22:32:43 UTC (rev 1456)
+++ trunk/rpms/snort/snort.spec	2004-06-28 08:40:24 UTC (rev 1457)
@@ -8,7 +8,7 @@
 %define pgsql 1
 %define odbc 1
 %define bloat 1
-#{?el3:%undefine odbc}
+#{?el3:#undefine odbc}
 
 Summary: Open Source network intrusion detection system
 Name: snort
@@ -26,6 +26,7 @@
 
 BuildRequires: libpcap &gt;= 0.4, mysql-devel, openssl-devel, libnet
 BuildRequires: pcre-devel, perl, postgresql-devel, unixODBC-devel
+%{!?dist:BuildRequires: net-snmp-devel}
 %{?fc2:BuildRequires: net-snmp-devel}
 %{?fc1:BuildRequires: net-snmp-devel}
 %{?el3:BuildRequires: net-snmp-devel}
@@ -87,7 +88,10 @@
 %prep
 %setup
 
-%{__perl} -pi.orig -e 's|lib lib/|%{_lib} %{_lib}/|' configure
+%{__perl} -pi.orig -e '
+		s|lib lib/|%{_lib} %{_lib}/|;
+		s|(\$ODBC_DIR)/lib|$1/%{_lib}|;
+	' configure
 
 %{__cat} &lt;&lt;EOF &gt;snort.sysconf
 ### Specify your network interface here
@@ -238,7 +242,7 @@
 %{__mv} -f src/snort ../snort-plain
 cd -
 
-%if %{?mysql:1}%{!?mysql:0}
+%if %{?mysql:1}0
 mkdir mysql; cd mysql
 ../configure $SNORT_BASE_CONFIG \
 	--with-mysql \
@@ -249,7 +253,7 @@
 cd -
 %endif
 
-%if %{?pgsql:1}%{!?pgsql:0}
+%if %{?pgsql:1}0
 mkdir pgsql; cd pgsql
 ../configure $SNORT_BASE_CONFIG \
 	--without-mysql \
@@ -260,7 +264,7 @@
 cd -
 %endif
 
-%if %{?odbc:1}%{!?odbc:0}
+%if %{?odbc:1}0
 mkdir odbc; cd odbc
 ../configure $SNORT_BASE_CONFIG \
 	--without-mysql \
@@ -355,19 +359,19 @@
 %config(noreplace) %{_sysconfdir}/snort/
 %{_localstatedir}/log/snort/
 
-%if %{?mysql:1}%{!?mysql:0}
+%if %{?mysql:1}0
 %files mysql
 %defattr(-, root, root, 0755)
 %{_sbindir}/snort-mysql
 %endif
 
-%if %{?pgsql:1}%{!?pgsql:0}
+%if %{?pgsql:1}0
 %files postgresql
 %defattr(-, root, root, 0755)
 %{_sbindir}/snort-pgsql
 %endif
 
-%if %{?odbc:1}%{!?odbc:0}
+%if %{?odbc:1}0
 %files odbc
 %defattr(-, root, root, 0755)
 %{_sbindir}/snort-odbc

Modified: trunk/rpms/tcpflow/tcpflow.spec
===================================================================
--- trunk/rpms/tcpflow/tcpflow.spec	2004-06-27 22:32:43 UTC (rev 1456)
+++ trunk/rpms/tcpflow/tcpflow.spec	2004-06-28 08:40:24 UTC (rev 1457)
@@ -1,5 +1,6 @@
 # $Id$
 # Authority: dag
+# Upstream: Jeremy Elson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jelson at circlemud.org</A>&gt;
 
 Summary: Network traffic recorder
 Name: tcpflow

Modified: trunk/rpms/transcode/transcode.spec
===================================================================
--- trunk/rpms/transcode/transcode.spec	2004-06-27 22:32:43 UTC (rev 1456)
+++ trunk/rpms/transcode/transcode.spec	2004-06-28 08:40:24 UTC (rev 1457)
@@ -2,8 +2,24 @@
 # Authority: matthias
 # Upstream: Thomas &#214;streich &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">ostreich at theorie.physik.uni-goettingen.de</A>&gt;
 # Upstream: Tilmann Bitterberg &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">transcode at tibit.org</A>&gt;
-# Distcc: 0
 
+%{?fc1:%define _without_theora 1}
+%{?el3:%define _without_theora 1}
+%{?rh9:%define _without_theora 1}
+
+%{?rh8:%define _without_theora 1}
+%{?rh8:%define _without_magick 1}
+
+%{?rh7:%define _without_theora 1}
+%{?el2:%define _without_theora 1}
+%{?rh6:%define _without_theora 1}
+
+%ifarch x86_64
+	%define _without_mjpeg 1
+	%define _without_nasm 1
+	%define _without_quicktime 1
+%endif
+
 Summary: Linux video stream processing utility
 Name: transcode
 Version: 0.6.12
@@ -11,23 +27,14 @@
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://zebra.fh-weingarten.de/~transcode/">http://zebra.fh-weingarten.de/~transcode/</A>
+
 Source: <A HREF="http://zebra.fh-weingarten.de/~transcode/pre/transcode-%{version">http://zebra.fh-weingarten.de/~transcode/pre/transcode-%{version</A>}.tar.bz2
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-Requires: SDL, libxml2, libjpeg
-Requires: freetype &gt;= 2.0, libogg, libvorbis, libdv
-Requires: ImageMagick &gt;= 5.4.3, bzip2
-%{!?_without_lame:Requires: lame &gt;= 3.89}
-%{!?_without_dvdread:Requires: libdvdread}
-%{!?_without_xvidcore:Requires: xvidcore}
-#{!?_without_postproc:Requires: libpostproc}
-%{!?_without_quicktime:Requires: libquicktime}
-%{!?_without_lzo:Requires: lzo &gt;= 1.08}
-%{!?_without_a52:Requires: a52dec}
-%{!?_without_libfame:Requires: libfame}
+
 BuildRequires: gcc-c++, glib-devel, gtk+-devel
 BuildRequires: SDL-devel, libxml2-devel, libjpeg-devel
 BuildRequires: freetype-devel &gt;= 2.0, libogg-devel, libvorbis-devel, libdv-devel
-BuildRequires: ImageMagick-devel &gt;= 5.4.3, bzip2-devel
+BuildRequires: bzip2-devel
 # Seems like ImageMagick-devel should require this! (FC2 and higher)
 BuildRequires: libexif-devel
 %{!?_without_lame:BuildRequires: lame-devel &gt;= 3.89}
@@ -42,9 +49,20 @@
 %{!?_without_mjpeg:BuildRequires: mjpegtools-devel}
 %{!?_without_mpeg3:BuildRequires: libmpeg3}
 %{!?_without_theora:BuildRequires: libtheora-devel}
-%ifarch %{ix86}
-BuildRequires: nasm
-%endif
+%{!?_without_magick:BuildRequires: ImageMagick-devel &gt;= 5.4.3}
+%{!?_without_nasm:BuildRequires: nasm}
+Requires: SDL, libxml2, libjpeg
+Requires: freetype &gt;= 2.0, libogg, libvorbis, libdv
+Requires: bzip2
+%{!?_without_lame:Requires: lame &gt;= 3.89}
+%{!?_without_dvdread:Requires: libdvdread}
+%{!?_without_xvidcore:Requires: xvidcore}
+#{!?_without_postproc:Requires: libpostproc}
+%{!?_without_quicktime:Requires: libquicktime}
+%{!?_without_lzo:Requires: lzo &gt;= 1.08}
+%{!?_without_a52:Requires: a52dec}
+%{!?_without_libfame:Requires: libfame}
+%{!?_without_magick:Requires: ImageMagick &gt;= 5.4.3}
 
 %description
 Transcode is a linux text-console utility for video stream processing.
@@ -57,13 +75,17 @@
 Please see the included README file for more.
 
 Available rpmbuild rebuild options :
---without : lame dvdread xvidcore quicktime lzo a52 libfame mjpeg mpeg3 theora
+--without : lame dvdread xvidcore quicktime lzo a52 libfame mjpeg mpeg3 theora magick
+--with : avifile
 
 
 %prep
 %setup
 
+### FIXME: Make buildsystem use standard autotools directories (Fix upstream please)
+%{__perl} -pi.orig -e 's|\@MOD_PATH\@|\$(libdir)/transcode|' Makefile.in */Makefile.in */*/Makefile.in
 
+
 %build
 %configure \
     %{?_without_lame:--without-lame} \
@@ -76,14 +98,16 @@
     %{?_without_libfame:--without-libfame} \
     %{?_without_mjpeg:--without-mjpeg} \
     %{?_without_mpeg3:--without-libmpeg3} \
-    %{!?_without_theora:--with-theora}
+    %{!?_without_theora:--with-theora} \
+    %{!?_with_avifile:--without-avifile-mods} \
+    %{?_without_magick:--without-magick-mods}
 %{__make} %{?_smp_mflags}
 
 
 %install
-%{__rm} -rf %{buildroot} rpm-doc
-%makeinstall
-%{__mv} -f %{buildroot}%{_docdir}/transcode rpm-doc
+%{__rm} -rf %{buildroot}
+%makeinstall \
+	docsdir=&quot;../rpm-doc/&quot;
 
 
 %clean
@@ -92,7 +116,7 @@
 
 %files
 %defattr(-, root, root, 0755)
-%doc AUTHORS COPYING README TODO rpm-doc/*
+%doc AUTHORS ChangeLog COPYING README TODO rpm-doc/*
 %{_bindir}/*
 %{_libdir}/transcode/
 %exclude %{_libdir}/transcode/*.la


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000264.html">[SVN] r1456 - trunk/rpms/pgpool
</A></li>
	<LI>Next message: <A HREF="000266.html">[SVN] r1458 - in trunk/rpms: gaim-meanwhile kernel-module-acx100	kernel-module-cloop tcptrace
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#265">[ date ]</a>
              <a href="thread.html#265">[ thread ]</a>
              <a href="subject.html#265">[ subject ]</a>
              <a href="author.html#265">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
