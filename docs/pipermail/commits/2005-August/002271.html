<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r3470 - in trunk/rpms: . apachetop bchunk git htop lftp	mathomatic mod_suphp multitail ntop ocaml perl-ldap php-adodb	smbldap-tools snackamp
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r3470%20-%20in%20trunk/rpms%3A%20.%20apachetop%20bchunk%20git%20htop%20lftp%0A%09mathomatic%20mod_suphp%20multitail%20ntop%20ocaml%20perl-ldap%20php-adodb%0A%09smbldap-tools%20snackamp&In-Reply-To=%3C20050812032654.D7C6B31802D%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002270.html">
   <LINK REL="Next"  HREF="002272.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r3470 - in trunk/rpms: . apachetop bchunk git htop lftp	mathomatic mod_suphp multitail ntop ocaml perl-ldap php-adodb	smbldap-tools snackamp</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r3470%20-%20in%20trunk/rpms%3A%20.%20apachetop%20bchunk%20git%20htop%20lftp%0A%09mathomatic%20mod_suphp%20multitail%20ntop%20ocaml%20perl-ldap%20php-adodb%0A%09smbldap-tools%20snackamp&In-Reply-To=%3C20050812032654.D7C6B31802D%40pooch.vmhosting.org%3E"
       TITLE="[svn] r3470 - in trunk/rpms: . apachetop bchunk git htop lftp	mathomatic mod_suphp multitail ntop ocaml perl-ldap php-adodb	smbldap-tools snackamp">packagers at lists.rpmforge.net
       </A><BR>
    <I>Fri Aug 12 05:26:54 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002270.html">[svn] r3469 - in trunk/rpms: . suphp
</A></li>
        <LI>Next message: <A HREF="002272.html">[svn] r3471 - trunk/rpms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2271">[ date ]</a>
              <a href="thread.html#2271">[ thread ]</a>
              <a href="subject.html#2271">[ subject ]</a>
              <a href="author.html#2271">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2005-08-12 05:26:51 +0200 (Fri, 12 Aug 2005)
New Revision: 3470

Added:
   trunk/rpms/bchunk/
   trunk/rpms/bchunk/bchunk.spec
   trunk/rpms/mod_suphp/
   trunk/rpms/mod_suphp/_buildlogs
   trunk/rpms/mod_suphp/mod_suphp.spec
Modified:
   trunk/rpms/apachetop/apachetop.spec
   trunk/rpms/git/git.spec
   trunk/rpms/htop/htop.spec
   trunk/rpms/lftp/lftp.spec
   trunk/rpms/mathomatic/mathomatic.spec
   trunk/rpms/multitail/multitail.spec
   trunk/rpms/ntop/ntop.spec
   trunk/rpms/ocaml/ocaml.spec
   trunk/rpms/perl-ldap/perl-ldap.spec
   trunk/rpms/php-adodb/php-adodb.spec
   trunk/rpms/smbldap-tools/smbldap-tools.spec
   trunk/rpms/snackamp/snackamp.spec
Log:
Updates

Modified: trunk/rpms/apachetop/apachetop.spec
===================================================================
--- trunk/rpms/apachetop/apachetop.spec	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/apachetop/apachetop.spec	2005-08-12 03:26:51 UTC (rev 3470)
@@ -13,7 +13,7 @@
 
 Summary: Top-like display of Apache logs
 Name: apachetop
-Version: 0.12
+Version: 0.12.5
 Release: 1
 License: BSD
 Group: Applications/Internet
@@ -23,7 +23,6 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: ncurses-devel, m4, readline-devel, gcc-c++, pcre-devel
-Requires: httpd
 %{?_with_gamin:BuildRequires: gamin-devel}
 %{?_with_fam:BuildRequires: fam-devel}
 
@@ -51,8 +50,11 @@
 %defattr(-, root, root, 0755)
 %doc AUTHORS ChangeLog LICENSE NEWS README TODO
 %doc %{_mandir}/man1/apachetop.1*
-%{_sbindir}/apachetop
+%{_bindir}/apachetop
 
 %changelog
+* Fri Aug 12 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.12.5-1
+- Updated to release 0.12.5.
+
 * Thu Aug 05 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.12-1
 - Initial package. (using DAR)

Added: trunk/rpms/bchunk/bchunk.spec
===================================================================
--- trunk/rpms/bchunk/bchunk.spec	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/bchunk/bchunk.spec	2005-08-12 03:26:51 UTC (rev 3470)
@@ -0,0 +1,44 @@
+# $Id$
+# Authority: dag
+# Upstream: Heikki Hannikainen &lt;hessu$hes,iki,fi&gt;
+
+Summary: Tool to convert from bin/cue CD image format to iso/cdr
+Name: bchunk
+Version: 1.2.0
+Release: 1
+License: GPL
+Group: Applications/File
+URL: <A HREF="http://he.fi/bchunk/">http://he.fi/bchunk/</A>
+
+Source: <A HREF="http://he.fi/bchunk/bchunk-%{version">http://he.fi/bchunk/bchunk-%{version</A>}.tar.gz
+Buildroot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+%description
+binchunker converts a CD image in a &quot;.bin / .cue&quot; format (sometimes
+&quot;.raw / .cue&quot;) to a set of .iso and .cdr tracks. The bin/cue format
+is used by some popular non-Unix cd-writing software, but is not
+supported on most other CD burning programs.
+
+%prep
+%setup
+
+%build
+%{__make} CFLAGS=&quot;-Wall -Wstrict-prototypes %{optflags}&quot;
+
+%install
+%{__rm} -rf %{buildroot}
+%{__install} -Dp -m0755 bchunk %{buildroot}%{_bindir}/bchunk
+%{__install} -Dp -m0644 bchunk.1 %{buildroot}%{_mandir}/man1/bchunk.1
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc ChangeLog COPYING README
+%doc %{_mandir}/man1/bchunk.1*
+%{_bindir}/bchunk
+
+%changelog
+* Thu Aug 11 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.2.0-1
+- Initial package. (using DAR)


Property changes on: trunk/rpms/bchunk/bchunk.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Modified: trunk/rpms/git/git.spec
===================================================================
--- trunk/rpms/git/git.spec	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/git/git.spec	2005-08-12 03:26:51 UTC (rev 3470)
@@ -45,7 +45,7 @@
 %{__make} install %{!?_without_asciidoc:install-doc} dest=&quot;%{buildroot}&quot; prefix=&quot;%{_prefix}&quot; mandir=&quot;%{_mandir}&quot;
 
 %clean
-%{__rm} -rf &quot;%{buildroot}&quot;
+%{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)

Modified: trunk/rpms/htop/htop.spec
===================================================================
--- trunk/rpms/htop/htop.spec	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/htop/htop.spec	2005-08-12 03:26:51 UTC (rev 3470)
@@ -14,7 +14,7 @@
 Source: <A HREF="http://dl.sf.net/htop/htop-%{version">http://dl.sf.net/htop/htop-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: ncurses-devel
+BuildRequires: gcc &gt;= 3.0, ncurses-devel
 
 %description
 htop is an interactive process viewer for Linux.

Modified: trunk/rpms/lftp/lftp.spec
===================================================================
--- trunk/rpms/lftp/lftp.spec	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/lftp/lftp.spec	2005-08-12 03:26:51 UTC (rev 3470)
@@ -10,7 +10,7 @@
 Summary: Sophisticated file transfer program
 Name: lftp
 Version: 3.2.1
-Release: 2
+Release: 3
 License: GPL
 Group: Applications/Internet
 URL: <A HREF="http://lftp.yar.ru/">http://lftp.yar.ru/</A>
@@ -31,7 +31,8 @@
 %setup
 
 %build
-#autoreconf --force --install --symlink
+### Workaround for broken openssl on RH9 and EL3
+export CPPFLAGS=&quot;-I/usr/kerberos/include&quot;
 %configure \
 	--with-modules \
 	--disable-static \
@@ -56,6 +57,9 @@
 %{_libdir}/lftp/
 
 %changelog
+* Thu Aug 11 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 3.2.1-3
+- Fixed missing ssl support on rh9 and el3. (Michael McCallister)
+
 * Thu Jul 14 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 3.2.1-2
 - Fixed openssl build. (Tom&#225;&#168; Janou&#168;ek)
 

Modified: trunk/rpms/mathomatic/mathomatic.spec
===================================================================
--- trunk/rpms/mathomatic/mathomatic.spec	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/mathomatic/mathomatic.spec	2005-08-12 03:26:51 UTC (rev 3470)
@@ -9,7 +9,7 @@
 Release: 1
 License: LGPL
 Group: Applications/Engineering
-URL: <A HREF="http://www.mathomatic.com">http://www.mathomatic.com</A>
+URL: <A HREF="http://www.mathomatic.com/">http://www.mathomatic.com/</A>
 
 Source: <A HREF="http://www.panix.com/~gesslein/mathomatic-%{version">http://www.panix.com/~gesslein/mathomatic-%{version</A>}.tgz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
@@ -36,9 +36,9 @@
 %files
 %defattr(-, root, root, 0755)
 %doc *.txt doc/*.htm
-%{_bindir}/*
-%{_datadir}/man/man1/mathomatic.*
-%exclude %{_usr}/doc
+%doc %{_mandir}/man1/mathomatic.1*
+%{_bindir}/mathomatic
+%exclude %{_usr}/doc/
 
 %changelog
 * Sat Aug 06 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; 12.4.7-1

Added: trunk/rpms/mod_suphp/_buildlogs
===================================================================
--- trunk/rpms/mod_suphp/_buildlogs	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/mod_suphp/_buildlogs	2005-08-12 03:26:51 UTC (rev 3470)
@@ -0,0 +1 @@
+link /dar/pub/packages/mod_suphp/_buildlogs/
\ No newline at end of file


Property changes on: trunk/rpms/mod_suphp/_buildlogs
___________________________________________________________________
Name: svn:special
   + *

Added: trunk/rpms/mod_suphp/mod_suphp.spec
===================================================================
--- trunk/rpms/mod_suphp/mod_suphp.spec	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/mod_suphp/mod_suphp.spec	2005-08-12 03:26:51 UTC (rev 3470)
@@ -0,0 +1,135 @@
+# $Id: suphp.spec 3469 2005-08-11 22:23:52Z dag $
+# Authority: dag
+
+%define real_name suphp
+
+Summary: Apache module that enables running PHP scripts under different users
+Name: mod_suphp
+Version: 0.6.0
+Release: 1
+License: GPL/Apache License
+Group: System Environment/Daemons
+URL: <A HREF="http://www.suphp.org/">http://www.suphp.org/</A>
+
+Source: <A HREF="http://projects.marsching.org/suphp/download/suphp-%{version">http://projects.marsching.org/suphp/download/suphp-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: httpd-devel &gt;= 2.0
+Requires: httpd &gt;= 2.0, php
+
+%description 
+The suPHP Apache module together with suPHP itself provides an easy way to
+run PHP scripts with different users on the same server. It provides security,
+because the PHP scripts are not run with the rights of the webserver's user.
+In addition to that you probably won't have to use PHP's &quot;safe mode&quot;, which
+applies many restrictions on the scripts.
+
+%prep
+%setup -n %{real_name}-%{version}
+
+%{__cat} &lt;&lt;EOF &gt;suphp.conf
+[global]
+logfile=%{_localstatedir}/log/httpd/suphp_log
+loglevel=info
+webserver_user=apache
+docroot=/
+env_path=/bin:/usr/bin
+umask=0077
+min_uid=500
+min_gid=500
+
+; Security options
+allow_file_group_writeable=false
+allow_file_others_writeable=false
+allow_directory_group_writeable=false
+allow_directory_others_writeable=false
+
+;Check wheter script is within DOCUMENT_ROOT
+check_vhost_docroot=true
+
+;Send minor error messages to browser
+errors_to_browser=false
+
+[handlers]
+;Handler for php-scripts
+x-httpd-php=php:%{_bindir}/php
+
+;Handler for CGI-scripts
+x-suphp-cgi=execute:!self
+EOF
+
+%{__cat} &lt;&lt;EOF &gt;suphp.httpd
+# This is the Apache server configuration file providing suPHP support.
+# It contains the configuration directives to instruct the server how to
+# serve php pages while switching to the user context before rendering.
+
+LoadModule suphp_module modules/mod_suphp.so
+
+# To use suPHP to parse PHP-Files
+AddHandler x-httpd-php .php
+AddHandler x-httpd-php .php .php4 .php3 .phtml
+
+# This option tells mod_suphp if a PHP-script requested on this server (or
+# VirtualHost) should be run with the PHP-interpreter or returned to the
+# browser &quot;as it is&quot;.
+suPHP_Engine off
+
+# This option tells mod_suphp which path to pass on to the PHP-interpreter
+# (by setting the PHPRC environment variable).
+# Do *NOT* refer to a file but to the directory the file resides in.
+#
+# E.g.: If you want to use &quot;/path/to/server/config/php.ini&quot;, use &quot;suPHP_Config
+# /path/to/server/config&quot;.
+#
+# If you don't use this option, PHP will use its compiled in default path.
+# suPHP_ConfigPath /etc
+
+# If you compiled suphp with setid-mode &quot;force&quot; or &quot;paranoid&quot;, you can
+# specify the user- and groupname to run PHP-scripts with.
+# Example: suPHP_UserGroup foouser bargroup
+# suPHP_UserGroup apache apache
+
+# This option tells mod_suphp to handle requests with the type &lt;mime-type&gt;.
+# Please note this only works, if an action for the handler is specified
+# in the suPHP configuration file.
+# suPHP_AddHandler x-httpd-php
+
+# This option tells mod_suphp to NOT handle requests with the type &lt;mime-type&gt;.
+# suPHP_RemoveHandler &lt;mime-type&gt;
+EOF
+
+%build
+export CPPFLAGS=&quot;-I/usr/include/apr-0&quot;
+%configure \
+	--with-apache-user=&quot;apache&quot; \
+	--with-apxs=&quot;%{_sbindir}/apxs&quot; \
+	--disable-checkpath \
+	--with-logfile=&quot;%{_localstatedir}/log/httpd/suphp_log&quot; \
+	--with-min-uid=&quot;500&quot; \
+	--with-min-gid=&quot;500&quot; \
+	--with-php=&quot;%{_bindir}/php&quot; \
+	--with-setid-mode=&quot;paranoid&quot;
+#	--with-setid-mode=&quot;owner&quot;
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+
+%{__install} -Dp -m0644 suphp.conf %{buildroot}%{_sysconfdir}/suphp.conf
+%{__install} -Dp -m0644 suphp.httpd %{buildroot}%{_sysconfdir}/httpd/conf.d/suphp.conf
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc AUTHORS ChangeLog COPYING NEWS README doc/
+%config(noreplace) %{_sysconfdir}/suphp.conf
+%config(noreplace) %{_sysconfdir}/httpd/conf.d/suphp.conf
+%{_libdir}/httpd/modules/mod_suphp.so
+%{_sbindir}/suphp
+
+%changelog
+* Thu Aug 11 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.6.0-1
+- Initial package. (using DAR)

Modified: trunk/rpms/multitail/multitail.spec
===================================================================
--- trunk/rpms/multitail/multitail.spec	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/multitail/multitail.spec	2005-08-12 03:26:51 UTC (rev 3470)
@@ -5,8 +5,6 @@
 
 %define desktop_vendor rpmforge
 
-%define real_version 3.6.0
-
 Summary: View one or multiple files like tail but with multiple windows
 Name: multitail
 Version: 3.6.0
@@ -15,7 +13,7 @@
 Group: Applications/Text
 URL: <A HREF="http://www.vanheusden.com/multitail/">http://www.vanheusden.com/multitail/</A>
 
-Source: <A HREF="http://www.vanheusden.com/multitail/multitail-%{real_version">http://www.vanheusden.com/multitail/multitail-%{real_version</A>}.tgz
+Source: <A HREF="http://www.vanheusden.com/multitail/multitail-%{version">http://www.vanheusden.com/multitail/multitail-%{version</A>}.tgz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: gcc, make, ncurses-devel
@@ -42,8 +40,7 @@
 %{__install} -d -m0755 %{buildroot}%{_bindir} \
 			%{buildroot}%{_mandir}/man1/ \
 			%{buildroot}%{_sysconfdir}
-%makeinstall \
-	DESTDIR=&quot;%{buildroot}&quot;
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -59,10 +56,10 @@
 * Mon Aug 1 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 3.6.0-1
 - Updated to release 3.6.0.
 
-* Fri Jul 22 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 3.6.0rc2
+* Fri Jul 22 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 3.6.0-0.rc2
 - Updated to release 3.6.0rc2.
 
-* Mon Jul 18 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 3.6.0rc1
+* Mon Jul 18 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 3.6.0-0.rc1
 - Updated to release 3.6.0rc1.
 
 * Mon Jul 18 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 3.5.7-1

Modified: trunk/rpms/ntop/ntop.spec
===================================================================
--- trunk/rpms/ntop/ntop.spec	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/ntop/ntop.spec	2005-08-12 03:26:51 UTC (rev 3470)
@@ -209,7 +209,7 @@
 
 %{__install} -Dp -m0755 ntop.sysv %{buildroot}%{_initrddir}/ntop
 %{__install} -Dp -m0644 ntop.logrotate %{buildroot}%{_sysconfdir}/logrotate.d/ntop
-%{__install} -Dp -m0700 ntop.conf.sample %{buildroot}%{_sysconfdir}/ntop.conf
+%{__install} -Dp -m0600 ntop.conf.sample %{buildroot}%{_sysconfdir}/ntop.conf
 
 %pre
 if ! /usr/bin/id ntop &amp;&gt;/dev/null; then
@@ -269,6 +269,9 @@
 #%exclude %{_libdir}/plugins/
 
 %changelog
+* Fri Aug 12 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 3.1-2
+- Removed execute bit on ntop.conf. (C.Lee Taylor)
+
 * Sat Jan 01 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 3.1-1
 - Updated to release 3.1.
 

Modified: trunk/rpms/ocaml/ocaml.spec
===================================================================
--- trunk/rpms/ocaml/ocaml.spec	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/ocaml/ocaml.spec	2005-08-12 03:26:51 UTC (rev 3470)
@@ -26,8 +26,8 @@
 Summary: Objective Caml
 Name: ocaml
 Version: 3.08.3
-Release: 1
-License: QPL
+Release: 2
+License: QPL/LGPL
 Group: Development/Languages
 URL: <A HREF="http://caml.inria.fr/">http://caml.inria.fr/</A>
 
@@ -37,11 +37,12 @@
 Source3: <A HREF="http://caml.inria.fr/distrib/ocaml-3.08/ocaml-3.08-refman.info.tar.gz">http://caml.inria.fr/distrib/ocaml-3.08/ocaml-3.08-refman.info.tar.gz</A>
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: gdbm-devel
+BuildRequires: ncurses-devel, gdbm-devel, emacs
 %{!?_without_xorg:BuildRequires: xorg-x11-devel}
 %{?_without_xorg:BuildRequires: XFree86-devel}
 %{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3, tk-devel}
 %{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3, tk}
+Obsoletes: ocaml-ocamldoc, labltk, camlp4
 
 %description
 Objective Caml is the latest implementation of the Caml dialect of ML. It
@@ -51,94 +52,127 @@
 addition to a Caml Light-style bytecode compiler), and labeled arguments
 with possible default value. 
 
+%package labltk
+Summary: Tk bindings for Objective Caml
+Group: Development/Languages
+Requires: ocaml = %{version}-%{release}
+Obsoletes: labltk &lt;= %{version}
+
+%description labltk
+A library for interfacing Objective Caml with the scripting language
+Tcl/Tk. It include the OCamlBrowser code editor / library browser.
+
+%package camlp4
+Group: Development/Languages
+Summary: Pre-Processor-Pretty-Printer for OCaml
+Requires: ocaml = %{version}-%{release}
+Obsoletes: camlp4 &lt;= %{version}
+
+%description camlp4
+Camlp4 is a Pre-Processor-Pretty-Printer for OCaml, parsing a source
+file and printing some result on standard output.
+
+%package -n emacs-ocaml
+Summary: Emacs mode for Objective Caml
+Group: Applications/Editors
+Requires: ocaml = %{version}-%{release}
+Obsoletes: ocaml-emacs &lt;= %{version}
+
+%description -n emacs-ocaml
+Emacs mode for Objective Caml.
+
 %prep
-%setup
-%setup -T -q -D -a 1
-%setup -T -q -D -a 3
-cp %{SOURCE2} refman.ps.gz
+%setup -T -b 0
+%setup -T -D -a 1
+%setup -T -D -a 3
+%{__cp} -v %{SOURCE2} refman.ps.gz
 
 %build
-./configure -prefix %{_prefix} -bindir %{_bindir} -libdir %{_libdir}/ocaml -mandir %{_mandir} -verbose
-%{__make} %{?_smp_mflags} world
-%{__make} %{?_smp_mflags} bootstrap
-%{__make} %{?_smp_mflags} opt
-%{__make} %{?_smp_mflags} opt.opt
+./configure -verbose -cc &quot;%{__cc} %{optflags}&quot; -with-pthread \
+	-bindir &quot;%{_bindir}&quot; \
+	-libdir &quot;%{_libdir}/ocaml&quot; \
+	-mandir &quot;%{_mandir}&quot; \
+	-prefix &quot;%{_prefix}&quot; \
+	-x11lib &quot;%{_prefix}/X11R6/%{_lib}&quot;
+#%{__make} %{?_smp_mflags} world bootstrap opt opt.opt
+%{__make} world bootstrap opt opt.opt
+%{__make} -C emacs ocamltags
 
 %install
 %{__rm} -rf %{buildroot}
-%{__perl} -pi -e 's|^PREFIX=.*|PREFIX=%{buildroot}%{_prefix}|g;' config/Makefile camlp4/config/Makefile
-%{__perl} -pi -e 's|^BINDIR=.*|BINDIR=%{buildroot}%{_bindir}|g;' config/Makefile camlp4/config/Makefile
-%{__perl} -pi -e 's|^LIBDIR=.*|LIBDIR=%{buildroot}%{_libdir}/ocaml|g;' config/Makefile camlp4/config/Makefile
-%{__perl} -pi -e 's|^MANDIR=.*|MANDIR=%{buildroot}%{_mandir}|g;' config/Makefile camlp4/config/Makefile
-%makeinstall
-%{__install} -d %{buildroot}%{_infodir}
-%{__cp} -p infoman/ocaml*.gz %{buildroot}%{_infodir}
+%{__make} install BINDIR=&quot;%{buildroot}%{_bindir}&quot; LIBDIR=&quot;%{buildroot}%{_libdir}/ocaml&quot; MANDIR=&quot;%{buildroot}%{_mandir}&quot;
+%{__perl} -pi.orig -e 's|^%{buildroot}||' %{buildroot}%{_libdir}/ocaml/ld.conf
 
-%post
-/sbin/ldconfig 2&gt;/dev/null
+%{__make} -C emacs install install-ocamltags BINDIR=&quot;%{buildroot}%{_bindir}&quot; EMACSDIR=&quot;%{buildroot}%{_datadir}/emacs/site-lisp&quot;
 
-%postun
-/sbin/ldconfig 2&gt;/dev/null
+%{__install} -d %{buildroot}%{_infodir}
+%{__install} -p -m0644 infoman/ocaml*.gz %{buildroot}%{_infodir}
 
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
-%doc Changes INSTALL LICENSE README refman.ps.gz htmlman
+%doc Changes INSTALL LICENSE README refman.ps.gz htmlman/
 %doc %{_mandir}/man1/*
 %doc %{_mandir}/man3/*
-%{_bindir}/camlp4o.opt
-%{_bindir}/ocamlprof
-%{_bindir}/ocamllex
-%{_bindir}/camlp4
-%{_bindir}/ocamlmktop
-%{_bindir}/ocamllex.opt
-%{_bindir}/ocamlc.opt
-%{_bindir}/ocamlbrowser
+%doc %{_infodir}/ocaml*
+%{_bindir}/*
+%{_libdir}/ocaml/
+
+### in ocaml-camlp4
+%exclude %{_mandir}/man1/camlp4*
+%exclude %{_mandir}/man1/mkcamlp4*
+%exclude %{_bindir}/camlp4*
+%exclude %{_bindir}/mkcamlp4
+%exclude %{_bindir}/ocpp
+%exclude %{_libdir}/ocaml/camlp4/
+
+### in ocaml-labltk
+%exclude %{_bindir}/labltk
+%exclude %{_bindir}/ocamlbrowser
+%exclude %{_libdir}/ocaml/labltk/
+%exclude %{_libdir}/ocaml/stublibs/dlllabltk.so
+%exclude %{_libdir}/ocaml/stublibs/dlltkanim.so
+
+### in emacs-ocaml
+%exclude %{_bindir}/ocamltags
+
+%files camlp4
+%defattr(-, root, root, 0755)
+%doc %{_mandir}/man1/camlp4*
+%doc %{_mandir}/man1/mkcamlp4*
+%{_bindir}/camlp4*
 %{_bindir}/mkcamlp4
-%{_bindir}/ocamlyacc
-%{_bindir}/ocaml
-%{_bindir}/ocamlmklib
-%{_bindir}/camlp4o
 %{_bindir}/ocpp
-%{_bindir}/ocamldep.opt
-%{_bindir}/ocamlcp
-%{_bindir}/ocamldoc
-%{_bindir}/ocamlc
-%{_bindir}/ocamldebug
-%{_bindir}/ocamlrun
-%{_bindir}/ocamlopt.opt
+%dir %{_libdir}/ocaml/
+%{_libdir}/ocaml/camlp4/
+
+%files labltk
+%defattr(-, root, root, 0755)
+%doc otherlibs/labltk/examples_*tk
 %{_bindir}/labltk
-%{_bindir}/camlp4r.opt
-%{_bindir}/camlp4r
-%{_bindir}/ocamldep
-%{_bindir}/ocamldoc.opt
-%{_bindir}/ocamlopt
-%{_libdir}/ocaml/*.mli
-%{_libdir}/ocaml/*.ml
-%{_libdir}/ocaml/*.cm?
-%{_libdir}/ocaml/*.cmxa
-%{_libdir}/ocaml/*.a
-%{_libdir}/ocaml/*.o
-%{_libdir}/ocaml/addlabels
-%{_libdir}/ocaml/camlheader
-%{_libdir}/ocaml/camlheader_ur
-%{_libdir}/ocaml/expunge
-%{_libdir}/ocaml/extract_crc
-%{_libdir}/ocaml/ld.conf
-%{_libdir}/ocaml/scrapelabels
-# directories
-%{_libdir}/ocaml/caml
-%{_libdir}/ocaml/camlp4
-%{_libdir}/ocaml/labltk
-%{_libdir}/ocaml/ocamldoc
-%{_libdir}/ocaml/stublibs
-%{_libdir}/ocaml/threads
-%{_libdir}/ocaml/vmthreads
-%{_infodir}/*
+%{_bindir}/ocamlbrowser
+%dir %{_libdir}/ocaml/
+%dir %{_libdir}/ocaml/stublibs/
+%{_libdir}/ocaml/labltk/
+%{_libdir}/ocaml/stublibs/dlllabltk.so
+%{_libdir}/ocaml/stublibs/dlltkanim.so
 
+%files -n emacs-ocaml
+%defattr(-, root, root, 0755)
+%doc emacs/README
+%{_bindir}/ocamltags
+%dir %{_datadir}/emacs/
+%dir %{_datadir}/emacs/site-lisp/
+%{_datadir}/emacs/site-lisp/*.el
+%{_datadir}/emacs/site-lisp/*.elc
+
 %changelog
+* Tue Aug 09 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 3.08.3-2
+- Cleanup and fixes to build on x86_64.
+- Added subpackages and obsoletes for FE.
+
 * Thu Mar 31 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 3.08.3-1
 - Update to release 3.08.3.
 

Modified: trunk/rpms/perl-ldap/perl-ldap.spec
===================================================================
--- trunk/rpms/perl-ldap/perl-ldap.spec	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/perl-ldap/perl-ldap.spec	2005-08-12 03:26:51 UTC (rev 3470)
@@ -20,7 +20,7 @@
 
 BuildArch: noarch
 BuildRequires: perl
-Requires: perl-Convert-ASN1, perl-XML-SAX-Base
+Requires: perl(Convert::ASN1), perl(XML::SAX::Base),  perl(IO::Socket::SSL)
 
 %description
 This package contains a perl module with an interface to LDAP.
@@ -35,8 +35,7 @@
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
-%{__rm} -f %{buildroot}%{perl_vendorarch}/auto/perl-ldap/.packlist
-%{__rm} -f %{buildroot}%{perl_archlib}/perllocal.pod
+%{__rm} -rf %{buildroot}%{perl_vendorarch} %{buildroot}%{perl_archlib}
 
 
 %clean
@@ -44,10 +43,15 @@
 
 %files
 %defattr(-, root, root, 0755)
-%doc README ChangeLog TODO CREDITS RELEASE_NOTES
+%doc README ChangeLog CREDITS RELEASE_NOTES TODO
 %{_mandir}/man3/*
+%dir %{perl_vendorlib}/Bundle/
+%dir %{perl_vendorlib}/Bundle/Net/
 %{perl_vendorlib}/Bundle/Net/LDAP.pm
+%dir %{perl_vendorlib}/LWP/
+%dir %{perl_vendorlib}/LWP/Protocol/
 %{perl_vendorlib}/LWP/Protocol/ldap.pm
+%dir %{perl_vendorlib}/Net/
 %{perl_vendorlib}/Net/LDAP*
 
 %changelog

Modified: trunk/rpms/php-adodb/php-adodb.spec
===================================================================
--- trunk/rpms/php-adodb/php-adodb.spec	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/php-adodb/php-adodb.spec	2005-08-12 03:26:51 UTC (rev 3470)
@@ -2,11 +2,11 @@
 # Authority: dag
 
 %define real_name adodb
-%define real_version 460
+%define real_version 465
 
 Summary: Portable Database Library for PHP
 Name: php-adodb
-Version: 4.60
+Version: 4.65
 Release: 1
 License: BSD or LGPL
 Group: Development/Languages
@@ -53,6 +53,9 @@
 %{_localstatedir}/www/adodb/
 
 %changelog
+* Fri Aug 12 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 4.65-1
+- Updated to release 4.65. (Richard Cochius)
+
 * Sat Feb 12 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 4.60-1
 - Updated to release 4.60.
 

Modified: trunk/rpms/smbldap-tools/smbldap-tools.spec
===================================================================
--- trunk/rpms/smbldap-tools/smbldap-tools.spec	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/smbldap-tools/smbldap-tools.spec	2005-08-12 03:26:51 UTC (rev 3470)
@@ -35,8 +35,8 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -d -m0755 %{buildroot}%{_sbindir}
-%{__install} -p -m0755 smbldap-* smbldap_tools.pm %{buildroot}%{_sbindir}
+%{__install} -Dp -m0755 smbldap_tools.pm %{buildroot}%{_sbindir}/smbldap_tools.pm
+%{__install} -p -m0755 smbldap-* %{buildroot}%{_sbindir}
 %{__install} -Dp -m0644 smbldap.conf %{buildroot}%{_sysconfdir}/smbldap-tools/smbldap.conf
 %{__install} -Dp -m0600 smbldap_bind.conf %{buildroot}%{_sysconfdir}/smbldap-tools/smbldap_bind.conf
 
@@ -48,9 +48,13 @@
 %doc ChangeLog CONTRIBUTORS COPYING FILES INFRA INSTALL README TODO
 %doc configure.pl *.conf doc/html/*.html
 %config(noreplace) %{_sysconfdir}/smbldap-tools/
-%{_sbindir}/*
+%{_sbindir}/smbldap*
+%exclude %{_sbindir}/smbldap-tools.spec
 
 %changelog
+* Fri Aug 12 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.9.1-2
+- Excluded smbldap-tools.spec. (Simon Perreault)
+
 * Sat Jun 04 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.9.1-1
 - Updated to release 0.9.1.
 

Modified: trunk/rpms/snackamp/snackamp.spec
===================================================================
--- trunk/rpms/snackamp/snackamp.spec	2005-08-11 22:23:52 UTC (rev 3469)
+++ trunk/rpms/snackamp/snackamp.spec	2005-08-12 03:26:51 UTC (rev 3470)
@@ -23,7 +23,7 @@
 Source1: snackamp.png
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildArch: noarch
+#BuildArch: noarch
 BuildRequires: dos2unix, tcl &gt;= 8.4
 Requires: tcl &gt;= 8.4, tk, libsnack, metakit
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
@@ -94,6 +94,9 @@
 %{!?_without_freedesktop:%{_datadir}/applications/%{desktop_vendor}-snackamp.desktop}
 
 %changelog
+* Fri Aug 12 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 3.1.2-2
+- This is NOT a noarch package.
+
 * Mon Jul 11 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 3.1.2-1
 - Updated to release 3.1.2.
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002270.html">[svn] r3469 - in trunk/rpms: . suphp
</A></li>
	<LI>Next message: <A HREF="002272.html">[svn] r3471 - trunk/rpms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2271">[ date ]</a>
              <a href="thread.html#2271">[ thread ]</a>
              <a href="subject.html#2271">[ subject ]</a>
              <a href="author.html#2271">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
