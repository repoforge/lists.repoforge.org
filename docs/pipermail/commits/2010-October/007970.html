<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r9186 - in /trunk/rpms: asciidoc/ cifs-utils/ feh/ libgc/ libtalloc/ lshw/ mock/ python-decoratortools/ python-hashlib/ samba-scannedonly/ samba3x-scannedonly/ samba3x-vscan/ syslinux/ wine/
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r9186%20-%20in%20/trunk/rpms%3A%20asciidoc/%20cifs-utils/%20feh/%20libgc/%0A%20libtalloc/%20lshw/%0A%20mock/%20python-decoratortools/%20python-hashlib/%20samba-scannedonly/%0A%20samba3x-scannedonly/%20samba3x-vscan/%20syslinux/%20wine/&In-Reply-To=%3C201010191324.o9JDOSTJ019373%40surya.karan.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007969.html">
   <LINK REL="Next"  HREF="007971.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r9186 - in /trunk/rpms: asciidoc/ cifs-utils/ feh/ libgc/ libtalloc/ lshw/ mock/ python-decoratortools/ python-hashlib/ samba-scannedonly/ samba3x-scannedonly/ samba3x-vscan/ syslinux/ wine/</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r9186%20-%20in%20/trunk/rpms%3A%20asciidoc/%20cifs-utils/%20feh/%20libgc/%0A%20libtalloc/%20lshw/%0A%20mock/%20python-decoratortools/%20python-hashlib/%20samba-scannedonly/%0A%20samba3x-scannedonly/%20samba3x-vscan/%20syslinux/%20wine/&In-Reply-To=%3C201010191324.o9JDOSTJ019373%40surya.karan.org%3E"
       TITLE="[svn] r9186 - in /trunk/rpms: asciidoc/ cifs-utils/ feh/ libgc/ libtalloc/ lshw/ mock/ python-decoratortools/ python-hashlib/ samba-scannedonly/ samba3x-scannedonly/ samba3x-vscan/ syslinux/ wine/">dag at wieers.com
       </A><BR>
    <I>Tue Oct 19 15:24:28 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007969.html">[svn] r9185 - /trunk/rpms/perl-version/perl-version.spec
</A></li>
        <LI>Next message: <A HREF="007971.html">[svn] r9187 - in /trunk/tools/unoconv: ChangeLog TODO docs/unoconv.1 docs/unoconv.1.txt unoconv
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7970">[ date ]</a>
              <a href="thread.html#7970">[ thread ]</a>
              <a href="subject.html#7970">[ subject ]</a>
              <a href="author.html#7970">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: Tue Oct 19 14:24:27 2010
New Revision: 9186

URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge?rev=9186&amp;view=rev">http://svn.rpmforge.net/viewvc/rpmforge?rev=9186&amp;view=rev</A>
Log:
Updates

Added:
    trunk/rpms/mock/
    trunk/rpms/mock/mock-0.6.13-centos-FunctionalNet.patch
    trunk/rpms/mock/mock-0.6.13-centos-configs.patch
    trunk/rpms/mock/mock.spec   (with props)
    trunk/rpms/python-decoratortools/
    trunk/rpms/python-decoratortools/python-decoratortools.spec   (with props)
    trunk/rpms/python-hashlib/
    trunk/rpms/python-hashlib/python-hashlib.spec   (with props)
    trunk/rpms/samba-scannedonly/
    trunk/rpms/samba-scannedonly/samba-scannedonly.spec
    trunk/rpms/samba-scannedonly/scannedonly-0.20-ctime.patch   (with props)
    trunk/rpms/samba-scannedonly/scannedonly-0.20-isqueued.patch   (with props)
    trunk/rpms/samba-scannedonly/scannedonly-0.20-zerofile.patch   (with props)
    trunk/rpms/samba3x-scannedonly/
    trunk/rpms/samba3x-scannedonly/samba3x-scannedonly.spec
    trunk/rpms/samba3x-scannedonly/scannedonly-0.20-ctime.patch   (with props)
    trunk/rpms/samba3x-scannedonly/scannedonly-0.20-isqueued.patch   (with props)
    trunk/rpms/samba3x-scannedonly/scannedonly-0.20-zerofile.patch   (with props)
    trunk/rpms/samba3x-vscan/
    trunk/rpms/samba3x-vscan/samba3x-vscan.spec   (with props)
Modified:
    trunk/rpms/asciidoc/asciidoc.spec
    trunk/rpms/cifs-utils/cifs-utils.spec
    trunk/rpms/feh/feh.spec
    trunk/rpms/libgc/libgc.spec
    trunk/rpms/libtalloc/libtalloc.spec
    trunk/rpms/lshw/lshw.spec
    trunk/rpms/syslinux/syslinux-test.spec
    trunk/rpms/wine/wine.spec

Modified: trunk/rpms/asciidoc/asciidoc.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/asciidoc/asciidoc.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/asciidoc/asciidoc.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff</A>
==============================================================================
--- trunk/rpms/asciidoc/asciidoc.spec (original)
+++ trunk/rpms/asciidoc/asciidoc.spec Tue Oct 19 14:24:27 2010
@@ -6,7 +6,7 @@
 
 Summary: Tool to convert AsciiDoc text files to DocBook, HTML or Unix man pages
 Name: asciidoc
-Version: 8.6.1
+Version: 8.6.2
 Release: 1%{?dist}
 License: GPL
 Group: Applications/Text
@@ -106,6 +106,9 @@
 %exclude %{_datadir}/asciidoc/filters/*/*.py[co]
 
 %changelog
+* Sat Oct 09 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 8.6.2-1
+- Updated to release 8.6.2.
+
 * Mon Aug 23 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 8.6.1-1
 - Updated to release 8.6.1.
 

Modified: trunk/rpms/cifs-utils/cifs-utils.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/cifs-utils/cifs-utils.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/cifs-utils/cifs-utils.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff</A>
==============================================================================
--- trunk/rpms/cifs-utils/cifs-utils.spec (original)
+++ trunk/rpms/cifs-utils/cifs-utils.spec Tue Oct 19 14:24:27 2010
@@ -7,7 +7,7 @@
 Summary: Utilities for mounting and managing CIFS mounts
 Name: cifs-utils
 Version: 4.6
-Release: 1%{?dist}
+Release: 2%{?dist}
 License: GPLv3
 Group: System Environment/Daemons
 URL: <A HREF="http://linux-cifs.samba.org/cifs-utils/">http://linux-cifs.samba.org/cifs-utils/</A>
@@ -54,6 +54,9 @@
 %{!?_without_keyutils:%{_sbindir}/cifs.upcall}
 
 %changelog
+* Tue Oct 19 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 4.6-2
+- Rebuild against libtalloc 1.2.0 on RHEL5.
+
 * Mon Aug 02 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 4.6-1
 - Updated to release 4.6.
 

Modified: trunk/rpms/feh/feh.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/feh/feh.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/feh/feh.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff</A>
==============================================================================
--- trunk/rpms/feh/feh.spec (original)
+++ trunk/rpms/feh/feh.spec Tue Oct 19 14:24:27 2010
@@ -6,7 +6,7 @@
 
 Summary: Fast command line image viewer using Imlib2
 Name: feh
-Version: 1.9
+Version: 1.10
 Release: 1%{?dist}
 License: MIT
 Group: Applications/Multimedia
@@ -59,6 +59,9 @@
 %exclude %{_docdir}/feh/
 
 %changelog
+* Fri Oct 08 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.10-1
+- Updated to release 1.10.
+
 * Wed Aug 25 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.9-1
 - Updated to release 1.9.
 

Modified: trunk/rpms/libgc/libgc.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/libgc/libgc.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/libgc/libgc.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff</A>
==============================================================================
--- trunk/rpms/libgc/libgc.spec (original)
+++ trunk/rpms/libgc/libgc.spec Tue Oct 19 14:24:27 2010
@@ -5,7 +5,7 @@
 
 Summary: Conservative garbage collector for C
 Name: libgc
-Version: 7.0
+Version: 7.1
 Release: 1%{?dist}
 Epoch: 1
 License: BSD
@@ -82,6 +82,8 @@
 %{_libdir}/libgccpp.so
 %{_libdir}/libcord.so
 %{_includedir}/gc/
+%{_includedir}/gc.h
+%{_includedir}/gc_cpp.h
 %{_includedir}/libgc/
 %{_libdir}/pkgconfig/bdw-gc.pc
 %exclude %{_libdir}/libgc.a

Modified: trunk/rpms/libtalloc/libtalloc.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/libtalloc/libtalloc.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/libtalloc/libtalloc.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff</A>
==============================================================================
--- trunk/rpms/libtalloc/libtalloc.spec (original)
+++ trunk/rpms/libtalloc/libtalloc.spec Tue Oct 19 14:24:27 2010
@@ -1,5 +1,8 @@
 # $Id$
 # Authority: dag
+
+### RHEL5.5 ships with samba3x and libtalloc-1.2.0
+# ExcludeDist: el5
 
 %define real_name talloc
 

Modified: trunk/rpms/lshw/lshw.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/lshw/lshw.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/lshw/lshw.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff</A>
==============================================================================
--- trunk/rpms/lshw/lshw.spec (original)
+++ trunk/rpms/lshw/lshw.spec Tue Oct 19 14:24:27 2010
@@ -12,8 +12,8 @@
 
 Summary: Hardware lister
 Name: lshw
-%define real_version B.02.14
-Version: 2.14
+%define real_version B.02.15
+Version: 2.15
 Release: 1%{?dist}
 License: GPL
 Group: Applications/System
@@ -67,6 +67,7 @@
     SBINDIR=&quot;%{_sbindir}&quot; \
     MANDIR=&quot;%{_mandir}&quot; \
     INSTALL=&quot;%{__install} -p&quot;
+%find_lang %{name}
 
 %if %{!?_without_gtk24:1}0
 %{__make} install-gui\
@@ -81,12 +82,12 @@
 %clean
 %{__rm} -rf %{buildroot}
 
-%files
+%files -f %{name}.lang
 %defattr(-, root, root, 0755)
 %doc COPYING docs/*
 %doc %{_mandir}/man1/lshw.1*
+%{_datadir}/lshw/
 %{_sbindir}/lshw
-%{_datadir}/lshw/
 
 %if %{!?_without_gtk24:1}0
 %files gui
@@ -97,6 +98,9 @@
 %endif
 
 %changelog
+* Thu Oct 07 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.15-1
+- Updated to release B.02.15.
+
 * Sun Feb 22 2009 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.14-1
 - Updated to release B.02.14.
 

Added: trunk/rpms/mock/mock-0.6.13-centos-FunctionalNet.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/mock/mock-0.6.13-centos-FunctionalNet.patch?rev=9186&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/mock/mock-0.6.13-centos-FunctionalNet.patch?rev=9186&amp;view=markup</A>
==============================================================================
--- trunk/rpms/mock/mock-0.6.13-centos-FunctionalNet.patch (added)
+++ trunk/rpms/mock/mock-0.6.13-centos-FunctionalNet.patch Tue Oct 19 14:24:27 2010
@@ -1,0 +1,16 @@
+diff -uNr mock-0.6.13__orig/etc/defaults.cfg mock-0.6.13/etc/defaults.cfg
+--- mock-0.6.13__orig/etc/defaults.cfg	2006-06-13 06:31:30.000000000 +0100
++++ mock-0.6.13/etc/defaults.cfg	2007-05-15 02:02:40.000000000 +0100
+@@ -30,6 +30,10 @@
+ config_opts['cache_topdir'] = &quot;root-cache&quot;
+ config_opts['max_cache_age_days'] = 15
+ 
++# allow some network tests to run under the chroot
++config_opts['files']['/etc/resolv.conf'] = open(&quot;/etc/resolv.conf&quot;,&quot;r&quot;).read()
++config_opts['files']['/etc/hosts'] = open(&quot;/etc/hosts&quot;,&quot;r&quot;).read()
+ 
+ config_opts['chroot_setup_cmd'] = 'install buildsys-build'
+-#config_opts['chroot_setup_cmd'] = 'groupinstall build'
+\ No newline at end of file
++#config_opts['chroot_setup_cmd'] = 'groupinstall build'
++

Added: trunk/rpms/mock/mock-0.6.13-centos-configs.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/mock/mock-0.6.13-centos-configs.patch?rev=9186&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/mock/mock-0.6.13-centos-configs.patch?rev=9186&amp;view=markup</A>
==============================================================================
--- trunk/rpms/mock/mock-0.6.13-centos-configs.patch (added)
+++ trunk/rpms/mock/mock-0.6.13-centos-configs.patch Tue Oct 19 14:24:27 2010
@@ -1,0 +1,505 @@
+diff -uNr mock-0.6.12__orig/etc/centos-3-i386.cfg mock-0.6.12/etc/centos-3-i386.cfg
+--- mock-0.6.12__orig/etc/centos-3-i386.cfg	1970-01-01 01:00:00.000000000 +0100
++++ mock-0.6.12/etc/centos-3-i386.cfg	2007-04-30 22:47:51.000000000 +0100
+@@ -0,0 +1,53 @@
++#!/usr/bin/python -tt
++import os
++config_opts['root'] = 'centos-3-i386'
++config_opts['target_arch'] = 'i386'
++
++
++config_opts['yum.conf'] = &quot;&quot;&quot;
++[main]
++cachedir=/var/cache/yum
++debuglevel=1
++logfile=/var/log/yum.log
++reposdir=/dev/null
++retries=20
++obsoletes=1
++gpgcheck=0
++assumeyes=1
++
++# repos
++
++[os]
++name=os
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=3&amp;arch=i386&amp;repo=os">http://mirrorlist.centos.org/?release=3&amp;arch=i386&amp;repo=os</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/3/os/i386/">http://mirror.centos.org/centos/3/os/i386/</A>
++
++[updates]
++name=updates
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=3&amp;arch=i386&amp;repo=updates">http://mirrorlist.centos.org/?release=3&amp;arch=i386&amp;repo=updates</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/3/updates/i386/">http://mirror.centos.org/centos/3/updates/i386/</A>
++
++[groups]
++name=groups
++baseurl=<A HREF="http://dev.centos.org/centos/buildsys/3/">http://dev.centos.org/centos/buildsys/3/</A>
++
++&quot;&quot;&quot;
++config_opts['macros'] = &quot;&quot;&quot;
++%_topdir /builddir/build
++%_rpmfilename  %%{NAME}-%%{VERSION}-%%{RELEASE}.%%{ARCH}.rpm
++
++# Change the next two lines to reflect yourself.
++
++#%packager  YourName &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">YourEmail at server.com</A>&gt;
++#%vendor   
++#%distribution 
++
++# please change this to reflect the Distro Tree and Repo hosting packages!
++#%dist    &lt;distro&gt;.&lt;yourtag&gt; 
++%centos_ver     3
++
++#%_smp_mflags   -j1
++
++&quot;&quot;&quot;
++
++
+diff -uNr mock-0.6.12__orig/etc/centos-3-ia64.cfg mock-0.6.12/etc/centos-3-ia64.cfg
+--- mock-0.6.12__orig/etc/centos-3-ia64.cfg	1970-01-01 01:00:00.000000000 +0100
++++ mock-0.6.12/etc/centos-3-ia64.cfg	2007-04-30 22:48:03.000000000 +0100
+@@ -0,0 +1,54 @@
++#!/usr/bin/python -tt
++import os
++config_opts['root'] = 'centos-3-ia64'
++config_opts['target_arch'] = 'ia64'
++
++
++config_opts['yum.conf'] = &quot;&quot;&quot;
++[main]
++cachedir=/var/cache/yum
++debuglevel=1
++logfile=/var/log/yum.log
++reposdir=/dev/null
++retries=20
++obsoletes=1
++gpgcheck=0
++assumeyes=1
++
++# repos
++
++[os]
++name=os
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=3&amp;arch=ia64&amp;repo=os">http://mirrorlist.centos.org/?release=3&amp;arch=ia64&amp;repo=os</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/3/os/ia64/">http://mirror.centos.org/centos/3/os/ia64/</A>
++
++[updates]
++name=updates
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=3&amp;arch=ia64&amp;repo=updates">http://mirrorlist.centos.org/?release=3&amp;arch=ia64&amp;repo=updates</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/3/updates/ia64/">http://mirror.centos.org/centos/3/updates/ia64/</A>
++
++[groups]
++name=groups
++baseurl=<A HREF="http://dev.centos.org/centos/buildsys/3/">http://dev.centos.org/centos/buildsys/3/</A>
++
++&quot;&quot;&quot;
++
++config_opts['macros'] = &quot;&quot;&quot;
++%_topdir /builddir/build
++%_rpmfilename  %%{NAME}-%%{VERSION}-%%{RELEASE}.%%{ARCH}.rpm
++
++# Change the next two lines to reflect yourself.
++
++#%packager  YourName &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">YourEmail at server.com</A>&gt;
++#%vendor   
++#%distribution 
++
++# please change this to reflect the Distro Tree and Repo hosting packages!
++#%dist    &lt;distro&gt;.&lt;yourtag&gt; 
++%centos_ver     3
++
++#%_smp_mflags   -j1
++
++&quot;&quot;&quot;
++
++
+diff -uNr mock-0.6.12__orig/etc/centos-3-x86_64.cfg mock-0.6.12/etc/centos-3-x86_64.cfg
+--- mock-0.6.12__orig/etc/centos-3-x86_64.cfg	1970-01-01 01:00:00.000000000 +0100
++++ mock-0.6.12/etc/centos-3-x86_64.cfg	2007-04-30 22:48:25.000000000 +0100
+@@ -0,0 +1,55 @@
++#!/usr/bin/python -tt
++import os
++
++config_opts['root'] = 'centos-3-x86_64'
++config_opts['target_arch'] = 'x86_64'
++
++
++config_opts['yum.conf'] = &quot;&quot;&quot;
++[main]
++cachedir=/var/cache/yum
++debuglevel=1
++reposdir=/dev/null
++logfile=/var/log/yum.log
++retries=20
++obsoletes=1
++gpgcheck=0
++assumeyes=1
++exclude=[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefhijklmnopqrstuvwxyz]*.i*86 g[abcdefghijkmnopqrstuvwxyz]*.i?86 glib2.i?86 glib.i?86 *-devel.i?86
++# repos
++
++[os]
++name=os
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=3&amp;arch=x86_64&amp;repo=os">http://mirrorlist.centos.org/?release=3&amp;arch=x86_64&amp;repo=os</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/3/os/x86_64/">http://mirror.centos.org/centos/3/os/x86_64/</A>
++
++[updates]
++name=updates
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=3&amp;arch=x86_64&amp;repo=updates">http://mirrorlist.centos.org/?release=3&amp;arch=x86_64&amp;repo=updates</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/3/updates/x86_64/">http://mirror.centos.org/centos/3/updates/x86_64/</A>
++
++[groups]
++name=groups
++baseurl=<A HREF="http://dev.centos.org/centos/buildsys/3/">http://dev.centos.org/centos/buildsys/3/</A>
++&quot;&quot;&quot;
++
++config_opts['macros'] = &quot;&quot;&quot;
++%_topdir /builddir/build
++%_rpmfilename  %%{NAME}-%%{VERSION}-%%{RELEASE}.%%{ARCH}.rpm
++
++# Change the next two lines to reflect yourself.
++
++#%packager  YourName &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">YourEmail at server.com</A>&gt;
++#%vendor   
++#%distribution 
++
++# please change this to reflect the Distro Tree and Repo hosting packages!
++#%dist    &lt;distro&gt;.&lt;yourtag&gt; 
++%centos_ver     3
++
++#%_smp_mflags   -j1
++
++&quot;&quot;&quot;
++
++
++
+diff -uNr mock-0.6.12__orig/etc/centos-4-i386.cfg mock-0.6.12/etc/centos-4-i386.cfg
+--- mock-0.6.12__orig/etc/centos-4-i386.cfg	1970-01-01 01:00:00.000000000 +0100
++++ mock-0.6.12/etc/centos-4-i386.cfg	2007-04-30 22:46:59.000000000 +0100
+@@ -0,0 +1,55 @@
++#!/usr/bin/python -tt
++import os
++config_opts['root'] = 'centos-4-i386'
++config_opts['target_arch'] = 'i386'
++
++
++config_opts['yum.conf'] = &quot;&quot;&quot;
++[main]
++cachedir=/var/cache/yum
++debuglevel=1
++logfile=/var/log/yum.log
++reposdir=/dev/null
++retries=20
++obsoletes=1
++gpgcheck=0
++assumeyes=1
++
++# repos
++
++[os]
++name=os
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=4&amp;arch=i386&amp;repo=os">http://mirrorlist.centos.org/?release=4&amp;arch=i386&amp;repo=os</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/4/os/i386/">http://mirror.centos.org/centos/4/os/i386/</A>
++
++[updates]
++name=updates
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=4&amp;arch=i386&amp;repo=updates">http://mirrorlist.centos.org/?release=4&amp;arch=i386&amp;repo=updates</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/4/updates/i386/">http://mirror.centos.org/centos/4/updates/i386/</A>
++
++[groups]
++name=groups
++baseurl=<A HREF="http://dev.centos.org/centos/buildsys/4/">http://dev.centos.org/centos/buildsys/4/</A>
++
++&quot;&quot;&quot;
++
++
++config_opts['macros'] = &quot;&quot;&quot;
++%_topdir /builddir/build
++%_rpmfilename  %%{NAME}-%%{VERSION}-%%{RELEASE}.%%{ARCH}.rpm
++
++# Change the next two lines to reflect yourself.
++
++#%packager  YourName &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">YourEmail at server.com</A>&gt;
++#%vendor   
++#%distribution 
++
++# please change this to reflect the Distro Tree and Repo hosting packages!
++#%dist    &lt;distro&gt;.&lt;yourtag&gt; 
++%centos_ver     4
++
++#%_smp_mflags   -j1
++
++&quot;&quot;&quot;
++
++
+diff -uNr mock-0.6.12__orig/etc/centos-4-ia64.cfg mock-0.6.12/etc/centos-4-ia64.cfg
+--- mock-0.6.12__orig/etc/centos-4-ia64.cfg	1970-01-01 01:00:00.000000000 +0100
++++ mock-0.6.12/etc/centos-4-ia64.cfg	2007-04-30 22:47:08.000000000 +0100
+@@ -0,0 +1,56 @@
++#!/usr/bin/python -tt
++import os
++config_opts['root'] = 'centos-4-ia64'
++config_opts['target_arch'] = 'ia64'
++
++
++config_opts['yum.conf'] = &quot;&quot;&quot;
++[main]
++cachedir=/var/cache/yum
++debuglevel=1
++logfile=/var/log/yum.log
++reposdir=/dev/null
++retries=20
++obsoletes=1
++gpgcheck=0
++assumeyes=1
++
++# repos
++
++[os]
++name=os
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=4&amp;arch=ia64&amp;repo=os">http://mirrorlist.centos.org/?release=4&amp;arch=ia64&amp;repo=os</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/4/os/ia64/">http://mirror.centos.org/centos/4/os/ia64/</A>
++
++[updates]
++name=updates
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=4&amp;arch=ia64&amp;repo=updates">http://mirrorlist.centos.org/?release=4&amp;arch=ia64&amp;repo=updates</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/4/updates/ia64/">http://mirror.centos.org/centos/4/updates/ia64/</A>
++
++[groups]
++name=groups
++baseurl=<A HREF="http://dev.centos.org/centos/buildsys/4/">http://dev.centos.org/centos/buildsys/4/</A>
++
++&quot;&quot;&quot;
++
++
++config_opts['macros'] = &quot;&quot;&quot;
++%_topdir /builddir/build
++%_rpmfilename  %%{NAME}-%%{VERSION}-%%{RELEASE}.%%{ARCH}.rpm
++
++# Change the next two lines to reflect yourself.
++
++#%packager  YourName &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">YourEmail at server.com</A>&gt;
++#%vendor   
++#%distribution 
++
++# please change this to reflect the Distro Tree and Repo hosting packages!
++#%dist    &lt;distro&gt;.&lt;yourtag&gt; 
++%centos_ver     4
++
++#%_smp_mflags   -j1
++
++&quot;&quot;&quot;
++
++
++
+diff -uNr mock-0.6.12__orig/etc/centos-4-x86_64.cfg mock-0.6.12/etc/centos-4-x86_64.cfg
+--- mock-0.6.12__orig/etc/centos-4-x86_64.cfg	1970-01-01 01:00:00.000000000 +0100
++++ mock-0.6.12/etc/centos-4-x86_64.cfg	2007-04-30 22:47:13.000000000 +0100
+@@ -0,0 +1,56 @@
++#!/usr/bin/python -tt
++import os
++
++config_opts['root'] = 'centos-4-x86_64'
++config_opts['target_arch'] = 'x86_64'
++
++
++config_opts['yum.conf'] = &quot;&quot;&quot;
++[main]
++cachedir=/var/cache/yum
++debuglevel=1
++reposdir=/dev/null
++logfile=/var/log/yum.log
++retries=20
++obsoletes=1
++gpgcheck=0
++assumeyes=1
++exclude=[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefhijklmnopqrstuvwxyz]*.i*86 g[abcdefghijkmnopqrstuvwxyz]*.i?86 glib2.i?86 glib.i?86 *-devel.i?86
++# repos
++
++[os]
++name=os
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=4&amp;arch=x86_64&amp;repo=os">http://mirrorlist.centos.org/?release=4&amp;arch=x86_64&amp;repo=os</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/4/os/x86_64/">http://mirror.centos.org/centos/4/os/x86_64/</A>
++
++[updates]
++name=updates
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=4&amp;arch=x86_64&amp;repo=updates">http://mirrorlist.centos.org/?release=4&amp;arch=x86_64&amp;repo=updates</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/4/updates/x86_64/">http://mirror.centos.org/centos/4/updates/x86_64/</A>
++
++[groups]
++name=groups
++baseurl=<A HREF="http://dev.centos.org/centos/buildsys/4/">http://dev.centos.org/centos/buildsys/4/</A>
++&quot;&quot;&quot;
++
++
++config_opts['macros'] = &quot;&quot;&quot;
++%_topdir /builddir/build
++%_rpmfilename  %%{NAME}-%%{VERSION}-%%{RELEASE}.%%{ARCH}.rpm
++
++# Change the next two lines to reflect yourself.
++
++#%packager  YourName &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">YourEmail at server.com</A>&gt;
++#%vendor   
++#%distribution 
++
++# please change this to reflect the Distro Tree and Repo hosting packages!
++#%dist    &lt;distro&gt;.&lt;yourtag&gt; 
++%centos_ver     4
++
++#%_smp_mflags   -j1
++
++&quot;&quot;&quot;
++
++
++
+diff -uNr mock-0.6.12__orig/etc/centos-5-i386.cfg mock-0.6.12/etc/centos-5-i386.cfg
+--- mock-0.6.12__orig/etc/centos-5-i386.cfg	1970-01-01 01:00:00.000000000 +0100
++++ mock-0.6.12/etc/centos-5-i386.cfg	2007-04-30 22:47:24.000000000 +0100
+@@ -0,0 +1,56 @@
++#!/usr/bin/python -tt
++import os
++config_opts['root'] = 'centos-5-i386'
++config_opts['target_arch'] = 'i386'
++
++
++config_opts['yum.conf'] = &quot;&quot;&quot;
++[main]
++cachedir=/var/cache/yum
++debuglevel=1
++logfile=/var/log/yum.log
++reposdir=/dev/null
++retries=20
++obsoletes=1
++gpgcheck=0
++assumeyes=1
++
++# repos
++
++[os]
++name=os
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=5&amp;arch=i386&amp;repo=os">http://mirrorlist.centos.org/?release=5&amp;arch=i386&amp;repo=os</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/5/os/i386/">http://mirror.centos.org/centos/5/os/i386/</A>
++
++[updates]
++name=updates
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=5&amp;arch=i386&amp;repo=updates">http://mirrorlist.centos.org/?release=5&amp;arch=i386&amp;repo=updates</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/5/updates/i386/">http://mirror.centos.org/centos/5/updates/i386/</A>
++
++[groups]
++name=groups
++baseurl=<A HREF="http://dev.centos.org/centos/buildsys/5/">http://dev.centos.org/centos/buildsys/5/</A>
++
++&quot;&quot;&quot;
++
++config_opts['macros'] = &quot;&quot;&quot;
++%_topdir /builddir/build
++%_rpmfilename  %%{NAME}-%%{VERSION}-%%{RELEASE}.%%{ARCH}.rpm
++
++# Change the next two lines to reflect yourself.
++
++#%packager  YourName &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">YourEmail at server.com</A>&gt;
++#%vendor   
++#%distribution 
++
++# please change this to reflect the Distro Tree and Repo hosting packages!
++#%dist    &lt;distro&gt;.&lt;yourtag&gt; 
++%centos_ver     5
++
++#%_smp_mflags   -j1
++
++&quot;&quot;&quot;
++
++
++
++
+diff -uNr mock-0.6.12__orig/etc/centos-5-x86_64.cfg mock-0.6.12/etc/centos-5-x86_64.cfg
+--- mock-0.6.12__orig/etc/centos-5-x86_64.cfg	1970-01-01 01:00:00.000000000 +0100
++++ mock-0.6.12/etc/centos-5-x86_64.cfg	2007-04-30 22:47:29.000000000 +0100
+@@ -0,0 +1,55 @@
++#!/usr/bin/python -tt
++import os
++
++config_opts['root'] = 'centos-5-x86_64'
++config_opts['target_arch'] = 'x86_64'
++
++
++config_opts['yum.conf'] = &quot;&quot;&quot;
++[main]
++cachedir=/var/cache/yum
++debuglevel=1
++reposdir=/dev/null
++logfile=/var/log/yum.log
++retries=20
++obsoletes=1
++gpgcheck=0
++assumeyes=1
++exclude=[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefhijklmnopqrstuvwxyz]*.i*86 g[abcdefghijkmnopqrstuvwxyz]*.i?86 glib2.i?86 glib.i?86 *-devel.i?86
++# repos
++
++[os]
++name=os
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=5&amp;arch=x86_64&amp;repo=os">http://mirrorlist.centos.org/?release=5&amp;arch=x86_64&amp;repo=os</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/5/os/x86_64/">http://mirror.centos.org/centos/5/os/x86_64/</A>
++
++[updates]
++name=updates
++mirrorlist=<A HREF="http://mirrorlist.centos.org/?release=5&amp;arch=x86_64&amp;repo=updates">http://mirrorlist.centos.org/?release=5&amp;arch=x86_64&amp;repo=updates</A>
++#baseurl=<A HREF="http://mirror.centos.org/centos/5/updates/x86_64/">http://mirror.centos.org/centos/5/updates/x86_64/</A>
++
++[groups]
++name=groups
++baseurl=<A HREF="http://dev.centos.org/centos/buildsys/5/">http://dev.centos.org/centos/buildsys/5/</A>
++&quot;&quot;&quot;
++
++
++config_opts['macros'] = &quot;&quot;&quot;
++%_topdir /builddir/build
++%_rpmfilename  %%{NAME}-%%{VERSION}-%%{RELEASE}.%%{ARCH}.rpm
++
++# Change the next two lines to reflect yourself.
++
++#%packager  YourName &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">YourEmail at server.com</A>&gt;
++#%vendor   
++#%distribution 
++
++# please change this to reflect the Distro Tree and Repo hosting packages!
++#%dist    &lt;distro&gt;.&lt;yourtag&gt; 
++%centos_ver     5
++
++#%_smp_mflags   -j1
++
++&quot;&quot;&quot;
++
++
+diff -uNr mock-0.6.13__orig/etc/centos-3-i386.cfg mock-0.6.13/etc/centos-3-i386.cfg
+--- mock-0.6.13__orig/etc/centos-3-i386.cfg	2007-05-07 23:43:53.000000000 +0100
++++ mock-0.6.13/etc/centos-3-i386.cfg	2007-05-07 23:44:52.000000000 +0100
+@@ -2,6 +2,7 @@
+ import os
+ config_opts['root'] = 'centos-3-i386'
+ config_opts['target_arch'] = 'i386'
++config_opts['runuser'] = '/bin/su'
+ 
+ 
+ config_opts['yum.conf'] = &quot;&quot;&quot;
+diff -uNr mock-0.6.13__orig/etc/centos-3-ia64.cfg mock-0.6.13/etc/centos-3-ia64.cfg
+--- mock-0.6.13__orig/etc/centos-3-ia64.cfg	2007-05-07 23:43:53.000000000 +0100
++++ mock-0.6.13/etc/centos-3-ia64.cfg	2007-05-07 23:45:04.000000000 +0100
+@@ -2,6 +2,7 @@
+ import os
+ config_opts['root'] = 'centos-3-ia64'
+ config_opts['target_arch'] = 'ia64'
++config_opts['runuser'] = '/bin/su'
+ 
+ 
+ config_opts['yum.conf'] = &quot;&quot;&quot;
+diff -uNr mock-0.6.13__orig/etc/centos-3-x86_64.cfg mock-0.6.13/etc/centos-3-x86_64.cfg
+--- mock-0.6.13__orig/etc/centos-3-x86_64.cfg	2007-05-07 23:43:53.000000000 +0100
++++ mock-0.6.13/etc/centos-3-x86_64.cfg	2007-05-07 23:45:13.000000000 +0100
+@@ -3,6 +3,7 @@
+ 
+ config_opts['root'] = 'centos-3-x86_64'
+ config_opts['target_arch'] = 'x86_64'
++config_opts['runuser'] = '/bin/su'
+ 
+ 
+ config_opts['yum.conf'] = &quot;&quot;&quot;

Added: trunk/rpms/mock/mock.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/mock/mock.spec?rev=9186&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/mock/mock.spec?rev=9186&amp;view=markup</A>
==============================================================================
--- trunk/rpms/mock/mock.spec (added)
+++ trunk/rpms/mock/mock.spec Tue Oct 19 14:24:27 2010
@@ -1,0 +1,97 @@
+# $Id$
+# Authority: dag
+
+%define python_sitelib %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib()')
+
+Summary: Tool to allow building packages in chroots
+Name: mock
+Version: 1.0.12
+Release: 1%{?dist}
+License: GPL
+Group: Development/Tools
+URL: <A HREF="http://fedoraproject.org/wiki/Projects/Mock">http://fedoraproject.org/wiki/Projects/Mock</A>
+
+Source: <A HREF="https://fedorahosted.org/mock/attachment/wiki/MockTarballs/mock-%{version">https://fedorahosted.org/mock/attachment/wiki/MockTarballs/mock-%{version</A>}.tar.gz
+#Source: <A HREF="http://fedoraproject.org/projects/mock/releases/mock-%{version">http://fedoraproject.org/projects/mock/releases/mock-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildArch: noarch
+BuildRequires: python-devel &gt;= 2.4
+Requires: gzip
+Requires: python &gt;= 2.4
+Requires: python-ctypes
+Requires: python-decoratortools
+Requires: python-hashlib
+Requires: shadow-utils
+Requires: tar
+Requires: usermode
+Requires: yum &gt;= 2.4
+
+%description
+Mock builds SRPMs in a chroot.
+
+%prep
+%setup
+
+%build
+%configure
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+
+%{__install} -d -m0755 %{buildroot}%{_localstatedir}/lib/mock/
+%{__install} -d -m0755 %{buildroot}%{_localstatedir}/cache/mock/
+%{__ln_s} -f consolehelper %{buildroot}%{_bindir}/mock
+
+%{?el5: %{__ln_s} -f centos-5-%{_arch}.cfg %{buildroot}%{_sysconfdir}/mock/default.cfg}
+%{?el4: %{__ln_s} -f centos-4-%{_arch}.cfg %{buildroot}%{_sysconfdir}/mock/default.cfg}
+%{?el3: %{__ln_s} -f centos-3-%{_arch}.cfg %{buildroot}%{_sysconfdir}/mock/default.cfg}
+%{?el2: %{__ln_s} -f centos-2-%{_arch}.cfg %{buildroot}%{_sysconfdir}/mock/default.cfg}
+
+%{?rh9: %{__ln_s} -f redhat-9-%{_arch}.cfg %{buildroot}%{_sysconfdir}/mock/default.cfg}
+%{?rh7: %{__ln_s} -f redhat-7-%{_arch}.cfg %{buildroot}%{_sysconfdir}/mock/default.cfg}
+
+%{?fc7: %{__ln_s} -f fedora-7-%{_arch}.cfg %{buildroot}%{_sysconfdir}/mock/default.cfg}
+%{?fc6: %{__ln_s} -f fedora-6-%{_arch}.cfg %{buildroot}%{_sysconfdir}/mock/default.cfg}
+%{?fc5: %{__ln_s} -f fedora-5-%{_arch}.cfg %{buildroot}%{_sysconfdir}/mock/default.cfg}
+%{?fc4: %{__ln_s} -f fedora-4-%{_arch}.cfg %{buildroot}%{_sysconfdir}/mock/default.cfg}
+%{?fc3: %{__ln_s} -f fedora-3-%{_arch}.cfg %{buildroot}%{_sysconfdir}/mock/default.cfg}
+%{?fc2: %{__ln_s} -f fedora-2-%{_arch}.cfg %{buildroot}%{_sysconfdir}/mock/default.cfg}
+%{?fc1: %{__ln_s} -f fedora-1-%{_arch}.cfg %{buildroot}%{_sysconfdir}/mock/default.cfg}
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%pre
+if [ $1 -eq 1 ]; then
+    groupadd -r mock &amp;&gt;/dev/null || :
+fi
+
+%files
+%defattr(-, root, root, 0755)
+%doc AUTHORS ChangeLog COPYING INSTALL docs/*.txt
+%doc %{_mandir}/man1/mock.1*
+%config(noreplace) %{_sysconfdir}/mock/
+%config(noreplace) %{_sysconfdir}/pam.d/mock
+%config(noreplace) %{_sysconfdir}/security/console.apps/mock
+%{_bindir}/mock
+%{python_sitelib}/*
+
+%defattr(0755, root, root, 0755)
+%{_sbindir}/mock
+
+%defattr(02775, root, mock, 0755)
+%dir %{_localstatedir}/lib/mock/
+%dir %{_localstatedir}/cache/mock/
+
+%changelog
+* Fri Oct 15 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0.13-1
+- Updated to release 1.0.13.
+
+* Sun Nov 04 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.6.13-1
+- Updated to release 0.6.13.
+
+* Mon Dec 26 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.4-1
+- Initial package. (using DAR)

Propchange: trunk/rpms/mock/mock.spec
------------------------------------------------------------------------------
    svn:eol-style = native

Propchange: trunk/rpms/mock/mock.spec
------------------------------------------------------------------------------
    svn:keywords = Id Revision

Added: trunk/rpms/python-decoratortools/python-decoratortools.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/python-decoratortools/python-decoratortools.spec?rev=9186&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/python-decoratortools/python-decoratortools.spec?rev=9186&amp;view=markup</A>
==============================================================================
--- trunk/rpms/python-decoratortools/python-decoratortools.spec (added)
+++ trunk/rpms/python-decoratortools/python-decoratortools.spec Tue Oct 19 14:24:27 2010
@@ -1,0 +1,51 @@
+# $Id$
+# Authority: dag
+
+%{!?python_sitelib: %define python_sitelib %(%{__python} -c &quot;from distutils.sysconfig import get_python_lib; print get_python_lib()&quot;)}
+%{!?pyver: %define pyver %(%{__python} -c &quot;import sys ; print sys.version[:3]&quot;)}
+
+%define real_name DecoratorTools
+
+Summary: Use class and function decorators
+Name: python-decoratortools
+Version: 1.7
+Release: 1%{?dist}
+License: Python or ZPLv2.1
+Group: Development/Languages
+URL: <A HREF="http://cheeseshop.python.org/pypi/DecoratorTools">http://cheeseshop.python.org/pypi/DecoratorTools</A>
+
+Source: <A HREF="http://cheeseshop.python.org/packages/source/D/DecoratorTools/%{real_name">http://cheeseshop.python.org/packages/source/D/DecoratorTools/%{real_name</A>}-%{version}.zip
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildArch: noarch
+BuildRequires: python-devel
+BuildRequires: python-setuptools-devel
+
+%description
+Want to use decorators, but still need to support Python 2.3? Wish you could
+have class decorators, decorate arbitrary assignments, or match decorated
+function signatures to their original functions? Then you need &quot;DecoratorTools&quot;
+
+%prep
+%setup -n %{real_name}-%{version}
+
+%build
+%{__python} setup.py build
+
+%install
+%{__rm} -rf %{buildroot}
+%{__python} setup.py install --skip-build --root=&quot;%{buildroot}&quot; --prefix=&quot;%{_prefix}&quot;
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc README.txt
+%{python_sitelib}/peak
+%{python_sitelib}/%{real_name}-%{version}-py%{pyver}.egg-info/
+%{python_sitelib}/%{real_name}-%{version}-py%{pyver}-nspkg.pth
+
+%changelog
+* Fri Oct 15 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.7-1
+- Initial package. (using DAR)

Propchange: trunk/rpms/python-decoratortools/python-decoratortools.spec
------------------------------------------------------------------------------
    svn:eol-style = native

Propchange: trunk/rpms/python-decoratortools/python-decoratortools.spec
------------------------------------------------------------------------------
    svn:keywords = Id Revision

Added: trunk/rpms/python-hashlib/python-hashlib.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/python-hashlib/python-hashlib.spec?rev=9186&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/python-hashlib/python-hashlib.spec?rev=9186&amp;view=markup</A>
==============================================================================
--- trunk/rpms/python-hashlib/python-hashlib.spec (added)
+++ trunk/rpms/python-hashlib/python-hashlib.spec Tue Oct 19 14:24:27 2010
@@ -1,0 +1,51 @@
+# $Id$
+# Authority: dag
+
+%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
+
+%define real_name hashlib
+
+Summary: Secure hash and message digest algorithm library
+Name: python-hashlib
+Version: 20081119
+Release: 1%{?dist}
+License: Python
+Group:   Development/Libraries
+URL: <A HREF="http://code.krypto.org/python/hashlib/">http://code.krypto.org/python/hashlib/</A>
+
+Source: <A HREF="http://code.krypto.org/python/hashlib/hashlib-%{version">http://code.krypto.org/python/hashlib/hashlib-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: openssl-devel
+BuildRequires: python-devel
+
+%description
+This is a stand alone packaging of the hashlib library introduced in 
+Python 2.5 so that it can be used on older versions of Python.
+
+%prep
+%setup -n %{real_name}-%{version}
+
+dos2unix ChangeLog README.txt
+
+%build
+CFLAGS=&quot;%{optflags}&quot; %{__python} setup.py build
+
+%install
+%{__rm} -rf %{buildroot}
+%{__python} setup.py install -O1 --root=&quot;%{buildroot}&quot; --prefix=&quot;%{_prefix}&quot;
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc ChangeLog README.txt
+%{python_sitearch}/_*.so
+%{python_sitearch}/hashlib.py
+%{python_sitearch}/hashlib.pyc
+%ghost %{python_sitearch}/hashlib.pyo
+
+%changelog
+* Fri Oct 15 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 20081119-1
+- Initial package. (using DAR)

Propchange: trunk/rpms/python-hashlib/python-hashlib.spec
------------------------------------------------------------------------------
    svn:eol-style = native

Propchange: trunk/rpms/python-hashlib/python-hashlib.spec
------------------------------------------------------------------------------
    svn:keywords = Id Revision

Added: trunk/rpms/samba-scannedonly/samba-scannedonly.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba-scannedonly/samba-scannedonly.spec?rev=9186&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba-scannedonly/samba-scannedonly.spec?rev=9186&amp;view=markup</A>
==============================================================================
--- trunk/rpms/samba-scannedonly/samba-scannedonly.spec (added)
+++ trunk/rpms/samba-scannedonly/samba-scannedonly.spec Tue Oct 19 14:24:27 2010
@@ -1,0 +1,297 @@
+# $Id$
+# Authority: dag
+# Upstream: Olivier Sessink &lt;oli4$users,sourceforge,net&gt;
+
+%define vfsdir %{_libdir}/samba/vfs
+
+%define real_name scannedonly
+
+%{?el5:%define samba_version 3.0.33}
+%{?el4:%define samba_version 3.0.33}
+%{?el3:%define samba_version 3.0.9}
+%{?el2:%define samba_version 2.2.8}
+%{?el2:%define vfsdir %{_prefix}/samba/lib}
+
+Summary: Scannedonly scalable samba anti-virus daemon
+Name: samba-scannedonly
+Version: 0.20
+Release: 2%{?dist}
+License: GPL
+Group: Applications/File
+URL: <A HREF="http://olivier.sessink.nl/scannedonly/">http://olivier.sessink.nl/scannedonly/</A>
+
+Source0: <A HREF="http://olivier.sessink.nl/scannedonly/scannedonly-%{version">http://olivier.sessink.nl/scannedonly/scannedonly-%{version</A>}.tar.bz2
+Source1: <A HREF="http://www.samba.org/samba/ftp/stable/samba-%{samba_version">http://www.samba.org/samba/ftp/stable/samba-%{samba_version</A>}.tar.gz
+Patch0: scannedonly-0.20-ctime.patch
+Patch1: scannedonly-0.20-zerofile.patch
+Patch2: scannedonly-0.20-isqueued.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: clamav-devel
+BuildRequires: libtalloc-devel
+
+Requires: samba = %{samba_version}
+
+%description
+Scannedonly is a samba VFS module and a scanning daemon that ensure that only
+files that have been scanned for viruses are visible and accessible to the end
+user.
+
+Scannedonly was developed because of scalability problems with samba-vscan:
+high server loads when (the same) files were requested often, and timeouts
+when large zip files were requested. Scannedonly doesn't have these problems,
+but it does introduce some other issues. Choose the product that suits you best.
+
+%package -n scannedonly
+Summary: Scannedonly scalable samba anti-virus VFS module
+Group: Applications/File
+
+%description -n scannedonly
+Scannedonly is a samba VFS module and a scanning daemon that ensure that only
+files that have been scanned for viruses are visible and accessible to the end
+user.
+
+Scannedonly was developed because of scalability problems with samba-vscan:
+high server loads when (the same) files were requested often, and timeouts
+when large zip files were requested. Scannedonly doesn't have these problems,
+but it does introduce some other issues. Choose the product that suits you best.
+
+%prep
+%setup -n %{real_name}-%{version} -a1
+%patch0 -p0
+%patch1 -p0
+%patch2 -p0
+
+%{__cat} &lt;&lt;EOF &gt;scannedonlyd.sysconfig
+### The UDP port to listen on. Default: 2020 (but by default a domain
+### socket is used)
+#PORTNUM=2020
+
+### The unix domain socket name to listen on. The directory needs to
+### exist! Default: /var/lib/scannedonly/scan
+#SOCKET=/var/lib/scannedonly/scan
+
+### The total number of scanning threads. Maximum one thread (see option
+### maxlargethreads) will be scanning large files. Maximum one thread
+### might be updating the clam database. So use at least 3 threads if
+### you want to guarantee that there is always a thread for small files
+### available. Default: 4 threads
+#MAXTHREADS=4
+
+### The maximum number of scanning threads that may scan large files.
+### Default: 1 thread
+#MAXLARGETHREADS=1
+
+### The log level from 0 (little logging) to 3 (verbose logging). Default: 1
+#LOGLEVEL=1
+
+### Which size files are treated as big. Default: 5 Mb (and higher)
+#BIG=5
+
+### The interval for status messages in the logs. Default: 10 minutes
+#TIME=10
+
+### The base directory for which requests for scanning are accepted.
+### Requests to scan files outside this directory are ignored. Using thisxi
+###  option is very much advised! Default: / (all files are accepted by default)
+#SCANROOT=/
+
+### Exclude scanning of files that match this (regular expression) pattern.
+### For example '/home/[^/]+/Maildir/.*'. You might want to use the option
+### veto files in your Samba configuration to exclude these files in samba
+### as well, otherwise samba will keep telling that these files need
+### scanning. Default: none
+#EXCLUDE=
+
+### By default a file is renamed into .virus:file. If you want all viruses
+### in a central location specify a quarantainedir. If a virus is found it
+### will be moved to this directory. Default: none
+#QUARANTAINEDIR=
+
+### The maximum request queue length. If the maximum number of requests are
+### on the queue, new requests are ignored. Default: 5000 requests
+#QUEUELEN=5000
+
+### Additional options can be found in the documentation and can be provided
+### here.
+#OPTIONS=
+EOF
+
+%{__cat} &lt;&lt;'EOF' &gt;scannedonlyd.init
+#!/bin/bash
+#
+# Init file for Scannedonly samba antivirus daemon
+#
+# Written by Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;
+#
+# chkconfig: - 90 36
+# description: Scannedonlyd samba antivirus daemon
+#
+# processname: scannedonlyd_clamav
+# pidfile: %{_localstatedir}/run/scannedonlyd_clamav
+
+# Source function library.
+source /etc/rc.d/init.d/functions
+
+# Source networking configuration.
+source /etc/sysconfig/network
+
+DAEMON=&quot;%{_sbindir}/scannedonlyd_clamav&quot;
+SYSCONFIG=&quot;%{_sysconfdir}/sysconfig/scannedonlyd&quot;
+PORTNUM=
+SOCKET=
+MAXTHREADS=
+MAXLARGETHREADS=
+LOGLEVEL=
+BIG=
+TIME=
+SCANROOT=
+QUARANTAINEDIR=
+QUEUELEN=
+PIDFILE=&quot;/var/run/scannedonlyd_clamav&quot;
+EXCLUDE=
+OPTIONS=
+
+if [ -r &quot;$SYSCONFIG&quot; ]; then
+    source &quot;$SYSCONFIG&quot;
+fi
+
+[ -x &quot;$DAEMON&quot; ] || exit 1
+
+RETVAL=0
+prog=&quot;scannedonlyd_clamav&quot;
+desc=&quot;Scannedonly Daemon&quot;
+
+OPTIONS=&quot;$OPTIONS --pidfile=$PIDFILE
+        ${PORTNUM:+--portnum=$PORTNUM}
+        ${SOCKET:+--socket=$SOCKET}
+        ${MAXTHREADS:+--maxthreads=$MAXTHREADS}
+        ${MAXLARGETHREADS:+--maxlargethreads=$MAXLARGETHREADS}
+        ${LOGLEVEL:+--loglevel=$LOGLEVEL}
+        ${BIG:+--big=$BIG}
+        ${TIME:+--time=$TIME}
+        ${SCANROOT:+--scanroot=$SCANROOT}
+        ${QUARANTAINEDIR:+--quarantainedir=$QUARANTAINEDIR}
+        ${QUEUELEN:+--queuelen=$QUEUELEN}
+        ${EXCLUDE:+--exclude=$EXCLUDE}
+    &quot;
+
+start() {
+    echo -n $&quot;Starting $desc ($prog): &quot;
+    daemon --pidfile=$PIDFILE $prog $OPTIONS
+    RETVAL=$?
+    echo
+    [ $RETVAL -eq 0 ] &amp;&amp; touch %{_localstatedir}/lock/subsys/$prog
+    return $RETVAL
+}
+
+stop() {
+    echo -n $&quot;Shutting down $desc ($prog): &quot;
+    killproc $prog
+    RETVAL=$?
+    echo
+    [ $RETVAL -eq 0 ] &amp;&amp; rm -f %{_localstatedir}/lock/subsys/$prog
+    return $RETVAL
+}
+
+restart() {
+    stop
+    start
+}
+
+reload() {
+    echo -n $&quot;Reloading $desc ($prog): &quot;
+    killproc $prog -HUP
+    RETVAL=$?
+    echo
+    return $RETVAL
+}
+
+case &quot;$1&quot; in
+  start)
+    start
+    ;;
+  stop)
+    stop
+    ;;
+  restart)
+    restart
+    ;;
+  reload)
+    reload
+    ;;
+  condrestart)
+    [ -e %{_localstatedir}/lock/subsys/$prog ] &amp;&amp; restart
+    RETVAL=$?
+    ;;
+  status)
+    status $prog
+    RETVAL=$?
+    ;;
+  *)
+    echo $&quot;Usage: $0 {start|stop|restart|reload|condrestart|status}&quot;
+    RETVAL=1
+esac
+
+exit $RETVAL
+EOF
+
+%build
+### Prepare Samba
+cd samba-%{samba_version}/source
+./autogen.sh || :
+./configure
+make proto
+cd -
+
+%configure \
+    --with-samba-source=&quot;$PWD/samba-%{samba_version}/source&quot; \
+    --with-samba-vfs-dir=&quot;%{vfsdir}&quot;
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+
+%{__install} -Dp -m0755 scannedonlyd.init %{buildroot}%{_initrddir}/scannedonlyd
+%{__install} -Dp -m0644 scannedonlyd.sysconfig %{buildroot}%{_sysconfdir}/sysconfig/scannedonlyd
+%{__install} -d -m0755 %{buildroot}%{_localstatedir}/lib/scannedonly/
+
+%post
+/sbin/chkconfig --add scannedonlyd
+
+%preun
+if [ $1 -eq 0 ]; then
+        /sbin/service scannedonlyd stop &amp;&gt; /dev/null || :
+        /sbin/chkconfig --del scannedonlyd
+fi
+
+%postun
+/sbin/service scannedonlyd condrestart &amp;&gt; /dev/null || :
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc COPYING INSTALL
+%dir %{vfsdir}
+%{vfsdir}/scannedonly.so
+
+%files -n scannedonly
+%defattr(-, root, root, 0755)
+%doc COPYING INSTALL
+%doc %{_mandir}/man8/scannedonlyd_clamav.8*
+%doc %{_mandir}/man8/scannedonly_prescan.8*
+%config(noreplace) %{_sysconfdir}/sysconfig/scannedonlyd
+%config %{_initrddir}/scannedonlyd
+%{_bindir}/scannedonly_prescan
+%{_sbindir}/scannedonlyd_clamav
+%dir %{_localstatedir}/lib/scannedonly/
+
+%changelog
+* Thu Oct 14 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.20-2
+- Added a patch to skip already queued files.
+
+* Mon Oct 11 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.20-1
+- Initial package. (using DAR)

Added: trunk/rpms/samba-scannedonly/scannedonly-0.20-ctime.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba-scannedonly/scannedonly-0.20-ctime.patch?rev=9186&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba-scannedonly/scannedonly-0.20-ctime.patch?rev=9186&amp;view=markup</A>
==============================================================================
--- trunk/rpms/samba-scannedonly/scannedonly-0.20-ctime.patch (added)
+++ trunk/rpms/samba-scannedonly/scannedonly-0.20-ctime.patch Tue Oct 19 14:24:27 2010
@@ -1,0 +1,44 @@
+--- src/scannedonlyd_clamav.c.orig	2010-10-13 15:17:16.000000000 +0200
++++ src/scannedonlyd_clamav.c	2010-10-13 15:17:36.000000000 +0200
+@@ -624,10 +624,10 @@
+ 		   			unlink(failedname);
+ 		   		} else {
+ 		   			/* it is a regular file and it exists, check the timestamps */
+-		   			if (sbuf1.st_mtime &lt; sbuf3.st_mtime) {
++		   			if (sbuf1.st_ctime &lt; sbuf3.st_ctime) {
+ 		   				/* .failed: file is newest, rescanning is useless */
+ 		   				
+-		   				if ((sbuf3.st_mtime+60*5) &lt; time(NULL)) {
++		   				if ((sbuf3.st_ctime+60*5) &lt; time(NULL)) {
+ 		   					/* the file did not change the last 5 minutes, it's probably not actively written to
+ 		   					so warn the user and move the file  */
+ 		   					syslog(LOG_INFO, &quot;%d: Not scanning %s, last scan failed &gt;5 minutes ago, creating a warning file&quot;,id,currently_scanning[id]);
+@@ -646,7 +646,7 @@
+ 	   		}
+ 	   	}
+ 	   	
+-			if (ret==-1 || (ret==0&amp;&amp;(sbuf1.st_mtime &gt; sbuf2.st_mtime))) {
++			if (ret==-1 || (ret==0&amp;&amp;(sbuf1.st_ctime &gt; sbuf2.st_ctime))) {
+ 					/* either the .scanned: file does not exist, or the file is newer than the .scanned: file
+ 					in any way we need to re-scan it */
+ 	   		const char *virname=NULL;
+--- src/vfs_scannedonly.c.orig	2010-10-13 15:56:20.000000000 +0200
++++ src/vfs_scannedonly.c	2010-10-13 15:55:47.000000000 +0200
+@@ -440,7 +440,7 @@
+ 
+ 	retval = SMB_VFS_NEXT_STAT(handle, cachefile, &amp;sbuf2);
+ 	if (retval == 0) {
+-		if ((sbuf1.st_mtime &lt;= sbuf2.st_mtime)) {
++		if ((sbuf1.st_ctime &lt;= sbuf2.st_ctime)) {
+ 			talloc_free(cachefile);
+ #ifdef SAMBA_3_0
+ 			talloc_free(ctx);
+@@ -504,7 +504,7 @@
+ #endif
+ 	/* still no cachefile, or still too old, return 0 */
+ 	if (retval != 0
+-	    || (sbuf1.st_mtime &gt; sbuf2.st_mtime)) {
++	    || (sbuf1.st_ctime &gt; sbuf2.st_ctime)) {
+ 		DEBUG(SCANNEDONLY_DEBUG,
+ 		      (&quot;retval=%d, return 0\n&quot;,retval));
+ 		return false;

Propchange: trunk/rpms/samba-scannedonly/scannedonly-0.20-ctime.patch
------------------------------------------------------------------------------
    svn:executable = *

Added: trunk/rpms/samba-scannedonly/scannedonly-0.20-isqueued.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba-scannedonly/scannedonly-0.20-isqueued.patch?rev=9186&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba-scannedonly/scannedonly-0.20-isqueued.patch?rev=9186&amp;view=markup</A>
==============================================================================
--- trunk/rpms/samba-scannedonly/scannedonly-0.20-isqueued.patch (added)
+++ trunk/rpms/samba-scannedonly/scannedonly-0.20-isqueued.patch Tue Oct 19 14:24:27 2010
@@ -1,0 +1,24 @@
+--- src/scannedonlyd_clamav.c.isqueued	2010-10-13 18:05:23.000000000 +0200
++++ src/scannedonlyd_clamav.c	2010-10-13 18:21:32.000000000 +0200
+@@ -98,7 +98,21 @@
+ int status_num_files=0, status_num_files_large=0, status_num_skipped=0, status_num_skipped_large=0, status_num_failed=0, status_outside_scanroot=0, status_max_small_queue=0,status_max_large_queue=0, status_min_small_queue=0,status_min_large_queue=0;
+ int status_timer=10; /* minutes */
+ 
++static int is_queued(Tqueue *q, char *filename) {
++	Tlist *pos = q-&gt;first;
++	while (pos != NULL) {
++		if (! strcmp(pos-&gt;filename, filename))
++			return 1;
++		pos = pos-&gt;next;
++	}
++	return 0;
++}
++
+ static void push_to_queue(Tqueue *q, char *filename) {
++	if (is_queued(q, filename) ) {
++		syslog(LOG_INFO, &quot;%s is already queued&quot;, filename);
++		return;
++	}
+ 	Tlist *l = malloc(sizeof(Tlist));
+ 	l-&gt;filename = strdup(filename);
+ 	l-&gt;next = NULL;

Propchange: trunk/rpms/samba-scannedonly/scannedonly-0.20-isqueued.patch
------------------------------------------------------------------------------
    svn:executable = *

Added: trunk/rpms/samba-scannedonly/scannedonly-0.20-zerofile.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba-scannedonly/scannedonly-0.20-zerofile.patch?rev=9186&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba-scannedonly/scannedonly-0.20-zerofile.patch?rev=9186&amp;view=markup</A>
==============================================================================
--- trunk/rpms/samba-scannedonly/scannedonly-0.20-zerofile.patch (added)
+++ trunk/rpms/samba-scannedonly/scannedonly-0.20-zerofile.patch Tue Oct 19 14:24:27 2010
@@ -1,0 +1,61 @@
+--- src/scannedonlyd_clamav.c.zerofile	2010-04-20 12:56:33.000000000 +0200
++++ src/scannedonlyd_clamav.c	2010-10-13 18:33:01.000000000 +0200
+@@ -313,7 +327,7 @@
+ }
+ 
+ static void handle_file_warning(int logid, const char *file, const char *warnprefix, const char *moveprefix, mode_t mode, uid_t uid, gid_t gid) {
+-	char *warn, *movename, *warncache;
++	char *warn, *movename;
+ 	
+ 	if (!file || file[0] != '/') {
+ 		/* defensive programming */
+@@ -322,7 +336,6 @@
+ 	}
+ 	
+ 	warn = filename_backend(file, warnprefix, &quot;.txt&quot;);
+-	warncache = cachefile_name(warn);
+ 	if (quarantainedir) {
+ 		int qlen,flen,count=0,cont=1;
+ 		char *shortname;
+@@ -349,7 +362,6 @@
+ 	}
+ 	
+ 	create_file(warn, mode, uid,gid);
+-	create_file(warncache, mode, uid,gid);
+ 	syslog(LOG_NOTICE, &quot;%d: moving %s to %s&quot;,logid,file,movename);
+ 	if (rename_or_move(file, movename)!=0) {
+ 		syslog(LOG_WARNING, &quot;failed to rename %s to %s, error %d: %s&quot;,file,movename,errno,strerror(errno));
+@@ -357,7 +369,6 @@
+ 	
+ 	free(movename);
+ 	free(warn);
+-	free(warncache);
+ }
+ 
+ static int is_currently_scanning(const char *filename, int my_id) {
+@@ -571,6 +582,11 @@
+    			continue;
+    		}
+    		
++   		if (sbuf1.st_size == 0) {
++   			syslog(LOG_INFO, &quot;%d: Not scanning %s: 0 byte file&quot;,id,currently_scanning[id]);
++			continue;
++   		}
++
+    		if (scanning_large==0 &amp;&amp; sbuf1.st_size &gt; (bigfiles*1048576) /* Mb */) {
+    			pthread_mutex_lock(&amp;queuelock); /* &lt;--------------------------------------- LOCK START */
+    			if (large_scanning_threads &gt;= maxlargethreads) {
+@@ -597,13 +613,6 @@
+ 
+    		scannedname = cachefile_name(currently_scanning[id]);
+    		
+-   		if (sbuf1.st_size ==0) {
+-   			syslog(LOG_INFO, &quot;%d: Not scanning %s: 0 byte file&quot;,id,currently_scanning[id]);
+-   			create_file(scannedname, sbuf1.st_mode, sbuf1.st_uid,sbuf1.st_gid);
+-
+-				free(scannedname);
+-				continue;
+-   		}
+    	
+    		failedname = filename_backend(currently_scanning[id], &quot;.failed:&quot;, &quot;&quot;);
+    		

Propchange: trunk/rpms/samba-scannedonly/scannedonly-0.20-zerofile.patch
------------------------------------------------------------------------------
    svn:executable = *

Added: trunk/rpms/samba3x-scannedonly/samba3x-scannedonly.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba3x-scannedonly/samba3x-scannedonly.spec?rev=9186&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba3x-scannedonly/samba3x-scannedonly.spec?rev=9186&amp;view=markup</A>
==============================================================================
--- trunk/rpms/samba3x-scannedonly/samba3x-scannedonly.spec (added)
+++ trunk/rpms/samba3x-scannedonly/samba3x-scannedonly.spec Tue Oct 19 14:24:27 2010
@@ -1,0 +1,294 @@
+# $Id$
+# Authority: dag
+# Upstream: Olivier Sessink &lt;oli4$users,sourceforge,net&gt;
+
+# ExclusiveDist: el5
+
+%define vfsdir %{_libdir}/samba/vfs
+
+%define real_name scannedonly
+%define samba_version 3.3.8
+
+Summary: Scannedonly scalable samba anti-virus daemon
+Name: samba3x-scannedonly
+Version: 0.20
+Release: 2%{?dist}
+License: GPL
+Group: Applications/File
+URL: <A HREF="http://olivier.sessink.nl/scannedonly/">http://olivier.sessink.nl/scannedonly/</A>
+
+Source0: <A HREF="http://olivier.sessink.nl/scannedonly/scannedonly-%{version">http://olivier.sessink.nl/scannedonly/scannedonly-%{version</A>}.tar.bz2
+Source1: <A HREF="http://www.samba.org/samba/ftp/stable/samba-%{samba_version">http://www.samba.org/samba/ftp/stable/samba-%{samba_version</A>}.tar.gz
+Patch0: scannedonly-0.20-ctime.patch
+Patch1: scannedonly-0.20-zerofile.patch
+Patch2: scannedonly-0.20-isqueued.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: clamav-devel
+BuildRequires: libtalloc-devel
+
+Requires: samba3x = %{samba_version}
+
+%description
+Scannedonly is a samba VFS module and a scanning daemon that ensure that only
+files that have been scanned for viruses are visible and accessible to the end
+user.
+
+Scannedonly was developed because of scalability problems with samba-vscan:
+high server loads when (the same) files were requested often, and timeouts
+when large zip files were requested. Scannedonly doesn't have these problems,
+but it does introduce some other issues. Choose the product that suits you best.
+
+%package -n scannedonly
+Summary: Scannedonly scalable samba anti-virus VFS module
+Group: Applications/File
+
+%description -n scannedonly
+Scannedonly is a samba VFS module and a scanning daemon that ensure that only
+files that have been scanned for viruses are visible and accessible to the end
+user.
+
+Scannedonly was developed because of scalability problems with samba-vscan:
+high server loads when (the same) files were requested often, and timeouts
+when large zip files were requested. Scannedonly doesn't have these problems,
+but it does introduce some other issues. Choose the product that suits you best.
+
+%prep
+%setup -n %{real_name}-%{version} -a1
+%patch0 -p0
+%patch1 -p0
+%patch2 -p0
+
+%{__cat} &lt;&lt;EOF &gt;scannedonlyd.sysconfig
+### The UDP port to listen on. Default: 2020 (but by default a domain
+### socket is used)
+#PORTNUM=2020
+
+### The unix domain socket name to listen on. The directory needs to
+### exist! Default: /var/lib/scannedonly/scan
+#SOCKET=/var/lib/scannedonly/scan
+
+### The total number of scanning threads. Maximum one thread (see option
+### maxlargethreads) will be scanning large files. Maximum one thread
+### might be updating the clam database. So use at least 3 threads if
+### you want to guarantee that there is always a thread for small files
+### available. Default: 4 threads
+#MAXTHREADS=4
+
+### The maximum number of scanning threads that may scan large files.
+### Default: 1 thread
+#MAXLARGETHREADS=1
+
+### The log level from 0 (little logging) to 3 (verbose logging). Default: 1
+#LOGLEVEL=1
+
+### Which size files are treated as big. Default: 5 Mb (and higher)
+#BIG=5
+
+### The interval for status messages in the logs. Default: 10 minutes
+#TIME=10
+
+### The base directory for which requests for scanning are accepted.
+### Requests to scan files outside this directory are ignored. Using thisxi
+###  option is very much advised! Default: / (all files are accepted by default)
+#SCANROOT=/
+
+### Exclude scanning of files that match this (regular expression) pattern.
+### For example '/home/[^/]+/Maildir/.*'. You might want to use the option
+### veto files in your Samba configuration to exclude these files in samba
+### as well, otherwise samba will keep telling that these files need
+### scanning. Default: none
+#EXCLUDE=
+
+### By default a file is renamed into .virus:file. If you want all viruses
+### in a central location specify a quarantainedir. If a virus is found it
+### will be moved to this directory. Default: none
+#QUARANTAINEDIR=
+
+### The maximum request queue length. If the maximum number of requests are
+### on the queue, new requests are ignored. Default: 5000 requests
+#QUEUELEN=5000
+
+### Additional options can be found in the documentation and can be provided
+### here.
+#OPTIONS=
+EOF
+
+%{__cat} &lt;&lt;'EOF' &gt;scannedonlyd.init
+#!/bin/bash
+#
+# Init file for Scannedonly samba antivirus daemon
+#
+# Written by Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;
+#
+# chkconfig: - 90 36
+# description: Scannedonlyd samba antivirus daemon
+#
+# processname: scannedonlyd_clamav
+# pidfile: %{_localstatedir}/run/scannedonlyd_clamav
+
+# Source function library.
+source /etc/rc.d/init.d/functions
+
+# Source networking configuration.
+source /etc/sysconfig/network
+
+DAEMON=&quot;%{_sbindir}/scannedonlyd_clamav&quot;
+SYSCONFIG=&quot;%{_sysconfdir}/sysconfig/scannedonlyd&quot;
+PORTNUM=
+SOCKET=
+MAXTHREADS=
+MAXLARGETHREADS=
+LOGLEVEL=
+BIG=
+TIME=
+SCANROOT=
+QUARANTAINEDIR=
+QUEUELEN=
+PIDFILE=&quot;/var/run/scannedonlyd_clamav&quot;
+EXCLUDE=
+OPTIONS=
+
+if [ -r &quot;$SYSCONFIG&quot; ]; then
+    source &quot;$SYSCONFIG&quot;
+fi
+
+[ -x &quot;$DAEMON&quot; ] || exit 1
+
+RETVAL=0
+prog=&quot;scannedonlyd_clamav&quot;
+desc=&quot;Scannedonly Daemon&quot;
+
+OPTIONS=&quot;$OPTIONS --pidfile=$PIDFILE
+        ${PORTNUM:+--portnum=$PORTNUM}
+        ${SOCKET:+--socket=$SOCKET}
+        ${MAXTHREADS:+--maxthreads=$MAXTHREADS}
+        ${MAXLARGETHREADS:+--maxlargethreads=$MAXLARGETHREADS}
+        ${LOGLEVEL:+--loglevel=$LOGLEVEL}
+        ${BIG:+--big=$BIG}
+        ${TIME:+--time=$TIME}
+        ${SCANROOT:+--scanroot=$SCANROOT}
+        ${QUARANTAINEDIR:+--quarantainedir=$QUARANTAINEDIR}
+        ${QUEUELEN:+--queuelen=$QUEUELEN}
+        ${EXCLUDE:+--exclude=$EXCLUDE}
+    &quot;
+
+start() {
+    echo -n $&quot;Starting $desc ($prog): &quot;
+    daemon --pidfile=$PIDFILE $prog $OPTIONS
+    RETVAL=$?
+    echo
+    [ $RETVAL -eq 0 ] &amp;&amp; touch %{_localstatedir}/lock/subsys/$prog
+    return $RETVAL
+}
+
+stop() {
+    echo -n $&quot;Shutting down $desc ($prog): &quot;
+    killproc $prog
+    RETVAL=$?
+    echo
+    [ $RETVAL -eq 0 ] &amp;&amp; rm -f %{_localstatedir}/lock/subsys/$prog
+    return $RETVAL
+}
+
+restart() {
+    stop
+    start
+}
+
+reload() {
+    echo -n $&quot;Reloading $desc ($prog): &quot;
+    killproc $prog -HUP
+    RETVAL=$?
+    echo
+    return $RETVAL
+}
+
+case &quot;$1&quot; in
+  start)
+    start
+    ;;
+  stop)
+    stop
+    ;;
+  restart)
+    restart
+    ;;
+  reload)
+    reload
+    ;;
+  condrestart)
+    [ -e %{_localstatedir}/lock/subsys/$prog ] &amp;&amp; restart
+    RETVAL=$?
+    ;;
+  status)
+    status $prog
+    RETVAL=$?
+    ;;
+  *)
+    echo $&quot;Usage: $0 {start|stop|restart|reload|condrestart|status}&quot;
+    RETVAL=1
+esac
+
+exit $RETVAL
+EOF
+
+%build
+### Prepare Samba
+cd samba-%{samba_version}/source
+./autogen.sh || :
+./configure
+make proto
+cd -
+
+%configure \
+    --with-samba-source=&quot;$PWD/samba-%{samba_version}/source&quot; \
+    --with-samba-vfs-dir=&quot;%{vfsdir}&quot;
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+
+%{__install} -Dp -m0755 scannedonlyd.init %{buildroot}%{_initrddir}/scannedonlyd
+%{__install} -Dp -m0644 scannedonlyd.sysconfig %{buildroot}%{_sysconfdir}/sysconfig/scannedonlyd
+%{__install} -d -m0755 %{buildroot}%{_localstatedir}/lib/scannedonly/
+
+%post
+/sbin/chkconfig --add scannedonlyd
+
+%preun
+if [ $1 -eq 0 ]; then
+        /sbin/service scannedonlyd stop &amp;&gt; /dev/null || :
+        /sbin/chkconfig --del scannedonlyd
+fi
+
+%postun
+/sbin/service scannedonlyd condrestart &amp;&gt; /dev/null || :
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc COPYING INSTALL
+%{_sbindir}/scannedonlyd_clamav
+%dir %{_localstatedir}/lib/scannedonly/
+
+%files -n scannedonly
+%defattr(-, root, root, 0755)
+%dir %{vfsdir}
+%{vfsdir}/scannedonly.so
+%doc COPYING INSTALL
+%doc %{_mandir}/man8/scannedonlyd_clamav.8*
+%doc %{_mandir}/man8/scannedonly_prescan.8*
+%config(noreplace) %{_sysconfdir}/sysconfig/scannedonlyd
+%config %{_initrddir}/scannedonlyd
+%{_bindir}/scannedonly_prescan
+
+%changelog
+* Thu Oct 14 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.20-2
+- Added a patch to skip already queued files.
+
+* Mon Oct 11 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.20-1
+- Initial package. (using DAR)

Added: trunk/rpms/samba3x-scannedonly/scannedonly-0.20-ctime.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba3x-scannedonly/scannedonly-0.20-ctime.patch?rev=9186&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba3x-scannedonly/scannedonly-0.20-ctime.patch?rev=9186&amp;view=markup</A>
==============================================================================
--- trunk/rpms/samba3x-scannedonly/scannedonly-0.20-ctime.patch (added)
+++ trunk/rpms/samba3x-scannedonly/scannedonly-0.20-ctime.patch Tue Oct 19 14:24:27 2010
@@ -1,0 +1,44 @@
+--- src/scannedonlyd_clamav.c.orig	2010-10-13 15:17:16.000000000 +0200
++++ src/scannedonlyd_clamav.c	2010-10-13 15:17:36.000000000 +0200
+@@ -624,10 +624,10 @@
+ 		   			unlink(failedname);
+ 		   		} else {
+ 		   			/* it is a regular file and it exists, check the timestamps */
+-		   			if (sbuf1.st_mtime &lt; sbuf3.st_mtime) {
++		   			if (sbuf1.st_ctime &lt; sbuf3.st_ctime) {
+ 		   				/* .failed: file is newest, rescanning is useless */
+ 		   				
+-		   				if ((sbuf3.st_mtime+60*5) &lt; time(NULL)) {
++		   				if ((sbuf3.st_ctime+60*5) &lt; time(NULL)) {
+ 		   					/* the file did not change the last 5 minutes, it's probably not actively written to
+ 		   					so warn the user and move the file  */
+ 		   					syslog(LOG_INFO, &quot;%d: Not scanning %s, last scan failed &gt;5 minutes ago, creating a warning file&quot;,id,currently_scanning[id]);
+@@ -646,7 +646,7 @@
+ 	   		}
+ 	   	}
+ 	   	
+-			if (ret==-1 || (ret==0&amp;&amp;(sbuf1.st_mtime &gt; sbuf2.st_mtime))) {
++			if (ret==-1 || (ret==0&amp;&amp;(sbuf1.st_ctime &gt; sbuf2.st_ctime))) {
+ 					/* either the .scanned: file does not exist, or the file is newer than the .scanned: file
+ 					in any way we need to re-scan it */
+ 	   		const char *virname=NULL;
+--- src/vfs_scannedonly.c.orig	2010-10-13 15:56:20.000000000 +0200
++++ src/vfs_scannedonly.c	2010-10-13 15:55:47.000000000 +0200
+@@ -440,7 +440,7 @@
+ 
+ 	retval = SMB_VFS_NEXT_STAT(handle, cachefile, &amp;sbuf2);
+ 	if (retval == 0) {
+-		if ((sbuf1.st_mtime &lt;= sbuf2.st_mtime)) {
++		if ((sbuf1.st_ctime &lt;= sbuf2.st_ctime)) {
+ 			talloc_free(cachefile);
+ #ifdef SAMBA_3_0
+ 			talloc_free(ctx);
+@@ -504,7 +504,7 @@
+ #endif
+ 	/* still no cachefile, or still too old, return 0 */
+ 	if (retval != 0
+-	    || (sbuf1.st_mtime &gt; sbuf2.st_mtime)) {
++	    || (sbuf1.st_ctime &gt; sbuf2.st_ctime)) {
+ 		DEBUG(SCANNEDONLY_DEBUG,
+ 		      (&quot;retval=%d, return 0\n&quot;,retval));
+ 		return false;

Propchange: trunk/rpms/samba3x-scannedonly/scannedonly-0.20-ctime.patch
------------------------------------------------------------------------------
    svn:executable = *

Added: trunk/rpms/samba3x-scannedonly/scannedonly-0.20-isqueued.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba3x-scannedonly/scannedonly-0.20-isqueued.patch?rev=9186&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba3x-scannedonly/scannedonly-0.20-isqueued.patch?rev=9186&amp;view=markup</A>
==============================================================================
--- trunk/rpms/samba3x-scannedonly/scannedonly-0.20-isqueued.patch (added)
+++ trunk/rpms/samba3x-scannedonly/scannedonly-0.20-isqueued.patch Tue Oct 19 14:24:27 2010
@@ -1,0 +1,24 @@
+--- src/scannedonlyd_clamav.c.isqueued	2010-10-13 18:05:23.000000000 +0200
++++ src/scannedonlyd_clamav.c	2010-10-13 18:21:32.000000000 +0200
+@@ -98,7 +98,21 @@
+ int status_num_files=0, status_num_files_large=0, status_num_skipped=0, status_num_skipped_large=0, status_num_failed=0, status_outside_scanroot=0, status_max_small_queue=0,status_max_large_queue=0, status_min_small_queue=0,status_min_large_queue=0;
+ int status_timer=10; /* minutes */
+ 
++static int is_queued(Tqueue *q, char *filename) {
++	Tlist *pos = q-&gt;first;
++	while (pos != NULL) {
++		if (! strcmp(pos-&gt;filename, filename))
++			return 1;
++		pos = pos-&gt;next;
++	}
++	return 0;
++}
++
+ static void push_to_queue(Tqueue *q, char *filename) {
++	if (is_queued(q, filename) ) {
++		syslog(LOG_INFO, &quot;%s is already queued&quot;, filename);
++		return;
++	}
+ 	Tlist *l = malloc(sizeof(Tlist));
+ 	l-&gt;filename = strdup(filename);
+ 	l-&gt;next = NULL;

Propchange: trunk/rpms/samba3x-scannedonly/scannedonly-0.20-isqueued.patch
------------------------------------------------------------------------------
    svn:executable = *

Added: trunk/rpms/samba3x-scannedonly/scannedonly-0.20-zerofile.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba3x-scannedonly/scannedonly-0.20-zerofile.patch?rev=9186&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba3x-scannedonly/scannedonly-0.20-zerofile.patch?rev=9186&amp;view=markup</A>
==============================================================================
--- trunk/rpms/samba3x-scannedonly/scannedonly-0.20-zerofile.patch (added)
+++ trunk/rpms/samba3x-scannedonly/scannedonly-0.20-zerofile.patch Tue Oct 19 14:24:27 2010
@@ -1,0 +1,61 @@
+--- src/scannedonlyd_clamav.c.zerofile	2010-04-20 12:56:33.000000000 +0200
++++ src/scannedonlyd_clamav.c	2010-10-13 18:33:01.000000000 +0200
+@@ -313,7 +327,7 @@
+ }
+ 
+ static void handle_file_warning(int logid, const char *file, const char *warnprefix, const char *moveprefix, mode_t mode, uid_t uid, gid_t gid) {
+-	char *warn, *movename, *warncache;
++	char *warn, *movename;
+ 	
+ 	if (!file || file[0] != '/') {
+ 		/* defensive programming */
+@@ -322,7 +336,6 @@
+ 	}
+ 	
+ 	warn = filename_backend(file, warnprefix, &quot;.txt&quot;);
+-	warncache = cachefile_name(warn);
+ 	if (quarantainedir) {
+ 		int qlen,flen,count=0,cont=1;
+ 		char *shortname;
+@@ -349,7 +362,6 @@
+ 	}
+ 	
+ 	create_file(warn, mode, uid,gid);
+-	create_file(warncache, mode, uid,gid);
+ 	syslog(LOG_NOTICE, &quot;%d: moving %s to %s&quot;,logid,file,movename);
+ 	if (rename_or_move(file, movename)!=0) {
+ 		syslog(LOG_WARNING, &quot;failed to rename %s to %s, error %d: %s&quot;,file,movename,errno,strerror(errno));
+@@ -357,7 +369,6 @@
+ 	
+ 	free(movename);
+ 	free(warn);
+-	free(warncache);
+ }
+ 
+ static int is_currently_scanning(const char *filename, int my_id) {
+@@ -571,6 +582,11 @@
+    			continue;
+    		}
+    		
++   		if (sbuf1.st_size == 0) {
++   			syslog(LOG_INFO, &quot;%d: Not scanning %s: 0 byte file&quot;,id,currently_scanning[id]);
++			continue;
++   		}
++
+    		if (scanning_large==0 &amp;&amp; sbuf1.st_size &gt; (bigfiles*1048576) /* Mb */) {
+    			pthread_mutex_lock(&amp;queuelock); /* &lt;--------------------------------------- LOCK START */
+    			if (large_scanning_threads &gt;= maxlargethreads) {
+@@ -597,13 +613,6 @@
+ 
+    		scannedname = cachefile_name(currently_scanning[id]);
+    		
+-   		if (sbuf1.st_size ==0) {
+-   			syslog(LOG_INFO, &quot;%d: Not scanning %s: 0 byte file&quot;,id,currently_scanning[id]);
+-   			create_file(scannedname, sbuf1.st_mode, sbuf1.st_uid,sbuf1.st_gid);
+-
+-				free(scannedname);
+-				continue;
+-   		}
+    	
+    		failedname = filename_backend(currently_scanning[id], &quot;.failed:&quot;, &quot;&quot;);
+    		

Propchange: trunk/rpms/samba3x-scannedonly/scannedonly-0.20-zerofile.patch
------------------------------------------------------------------------------
    svn:executable = *

Added: trunk/rpms/samba3x-vscan/samba3x-vscan.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba3x-vscan/samba3x-vscan.spec?rev=9186&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/samba3x-vscan/samba3x-vscan.spec?rev=9186&amp;view=markup</A>
==============================================================================
--- trunk/rpms/samba3x-vscan/samba3x-vscan.spec (added)
+++ trunk/rpms/samba3x-vscan/samba3x-vscan.spec Tue Oct 19 14:24:27 2010
@@ -1,0 +1,88 @@
+# $Id$
+# Authority: dag
+
+# DistExclusive: el5
+
+%{?el5:%define version 3.3.8}
+
+%define real_name samba-vscan
+%define real_version 0.3.6c-beta5
+
+%define _prefix /usr/samba
+
+Summary: On-access virus scanning for samba using ClamAV
+Name: samba3x-vscan
+Version: %{version}
+Release: 1%{?dist}
+License: GPLv3
+Group: Applications/File
+URL: <A HREF="http://www.openantivirus.org/">http://www.openantivirus.org/</A>
+
+Source0: <A HREF="http://www.openantivirus.org/download/samba-vscan-%{real_version">http://www.openantivirus.org/download/samba-vscan-%{real_version</A>}.tar.gz
+Source1: <A HREF="http://www.samba.org/samba/ftp/stable/samba-%{version">http://www.samba.org/samba/ftp/stable/samba-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+Requires: samba3x-common = %{version}
+
+%description
+A vfs-module for samba to implement on-access scanning using the
+ClamAV antivirus software (which must be installed to use this).
+
+%prep
+%setup -a1 -n %{real_name}-%{real_version}
+
+%build
+### Prepare Samba
+cd samba-%{version}/source
+./autogen.sh
+./configure
+make proto
+cd -
+
+%configure \
+    --with-fsh=&quot;yes&quot; \
+    --with-samba-source=&quot;samba-%{version}/source/&quot;
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot; prefix=&quot;%{_prefix}&quot;
+
+for conf in */vscan-*.conf; do
+    %{__install} -Dp -m0644 $conf %{buildroot}%{_sysconfdir}/samba/${conf##*/}
+done
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc AUTHORS ChangeLog COPYING FAQ INSTALL NEWS README TODO
+%config(noreplace) %{_sysconfdir}/samba/vscan-antivir.conf
+%config(noreplace) %{_sysconfdir}/samba/vscan-clamav.conf
+%config(noreplace) %{_sysconfdir}/samba/vscan-fprotd.conf
+%config(noreplace) %{_sysconfdir}/samba/vscan-fsav.conf
+%config(noreplace) %{_sysconfdir}/samba/vscan-icap.conf
+%config(noreplace) %{_sysconfdir}/samba/vscan-kavp.conf
+%config(noreplace) %{_sysconfdir}/samba/vscan-mcdaemon.conf
+%config(noreplace) %{_sysconfdir}/samba/vscan-mks32.conf
+%config(noreplace) %{_sysconfdir}/samba/vscan-oav.conf
+%config(noreplace) %{_sysconfdir}/samba/vscan-sophos.conf
+%config(noreplace) %{_sysconfdir}/samba/vscan-trend.conf
+%dir %{_prefix}/lib/vfs/
+%{_prefix}/lib/vfs/vscan-antivir.so
+%{_prefix}/lib/vfs/vscan-clamav.so
+%{_prefix}/lib/vfs/vscan-fprotd.so
+%{_prefix}/lib/vfs/vscan-fsav.so
+%{_prefix}/lib/vfs/vscan-icap.so
+%{_prefix}/lib/vfs/vscan-kavp.so
+%{_prefix}/lib/vfs/vscan-mcdaemon.so
+%{_prefix}/lib/vfs/vscan-mksd.so
+%{_prefix}/lib/vfs/vscan-oav.so
+%{_prefix}/lib/vfs/vscan-sophos.so
+%{_prefix}/lib/vfs/vscan-trend.so
+%exclude %{_sysconfdir}/samba/vscan-symantec.conf
+
+%changelog
+* Thu Oct 07 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 3.3.8-1
+- Initial package. (using DAR)

Propchange: trunk/rpms/samba3x-vscan/samba3x-vscan.spec
------------------------------------------------------------------------------
    svn:eol-style = native

Propchange: trunk/rpms/samba3x-vscan/samba3x-vscan.spec
------------------------------------------------------------------------------
    svn:keywords = Id Revision

Modified: trunk/rpms/syslinux/syslinux-test.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/syslinux/syslinux-test.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/syslinux/syslinux-test.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff</A>
==============================================================================
--- trunk/rpms/syslinux/syslinux-test.spec (original)
+++ trunk/rpms/syslinux/syslinux-test.spec Tue Oct 19 14:24:27 2010
@@ -9,8 +9,8 @@
 
 Summary: Kernel bootloader for FAT or ISO9660 filesystems or PXE networks
 Name: syslinux
-Version: 4.00
-%define real_version 4.02-pre5
+Version: 4.03
+%define real_version 4.03-pre5
 Release: 0.pre5%{?dist}
 License: GPL
 Group: Applications/System
@@ -87,6 +87,9 @@
 /boot/extlinux/
 
 %changelog
+* Wed Oct 13 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 4.03-0.pre5
+- Updated to release 4.03-pre5.
+
 * Tue Jul 20 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 4.02-0.pre5
 - Updated to release 4.02-pre5.
 

Modified: trunk/rpms/wine/wine.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/wine/wine.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/wine/wine.spec?rev=9186&amp;r1=9185&amp;r2=9186&amp;view=diff</A>
==============================================================================
--- trunk/rpms/wine/wine.spec (original)
+++ trunk/rpms/wine/wine.spec Tue Oct 19 14:24:27 2010
@@ -18,14 +18,14 @@
 
 Summary: Windows 16/32/64 bit emulator
 Name: wine
-Version: 1.2
-Release: 3%{?dist}
+Version: 1.2.1
+Release: 1%{?dist}
 License: LGPLv2+
 Group: Applications/Emulators
 URL: <A HREF="http://www.winehq.org/">http://www.winehq.org/</A>
 
 Source: <A HREF="http://dl.sf.net/sourceforge/wine/wine-%{version">http://dl.sf.net/sourceforge/wine/wine-%{version</A>}.tar.bz2
-Patch1: wine-1.2-rpath.patch
+Patch1: wine-1.2.1-rpath.patch
 ### Fix for RHbz #593140
 Patch100: wine-1.2-fonts.patch
 ### Add wine-gecko support
@@ -504,7 +504,7 @@
 %{_libdir}/wine/write.exe.so
 %{_libdir}/wine/xcopy.exe.so
 
-### cpl
+### cpl.so
 %{_libdir}/wine/appwiz.cpl.so
 
 ### dll16.so
@@ -940,6 +940,9 @@
 %{_libdir}/wine/*.def
 
 %changelog
+* Sat Oct 09 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.2.1-1
+- Updated to release 1.2.1.
+
 * Sat Sep 18 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.2-3
 - Moved gecko cabinet file in separate wine-gecko package.
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007969.html">[svn] r9185 - /trunk/rpms/perl-version/perl-version.spec
</A></li>
	<LI>Next message: <A HREF="007971.html">[svn] r9187 - in /trunk/tools/unoconv: ChangeLog TODO docs/unoconv.1 docs/unoconv.1.txt unoconv
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7970">[ date ]</a>
              <a href="thread.html#7970">[ thread ]</a>
              <a href="subject.html#7970">[ subject ]</a>
              <a href="author.html#7970">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
