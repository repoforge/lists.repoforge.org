<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [SVN] r2415 - in trunk/rpms: . Gtk-Perl armagetron-moviepack faad2	gkrellm-plugins libebml libfame libmatroska libmpeg3 ogle	ogle_gui perl-Cache-Cache perl-Video-DVDRip perl-libintl	transcode videolan-client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r2415%20-%20in%20trunk/rpms%3A%20.%20Gtk-Perl%20armagetron-moviepack%20faad2%0A%09gkrellm-plugins%20libebml%20libfame%20libmatroska%20libmpeg3%20ogle%0A%09ogle_gui%20perl-Cache-Cache%20perl-Video-DVDRip%20perl-libintl%0A%09transcode%20videolan-client&In-Reply-To=%3C20041104195854.349FF17F81%40web22.us.megagiga.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001220.html">
   <LINK REL="Next"  HREF="001222.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[SVN] r2415 - in trunk/rpms: . Gtk-Perl armagetron-moviepack faad2	gkrellm-plugins libebml libfame libmatroska libmpeg3 ogle	ogle_gui perl-Cache-Cache perl-Video-DVDRip perl-libintl	transcode videolan-client</H1>
    <B>svn-commits at rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r2415%20-%20in%20trunk/rpms%3A%20.%20Gtk-Perl%20armagetron-moviepack%20faad2%0A%09gkrellm-plugins%20libebml%20libfame%20libmatroska%20libmpeg3%20ogle%0A%09ogle_gui%20perl-Cache-Cache%20perl-Video-DVDRip%20perl-libintl%0A%09transcode%20videolan-client&In-Reply-To=%3C20041104195854.349FF17F81%40web22.us.megagiga.com%3E"
       TITLE="[SVN] r2415 - in trunk/rpms: . Gtk-Perl armagetron-moviepack faad2	gkrellm-plugins libebml libfame libmatroska libmpeg3 ogle	ogle_gui perl-Cache-Cache perl-Video-DVDRip perl-libintl	transcode videolan-client">svn-commits at rpmforge.net
       </A><BR>
    <I>Thu Nov  4 20:58:54 CET 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="001220.html">[SVN] r2414 - trunk/rpms/pport
</A></li>
        <LI>Next message: <A HREF="001222.html">[SVN] r2416 - in trunk/rpms: . aide amavisd-new clamav dconf dstat	gdesklets-goodweather kdissert lftp libgda memtest86+	perl-Kwiki php-adodb rootsh s4g snackamp tnftp vpnc whowatch xosview
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1221">[ date ]</a>
              <a href="thread.html#1221">[ thread ]</a>
              <a href="subject.html#1221">[ subject ]</a>
              <a href="author.html#1221">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dude
Date: 2004-11-04 20:58:52 +0100 (Thu, 04 Nov 2004)
New Revision: 2415

Added:
   trunk/rpms/Gtk-Perl/
   trunk/rpms/Gtk-Perl/Gtk-Perl.spec
   trunk/rpms/Gtk-Perl/filter-depends.sh
   trunk/rpms/libfame/libfame-0.9.1-gcc34-1.patch
   trunk/rpms/perl-libintl/
   trunk/rpms/perl-libintl/perl-libintl.spec
   trunk/rpms/transcode/transcode-0.6.13-bitstream.patch
Removed:
   trunk/rpms/transcode/transcode-0.6.12-gcc296.patch
Modified:
   trunk/rpms/armagetron-moviepack/armagetron-moviepack.spec
   trunk/rpms/faad2/faad2.spec
   trunk/rpms/gkrellm-plugins/gkrellm-plugins.spec
   trunk/rpms/libebml/libebml.spec
   trunk/rpms/libfame/libfame.spec
   trunk/rpms/libmatroska/libmatroska.spec
   trunk/rpms/libmpeg3/libmpeg3.spec
   trunk/rpms/ogle/ogle.spec
   trunk/rpms/ogle_gui/ogle_gui.spec
   trunk/rpms/perl-Cache-Cache/perl-Cache-Cache.spec
   trunk/rpms/perl-Video-DVDRip/perl-Video-DVDRip.spec
   trunk/rpms/transcode/transcode.spec
   trunk/rpms/videolan-client/videolan-client.spec
Log:
Today's bunch of updates and tweaks while rebuilding for FC3.


Added: trunk/rpms/Gtk-Perl/Gtk-Perl.spec
===================================================================
--- trunk/rpms/Gtk-Perl/Gtk-Perl.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/Gtk-Perl/Gtk-Perl.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -0,0 +1,207 @@
+# $Id$
+
+%define _use_internal_dependency_generator 0
+
+Summary: Perl extensions for GTK+ (the Gimp ToolKit)
+Name: Gtk-Perl
+Version: 0.7008
+Release: 37
+License: LGPL
+Group: System Environment/Libraries
+URL: <A HREF="http://www.gtkperl.org/">http://www.gtkperl.org/</A>
+Source: <A HREF="http://www.gtkperl.org/Gtk-Perl-%{version">http://www.gtkperl.org/Gtk-Perl-%{version</A>}.tar.gz
+Source10: filter-depends.sh
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+BuildRequires: gtk+-devel, gdk-pixbuf-devel, libglade-devel
+BuildRequires: gnome-libs-devel, Mesa-devel
+BuildRequires: gtkhtml-devel, gal-devel, perl-XML-Parser
+
+# Internal perl provides not caught by the find-provides
+Provides: perl(Gnome::Applet::Types)
+Provides: perl(Gtk::GLArea::Types)
+Provides: perl(Gtk::Gdk::Pixbuf::Types)
+Provides: perl(Gtk::GladeXML::Types)
+Provides: perl(Gtk::XmHTML::Types)
+
+%define __find_requires %{SOURCE10}
+
+Obsoletes: gtk+-perl
+
+%description
+This package includes Perl extensions for GTK+ (the Gimp ToolKit), a
+library used for creating graphical user interfaces for the X Window
+System. The extensions provided in this package allow you to write
+graphical interfaces using Perl and GTK+. If you install this package,
+you will need to also have Perl and GTK+ installed.
+
+%prep
+%setup
+# copied from mandrake srpm
+# fix for new MakeMaker (ie new perl 5.8.0)
+%{__perl} -pi -e '/CCCMD/ &amp;&amp; s|/m;|/mg;|' */Makefile.PL
+
+
+%build
+CFLAGS=&quot;%{optflags}&quot; %{__perl} Makefile.PL \
+    PREFIX=%{buildroot}%{_prefix} \
+    INSTALLDIRS=vendor \
+    --without-guessing
+%{__make} %{?_smp_mflags}
+
+for dir in GdkImlib GdkPixbuf Glade Gnome GtkXmHTML ; do
+    pushd ${dir}
+        CFLAGS=&quot;%{optflags}&quot; %{__perl} Makefile.PL \
+        PREFIX=%{buildroot}%{_prefix} \
+        INSTALLDIRS=vendor
+        %{__make} %{?_smp_mflags}
+    popd
+done
+
+%install
+%{__rm} -rf %{buildroot}
+
+%{__make} install \
+    VENDORPREFIX=%{buildroot}%{_prefix} \
+    INSTALLDIRS=vendor
+
+for dir in GdkImlib GdkPixbuf Glade Gnome GtkXmHTML ; do
+    pushd ${dir}
+        %{__make} install \
+        VENDORPREFIX=%{buildroot}%{_prefix} \
+        INSTALLDIRS=vendor
+    popd
+done
+
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{_libdir}/perl5/*/*-linux-thread-multi/
+
+
+%clean 
+%{__rm} -rf %{buildroot}
+
+
+%files 
+%defattr(-, root, root, 0755)
+%doc ChangeLog NOTES README VERSIONS
+%{_libdir}/perl5/vendor_perl/*/*-linux*/Gnome/
+%{_libdir}/perl5/vendor_perl/*/*-linux*/Gtk/
+%{_libdir}/perl5/vendor_perl/*/*-linux*/Gtk.pm
+%{_libdir}/perl5/vendor_perl/*/*-linux*/Gnome.pm
+%{_libdir}/perl5/vendor_perl/*/*-linux*/auto/Gnome/
+%{_libdir}/perl5/vendor_perl/*/*-linux*/auto/Gtk/
+%{_mandir}/man?/*
+
+
+%changelog
+* Thu Nov  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.7008-36
+- Take over where Red Hat left off :
+  <A HREF="http://www.redhat.com/archives/fedora-devel-list/2004-August/msg00455.html">http://www.redhat.com/archives/fedora-devel-list/2004-August/msg00455.html</A>
+- Major spec file cleanup.
+
+* Tue Mar 02 2004 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- rebuilt
+
+* Fri Feb 13 2004 Elliot Lee &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">sopwith at redhat.com</A>&gt;
+- rebuilt
+
+* Tue Jun 17 2003 Chip Turner &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">cturner at redhat.com</A>&gt; 0.7008-35
+- rebuild
+
+* Mon Jan 27 2003 Chip Turner &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">cturner at redhat.com</A>&gt;
+- version bump and rebuild
+
+* Sat Dec 14 2002 Chip Turner &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">cturner at redhat.com</A>&gt;
+- don't use internal rpm dep generator
+
+* Wed Nov 20 2002 Chip Turner &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">cturner at redhat.com</A>&gt;
+- rebuild
+
+* Thu Aug 15 2002 Chip Turner &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">cturner at redhat.com</A>&gt;
+- fix for perl 5.8.0
+- filter out perl(XML::Writer) dependency
+
+* Tue Aug  6 2002 Chip Turner &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">cturner at redhat.com</A>&gt;
+- automated release bump and build
+
+* Sat Jan 26 2002 Jeff Johnson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jbj at redhat.com</A>&gt;
+- added perl provides.
+
+* Wed Jan 09 2002 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- automated rebuild
+
+* Fri Dec 14 2001 Trond Eivind Glomsr&#248;d &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">teg at redhat.com</A>&gt; 0.7008-4
+- Don't hardcode 5.6.0
+
+* Thu Aug 30 2001 Trond Eivind Glomsr&#248;d &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">teg at redhat.com</A>&gt; 0.7008-3
+- remove *::reference man pages, as we don't ship all the modules
+  the package wants do build them (#52851)
+
+* Tue Jul 31 2001 Trond Eivind Glomsr&#248;d &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">teg at redhat.com</A>&gt;
+- More BuildRequires
+
+* Mon Jul 23 2001 Trond Eivind Glomsr&#248;d &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">teg at redhat.com</A>&gt;
+- Use %%{_tmppath}
+- 0.7008
+- Update URL and file location
+- s/Copyright/License/
+- add more buildrequires (#49784)
+
+* Thu Jul  5 2001 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- fixed file list so that we own the dirs we need to
+- remove perl-temp-files
+
+* Mon May 21 2001 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- rebuilt against newer gtk+ libs
+
+* Thu Jan 11 2001 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- excludearched ia64
+
+* Sun Dec 10 2000 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- built the added modules for bug 22013 since he uses that stuff.
+
+* Mon Nov 20 2000 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- rebuilt to fix bad dir perms
+
+* Fri Nov 10 2000 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- updated to 0.7004
+- added docs
+
+* Mon Jul 24 2000 Prospector &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">prospector at redhat.com</A>&gt;
+- rebuilt
+
+* Mon Jul 17 2000 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- added defattr
+
+* Mon Jul 10 2000 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- rebuilt
+
+* Mon Jul 03 2000 Prospector &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bugzilla at redhat.com</A>&gt;
+- automatic rebuild
+
+* Mon May 22 2000 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- updated to 0.7
+- built for 7.0
+
+* Tue Dec 21 1999 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- updated to 0.6123
+- built for 6.2
+
+* Fri Jun 25 1999 Tim Powers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">timp at redhat.com</A>&gt;
+- rebuilt for 6.1
+* Mon May 10 1999 Cristian Gafton &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">gafton at redhat.com</A>&gt;
+- version 0.5121
+
+* Tue Dec 02 1998 Michael Maher &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mike at redhat.com</A>&gt;
+- updated to version 0.4
+
+* Fri Oct 08 1998 Michael Maher &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mikee at redhat.com</A>&gt;
+- cleaned up spec, built for 5.2 powertools.
+- added buildroot
+
+* Tue Jul 14 1998 The Rasterman &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">raster at redhat.com</A>&gt;
+- Made it rebuild on multiple architectures (still linux only tho)
+- this NEEDS to be buildrooted. not willign to do that quite yet.
+
+* Fri Jul 10 1998 Jeff Carr &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jcarr at linuxppc.org</A>&gt;
+- Turned of -O2 on the ppc version
+- I'm not sure about the LGPL part


Property changes on: trunk/rpms/Gtk-Perl/Gtk-Perl.spec
___________________________________________________________________
Name: svn:keywords
   + Id

Added: trunk/rpms/Gtk-Perl/filter-depends.sh
===================================================================
--- trunk/rpms/Gtk-Perl/filter-depends.sh	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/Gtk-Perl/filter-depends.sh	2004-11-04 19:58:52 UTC (rev 2415)
@@ -0,0 +1,3 @@
+#!/bin/sh
+
+/usr/lib/rpm/find-requires.perl $* | grep -v HTTP::GHTTP | grep -v OpenGL | grep -v XML::Writer


Property changes on: trunk/rpms/Gtk-Perl/filter-depends.sh
___________________________________________________________________
Name: svn:executable
   + *

Modified: trunk/rpms/armagetron-moviepack/armagetron-moviepack.spec
===================================================================
--- trunk/rpms/armagetron-moviepack/armagetron-moviepack.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/armagetron-moviepack/armagetron-moviepack.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -1,6 +1,5 @@
 # $Id: armagetron.spec 173 2004-03-28 04:37:02Z dag $
 # Authority: matthias
-
 # Dist: nodist
 
 %define prefix %{_prefix}/games/armagetron
@@ -11,10 +10,10 @@
 Release: 1
 License: Proprietary
 Group: Amusements/Games
+URL: <A HREF="http://armagetron.sourceforge.net/">http://armagetron.sourceforge.net/</A>
 Source0: <A HREF="http://armagetron.sourceforge.net/addons/moviepack.zip">http://armagetron.sourceforge.net/addons/moviepack.zip</A>
 Source1: <A HREF="http://armagetron.sourceforge.net/addons/moviesounds_mq.zip">http://armagetron.sourceforge.net/addons/moviesounds_mq.zip</A>
 Source2: settings.cfg.realistic
-URL: <A HREF="http://armagetron.sourceforge.net/">http://armagetron.sourceforge.net/</A>
 Buildroot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildArch: noarch
 Requires: armagetron

Modified: trunk/rpms/faad2/faad2.spec
===================================================================
--- trunk/rpms/faad2/faad2.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/faad2/faad2.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -3,7 +3,7 @@
 
 %define xmmsinputdir %(xmms-config --input-plugin-dir 2&gt;/dev/null || echo %{_libdir}/xmms/Input)
 #define prever       rc3
-%define date         15092004
+%define date         20040923
 
 Summary: Library and frontend for decoding MPEG2/4 AAC
 Name: faad2
@@ -13,10 +13,11 @@
 Group: Applications/Multimedia
 URL: <A HREF="http://www.audiocoding.com/">http://www.audiocoding.com/</A>
 %if %{?date:1}0
-Source: <A HREF="http://www.audiocoding.com/snapshot/faad2-%{date">http://www.audiocoding.com/snapshot/faad2-%{date</A>}.tar.gz
+Source: <A HREF="http://www.audiocoding.com/snapshot/faad2-%{date">http://www.audiocoding.com/snapshot/faad2-%{date</A>}.tar.bz2
 %else
 Source: <A HREF="http://dl.sf.net/faac/%{name">http://dl.sf.net/faac/%{name</A>}-%{version}%{?prever:-%{prever}}.tar.gz
 %endif
+Patch: faad2-2.0-Makefile-separator.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: autoconf, automake, libtool, gcc-c++, zlib-devel
 BuildRequires: libsndfile-devel &gt;= 1.0.0, libstdc++-devel
@@ -53,19 +54,22 @@
 
 %prep
 %if %{?date:1}0
-%setup -c %{name}
+#setup -c %{name}
+%setup -n %{name}-%{date}
 %else
 %setup -n %{name}
+%patch -p1 -b .makefilesep
 %endif
 
 
 %build
-sh bootstrap
+#sh bootstrap
 %configure \
     --disable-static \
     --with-xmms \
-    --with-mp4v2
-#   --with-drm
+    --with-mpeg4ip
+#   --with-drm \
+#   --with-mp4v2
 %{__make} %{?_smp_mflags}
 
 
@@ -112,6 +116,9 @@
 
 
 %changelog
+* Wed Nov  3 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 2.0-2.20040923
+- Use the snapshot from 20040923 that videolan provides.
+
 * Tue Nov  2 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 2.0-2.15092004
 - Update to 15092004 snapshot to fix compilation on FC3.
 - Disable static libs since they fail to be stripped :-( #88417.

Modified: trunk/rpms/gkrellm-plugins/gkrellm-plugins.spec
===================================================================
--- trunk/rpms/gkrellm-plugins/gkrellm-plugins.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/gkrellm-plugins/gkrellm-plugins.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -7,7 +7,7 @@
 %define xmmsver		2.1.20
 %define setiver		0.7.0b
 %define dnetver		0.12.1
-%define volumever	2.1.11
+%define volumever	2.1.13
 %define mailwatchver	2.4.2
 %define snmpver		0.21
 %define radiover	2.0.4
@@ -20,17 +20,18 @@
 %define whover		0.5
 %define x86ver		0.0.2
 %define ssver		2.6
-%define shootver	0.4.1
+%define shootver	0.4.2
 %define flynnver	0.8
 %define	ledsver		0.8.1
-%define bgchgver        0.1.1
+%define bgchgver        0.1.2
 %define trayver         1.02
-%define cpufreqver      0.5.1
+%define cpufreqver      0.5.2
 %define alltraxver      0.2
+%define hdplopver       0.9.6
 
 Summary: Some neat plugins for GKrellM
 Name: gkrellm-plugins
-Version: 2.2.0
+Version: 2.2.4
 Release: 1
 License: GPL
 Group: Applications/System
@@ -51,7 +52,7 @@
 #Source13: 
 Source14: <A HREF="http://kmlinux.fjfi.cvut.cz/~makovick/gkrellm/gkrellm-multiping-%{multipingver">http://kmlinux.fjfi.cvut.cz/~makovick/gkrellm/gkrellm-multiping-%{multipingver</A>}.tgz
 #Source15: <A HREF="http://sperion.vuse.vanderbilt.edu/kirk/gkrellmwho2.tgz">http://sperion.vuse.vanderbilt.edu/kirk/gkrellmwho2.tgz</A>
-Source16: <A HREF="http://anchois.free.fr/gkx86info%{x86ver">http://anchois.free.fr/gkx86info%{x86ver</A>}.tar.gz
+Source16: <A HREF="http://anchois.free.fr/gkx86info2-%{x86ver">http://anchois.free.fr/gkx86info2-%{x86ver</A>}.tar.gz
 Source17: <A HREF="http://web.wt.net/~billw/gkrellmss/gkrellmss-%{ssver">http://web.wt.net/~billw/gkrellmss/gkrellmss-%{ssver</A>}.tar.gz
 Source18: <A HREF="http://download.sf.net/gkrellshoot/gkrellshoot-%{shootver">http://download.sf.net/gkrellshoot/gkrellshoot-%{shootver</A>}.tar.gz
 Source19: <A HREF="http://horus.comlab.uni-rostock.de/flynn/gkrellflynn-%{flynnver">http://horus.comlab.uni-rostock.de/flynn/gkrellflynn-%{flynnver</A>}.tar.gz
@@ -59,7 +60,8 @@
 Source21: <A HREF="http://www.bender-suhl.de/stefan/comp/sources/gkrellmbgchg2-%{bgchgver">http://www.bender-suhl.de/stefan/comp/sources/gkrellmbgchg2-%{bgchgver</A>}.tar.gz
 Source22: <A HREF="http://sweb.cz/tripie/gkrellm/trayicons/dist/gkrellm-trayicons-%{trayver">http://sweb.cz/tripie/gkrellm/trayicons/dist/gkrellm-trayicons-%{trayver</A>}.tar.gz
 Source23: <A HREF="http://iacs.epfl.ch/~winkelma/gkrellm2-cpufreq/gkrellm2-cpufreq-%{cpufreqver">http://iacs.epfl.ch/~winkelma/gkrellm2-cpufreq/gkrellm2-cpufreq-%{cpufreqver</A>}.tar.gz
-Source24: <A HREF="http://perso.wanadoo.fr/alltrax/alltraxclock2_%{alltraxver">http://perso.wanadoo.fr/alltrax/alltraxclock2_%{alltraxver</A>}-1.tar.gz
+Source24: <A HREF="http://invalid.url/alltraxclock2_%{alltraxver">http://invalid.url/alltraxclock2_%{alltraxver</A>}-1.tar.gz
+Source25: <A HREF="http://hules.free.fr/wmhdplop/wmhdplop-%{hdplopver">http://hules.free.fr/wmhdplop/wmhdplop-%{hdplopver</A>}.tar.gz
 Patch0: <A HREF="http://xavier.serpaggi.free.fr/seti/seti-0.7.0b-gkrellm2.diff">http://xavier.serpaggi.free.fr/seti/seti-0.7.0b-gkrellm2.diff</A>
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gkrellm-devel &gt;= 2.1.0, gtk2-devel, perl
@@ -89,6 +91,8 @@
 Group: Applications/System
 Requires: gkrellm &gt;= 2.1.0
 Requires: perl(LWP::UserAgent)
+# wmhdplop
+BuildRequires: imlib-devel
 
 %description misc
 This package contains the following amusements plugins for GKrellM, the GNU
@@ -106,7 +110,11 @@
 Krell Monitor : ACPI monitor, mail watch, wireless network monitor, multi
 ping utility, x86 cpu speed, screenshot/lock and reminder.
 
+For the cpufreq plugin, you might want to use visudo and add the following :
+&lt;your user&gt; ALL = (root) NOPASSWD: /usr/sbin/cpufreqset [0-9]*
+&lt;your user&gt; ALL = (root) NOPASSWD: /usr/sbin/cpufreqsetgovernor [a-z]
 
+
 %package snmp
 Summary: SNMP monitoring plugin for GKrellM.
 Group: Applications/System
@@ -118,47 +126,49 @@
 
 
 %prep
-%setup -T -a0 -a1 -a2 -a3 -a4 -a5 -a6 -a7 -a8 -a9 -a10 -a11 -a12 -a14 -a16 -a17 -a18 -a19 -a20 -a21 -a22 -a23 -a24 -c %{name}-%{version}
-# -a15
+%setup -T -a0 -a1 -a2 -a3 -a4 -a5 -a6 -a7 -a8 -a9 -a10 -a11 -a12 -a14 -a16 -a17 -a18 -a19 -a20 -a21 -a22 -a23 -a24 -a25 -c %{name}-%{version}
+# -a13 -a15
 %patch0 -p0
-perl -pi -e \
-  's|/usr/.+/GrabWeather|%{_bindir}/GrabWeather|' \
-  gkrellweather-%{weatherver}/gkrellweather.c
+# Fix for multiping
+%{__perl} -pi.orig -e \
+    's|/usr/local/lib/gkrellm2/plugins|%{_libdir}/gkrellm2/plugins|g' \
+    gkrellm-multiping-%{multipingver}/multiping.c
 
 
 %build
-mkdir plugins
-# No configure macro here, hence manual exports...
-CFLAGS=&quot;%{optflags}&quot;   ; export CFLAGS
-CXXFLAGS=&quot;%{optflags}&quot; ; export CXXFLAGS
-( cd gkrellweather-%{weatherver} ; make ; mv *.so ../plugins ; cp GrabWeather .. )
+%{__mkdir} plugins/ bin/ sbin/ man5/
+# Nearly no configure macro here, hence manual exports...
+export CFLAGS=&quot;%{optflags}&quot;
+export CXXFLAGS=&quot;%{optflags}&quot;
+( cd gkrellweather-%{weatherver} ; make PREFIX=%{_prefix} ; mv *.so ../plugins// ; cp GrabWeather ../bin/ )
 # gkrellmms contains locales, skipping them for now.
-( cd gkrellmms ; make ; mv *.so ../plugins )
-( cd seti-%{setiver} ; make ; mv *.so ../plugins )
-( cd gkrelldnet-%{dnetver} ; make ; mv *.so ../plugins ; cp dnetw .. )
+( cd gkrellmms ; make ; mv *.so ../plugins/ )
+( cd seti-%{setiver} ; make ; mv *.so ../plugins/ )
+( cd gkrelldnet-%{dnetver} ; make ; mv *.so ../plugins/ ; cp dnetw ../bin/ )
 # volume plugin contains locales, skipping them for now.
-( cd gkrellm-volume ; make ; mv *.so ../plugins )
-( cd gkrellm-mailwatch ; make ; mv *.so ../plugins )
-# cd gkrellm_snmp-%{snmpver} ; make ; mv *.so ../plugins )
+( cd gkrellm-volume ; make ; mv *.so ../plugins/ )
+( cd gkrellm-mailwatch ; make ; mv *.so ../plugins/ )
+# cd gkrellm_snmp-%{snmpver} ; make ; mv *.so ../plugins/ )
 # radio has locales as well...
-( cd gkrellm-radio ; make ; mv *.so ../plugins )
-( cd gkrellmwireless ; make ; mv *.so ../plugins )
-( cd gkrellAclock-%{aclockver} ; make ; mv *.so ../plugins )
-( cd gkrellkam-%{kamver} ; make ; mv *.so ../plugins ; mv *.5 .. )
-( cd gkrellm-reminder-%{reminderver} ; make ; mv *.so ../plugins )
-( cd gkrellmoon-%{moonver} ; make ; mv *.so ../plugins )
-( cd gkrellm-multiping-%{multipingver} ; make ; mv *.so ../plugins ; cp pinger .. )
-#( cd gkrellmwho2 ; make ; mv *.so ../plugins )
-( cd gkrellmss-%{ssver} ; make ; mv src/*.so ../plugins )
-( cd gkrellShoot-%{shootver} ; make ; mv *.so ../plugins )
-( cd gkrellflynn-%{flynnver} ; make gkrellm2 ; mv *.so ../plugins )
-( cd gkleds-%{ledsver} ; make ; mv *.so ../plugins )
-( cd gkrellmbgchg2-%{bgchgver} ; make ; mv *.so ../plugins )
-( cd gkrellm-trayicons-%{trayver} ; make ; mv *.so ../plugins )
-( cd gkrellm2-cpufreq-%{cpufreqver} ; make ; mv *.so ../plugins ; cp cpufreqset cpufreqsetgovernor .. )
-( cd alltraxclock2_%{alltraxver} ; make ; mv *.so ../plugins )
+( cd gkrellm-radio ; make ; mv *.so ../plugins/ )
+( cd gkrellmwireless ; make ; mv *.so ../plugins/ )
+( cd gkrellAclock-%{aclockver} ; make ; mv *.so ../plugins/ )
+( cd gkrellkam-%{kamver} ; make ; mv *.so ../plugins/ ; mv *.5 ../man5/ )
+( cd gkrellm-reminder-%{reminderver} ; make ; mv *.so ../plugins/ )
+( cd gkrellmoon-%{moonver} ; make ; mv *.so ../plugins/ )
+( cd gkrellm-multiping-%{multipingver} ; make ; mv *.so ../plugins/ ; cp pinger ../plugins/ )
+#( cd gkrellmwho2 ; make ; mv *.so ../plugins/ )
+( cd gkrellmss-%{ssver} ; make ; mv src/*.so ../plugins/ )
+( cd gkrellShoot-%{shootver} ; make ; mv *.so ../plugins/ )
+( cd gkrellflynn-%{flynnver} ; make gkrellm2 ; mv *.so ../plugins/ )
+( cd gkleds-%{ledsver} ; make ; mv *.so ../plugins/ )
+( cd gkrellmbgchg2-%{bgchgver} ; make ; mv *.so ../plugins/ )
+( cd gkrellm-trayicons-%{trayver} ; make ; mv *.so ../plugins/ )
+( cd gkrellm2-cpufreq-%{cpufreqver} ; make ; mv *.so ../plugins/ ; cp cpufreqset cpufreqsetgovernor ../sbin/ )
+( cd alltraxclock2_%{alltraxver} ; make ; mv *.so ../plugins/ )
+( cd wmhdplop-%{hdplopver} ; ./configure &amp;&amp; make ; mv gkhdplop.so ../plugins/ )
 %ifarch %ix86
-( cd gkx86info%{x86ver} ; ./build ; mv *.so ../plugins )
+( cd gkx86info%{x86ver} ; ./build ; mv *.so ../plugins/ )
 %endif
 
 
@@ -167,14 +177,12 @@
 %{__mkdir_p} %{buildroot}%{gkplugindir}
 %{__mkdir_p} %{buildroot}%{_bindir}
 %{__mkdir_p} %{buildroot}%{_sbindir}
-%{__install} -m 755 plugins/* %{buildroot}%{gkplugindir}
-%{__install} -m 755 dnetw %{buildroot}%{_bindir}
-%{__install} -m 755 GrabWeather %{buildroot}%{_bindir}
-%{__install} -m 755 pinger %{buildroot}%{gkplugindir}
-%{__install} -m 755 cpufreqset cpufreqsetgovernor %{buildroot}%{_sbindir}
+%{__install} -m 0755 plugins/* %{buildroot}%{gkplugindir}/
+%{__install} -m 0755 bin/*     %{buildroot}%{_bindir}/
+%{__install} -m 0755 sbin/*    %{buildroot}%{_sbindir}/
 # Man pages
 %{__mkdir_p} %{buildroot}%{_mandir}/man5
-%{__install} -m 644 `find . -type f -name &quot;*.5&quot;` %{buildroot}%{_mandir}/man5
+%{__install} -m 644 `find . -type f -name &quot;*.5&quot;` %{buildroot}%{_mandir}/man5/
 
 
 %clean
@@ -203,6 +211,7 @@
 %{gkplugindir}/gkrellmbgchg.so
 %{gkplugindir}/trayicons.so
 %{gkplugindir}/alltraxclock.so
+%{gkplugindir}/gkhdplop.so
 
 %files utils
 %defattr(-, root, root, 0755)
@@ -226,6 +235,13 @@
 
 
 %changelog
+* Thu Nov  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 2.2.4-1
+- Updated shoot, cpufreq and volume plugins.
+- Updated file name for gk86info2.
+- Known gkrellm2 alltraxclock web page seems gone :-(
+- Added hdplop.
+- Fixed gkrellweather and multiping paths, thanks to Kevin Otte for reporting.
+
 * Wed May 26 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 2.2.0-1
 - Updated plugins and added tray icon and cpufreq plugins.
 

Modified: trunk/rpms/libebml/libebml.spec
===================================================================
--- trunk/rpms/libebml/libebml.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/libebml/libebml.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -3,7 +3,7 @@
 
 Summary: Extensible Binary Meta Language library
 Name: libebml
-Version: 0.7.1
+Version: 0.7.2
 Release: 1
 License: LGPL
 Group: System Environment/Libraries
@@ -72,6 +72,9 @@
 
 
 %changelog
+* Thu Nov  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.7.2-1
+- Update to 0.7.2.
+
 * Tue Aug  3 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.7.1-1
 - Update to 0.7.1.
 

Added: trunk/rpms/libfame/libfame-0.9.1-gcc34-1.patch
===================================================================
--- trunk/rpms/libfame/libfame-0.9.1-gcc34-1.patch	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/libfame/libfame-0.9.1-gcc34-1.patch	2004-11-04 19:58:52 UTC (rev 2415)
@@ -0,0 +1,35 @@
+Submitted By:            Randy McMurchy &lt;randy_at_linuxfromscratch_dot_org&gt;
+Date:                    2004-09-04
+Initial Package Version: 0.9.1
+Upstream Status:         Not submitted 
+Origin:                  Randy McMurchy
+Description:             Fixes libfame library when compiled with GCC-3.4.x
+
+$LastChangedBy: randy $
+$Date: 2004-09-05 00:11:51 -0600 (Sun, 05 Sep 2004) $
+
+diff -Naur libfame-0.9.1-orig/src/half_mmx.h libfame-0.9.1/src/half_mmx.h
+--- libfame-0.9.1-orig/src/half_mmx.h	2002-04-30 18:04:02.000000000 +0000
++++ libfame-0.9.1/src/half_mmx.h	2004-09-05 03:49:09.666845896 +0000
+@@ -18,7 +18,7 @@
+ */
+ /**************************** half-pixel interpolation ***********************/
+ 
+-static short const _mmx_one[] = { 1, 1, 1, 1 };
++const _mmx_one[] = { 1, 1, 1, 1 };
+ 
+ static void inline mmx_interpolate(unsigned char **ref,
+ 				   int pitch,
+
+diff -Naur libfame-0.9.1-orig/src/half_sse.h libfame-0.9.1/src/half_sse.h
+--- libfame-0.9.1-orig/src/half_sse.h	2002-01-27 02:24:56.000000000 +0000
++++ libfame-0.9.1/src/half_sse.h	2004-09-05 03:49:39.894250632 +0000
+@@ -19,7 +19,7 @@
+ */
+ /**************************** half-pixel interpolation ***********************/
+ 
+-static short const _mmx_one[] = { 1, 1, 1, 1 };
++const _mmx_one[] = { 1, 1, 1, 1 };
+ static unsigned char const _mmx_one_byte[] = {1,1,1,1,1,1,1,1};
+ 
+ 

Modified: trunk/rpms/libfame/libfame.spec
===================================================================
--- trunk/rpms/libfame/libfame.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/libfame/libfame.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -4,12 +4,13 @@
 Summary: Fast Assembly MPEG Encoding library
 Name: libfame
 Version: 0.9.1
-Release: 2
+Release: 4
 License: LGPL
 Group: System Environment/Libraries
 URL: <A HREF="http://fame.sourceforge.net/">http://fame.sourceforge.net/</A>
 Source: <A HREF="http://dl.sf.net/fame/%{name">http://dl.sf.net/fame/%{name</A>}-%{version}.tar.gz
-Patch: libfame-0.9.1-fstrict-aliasing.patch
+Patch0: libfame-0.9.1-fstrict-aliasing.patch
+Patch1: <A HREF="http://www.linuxfromscratch.org/blfs/downloads/svn/libfame-0.9.1-gcc34-1.patch">http://www.linuxfromscratch.org/blfs/downloads/svn/libfame-0.9.1-gcc34-1.patch</A>
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 %description
@@ -35,7 +36,8 @@
 
 %prep
 %setup
-%patch -p1 -b .fstrict-aliasing
+%patch0 -p1 -b .fstrict-aliasing
+%patch1 -p1 -b .mmxone
 
 
 %build
@@ -102,6 +104,9 @@
 
 
 %changelog
+* Thu Nov  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.9.1-4
+- Add libfame-0.9.1-gcc34-1.patch to fix &quot;undefined symbol: _mmx_one&quot;.
+
 * Mon Oct 25 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.9.1-3
 - Add libfame-0.9.1-fstrict-aliasing.patch to actually make the lib work,
   thanks to Nicholas Miell.

Modified: trunk/rpms/libmatroska/libmatroska.spec
===================================================================
--- trunk/rpms/libmatroska/libmatroska.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/libmatroska/libmatroska.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -2,7 +2,7 @@
 
 Summary: Multimedia container format library
 Name: libmatroska
-Version: 0.7.3
+Version: 0.7.4
 Release: 1
 License: LGPL
 Group: System Environment/Libraries
@@ -85,6 +85,9 @@
 
 
 %changelog
+* Thu Nov  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.7.4-1
+- Update to 0.7.4.
+
 * Thu Sep 16 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.7.3-1
 - Update to 0.7.3.
 

Modified: trunk/rpms/libmpeg3/libmpeg3.spec
===================================================================
--- trunk/rpms/libmpeg3/libmpeg3.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/libmpeg3/libmpeg3.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -2,26 +2,17 @@
 # Authority: dag
 # Upstream: &lt;broadcast$earthling,net&gt;
 
-%ifnarch %{ix86}
-        %define _without_nasm 1
-%endif
-
 Summary: Decoder of various derivatives of MPEG standards
 Name: libmpeg3
 Version: 1.5.4
-Release: 2
+Release: 3
 License: GPL
 Group: System Environment/Libraries
 URL: <A HREF="http://heroinewarrior.com/libmpeg3.php3">http://heroinewarrior.com/libmpeg3.php3</A>
-
-Packager: Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;
-Vendor: Dag Apt Repository, <A HREF="http://dag.wieers.com/apt/">http://dag.wieers.com/apt/</A>
-
 Source: <A HREF="http://dl.sf.net/heroines/libmpeg3-%{version">http://dl.sf.net/heroines/libmpeg3-%{version</A>}-src.tar.bz2
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+BuildRequires: nasm
 
-%{!?_without_nasm:BuildRequires: nasm}
-
 %description
 LibMPEG3 decodes the many many derivatives of MPEG standards into
 uncompressed data suitable for editing and playback.
@@ -37,28 +28,20 @@
 %prep
 %setup
 
-%{__perl} -pi.orig -e '
-		s| /usr/bin$| \$(DESTDIR)\$(bindir)|;
-%ifarch %{ix86}
-		s|^(USE_MMX) = 0|$1 = 1|;
-%endif
-	' Makefile
-
 %build
-%ifarch x86_64
-export CFLAGS=&quot;%{optflags} -fPIC&quot;
-%else
-export CFLAGS=&quot;%{optflags}&quot;
-%endif
+# With gcc 3.4 (FC3), build fails with -O2 and also with -fPIC :-(
+export CFLAGS=&quot;`echo &quot;%{optflags}&quot; | sed 's/-O./-O1/'`&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %{__install} -d -m0755 %{buildroot}%{_bindir}
-%{__install} -m0755 */mpeg3dump */mpeg3cat */mpeg3toc %{buildroot}%{_bindir}
+%{__install} -m0755 */mpeg3dump */mpeg3cat */mpeg3toc \
+    %{buildroot}%{_bindir}/
 
 %{__install} -d -m0755 %{buildroot}%{_includedir}
-%{__install} -m0644 libmpeg3.h mpeg3private.h mpeg3protos.h %{buildroot}%{_includedir}
+%{__install} -m0644 libmpeg3.h mpeg3private.h mpeg3protos.h \
+    %{buildroot}%{_includedir}
 
 %{__install} -D -m0755 */libmpeg3.a %{buildroot}%{_libdir}/libmpeg3.a
 
@@ -79,6 +62,11 @@
 %{_includedir}/*.h
 
 %changelog
+* Thu Nov  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.5.4-3
+- Remove unneeded /usr/bin fix, since we don't use &quot;make install&quot;.
+- Replace -O? with -O1 in optflags since build fails with O2 and gcc 3.4.
+- Make nasm mandatory : The configure script won't run without it anyway.
+
 * Sat Jun 26 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.5.4-2
 - Fixes for x86_64.
 

Modified: trunk/rpms/ogle/ogle.spec
===================================================================
--- trunk/rpms/ogle/ogle.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/ogle/ogle.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -2,7 +2,7 @@
 # Authority: matthias
 
 %define desktop_vendor freshrpms
-#define cvs -cvs
+%define cvs -cvs
 
 %{?dist: %{expand: %%define %dist 1}}
 
@@ -18,21 +18,18 @@
 Summary: DVD player that supports DVD menus
 Name: ogle
 Version: 0.9.2
-Release: 3
+Release: 4
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://www.dtek.chalmers.se/groups/dvd/">http://www.dtek.chalmers.se/groups/dvd/</A>
 Source0: <A HREF="http://www.dtek.chalmers.se/groups/dvd/dist/ogle-%{version">http://www.dtek.chalmers.se/groups/dvd/dist/ogle-%{version</A>}%{?cvs}.tar.gz
 Source1: bluecurve-xine.png
-Patch: ogle-0.9.2-alsa.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: XFree86-devel
 BuildRequires: libdvdread-devel &gt;= 0.9.4, libjpeg-devel, a52dec-devel &gt;= 0.7.3
 BuildRequires: libxml2-devel &gt;= 2.4.19, libmad-devel
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 %{!?_without_alsa:BuildRequires: alsa-lib-devel}
-# Needed for ALSA patch
-BuildRequires: autoconf
 
 %description
 Ogle is a DVD player. It's features are: Supports DVD menus and navigation,
@@ -60,13 +57,11 @@
 
 %prep
 %setup -n %{name}-%{version}%{?cvs}
-%patch -p2 -b .alsa
 # Workaround the hardcoded &quot;lib&quot; path for dvdread (vs. lib64)... doesn't work
 #%{__perl} -pi.orig -e 's|dvd_path/lib|dvd_path/%{_lib}|g' configure*
 
 
 %build
-autoconf
 %configure \
     %{?_without_altivec:--disable-altivec}
 %{__make} %{?_smp_mflags}
@@ -137,13 +132,16 @@
 %files devel
 %defattr(-, root, root, 0755)
 %{_includedir}/ogle/
-%dir %{_libdir}/ogle
+%dir %{_libdir}/ogle/
 %{_libdir}/ogle/*.so
 %exclude %{_libdir}/ogle/*.la
 %{_libdir}/ogle/*.a
 
 
 %changelog
+* Thu Nov  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.9.2-4
+- Updated to latest available CVS snapshot to fix FC3 build failure.
+
 * Mon Aug  3 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.9.2-3
 - Added patch for proper ALSA detection.
 - Cosmetic changes.

Modified: trunk/rpms/ogle_gui/ogle_gui.spec
===================================================================
--- trunk/rpms/ogle_gui/ogle_gui.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/ogle_gui/ogle_gui.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -12,8 +12,8 @@
 URL: <A HREF="http://www.dtek.chalmers.se/groups/dvd/">http://www.dtek.chalmers.se/groups/dvd/</A>
 Source: <A HREF="http://www.dtek.chalmers.se/groups/dvd/dist/%{name">http://www.dtek.chalmers.se/groups/dvd/dist/%{name</A>}-%{version}%{?cvs}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-Requires: ogle &gt;= 0.9.1, gtk2, libglade2
-BuildRequires: ogle-devel &gt;= 0.9.1, gtk2-devel, libglade2-devel, gettext
+Requires: ogle &gt;= 0.9.2
+BuildRequires: ogle-devel &gt;= 0.9.2, gtk2-devel, libglade2-devel, gettext
 
 %description
 This is a grapihcal user interface for the ogle DVD player. Install this if
@@ -43,8 +43,8 @@
 %files -f %{name}.lang
 %defattr(-, root, root, 0755)
 %doc COPYING
-%{_libdir}/ogle
-%{_datadir}/ogle_gui
+%{_libdir}/ogle/
+%{_datadir}/ogle_gui/
 
 
 %changelog

Modified: trunk/rpms/perl-Cache-Cache/perl-Cache-Cache.spec
===================================================================
--- trunk/rpms/perl-Cache-Cache/perl-Cache-Cache.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/perl-Cache-Cache/perl-Cache-Cache.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -32,11 +32,10 @@
 
 
 %build
-CFLAGS=&quot;%{optflags}&quot; %{__perl} Makefile.PL \
+%{__perl} Makefile.PL \
     PREFIX=&quot;%{buildroot}%{_prefix}&quot; \
     INSTALLDIRS=&quot;vendor&quot;
-%{__make} %{?_smp_mflags} \
-    OPTIMIZE=&quot;%{optflags}&quot;
+%{__make} %{?_smp_mflags}
 
 
 %install

Modified: trunk/rpms/perl-Video-DVDRip/perl-Video-DVDRip.spec
===================================================================
--- trunk/rpms/perl-Video-DVDRip/perl-Video-DVDRip.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/perl-Video-DVDRip/perl-Video-DVDRip.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -3,20 +3,21 @@
 
 %define desktop_vendor  freshrpms
 %define perl_sitelib    %(eval &quot;`perl -V:installsitelib`&quot;; echo $installsitelib)
-%define __find_provides /usr/lib/rpm/find-provides.perl
+#define __find_provides /usr/lib/rpm/find-provides.perl
 
 Summary: Graphical DVD ripping tool based on transcode
 Name: perl-Video-DVDRip
-Version: 0.50.18
-Release: 3
+Version: 0.51.2
+Release: 0
 License: Artistic
 Group: Applications/Multimedia
 URL: <A HREF="http://www.exit1.org/dvdrip/">http://www.exit1.org/dvdrip/</A>
 Source: <A HREF="http://www.exit1.org/dvdrip/dist/Video-DVDRip-%{version">http://www.exit1.org/dvdrip/dist/Video-DVDRip-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 AutoReq: no
-Requires: transcode &gt;= 0.6.3
-Requires: Gtk-Perl, ImageMagick, ogmtools, subtitleripper, vcdimager, xvidcore
+Requires: transcode &gt;= 0.6.13
+Requires: Gtk-Perl, ImageMagick, ogmtools, subtitleripper, vcdimager
+Requires: perl(Locale::Messages)
 BuildRequires: Gtk-Perl, desktop-file-utils
 
 %description
@@ -49,7 +50,7 @@
 # Unpackaged strange files!
 %{__rm} -f %{buildroot}%{_mandir}/man?/.exists* || :
 
-# Unneeded, all is in sitelib
+# Unneeded, all is in sitelib (only a .packlist in there)
 %{__rm} -rf %{buildroot}%{perl_sitearch}
 
 # Desktop entry
@@ -66,11 +67,11 @@
 
 %{__mkdir_p} %{buildroot}%{_datadir}/applications
 desktop-file-install --vendor %{desktop_vendor} \
-  --dir %{buildroot}%{_datadir}/applications    \
-  dvdrip.desktop
+    --dir %{buildroot}%{_datadir}/applications \
+    dvdrip.desktop
 
 # Add Red Hat NPTL workaround
-perl -pi -e 's/BEGIN {\n/BEGIN {\n\t# Workaround for RH9 NPTL bug\n\t\$ENV{LD_ASSUME_KERNEL} = &quot;2.4.1&quot;;\n/g' %{buildroot}%{_bindir}/dvdrip
+#perl -pi -e 's/BEGIN {\n/BEGIN {\n\t# Workaround for RH9 NPTL bug\n\t\$ENV{LD_ASSUME_KERNEL} = &quot;2.4.1&quot;;\n/g' %{buildroot}%{_bindir}/dvdrip
 
 
 %clean 
@@ -80,12 +81,20 @@
 %files
 %defattr(-, root, root, 0755)
 %{_bindir}/*
-%{perl_sitelib}/Video/*
+%lang(cs) %{perl_sitelib}/LocaleData/cs/LC_MESSAGES/video.dvdrip.mo
+%lang(de) %{perl_sitelib}/LocaleData/de/LC_MESSAGES/video.dvdrip.mo
+%lang(es) %{perl_sitelib}/LocaleData/es/LC_MESSAGES/video.dvdrip.mo
+%lang(fr) %{perl_sitelib}/LocaleData/fr/LC_MESSAGES/video.dvdrip.mo
+%{perl_sitelib}/Video/
 %{_datadir}/applications/*dvdrip.desktop
 %{_mandir}/man*/*
 
 
 %changelog
+* Fri Oct 29 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.51.2-0
+- Update to unstable 0.51.2, as it adds compatibility for transcode 0.6.13.
+- Added translations that are now included and perl(Locale::Messages) dep.
+
 * Sun Jul 11 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.50.18-3
 - Changed LD_ASSUME_KERNEL to 2.4.1 for x86_64.
 

Added: trunk/rpms/perl-libintl/perl-libintl.spec
===================================================================
--- trunk/rpms/perl-libintl/perl-libintl.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/perl-libintl/perl-libintl.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -0,0 +1,57 @@
+# $Id$
+
+%define real_name libintl-perl
+
+Summary: Internationalization library for Perl, compatible with gettext
+Name: perl-libintl
+Version: 1.11
+Release: 1
+License: LGPL
+Group: Applications/CPAN
+URL: <A HREF="http://search.cpan.org/dist/libintl-perl/">http://search.cpan.org/dist/libintl-perl/</A>
+Source: <A HREF="http://search.cpan.org/CPAN/authors/id/G/GU/GUIDO/libintl-perl-%{version">http://search.cpan.org/CPAN/authors/id/G/GU/GUIDO/libintl-perl-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+BuildRequires: perl &gt;= 2:5.8.0
+Provides: perl-libintl-perl = %{version}-%{release}
+BuildArch: noarch
+
+%description
+The package libintl-perl is an internationalization library for Perl that
+aims to be compatible with the Uniforum message translations system as
+implemented for example in GNU gettext.
+
+
+%prep
+%setup -q -n libintl-perl-%{version}
+
+
+%build
+%{__perl} Makefile.PL \
+    PREFIX=&quot;%{buildroot}%{_prefix}&quot; \
+    INSTALLDIRS=&quot;vendor&quot;
+%{__make} %{?_smp_mflags}
+
+
+%install
+%{__rm} -rf %{buildroot}
+%makeinstall
+# Clean up buildroot
+%{__rm} -rf %{buildroot}%{_libdir}/perl5/*/*linux-thread-multi/
+%{__rm} -f %{buildroot}%{_libdir}/perl5/vendor_perl/*/*-linux-thread-multi/auto/*{,/*}/.packlist
+
+
+%clean
+%{__rm} -rf %{buildroot}
+
+
+%files
+%defattr(-, root, root, 0755)
+%doc ChangeLog COPYING* NEWS README THANKS TODO
+%{_libdir}/perl5/vendor_perl/*/Locale/
+%{_mandir}/man?/*
+
+
+%changelog
+* Thu Nov  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.11-1
+- Initial RPM release.
+


Property changes on: trunk/rpms/perl-libintl/perl-libintl.spec
___________________________________________________________________
Name: svn:keywords
   + Id

Deleted: trunk/rpms/transcode/transcode-0.6.12-gcc296.patch
===================================================================
--- trunk/rpms/transcode/transcode-0.6.12-gcc296.patch	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/transcode/transcode-0.6.12-gcc296.patch	2004-11-04 19:58:52 UTC (rev 2415)
@@ -1,19 +0,0 @@
---- export/export_mov.c.orig	Thu Jan  8 09:18:28 2004
-+++ export/export_mov.c	Sat Jul 10 00:53:52 2004
-@@ -176,6 +176,7 @@
-         rawVideo = 1;    
-     }
-     else{
-+        int divx_bitrate;
-         /* check if we can encode with this codec */    
-         if (!quicktime_supported_video(qtfile, 0)){
-         fprintf(stderr,&quot;[%s] qt video codec '%s' unsupported\n&quot;,
-@@ -218,7 +219,7 @@
- 
-         /* set codec parameters */
-         // if max bitrate &gt; bitrate  use difference for bitrate tolerance
--        int divx_bitrate = vob-&gt;divxbitrate * 1000; // tc uses kb        
-+        divx_bitrate = vob-&gt;divxbitrate * 1000; // tc uses kb        
-         if (vob-&gt;video_max_bitrate &gt; vob-&gt;divxbitrate) div3_bitrate_tolerance = (vob-&gt;video_max_bitrate - vob-&gt;divxbitrate) * 1000; //kb again
- 
-         /* set codec parameters */

Added: trunk/rpms/transcode/transcode-0.6.13-bitstream.patch
===================================================================
--- trunk/rpms/transcode/transcode-0.6.13-bitstream.patch	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/transcode/transcode-0.6.13-bitstream.patch	2004-11-04 19:58:52 UTC (rev 2415)
@@ -0,0 +1,12 @@
+diff -u3 -rN transcode-0.6.13/libac3/bitstream.c transcode-0.6.13-patched/libac3/bitstream.c
+--- transcode-0.6.13/libac3/bitstream.c	2004-10-17 23:56:50.000000000 +0100
++++ transcode-0.6.13-patched/libac3/bitstream.c	2004-10-28 19:37:06.497339637 +0100
+@@ -97,7 +97,7 @@
+ static inline void
+ bitstream_fill_current()
+ {
+-	current_word = *(buffer_start)++;
++	current_word = *((uint_32*)buffer_start)++;
+ 	current_word = swab32(current_word);
+ }
+ 

Modified: trunk/rpms/transcode/transcode.spec
===================================================================
--- trunk/rpms/transcode/transcode.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/transcode/transcode.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -3,53 +3,55 @@
 # Upstream: Thomas &#214;streich &lt;ostreich$theorie,physik,uni-goettingen,de&gt;
 # Upstream: Tilmann Bitterberg &lt;transcode$tibit,org&gt;
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc3:%define _without_mjpeg 1}
+
 %{?fc1:%define _without_theora 1}
+
 %{?el3:%define _without_theora 1}
+
 %{?rh9:%define _without_theora 1}
 
 %{?rh8:%define _without_theora 1}
 %{?rh8:%define _without_magick 1}
 
 %{?rh7:%define _without_theora 1}
-%{?rh7:%define _without_gcc3 1}
 
 %{?el2:%define _without_theora 1}
-%{?el2:%define _without_gcc3 1}
 
 %{?rh6:%define _without_theora 1}
-%{?rh6:%define _without_gcc3 1}
 
 Summary: Linux video stream processing utility
 Name: transcode
-Version: 0.6.12
-Release: 6
+Version: 0.6.13
+Release: 0
 License: GPL
 Group: Applications/Multimedia
-URL: <A HREF="http://zebra.fh-weingarten.de/~transcode/">http://zebra.fh-weingarten.de/~transcode/</A>
-
-Source: <A HREF="http://zebra.fh-weingarten.de/~transcode/pre/transcode-%{version">http://zebra.fh-weingarten.de/~transcode/pre/transcode-%{version</A>}.tar.bz2
-Patch: transcode-0.6.12-gcc296.patch
+URL: <A HREF="http://www.transcoding.org/">http://www.transcoding.org/</A>
+Source: <A HREF="http://www.jakemsr.com/transcode-%{version">http://www.jakemsr.com/transcode-%{version</A>}.tar.gz
+Patch: <A HREF="http://www.exit1.org/dvdrip/dist/patches/transcode-0.6.13-bitstream.patch">http://www.exit1.org/dvdrip/dist/patches/transcode-0.6.13-bitstream.patch</A>
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: gcc-c++, glib-devel, gtk+-devel
-BuildRequires: SDL-devel, libxml2-devel, libjpeg-devel
-BuildRequires: freetype-devel &gt;= 2.0, libogg-devel, libvorbis-devel, libdv-devel
-BuildRequires: bzip2-devel, ed
+BuildRequires: gcc-c++, gtk+-devel, SDL-devel, libxml2-devel, libjpeg-devel
+BuildRequires: freetype-devel &gt;= 2.0, libogg-devel, libvorbis-devel
+BuildRequires: libdv-devel, bzip2-devel, ed, lzo-devel
 # Seems like ImageMagick-devel should require this! (FC2 and higher)
 BuildRequires: libexif-devel
 %{!?_without_lame:BuildRequires: lame-devel &gt;= 3.89}
+%{!?_without_theora:BuildRequires: libtheora-devel}
 %{!?_without_dvdread:BuildRequires: libdvdread-devel}
-%{!?_without_xvidcore:BuildRequires: xvidcore-devel}
-#{!?_without_postproc:BuildRequires: libpostproc}
 %{!?_without_quicktime:BuildRequires: libquicktime-devel}
-%{!?_without_lzo:BuildRequires: lzo-devel &gt;= 1.08}
 %{!?_without_a52:BuildRequires: a52dec-devel &gt;= 0.7.3}
+%{!?_without_mpeg3:BuildRequires: libmpeg3}
+%{!?_without_mjpeg:BuildRequires: mjpegtools-devel}
 %{!?_without_libfame:BuildRequires: libfame-devel}
-# All these are only build requirements since they compile in statically
-%{!?_without_mjpeg:BuildRequires: mjpegtools-devel}
-%{!?_without_mpeg3:BuildRequires: libmpeg3}
-%{!?_without_theora:BuildRequires: libtheora-devel}
 %{!?_without_magick:BuildRequires: ImageMagick-devel &gt;= 5.4.3}
+# Non configure options
 %{!?_without_nasm:BuildRequires: nasm}
+%{!?_without_postproc:BuildRequires: libpostproc}
+%{!?_without_ffmpeg:BuildRequires: ffmpeg-devel}
+%{!?_without_xvidcore:BuildRequires: xvidcore-devel}
+Conflicts: perl-Video-DVDRip &lt; 0.51.2
 
 %description
 Transcode is a linux text-console utility for video stream processing.
@@ -62,43 +64,46 @@
 Please see the included README file for more.
 
 Available rpmbuild rebuild options :
---with    : avifile
---without : lame dvdread xvidcore quicktime lzo a52 libfame mjpeg mpeg3
-            theora magick
+--without : lame theora dvdread quicktime a52 mpeg3 mjpeg libfame magick
+            nasm postproc ffmpeg xvidcore
 
 
 %prep
 %setup
-%{?_without_gcc3:%patch0}
+%patch -p1 -b .bitstream
 
-### FIXME: Make buildsystem use standard autotools directories (Fix upstream please)
-%{__perl} -pi.orig -e 's|\@MOD_PATH\@|\$(libdir)/transcode|' \
-    Makefile.in */Makefile.in */*/Makefile.in
+### FIXME: Use standard autotools directories (Fix upstream please)
+#{__perl} -pi.orig -e 's|${prefix}/lib|%{_libdir}|g' configure
 
 
 %build
 %configure \
-    --program-prefix=&quot;%{?_program_prefix}&quot; \
-    %{?_without_lame:--without-lame} \
-    %{?_without_dvdread:--without-dvdread} \
-    %{?_without_xvidcore:--without-xvidcore} \
-    %{!?_without_xvidcore:--with-default-xvid=xvid4} \
-    %{!?_without_quicktime:--with-qt} \
-    %{?_without_lzo:--without-lzo} \
-    %{?_without_a52:--without-a52} \
-    %{?_without_libfame:--without-libfame} \
-    %{?_without_mjpeg:--without-mjpeg} \
-    %{?_without_mpeg3:--without-libmpeg3} \
-    %{!?_without_theora:--with-theora} \
-    %{!?_with_avifile:--without-avifile-mods} \
-    %{?_without_magick:--without-magick-mods}
+    --enable-netstream \
+    --enable-v4l \
+    %{?_without_lame:--disable-lame} \
+    --enable-ogg \
+    --enable-vorbis \
+    %{!?_without_theora:--enable-theora} \
+    %{?_without_dvdread:--disable-dvdread} \
+    --enable-libdv \
+    %{!?_without_quicktime:--enable-libquicktime} \
+    --enable-lzo \
+    %{!?_without_a52:--enable-a52} \
+    %{!?_without_mpeg3:--enable-libmpeg3} \
+    --enable-libxml2 \
+    %{!?_without_mjpeg:--enable-mjpegtools} \
+    --enable-sdl \
+    --enable-gtk \
+    %{!?_without_libfame:--enable-libfame} \
+    %{!?_without_magick:--enable-imagemagick} \
+    %{!?_without_ffmpeg:--enable-ffbin}
 %{__make} %{?_smp_mflags}
 
 
 %install
-%{__rm} -rf %{buildroot}
+%{__rm} -rf %{buildroot} _docs
 %makeinstall \
-    docsdir=&quot;../rpm-doc/&quot;
+    docsdir=&quot;../_docs/&quot;
 
 
 %clean
@@ -107,7 +112,7 @@
 
 %files
 %defattr(-, root, root, 0755)
-%doc AUTHORS ChangeLog COPYING README TODO rpm-doc/*
+%doc AUTHORS ChangeLog COPYING README TODO _docs/*
 %{_bindir}/*
 %{_libdir}/transcode/
 %exclude %{_libdir}/transcode/*.la
@@ -115,6 +120,13 @@
 
 
 %changelog
+* Fri Oct 29 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.6.13-0
+- Update to 0.6.13.
+- Reworked the configure options, build reqs and rpmbuild conditionals.
+- Remove gcc 2.96 patch, it doesn't apply anymore.
+- Include bitstream patch to fix dvd::rip usage.
+- Re-add ffmpeg-devel build dep, it builds shared again now.
+
 * Fri Jul 30 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.6.12-6
 - Added patch for building with gcc &lt; 3. (Edward Rudd, ATbz #183)
 

Modified: trunk/rpms/videolan-client/videolan-client.spec
===================================================================
--- trunk/rpms/videolan-client/videolan-client.spec	2004-11-04 15:26:55 UTC (rev 2414)
+++ trunk/rpms/videolan-client/videolan-client.spec	2004-11-04 19:58:52 UTC (rev 2415)
@@ -33,9 +33,9 @@
 %{?yd3:%define _without_fribidi 1}
 
 %define desktop_vendor freshrpms
-%define ffmpeg_date    20041001
+%define ffmpeg_date    20041101
 %define real_name      vlc
-%define prever         test2
+#define prever         test2
 
 Summary: The VideoLAN client, also a very good standalone video player
 Name: videolan-client
@@ -264,6 +264,9 @@
 
 
 %changelog
+* Thu Nov  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.8.0-1
+- Update to 0.8.0 final and ffmpeg 20041101 snapshot.
+
 * Fri Oct  1 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.8.0-0.test2.1
 - Update to 0.8.0-test2 and ffmpeg 20041001 snapshot.
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001220.html">[SVN] r2414 - trunk/rpms/pport
</A></li>
	<LI>Next message: <A HREF="001222.html">[SVN] r2416 - in trunk/rpms: . aide amavisd-new clamav dconf dstat	gdesklets-goodweather kdissert lftp libgda memtest86+	perl-Kwiki php-adodb rootsh s4g snackamp tnftp vpnc whowatch xosview
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1221">[ date ]</a>
              <a href="thread.html#1221">[ thread ]</a>
              <a href="subject.html#1221">[ subject ]</a>
              <a href="author.html#1221">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
