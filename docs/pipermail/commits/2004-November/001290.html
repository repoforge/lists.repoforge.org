<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [SVN] r2485 - in trunk/rpms: SDL_ttf bluez-bluefw gcvs ghc gl-117	gnubiff gstreamer-player gwenview ifstat kderadiostation	kdirstat kflamesaver kftpgrabber kile kmemaid kmuddy kmyirc	knoda knowit konserve kssh ksubtile kyra mbrowse micq	nagios-plugins ngrep nrh-up2date nxtvepg openobex p0f packit	pan perl-BerkeleyDB perl-SDL pike pixieplus pointless	python-imaging rfb scorereadingtrainer smb4k snort sodipodi	sqlite squidguard stress subtitleripper tellico tightvnc	tuxsaver uudeview vtun xfrisk xine-lib xkobo xlockmore yum
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r2485%20-%20in%20trunk/rpms%3A%20SDL_ttf%20bluez-bluefw%20gcvs%20ghc%20gl-117%0A%09gnubiff%20gstreamer-player%20gwenview%20ifstat%20kderadiostation%0A%09kdirstat%20kflamesaver%20kftpgrabber%20kile%20kmemaid%20kmuddy%20kmyirc%0A%09knoda%20knowit%20konserve%20kssh%20ksubtile%20kyra%20mbrowse%20micq%0A%09nagios-plugins%20ngrep%20nrh-up2date%20nxtvepg%20openobex%20p0f%20packit%0A%09pan%20perl-BerkeleyDB%20perl-SDL%20pike%20pixieplus%20pointless%0A%09python-imaging%20rfb%20scorereadingtrainer%20smb4k%20snort%20sodipodi%0A%09sqlite%20squidguard%20stress%20subtitleripper%20tellico%20tightvnc%0A%09tuxsaver%20uudeview%20vtun%20xfrisk%20xine-lib%20xkobo%20xlockmore%20yum&In-Reply-To=%3C20041114074450.A9F6D1809E%40web22.us.megagiga.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001289.html">
   <LINK REL="Next"  HREF="001291.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[SVN] r2485 - in trunk/rpms: SDL_ttf bluez-bluefw gcvs ghc gl-117	gnubiff gstreamer-player gwenview ifstat kderadiostation	kdirstat kflamesaver kftpgrabber kile kmemaid kmuddy kmyirc	knoda knowit konserve kssh ksubtile kyra mbrowse micq	nagios-plugins ngrep nrh-up2date nxtvepg openobex p0f packit	pan perl-BerkeleyDB perl-SDL pike pixieplus pointless	python-imaging rfb scorereadingtrainer smb4k snort sodipodi	sqlite squidguard stress subtitleripper tellico tightvnc	tuxsaver uudeview vtun xfrisk xine-lib xkobo xlockmore yum</H1>
    <B>svn-commits at rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r2485%20-%20in%20trunk/rpms%3A%20SDL_ttf%20bluez-bluefw%20gcvs%20ghc%20gl-117%0A%09gnubiff%20gstreamer-player%20gwenview%20ifstat%20kderadiostation%0A%09kdirstat%20kflamesaver%20kftpgrabber%20kile%20kmemaid%20kmuddy%20kmyirc%0A%09knoda%20knowit%20konserve%20kssh%20ksubtile%20kyra%20mbrowse%20micq%0A%09nagios-plugins%20ngrep%20nrh-up2date%20nxtvepg%20openobex%20p0f%20packit%0A%09pan%20perl-BerkeleyDB%20perl-SDL%20pike%20pixieplus%20pointless%0A%09python-imaging%20rfb%20scorereadingtrainer%20smb4k%20snort%20sodipodi%0A%09sqlite%20squidguard%20stress%20subtitleripper%20tellico%20tightvnc%0A%09tuxsaver%20uudeview%20vtun%20xfrisk%20xine-lib%20xkobo%20xlockmore%20yum&In-Reply-To=%3C20041114074450.A9F6D1809E%40web22.us.megagiga.com%3E"
       TITLE="[SVN] r2485 - in trunk/rpms: SDL_ttf bluez-bluefw gcvs ghc gl-117	gnubiff gstreamer-player gwenview ifstat kderadiostation	kdirstat kflamesaver kftpgrabber kile kmemaid kmuddy kmyirc	knoda knowit konserve kssh ksubtile kyra mbrowse micq	nagios-plugins ngrep nrh-up2date nxtvepg openobex p0f packit	pan perl-BerkeleyDB perl-SDL pike pixieplus pointless	python-imaging rfb scorereadingtrainer smb4k snort sodipodi	sqlite squidguard stress subtitleripper tellico tightvnc	tuxsaver uudeview vtun xfrisk xine-lib xkobo xlockmore yum">svn-commits at rpmforge.net
       </A><BR>
    <I>Sun Nov 14 08:44:50 CET 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="001289.html">[SVN] r2484 - in trunk/rpms: libextractor rubrica socat
</A></li>
        <LI>Next message: <A HREF="001291.html">[SVN] r2486 - in trunk/rpms: . rktime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1290">[ date ]</a>
              <a href="thread.html#1290">[ thread ]</a>
              <a href="subject.html#1290">[ subject ]</a>
              <a href="author.html#1290">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2004-11-14 08:44:47 +0100 (Sun, 14 Nov 2004)
New Revision: 2485

Added:
   trunk/rpms/bluez-bluefw/pcmcia-includes.tar.gz
Modified:
   trunk/rpms/SDL_ttf/SDL_ttf.spec
   trunk/rpms/gcvs/gcvs.spec
   trunk/rpms/ghc/ghc.spec
   trunk/rpms/gl-117/gl-117.spec
   trunk/rpms/gnubiff/gnubiff.spec
   trunk/rpms/gstreamer-player/gstreamer-player.spec
   trunk/rpms/gwenview/gwenview.spec
   trunk/rpms/ifstat/ifstat.spec
   trunk/rpms/kderadiostation/kderadiostation.spec
   trunk/rpms/kdirstat/kdirstat.spec
   trunk/rpms/kflamesaver/kflamesaver.spec
   trunk/rpms/kftpgrabber/kftpgrabber.spec
   trunk/rpms/kile/kile.spec
   trunk/rpms/kmemaid/kmemaid.spec
   trunk/rpms/kmuddy/kmuddy.spec
   trunk/rpms/kmyirc/kmyirc.spec
   trunk/rpms/knoda/knoda.spec
   trunk/rpms/knowit/knowit.spec
   trunk/rpms/konserve/konserve.spec
   trunk/rpms/kssh/kssh.spec
   trunk/rpms/ksubtile/ksubtile.spec
   trunk/rpms/kyra/kyra.spec
   trunk/rpms/mbrowse/mbrowse.spec
   trunk/rpms/micq/micq.spec
   trunk/rpms/nagios-plugins/nagios-plugins.spec
   trunk/rpms/ngrep/ngrep.spec
   trunk/rpms/nrh-up2date/nrh-up2date.spec
   trunk/rpms/nxtvepg/nxtvepg.spec
   trunk/rpms/openobex/openobex.spec
   trunk/rpms/p0f/p0f.spec
   trunk/rpms/packit/packit.spec
   trunk/rpms/pan/pan.spec
   trunk/rpms/perl-BerkeleyDB/perl-BerkeleyDB.spec
   trunk/rpms/perl-SDL/perl-SDL.spec
   trunk/rpms/pike/pike.spec
   trunk/rpms/pixieplus/pixieplus.spec
   trunk/rpms/pointless/pointless.spec
   trunk/rpms/python-imaging/python-imaging.spec
   trunk/rpms/rfb/rfb.spec
   trunk/rpms/scorereadingtrainer/scorereadingtrainer.spec
   trunk/rpms/smb4k/smb4k.spec
   trunk/rpms/snort/snort.spec
   trunk/rpms/sodipodi/sodipodi.spec
   trunk/rpms/sqlite/sqlite.spec
   trunk/rpms/squidguard/squidguard.spec
   trunk/rpms/stress/stress.spec
   trunk/rpms/subtitleripper/subtitleripper-dag.spec
   trunk/rpms/tellico/tellico.spec
   trunk/rpms/tightvnc/tightvnc.spec
   trunk/rpms/tuxsaver/tuxsaver.spec
   trunk/rpms/uudeview/uudeview.spec
   trunk/rpms/vtun/vtun.spec
   trunk/rpms/xfrisk/xfrisk.spec
   trunk/rpms/xine-lib/xine-lib.spec
   trunk/rpms/xkobo/xkobo.spec
   trunk/rpms/xlockmore/xlockmore.spec
   trunk/rpms/yum/yum.spec
Log:
More FC3 fixes?

Modified: trunk/rpms/SDL_ttf/SDL_ttf.spec
===================================================================
--- trunk/rpms/SDL_ttf/SDL_ttf.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/SDL_ttf/SDL_ttf.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -4,8 +4,8 @@
 %{?dist: %{expand: %%define %dist 1}}
 
 %{!?dist: %define _freetype_fix 1}
-%{?fc3:   %define _freetype_fix 1}
-%{?fc2:   %define _freetype_fix 1}
+%{?fc3: %define _freetype_fix 1}
+%{?fc2: %define _freetype_fix 1}
 
 Summary: Simple DirectMedia Layer - Sample TrueType Font Library
 Name: SDL_ttf

Added: trunk/rpms/bluez-bluefw/pcmcia-includes.tar.gz
===================================================================
(Binary files differ)


Property changes on: trunk/rpms/bluez-bluefw/pcmcia-includes.tar.gz
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/rpms/gcvs/gcvs.spec
===================================================================
--- trunk/rpms/gcvs/gcvs.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/gcvs/gcvs.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -4,10 +4,12 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?rh7:%define _without_freedesktop 1}
+%{?el2:%define _without_freedesktop 1}
+
 ### FIXME: Modified to co-exist with cvs. (Please fix upstream)
 # Tag: test
 
-%define dfi %(which desktop-file-install &amp;&gt;/dev/null; echo $?)
 %define desktop_vendor rpmforge
 
 Summary: GUI interface for CVS
@@ -26,6 +28,8 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: gtk+-devel, gcc-c++, texinfo, autoconf, automake
+%{!?_without_freedesktop:BuildRequires: desktop-file-utils}
+%{?fc3:BuildRequires: tcl-devel}
 %{?fc2:BuildRequires: tcl-devel}
 %{?fc1:BuildRequires: tcl-devel}
 %{?el3:BuildRequires: tcl-devel}
@@ -81,9 +85,8 @@
 ### Clean up buildroot (get rid of conflicting files with cvs package)
 %{__rm} -rf %{buildroot}%{_infodir}
 
-%if %{dfi}
-	%{__install} -d -m0755 %{buildroot}%{_datadir}/gnome/apps/Utilities/
-	%{__install} -m0644 %{name}.desktop %{buildroot}%{_datadir}/gnome/apps/Utilities/
+%if %{?_without_freedesktop:1}0
+	%{__install} -D -m0644 gcvs.desktop %{buildroot}%{_datadir}/gnome/apps/Utilities/gcvs.desktop
 %else
 	%{__install} -d -m0755 %{buildroot}%{_datadir}/applications
 	desktop-file-install --vendor %{desktop_vendor}    \
@@ -91,7 +94,7 @@
 		--add-category Application                 \
 		--add-category Utility                     \
 		--dir %{buildroot}%{_datadir}/applications \
-		%{name}.desktop
+		gcvs.desktop
 %endif
 
 %post
@@ -116,11 +119,8 @@
 %{_libdir}/cvs/
 %{_mandir}/man?/*
 %{_datadir}/gcvs/
-%if %{dfi}
-        %{_datadir}/gnome/apps/Utilities/*.desktop
-%else
-        %{_datadir}/applications/*.desktop
-%endif
+%{?_without_freedesktop:%{_datadir}/gnome/apps/Utilities/gcvs.desktop}
+%{!?_without_freedesktop:%{_datadir}/applications/%{desktop_vendor}-gcvs.desktop}
 
 %changelog
 * Fri May 28 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0-1

Modified: trunk/rpms/ghc/ghc.spec
===================================================================
--- trunk/rpms/ghc/ghc.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/ghc/ghc.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -21,6 +21,8 @@
 BuildRequires: m4, python, perl 
 BuildRequires: python-devel, docbook-dtds
 BuildRequires: openjade, jadetex, XFree86-devel
+%{!?dist:BuildRequires: xorg-x11-Mesa-libGL, xorg-x11-Mesa-libGLU}
+%{?fc3:BuildRequires: xorg-x11-Mesa-libGL, xorg-x11-Mesa-libGLU}
 %{?fc2:BuildRequires: xorg-x11-Mesa-libGL, xorg-x11-Mesa-libGLU}
 %{?fc1:BuildRequires: XFree86-Mesa-libGL, XFree86-Mesa-libGLU}
 Requires: readline

Modified: trunk/rpms/gl-117/gl-117.spec
===================================================================
--- trunk/rpms/gl-117/gl-117.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/gl-117/gl-117.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -23,6 +23,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: SDL-devel, SDL_mixer-devel, gcc-c++
 %{!?dist:BuildRequires: freeglut-devel, xorg-x11-devel}
+%{?fc3:BuildRequires: freeglut-devel, xorg-x11-devel}
 %{?fc2:BuildRequires: freeglut-devel, xorg-x11-devel}
 %{?fc1:BuildRequires: freeglut-devel, XFree86-devel}
 %{?rh9:BuildRequires: glut-devel, XFree86-devel}

Modified: trunk/rpms/gnubiff/gnubiff.spec
===================================================================
--- trunk/rpms/gnubiff/gnubiff.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/gnubiff/gnubiff.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -19,6 +19,8 @@
 BuildRequires: gettext, libgnomeui-devel, gnome-panel, gcc-c++
 BuildRequires: openssl-devel, libglade-devel, gdk-pixbuf-devel 
 BuildRequires: glib2-devel, libglade2-devel
+%{!?dist:BuildRequires: gnome-panel-devel}
+%{?fc3:BuildRequires: gnome-panel-devel}
 %{?fc2:BuildRequires: gnome-panel-devel}
 
 %description

Modified: trunk/rpms/gstreamer-player/gstreamer-player.spec
===================================================================
--- trunk/rpms/gstreamer-player/gstreamer-player.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/gstreamer-player/gstreamer-player.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -23,6 +23,8 @@
 BuildRequires: gstreamer-devel &gt;= 0.8.0, gstreamer-plugins-devel &gt;= 0.8.0
 #BuildRequires: gstreamer-play, gstreamer-GConf
 BuildRequires: gettext, eel2-devel, gail-devel, zlib-devel, gcc-c++
+%{!?dist:BuildRequires: nautilus-devel}
+%{?fc3:BuildRequires: nautilus-devel}
 %{?fc2:BuildRequires: nautilus-devel}
 %{?fc1:BuildRequires: nautilus-devel}
 %{?el3:BuildRequires: nautilus-devel}

Modified: trunk/rpms/gwenview/gwenview.spec
===================================================================
--- trunk/rpms/gwenview/gwenview.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/gwenview/gwenview.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -20,6 +20,7 @@
 BuildRequires: libpng-devel, arts-devel, zlib-devel
 BuildRequires: kdelibs-devel, gcc, make, gcc-c++
 BuildRequires: XFree86-devel, qt-devel
+%{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
 
 %description

Modified: trunk/rpms/ifstat/ifstat.spec
===================================================================
--- trunk/rpms/ifstat/ifstat.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/ifstat/ifstat.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -4,10 +4,14 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?rh7:%define _without_net_snmp 1}
+%{?el2:%define _without_net_snmp 1}
+%{?rh6:%define _without_net_snmp 1}
+
 Summary: Interface statistics
 Name: ifstat
-Version: 1.0
-Release: 0
+Version: 1.1
+Release: 1
 License: GPL
 Group: System Environment/Base
 URL: <A HREF="http://gael.roualland.free.fr/ifstat/">http://gael.roualland.free.fr/ifstat/</A>
@@ -18,14 +22,8 @@
 Source: <A HREF="http://gael.roualland.free.fr/ifstat/ifstat-%{version">http://gael.roualland.free.fr/ifstat/ifstat-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-%{?fc2:BuildRequires: net-snmp-devel}
-%{?fc1:BuildRequires: net-snmp-devel}
-%{?el3:BuildRequires: net-snmp-devel}
-%{?rh9:BuildRequires: net-snmp-devel}
-%{?rh8:BuildRequires: net-snmp-devel}
-%{?rh7:BuildRequires: ucd-snmp-devel}
-%{?el2:BuildRequires: ucd-snmp-devel}
-%{?rh6:BuildRequires: ucd-snmp-devel}
+%{!?_without_net_snmp:BuildRequires: net-snmp-devel}
+%{?_without_net_snmp:BuildRequires: ucd-snmp-devel}
 
 %description
 ifstat(1) is a little tool to report interface activity like vmstat/iostat do.
@@ -51,9 +49,12 @@
 %files
 %defattr(-, root, root, 0755)
 %doc COPYING HISTORY README TODO
-%doc %{_mandir}/man?/*
-%{_bindir}/*
+%doc %{_mandir}/man1/ifstat.1*
+%{_bindir}/ifstat
 
 %changelog
+* Sun Nov 14 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.1-1
+- Updated to release 1.1.
+
 * Mon Oct 06 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0-0
 - Initial package. (using DAR)

Modified: trunk/rpms/kderadiostation/kderadiostation.spec
===================================================================
--- trunk/rpms/kderadiostation/kderadiostation.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/kderadiostation/kderadiostation.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -21,6 +21,7 @@
 BuildRequires: gcc-c++, gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: XFree86-devel, zlib-devel
 BuildRequires: arts-devel, qt-devel, kdelibs-devel
+%{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
 
 %description

Modified: trunk/rpms/kdirstat/kdirstat.spec
===================================================================
--- trunk/rpms/kdirstat/kdirstat.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/kdirstat/kdirstat.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -22,6 +22,7 @@
 BuildRequires: gcc-c++, gettext, XFree86-devel
 BuildRequires: zlib-devel, qt-devel
 BuildRequires: libjpeg-devel, kdelibs-devel
+%{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
 Requires: kdelibs, qt
 

Modified: trunk/rpms/kflamesaver/kflamesaver.spec
===================================================================
--- trunk/rpms/kflamesaver/kflamesaver.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/kflamesaver/kflamesaver.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -18,6 +18,7 @@
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel
 BuildRequires: libpng-devel, arts-devel, zlib-devel, kdelibs-devel
 BuildRequires: gcc, make, gcc-c++, XFree86-devel, qt-devel
+%{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
 
 

Modified: trunk/rpms/kftpgrabber/kftpgrabber.spec
===================================================================
--- trunk/rpms/kftpgrabber/kftpgrabber.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/kftpgrabber/kftpgrabber.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -20,6 +20,7 @@
 BuildRequires: qt-devel &gt;= 3.3.2, kdelibs-devel &gt;= 3.2.0, openssl-devel &gt;= 0.9.7
 BuildRequires: libpng-devel, libart_lgpl-devel, desktop-file-utils, gcc-c++
 BuildRequires: arts-devel, libjpeg-devel, gettext, XFree86-devel, zlib-devel
+%{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
 
 %description

Modified: trunk/rpms/kile/kile.spec
===================================================================
--- trunk/rpms/kile/kile.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/kile/kile.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -20,6 +20,7 @@
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make, gcc-c++
 BuildRequires: XFree86-devel, qt-devel
+%{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
 Requires: kdelibs
 

Modified: trunk/rpms/kmemaid/kmemaid.spec
===================================================================
--- trunk/rpms/kmemaid/kmemaid.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/kmemaid/kmemaid.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -21,6 +21,7 @@
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make
 BuildRequires: gcc-c++, XFree86-devel, qt-devel
+%{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
 Requires: kdelibs
 

Modified: trunk/rpms/kmuddy/kmuddy.spec
===================================================================
--- trunk/rpms/kmuddy/kmuddy.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/kmuddy/kmuddy.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -21,6 +21,7 @@
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make
 BuildRequires: gcc-c++, XFree86-devel, qt-devel
+%{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
 
 %description

Modified: trunk/rpms/kmyirc/kmyirc.spec
===================================================================
--- trunk/rpms/kmyirc/kmyirc.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/kmyirc/kmyirc.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -20,6 +20,7 @@
 BuildRequires: libart_lgpl-devel, gettext, arts-devel, libjpeg-devel
 BuildRequires: libpng-devel, XFree86-devel, gcc, gcc-c++, make
 BuildRequires: kdelibs-devel, qt-devel, zlib-devel, XFree86-devel
+%{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
 
 %description

Modified: trunk/rpms/knoda/knoda.spec
===================================================================
--- trunk/rpms/knoda/knoda.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/knoda/knoda.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -24,6 +24,7 @@
 BuildRequires: zlib-devel, qt-devel, libjpeg-devel
 BuildRequires: kdelibs-devel, hk_classes
 BuildRequires: python-devel, python
+%{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
 
 %description

Modified: trunk/rpms/knowit/knowit.spec
===================================================================
--- trunk/rpms/knowit/knowit.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/knowit/knowit.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -20,6 +20,7 @@
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make
 BuildRequires: gcc-c++, XFree86-devel, qt-devel
+%{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
 
 %description

Modified: trunk/rpms/konserve/konserve.spec
===================================================================
--- trunk/rpms/konserve/konserve.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/konserve/konserve.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -20,6 +20,7 @@
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make, gcc-c++
 BuildRequires: XFree86-devel, qt-devel
+%{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
 Requires: kdelibs
 

Modified: trunk/rpms/kssh/kssh.spec
===================================================================
--- trunk/rpms/kssh/kssh.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/kssh/kssh.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -20,6 +20,7 @@
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make, gcc-c++
 BuildRequires: XFree86-devel, qt-devel, fam-devel
+%{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
 Requires: kdelibs
 

Modified: trunk/rpms/ksubtile/ksubtile.spec
===================================================================
--- trunk/rpms/ksubtile/ksubtile.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/ksubtile/ksubtile.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -23,6 +23,7 @@
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make, gcc-c++
 BuildRequires: XFree86-devel, qt-devel, fam-devel
+%{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
 Requires: kdelibs
 

Modified: trunk/rpms/kyra/kyra.spec
===================================================================
--- trunk/rpms/kyra/kyra.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/kyra/kyra.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -18,6 +18,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: SDL-devel, gcc-c++, SDL_image-devel, libtiff-devel
+%{?fc3:BuildRequires: alsa-lib-devel}
 %{?fc2:BuildRequires: alsa-lib-devel}
 
 # Screenshot: <A HREF="http://grinninglizard.com/kyra/demoBemSingle.jpg">http://grinninglizard.com/kyra/demoBemSingle.jpg</A>

Modified: trunk/rpms/mbrowse/mbrowse.spec
===================================================================
--- trunk/rpms/mbrowse/mbrowse.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/mbrowse/mbrowse.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -8,8 +8,11 @@
 %{?dist: %{expand: %%define %dist 1}}
 
 %{?rh7:%define _without_freedesktop 1}
+%{?rh7:%define _without_net_snmp 1}
 %{?el2:%define _without_freedesktop 1}
+%{?el2:%define _without_net_snmp 1}
 %{?rh6:%define _without_freedesktop 1}
+%{?rh6:%define _without_net_snmp 1}
 
 %define desktop_vendor rpmforge
 
@@ -28,15 +31,8 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: gtk+-devel &gt;= 1.2
-%{!?dist:BuildRequires: net-snmp-devel &gt;= 4.2}
-%{?fc2:BuildRequires: net-snmp-devel &gt;= 4.2}
-%{?fc1:BuildRequires: net-snmp-devel &gt;= 4.2}
-%{?el3:BuildRequires: net-snmp-devel &gt;= 4.2}
-%{?rh9:BuildRequires: net-snmp-devel &gt;= 4.2}
-%{?rh8:BuildRequires: net-snmp-devel &gt;= 4.2}
-%{?rh7:BuildRequires: ucd-snmp-devel}
-%{?el2:BuildRequires: ucd-snmp-devel}
-%{?rh6:BuildRequires: ucd-snmp-devel}
+%{!?_without_net_snmp:BuildRequires: net-snmp-devel &gt;= 4.2}
+%{?_without_net_snmp:BuildRequires: ucd-snmp-devel}
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 
 %description

Modified: trunk/rpms/micq/micq.spec
===================================================================
--- trunk/rpms/micq/micq.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/micq/micq.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -20,6 +20,8 @@
 Buildroot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: openssl-devel, tcl
+%{!?dist:BuildRequires: libgcrypt-devel, gnutls-devel, tcl-devel}
+%{?fc3:BuildRequires: libgcrypt-devel, gnutls-devel, tcl-devel}
 %{?fc2:BuildRequires: libgcrypt-devel, gnutls-devel, tcl-devel}
 %{?fc1:BuildRequires: libgcrypt-devel, gnutls-devel, tcl-devel}
 #%{?el3:BuildRequires: libgcrypt-devel, gnutls-devel, tcl-devel}

Modified: trunk/rpms/nagios-plugins/nagios-plugins.spec
===================================================================
--- trunk/rpms/nagios-plugins/nagios-plugins.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/nagios-plugins/nagios-plugins.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -4,6 +4,10 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?rh7:%define _without_net_snmp 1}
+%{?el2:%define _without_net_snmp 1}
+%{?rh6:%define _without_net_snmp 1}
+
 %define _libexecdir %{_libdir}/nagios/plugins
 %define extraplugins check_cluster check_dhcp
 
@@ -28,14 +32,8 @@
 BuildRequires: fping, bind-utils, ntp, samba-client, openssh-clients, qstat
 BuildRequires: openldap-devel, mysql-devel, postgresql-devel
 BuildRequires: perl(Net::SNMP)
-%{?fc2:BuildRequires: net-snmp-devel, net-snmp-utils}
-%{?fc1:BuildRequires: net-snmp-devel, net-snmp-utils}
-%{?el3:BuildRequires: net-snmp-devel, net-snmp-utils}
-%{?rh9:BuildRequires: net-snmp-devel, net-snmp-utils}
-%{?rh8:BuildRequires: net-snmp-devel, net-snmp-utils}
-%{?rh7:BuildRequires: ucd-snmp-devel, ucd-snmp-utils}
-%{?el2:BuildRequires: ucd-snmp-devel, ucd-snmp-utils}
-%{?rh6:BuildRequires: ucd-snmp-devel, ucd-snmp-utils}
+%{!?_without_net_snmp:BuildRequires: net-snmp-devel, net-snmp-utils}
+%{?_without_net_snmp:BuildRequires: ucd-snmp-devel, ucd-snmp-utils}
 
 #Requires: openldap, openssl, mysql, postgresql-libs
 Requires: perl, perl(Net::SNMP), fping

Modified: trunk/rpms/ngrep/ngrep.spec
===================================================================
--- trunk/rpms/ngrep/ngrep.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/ngrep/ngrep.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -40,6 +40,7 @@
 		s|^(MANDIR).+$|$1=\$(mandir)/man8|g;
 	' Makefile.in
 
+%{?fc3:%{__perl} -pi.orig -e 's|net/bpf.h|pcap-bpf.h|' configure *.c *.h}
 %{?fc2:%{__perl} -pi.orig -e 's|net/bpf.h|pcap-bpf.h|' configure *.c *.h}
 
 %build

Modified: trunk/rpms/nrh-up2date/nrh-up2date.spec
===================================================================
--- trunk/rpms/nrh-up2date/nrh-up2date.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/nrh-up2date/nrh-up2date.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -21,6 +21,7 @@
 BuildArch: noarch
 Requires: perl, perl-Frontier-RPC, perl(XML::Parser), perl-BerkeleyDB, python, python-bsddb3
 %{!?dist:Requires: httpd, rpm, rpm-python, db4}
+%{?fc3:Requires: httpd, rpm, rpm-python, db4}
 %{?fc2:Requires: httpd, rpm, rpm-python, db4}
 %{?fc1:Requires: httpd, rpm, rpm-python, db4}
 %{?el3:Requires: httpd, rpm, rpm-python, db4}

Modified: trunk/rpms/nxtvepg/nxtvepg.spec
===================================================================
--- trunk/rpms/nxtvepg/nxtvepg.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/nxtvepg/nxtvepg.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -21,6 +21,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: XFree86-devel, tcl, tk, desktop-file-utils
+%{?fc3:BuildRequires: tcl-devel, tk-devel}
 %{?fc2:BuildRequires: tcl-devel, tk-devel}
 %{?fc1:BuildRequires: tcl-devel, tk-devel}
 %{?el3:BuildRequires: tcl-devel, tk-devel}

Modified: trunk/rpms/openobex/openobex.spec
===================================================================
--- trunk/rpms/openobex/openobex.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/openobex/openobex.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -20,6 +20,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: glib-devel &gt;= 1.2.0
+%{?fc3:BuildRequires: bluez-libs-devel}
 %{?fc2:BuildRequires: bluez-libs-devel}
 %{?fc1:BuildRequires: bluez-libs-devel}
 %{?rh9:BuildRequires: bluez-libs-devel}

Modified: trunk/rpms/p0f/p0f.spec
===================================================================
--- trunk/rpms/p0f/p0f.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/p0f/p0f.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -32,6 +32,7 @@
 %prep
 %setup -n %{name}
 
+%{?fc3:%{__perl} -pi.orig -e 's|net/bpf.h|pcap-bpf.h|' *.c *.h}
 %{?fc2:%{__perl} -pi.orig -e 's|net/bpf.h|pcap-bpf.h|' *.c *.h}
 
 %{__cat} &lt;&lt;EOF &gt;p0f.sysconfig

Modified: trunk/rpms/packit/packit.spec
===================================================================
--- trunk/rpms/packit/packit.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/packit/packit.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -32,6 +32,7 @@
 %prep
 %setup
 
+%{?fc3:%{__perl} -pi.orig -e 's|net/bpf.h|pcap-bpf.h|' src/*.c src/*.h}
 %{?fc2:%{__perl} -pi.orig -e 's|net/bpf.h|pcap-bpf.h|' src/*.c src/*.h}
 
 %build

Modified: trunk/rpms/pan/pan.spec
===================================================================
--- trunk/rpms/pan/pan.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/pan/pan.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -2,8 +2,11 @@
 # Authority: dag
 # Upstream: &lt;pan-devel$nongnu,org&gt;
 
-%define dfi %(which desktop-file-install &amp;&gt;/dev/null; echo $?)
+%{?dist: %{expand: %%define %dist 1}}
 
+%{?rh7:%define _without_freedesktop 1}
+%{?el2:%define _without_freedesktop 1}
+
 Summary: The Pan Newsreader
 Name: pan
 Version: 0.14.2.91
@@ -21,7 +24,7 @@
 
 BuildRequires: glib2-devel &gt;= 2.0.4, gtk2-devel &gt;= 2.0.5, libxml2-devel &gt;= 2.4.22
 BuildRequires: gnet2-devel, gtkspell &gt;= 2.0.2, pcre-devel &gt;= 4.0, gettext
-%{?fc2:BuildRequires: desktop-file-utils}
+%{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 
 
 %description
@@ -46,13 +49,13 @@
 %makeinstall
 %find_lang %{name}
 
-%if %{dfi}
-%else
-desktop-file-install --vendor gnome --delete-original \
-	--add-category Application                    \
-	--add-category Network                        \
-	--add-category X-Red-Hat-Base                 \
-	--dir %{buildroot}%{_datadir}/applications    \
+%if %{!?_without_freedesktop:1}0
+desktop-file-install --vendor %{desktop_vendor}    \
+	--delete-original                          \
+	--add-category Application                 \
+	--add-category Network                     \
+	--add-category X-Red-Hat-Base              \
+	--dir %{buildroot}%{_datadir}/applications \
 	%{buildroot}%{_datadir}/gnome/apps/Internet/*.desktop
 %endif
 

Modified: trunk/rpms/perl-BerkeleyDB/perl-BerkeleyDB.spec
===================================================================
--- trunk/rpms/perl-BerkeleyDB/perl-BerkeleyDB.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/perl-BerkeleyDB/perl-BerkeleyDB.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -1,6 +1,8 @@
 # $Id$
 # Authority: dag
 
+%{?dist: %{expand: %%define %dist 1}}
+
 %define real_name BerkeleyDB
 
 Summary: Perl extension for Berkeley DB version 2, 3 or 4
@@ -20,6 +22,8 @@
 
 BuildRequires: perl &gt;= 0:5.00503
 Requires: perl &gt;= 0:5.00503
+%{!?dist:BuildRequires: db4-devel}
+%{?fc3:BuildRequires: db4-devel}
 %{?fc2:BuildRequires: db4-devel}
 
 %description

Modified: trunk/rpms/perl-SDL/perl-SDL.spec
===================================================================
--- trunk/rpms/perl-SDL/perl-SDL.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/perl-SDL/perl-SDL.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -1,6 +1,8 @@
 # $Id$
 # Authority: matthias
 
+%{?dist: %{expand: %%define %dist 1}}
+
 %define perl_archsitelib %(eval &quot;`%{__perl} -V:installsitearch`&quot;; echo $installsitearch)
 %define _use_internal_dependency_generator 0
 

Modified: trunk/rpms/pike/pike.spec
===================================================================
--- trunk/rpms/pike/pike.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/pike/pike.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -16,8 +16,8 @@
 Packager: Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt;
 Vendor: Dries Apt/Yum Repository <A HREF="http://dries.ulyssis.org/ayo/">http://dries.ulyssis.org/ayo/</A>
 
-Source: <A HREF="ftp://pike.ida.liu.se/pub/pike/latest-stable/%{real_name">ftp://pike.ida.liu.se/pub/pike/latest-stable/%{real_name</A>}-%{real_version}.tar.gz
-Source1: <A HREF="ftp://pike.ida.liu.se/pub/pike/latest-stable/%{real_name">ftp://pike.ida.liu.se/pub/pike/latest-stable/%{real_name</A>}-%{real_version}-doc.tar.gz
+Source: <A HREF="ftp://pike.ida.liu.se/pub/pike/latest-stable/Pike-v%{version">ftp://pike.ida.liu.se/pub/pike/latest-stable/Pike-v%{version</A>}.tar.gz
+Source1: <A HREF="ftp://pike.ida.liu.se/pub/pike/latest-stable/Pike-v%{version">ftp://pike.ida.liu.se/pub/pike/latest-stable/Pike-v%{version</A>}-doc.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: nettle-devel, gmp-devel, autoconf, XFree86-devel
@@ -28,6 +28,7 @@
 BuildRequires: pcre-devel, bzip2-devel, freeglut-devel, gtk2-devel
 BuildRequires: SDL-devel, pkgconfig, gtkglarea2-devel
 BuildRequires: gtkglarea, gtk+, gtk+-devel, SDL_mixer-devel
+%{?fc3:BuildRequires:xorg-x11-Mesa-libGLU,xorg-x11-Mesa-libGL}
 %{?fc2:BuildRequires:xorg-x11-Mesa-libGLU,xorg-x11-Mesa-libGL}
 %{?fc1:BuildRequires: XFree86-Mesa-libGL, XFree86-Mesa-libGLU}
 

Modified: trunk/rpms/pixieplus/pixieplus.spec
===================================================================
--- trunk/rpms/pixieplus/pixieplus.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/pixieplus/pixieplus.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -16,6 +16,7 @@
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, 
 BuildRequires: libpng-devel, arts-devel, zlib-devel, 
 BuildRequires: kdelibs-devel, make, gcc-c++, XFree86-devel
+%{?fc3:BuildRequires:libselinux-devel, libexif-devel, libexif}
 %{?fc2:BuildRequires:libselinux-devel, libexif-devel, libexif}
 
 Packager: Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt;

Modified: trunk/rpms/pointless/pointless.spec
===================================================================
--- trunk/rpms/pointless/pointless.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/pointless/pointless.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -20,6 +20,7 @@
 
 BuildRequires: XFree86-devel, libpng-devel, zlib-devel, python &gt;= 2.2
 BuildRequires: gcc-c++
+%{?fc3:BuildRequires: xorg-x11-Mesa-libGL}
 %{?fc2:BuildRequires: xorg-x11-Mesa-libGL}
 %{?fc1:BuildRequires: XFree86-Mesa-libGL}
 %{?el3:BuildRequires: XFree86-Mesa-libGL}

Modified: trunk/rpms/python-imaging/python-imaging.spec
===================================================================
--- trunk/rpms/python-imaging/python-imaging.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/python-imaging/python-imaging.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -4,9 +4,9 @@
 %{?dist: %{expand: %%define %dist 1}}
 
 %{!?dist: %define ft2build 1}
-%{?fc3:   %define ft2build 1}
-%{?fc2:   %define ft2build 1}
-%{?yd4:   %define ft2build 1}
+%{?fc3: %define ft2build 1}
+%{?fc2: %define ft2build 1}
+%{?yd4: %define ft2build 1}
 
 %define pyver %(%{__python} -c 'import sys; print sys.version[:3]' || echo 2.0)
 

Modified: trunk/rpms/rfb/rfb.spec
===================================================================
--- trunk/rpms/rfb/rfb.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/rfb/rfb.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -4,7 +4,9 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%define dfi %(which desktop-file-install &amp;&gt;/dev/null; echo $?)
+%{?rh7:%define _without_freedesktop 1}
+%{?el2:%define _without_freedesktop 1}
+
 %define _bindir /usr/X11R6/bin
 
 Summary: heXoNet RFB (remote control for the X Window System)
@@ -23,6 +25,8 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: libxclass
+%{!?_without_freedesktop:BuildRequires: desktop-file-utils}
+%{?fc3:BuildRequires: compat-gcc-c++}
 %{?fc2:BuildRequires: compat-gcc-c++}
 %{?fc1:BuildRequires: compat-gcc-c++}
 %{?el3:BuildRequires: compat-gcc-c++}
@@ -67,6 +71,7 @@
 
 %build
 ### FIXME: Workaround for RH80 and RH9
+%{?fc3:export CXXFLAGS=&quot;&amp;&gt;/dev/null; g++296 -D\$(USE_ZLIB) `xc-config --cflags` -I../include -finline-functions -funroll-loops %{optflags}&quot;}
 %{?fc2:export CXXFLAGS=&quot;&amp;&gt;/dev/null; g++296 -D\$(USE_ZLIB) `xc-config --cflags` -I../include -finline-functions -funroll-loops %{optflags}&quot;}
 %{?fc1:export CXXFLAGS=&quot;&amp;&gt;/dev/null; g++296 -D\$(USE_ZLIB) `xc-config --cflags` -I../include -finline-functions -funroll-loops %{optflags}&quot;}
 %{?el3:export CXXFLAGS=&quot;&amp;&gt;/dev/null; g++296 -D\$(USE_ZLIB) `xc-config --cflags` -I../include -finline-functions -funroll-loops %{optflags}&quot;}
@@ -88,9 +93,9 @@
 %{__install} -s -m0755 xrfbviewer/{xrfbviewer,xplayfbs} %{buildroot}%{_bindir}
 %{__install} -s -m0755 rfbcat/rfbcat %{buildroot}%{_bindir}
 
-%if %{dfi}
-	%{__install} -d -m0755 %{buildroot}%{_datadir}/gnome/apps/Utilities/
-	%{__install} -m0644 x0rfbserver.desktop xvncconnect.desktop %{buildroot}%{_datadir}/gnome/apps/Utilities/
+%if %{?_without_freedesktop:1}0
+	%{__install} -D -m0644 x0rfbserver.desktop %{buildroot}%{_datadir}/gnome/apps/Utilities/x0rfbserver.desktop
+	%{__install} -D -m0644 xvncconnect.desktop %{buildroot}%{_datadir}/gnome/apps/Utilities/xvncconnect.desktop
 %else
         install -d -m0755 %{buildroot}%{_datadir}/applications
         desktop-file-install --vendor &quot;gnome&quot;              \
@@ -107,11 +112,8 @@
 %doc COPYING INSTALL README rfm_fbs.1.0.html
 %doc %{_mandir}/man?/*
 %{_bindir}/*
-%if %{dfi}
-	%{_datadir}/gnome/apps/Utilities/*.desktop
-%else
-	%{_datadir}/applications/*.desktop
-%endif
+%{?_without_freedesktop:%{_datadir}/gnome/apps/Utilities/*.desktop}
+%{!?_without_freedesktop:%{_datadir}/applications/*.desktop}
 
 %changelog
 * Mon Jan 19 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.6.1-4

Modified: trunk/rpms/scorereadingtrainer/scorereadingtrainer.spec
===================================================================
--- trunk/rpms/scorereadingtrainer/scorereadingtrainer.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/scorereadingtrainer/scorereadingtrainer.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -35,6 +35,7 @@
 BuildRequires: qt-devel, fam-devel
 %{?_without_xorg:BuildRequires: XFree86-devel}
 %{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
 
 %description

Modified: trunk/rpms/smb4k/smb4k.spec
===================================================================
--- trunk/rpms/smb4k/smb4k.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/smb4k/smb4k.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -19,6 +19,7 @@
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make
 BuildRequires: gcc-c++, XFree86-devel, qt-devel, fam-devel, fam
+%{?fc3:BuildRequires:libselinux-devel}
 %{?fc2:BuildRequires:libselinux-devel}
 Requires: kdelibs, fam
 

Modified: trunk/rpms/snort/snort.spec
===================================================================
--- trunk/rpms/snort/snort.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/snort/snort.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -6,6 +6,10 @@
 
 #{?el3:#define _without_odbc 1}
 
+%{?rh7:%define _without_net_snmp 1}
+%{?el2:%define _without_net_snmp 1}
+%{?rh6:%define _without_net_snmp 1}
+
 Summary: Open Source network intrusion detection system
 Name: snort
 Version: 2.2.0
@@ -22,14 +26,8 @@
 
 BuildRequires: libpcap &gt;= 0.4, openssl-devel, libnet
 BuildRequires: pcre-devel, perl
-%{!?dist:BuildRequires: net-snmp-devel}
-%{?fc2:BuildRequires: net-snmp-devel}
-%{?fc1:BuildRequires: net-snmp-devel}
-%{?el3:BuildRequires: net-snmp-devel}
-%{?rh9:BuildRequires: net-snmp-devel}
-%{?rh8:BuildRequires: net-snmp-devel}
-%{?rh7:BuildRequires: ucd-snmp-devel}
-%{?el2:BuildRequires: ucd-snmp-devel}
+%{!?_without_net_snmp:BuildRequires: net-snmp-devel}
+%{?_without_net_snmp:BuildRequires: ucd-snmp-devel}
 %{!?_without_odbc:BuildRequires: unixODBC-devel}
 %{!?_without_postgresql:BuildRequires: postgresql-devel}
 %{!?_without_mysql:BuildRequires: mysql-devel}

Modified: trunk/rpms/sodipodi/sodipodi.spec
===================================================================
--- trunk/rpms/sodipodi/sodipodi.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/sodipodi/sodipodi.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -21,6 +21,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: libxml-devel, libpng-devel, libglade-devel, gcc-c++
+%{?fc3:BuildRequires: libgnomeprint22-devel, libgnomeprintui22-devel)
 %{?fc2:BuildRequires: libgnomeprint22-devel, libgnomeprintui22-devel)
 %{?rh9:BuildRequires: libgnomeprint22-devel, libgnomeprintui-devel}
 %{?rh8:BuildRequires: libgnomeprint-devel &gt;= 1.116, libgnomeprintui-devel &gt;= 1.116}

Modified: trunk/rpms/sqlite/sqlite.spec
===================================================================
--- trunk/rpms/sqlite/sqlite.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/sqlite/sqlite.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -16,6 +16,7 @@
 
 BuildRequires: gcc-c++, readline-devel
 %{!?dist:BuildRequires: tcl-devel}
+%{?fc3:BuildRequires: tcl-devel}
 %{?fc2:BuildRequires: tcl-devel}
 %{?fc1:BuildRequires: tcllib}
 %{?rh9:BuildRequires: tcllib}

Modified: trunk/rpms/squidguard/squidguard.spec
===================================================================
--- trunk/rpms/squidguard/squidguard.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/squidguard/squidguard.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -28,6 +28,7 @@
 
 
 BuildRequires: bison, flex, perl
+%{?fc3:BuildRequires: db4-devel}
 %{?fc2:BuildRequires: db4-devel}
 %{?fc1:BuildRequires: db4-devel}
 %{?el3:BuildRequires: db4-devel}

Modified: trunk/rpms/stress/stress.spec
===================================================================
--- trunk/rpms/stress/stress.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/stress/stress.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -19,6 +19,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 %{!?dist:BuildRequires: glibc-headers}
+%{?fc3:BuildRequires: glibc-headers}
 %{?fc2:BuildRequires: glibc-headers}
 %{?fc1:BuildRequires: glibc-headers}
 %{?el3:BuildRequires: glibc-headers}

Modified: trunk/rpms/subtitleripper/subtitleripper-dag.spec
===================================================================
--- trunk/rpms/subtitleripper/subtitleripper-dag.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/subtitleripper/subtitleripper-dag.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -25,6 +25,7 @@
 %setup -n %{name}
 
 ### Make subtitleripper work with newer netpbm
+%{?fc3:%{__perl} -pi.orig -e 's|^(LIBS)\s+\+=\s+-lppm$|$1 += -lnetpbm|' Makefile}
 %{?fc2:%{__perl} -pi.orig -e 's|^(LIBS)\s+\+=\s+-lppm$|$1 += -lnetpbm|' Makefile}
 
 %build

Modified: trunk/rpms/tellico/tellico.spec
===================================================================
--- trunk/rpms/tellico/tellico.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/tellico/tellico.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -23,6 +23,7 @@
 BuildRequires: arts-devel, gcc-c++, gettext, XFree86-devel
 BuildRequires: zlib-devel, qt-devel, libjpeg-devel, libxslt-devel
 BuildRequires: kdelibs-devel, desktop-file-utils, libxml2-devel
+%{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
 
 %description

Modified: trunk/rpms/tightvnc/tightvnc.spec
===================================================================
--- trunk/rpms/tightvnc/tightvnc.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/tightvnc/tightvnc.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -51,14 +51,8 @@
 Summary: TightVNC server
 Group: User Interface/X
 
-%{?fc2:Requires: xorg-x11}
-%{?fc1:Requires: XFree86}
-%{?el3:Requires: XFree86}
-%{?rh9:Requires: XFree86}
-%{?rh8:Requires: XFree86}
-%{?rh7:Requires: XFree86}
-%{?el2:Requires: XFree86}
-%{?rh6:Requires: XFree86}
+%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel}
 Requires: bash &gt;= 2.0
 Prereq: /sbin/chkconfig, /sbin/service
 #Obsoletes: vnc-server

Modified: trunk/rpms/tuxsaver/tuxsaver.spec
===================================================================
--- trunk/rpms/tuxsaver/tuxsaver.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/tuxsaver/tuxsaver.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -22,6 +22,7 @@
 BuildRequires: gettext, libart_lgpl-devel, libjpeg-devel, libpng-devel
 BuildRequires: arts-devel, zlib-devel, kdelibs-devel, gcc, make
 BuildRequires: gcc-c++, XFree86-devel, qt-devel
+%{?fc3:BuildRequires: libselinux-devel}
 %{?fc2:BuildRequires: libselinux-devel}
 Requires: kdelibs
 

Modified: trunk/rpms/uudeview/uudeview.spec
===================================================================
--- trunk/rpms/uudeview/uudeview.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/uudeview/uudeview.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -22,6 +22,7 @@
 
 BuildRequires: autoconf, libtool
 BuildRequires: tetex-dvips, tetex-latex, transfig
+%{?fc3:BuildRequires: tcl-devel, tk-devel}
 %{?fc2:BuildRequires: tcl-devel, tk-devel}
 %{?fc1:BuildRequires: tcl-devel, tk-devel}
 %{?el3:BuildRequires: tcl-devel, tk-devel}

Modified: trunk/rpms/vtun/vtun.spec
===================================================================
--- trunk/rpms/vtun/vtun.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/vtun/vtun.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -22,6 +22,7 @@
 
 
 BuildRequires: flex, bison, cyrus-sasl-devel, openssl-devel, lzo-devel
+%{?fc3:BuildRequires: glibc-kernheaders}
 %{?fc2:BuildRequires: glibc-kernheaders}
 %{?fc1:BuildRequires: glibc-kernheaders}
 %{?el3:BuildRequires: glibc-kernheaders}

Modified: trunk/rpms/xfrisk/xfrisk.spec
===================================================================
--- trunk/rpms/xfrisk/xfrisk.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/xfrisk/xfrisk.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -21,6 +21,7 @@
 
 BuildRequires: Xaw3d-devel
 %{!?dist:BuildRequires: xorg-x11-devel}
+%{?fc3:BuildRequires: xorg-x11-devel}
 %{?fc2:BuildRequires: xorg-x11-devel}
 %{?fc1:BuildRequires: XFree86-devel}
 %{?rh9:BuildRequires: XFree86-devel}

Modified: trunk/rpms/xine-lib/xine-lib.spec
===================================================================
--- trunk/rpms/xine-lib/xine-lib.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/xine-lib/xine-lib.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -59,6 +59,7 @@
 %{!?_without_caca:BuildRequires: libcaca-devel}
 %{!?_without_theora:BuildRequires: libtheora-devel}
 %{!?dist:BuildRequires: freeglut-devel}
+%{?fc3:BuildRequires: freeglut-devel}
 %{?fc2:BuildRequires: freeglut-devel}
 %{?fc1:BuildRequires: freeglut-devel}
 %{?rh9:BuildRequires: glut-devel}

Modified: trunk/rpms/xkobo/xkobo.spec
===================================================================
--- trunk/rpms/xkobo/xkobo.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/xkobo/xkobo.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -27,6 +27,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gcc-c++
 %{!?dist:BuildRequires: xorg-x11-devel}
+%{?fc3:BuildRequires: xorg-x11-devel}
 %{?fc2:BuildRequires: xorg-x11-devel}
 %{?fc1:BuildRequires: XFree86-devel}
 %{?rh9:BuildRequires: XFree86-devel}

Modified: trunk/rpms/xlockmore/xlockmore.spec
===================================================================
--- trunk/rpms/xlockmore/xlockmore.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/xlockmore/xlockmore.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -17,6 +17,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: XFree86-devel, gcc-c++, esound-devel, gtk2-devel
 BuildRequires: openmotif-devel, openmotif
+%{?fc3:BuildRequires: xorg-x11-Mesa-libGL, xorg-x11-Mesa-libGLU}
 %{?fc2:BuildRequires: xorg-x11-Mesa-libGL, xorg-x11-Mesa-libGLU}
 %{?fc1:BuildRequires: XFree86-Mesa-libGL, XFree86-Mesa-libGLU}
 

Modified: trunk/rpms/yum/yum.spec
===================================================================
--- trunk/rpms/yum/yum.spec	2004-11-14 03:32:58 UTC (rev 2484)
+++ trunk/rpms/yum/yum.spec	2004-11-14 07:44:47 UTC (rev 2485)
@@ -7,6 +7,7 @@
 
 # Which distro to make the default configuration for
 %{?!dist:%{expand: %%define distro fd}}
+%{?fc3:%{expand: %%define distro fd}}
 %{?fc2:%{expand: %%define distro fd}}
 %{?fc1:%{expand: %%define distro fd}}
 %{?rh9:%{expand: %%define distro rh}}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001289.html">[SVN] r2484 - in trunk/rpms: libextractor rubrica socat
</A></li>
	<LI>Next message: <A HREF="001291.html">[SVN] r2486 - in trunk/rpms: . rktime
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1290">[ date ]</a>
              <a href="thread.html#1290">[ thread ]</a>
              <a href="subject.html#1290">[ subject ]</a>
              <a href="author.html#1290">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
