<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [users] Amavisd-new missing dependency
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Amavisd-new%20missing%20dependency&In-Reply-To=%3C436F6959.50806%40core-it.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024798.html">
   <LINK REL="Next"  HREF="024800.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[users] Amavisd-new missing dependency</H1>
    <B>Lode Vermeiren</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Amavisd-new%20missing%20dependency&In-Reply-To=%3C436F6959.50806%40core-it.be%3E"
       TITLE="[users] Amavisd-new missing dependency">lvermeiren at core-it.be
       </A><BR>
    <I>Mon Nov  7 15:48:57 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="024798.html">[users] Amavisd-new missing dependency
</A></li>
        <LI>Next message: <A HREF="024800.html">[users] Amavisd-new missing dependency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24799">[ date ]</a>
              <a href="thread.html#24799">[ thread ]</a>
              <a href="subject.html#24799">[ subject ]</a>
              <a href="author.html#24799">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dag Wieers schreef:

&gt;<i>On Mon, 7 Nov 2005, Lode Vermeiren wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>Starting amavisd-new I got the error &quot;Can't locate Archive/Tar.pm&quot;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>This was resolved by installing perl-Archive-Tar.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>If amavisd-new won't runt without this rpm, shouldn't this be included as a
</I>&gt;&gt;<i>required package in the amavisd-new rpm?
</I>&gt;&gt;<i>    
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>As far as I can see, the package includes the dependency to 
</I>&gt;<i>perl(Archive::Tar), so you should have it one way or another.
</I>&gt;<i>  
</I>&gt;<i>
</I>Indeed, on closer inspection it does list this dependency.

&gt;<i>If you have this package installed (as it seems you do), could you list 
</I>&gt;<i>it's content ?
</I>&gt;<i>
</I>&gt;<i>	rpm -ql --whatprovides 'perl(Archive::Tar)'
</I>&gt;<i>
</I>&gt;<i>It should display:
</I>&gt;<i>&lt;snip&gt;
</I>&gt;<i>
</I>I get these correctly. However, when querying the --whatprovides I also 
got perl-CPANPLUS

[<A HREF="http://lists.repoforge.org/mailman/listinfo/users">lode at sm2p</A> ~]$ rpm -q --whatprovides 'perl(Archive::Tar)'
perl-CPANPLUS-0.051-1.2.el4.rf
perl-Archive-Tar-1.08-0.2.el4.rf

When installing amavisd-new via yum only the perl-CPANPLUS-package was 
installed. perl-CPANPLUS claims to provide this functionality, but 
apparently not in the way that amavisd-new wants it.

Here's the yum log for the installation of amavisd:

Nov 07 13:28:16 Installed: perl-IO-stringy.noarch 2.110-1
Nov 07 13:28:16 Installed: perl-Compress-Zlib.i386 1.37-1.2.el4.rf
Nov 07 13:28:16 Installed: perl-Config-IniFiles.noarch 2.39-1
Nov 07 13:28:16 Installed: perl-CPANPLUS.noarch 0.051-1.2.el4.rf
Nov 07 13:28:16 Installed: perl-Archive-Zip.noarch 1.16-1.2.el4.rf
Nov 07 13:28:16 Installed: perl-TimeDate.noarch 1.16-1.2.el4.rf
Nov 07 13:28:16 Installed: perl-MailTools.noarch 1.67-1.2.el4.rf
Nov 07 13:28:17 Installed: lzo.i386 1.08-4.2.el4.rf
Nov 07 13:28:17 Installed: lzop.i386 1.01-1.2.el4.rf
Nov 07 13:28:17 Installed: nomarch.i686 1.3-1.2.el4.rf
Nov 07 13:28:17 Installed: perl-Unix-Syslog.i386 0.100-4
Nov 07 13:28:17 Installed: zoo.i386 2.10-2.2.el4.rf
Nov 07 13:28:17 Installed: unrar.i386 3.5.2-1.2.el4.rf
Nov 07 13:28:17 Installed: cabextract.i386 1.1-2
Nov 07 13:28:17 Installed: unarj.i386 2.63-0.a.2.el4.rf
Nov 07 13:28:17 Installed: ncompress.i386 4.2.4-40
Nov 07 13:28:18 Installed: perl-Convert-BinHex.noarch 1.119-1.2.el4.rf
Nov 07 13:28:18 Installed: perl-MIME-tools.noarch 5.417-1.2.el4.rf
Nov 07 13:28:18 Installed: perl-Convert-TNEF.noarch 0.17-3.2.el4.rf
Nov 07 13:28:18 Installed: lha.i386 1.14i-17
Nov 07 13:28:18 Installed: ripole.i386 0.1.4-1.2.el4.rf
Nov 07 13:28:18 Installed: arc.i386 5.21o-1.el4.kb
Nov 07 13:28:18 Installed: perl-Convert-UUlib.i386 1.051-2.el4.kb
Nov 07 13:28:19 Installed: perl-BerkeleyDB.i386 0.26-3.el4.kb
Nov 07 13:28:19 Installed: freeze.i386 2.5.0-2
Nov 07 13:28:19 Installed: perl-Net-Server.noarch 0.88-1.el4.kb
Nov 07 13:28:20 Installed: amavisd-new.i386 2.3.2-1.2.el4.rf

So the problem (if it is one, maybe I'm doing something completely 
wrong) seems to be located in the perl-CPANPLUS package, which claims to 
provide something it doesn't provide. (At least not in the way other 
programs expect it to).

Best,
Lode

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024798.html">[users] Amavisd-new missing dependency
</A></li>
	<LI>Next message: <A HREF="024800.html">[users] Amavisd-new missing dependency
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24799">[ date ]</a>
              <a href="thread.html#24799">[ thread ]</a>
              <a href="subject.html#24799">[ subject ]</a>
              <a href="author.html#24799">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
