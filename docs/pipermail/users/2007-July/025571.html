<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [users] Re: Dcon
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Re%3A%20Dcon&In-Reply-To=%3CPine.LNX.4.64.0707191227530.11649%40horsea.3ti.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025567.html">
   <LINK REL="Next"  HREF="025572.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[users] Re: Dcon</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Re%3A%20Dcon&In-Reply-To=%3CPine.LNX.4.64.0707191227530.11649%40horsea.3ti.be%3E"
       TITLE="[users] Re: Dcon">dag at wieers.com
       </A><BR>
    <I>Thu Jul 19 12:55:25 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025567.html">[users] Re: Dcon
</A></li>
        <LI>Next message: <A HREF="025572.html">[users] Re: Dcon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25571">[ date ]</a>
              <a href="thread.html#25571">[ thread ]</a>
              <a href="subject.html#25571">[ subject ]</a>
              <a href="author.html#25571">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 19 Jul 2007, David Hrb&#225;c( wrote:

&gt;<i> Dag Wieers napsal(a):
</I>&gt;<i> &gt; On Thu, 19 Jul 2007, David Hrb&#225;? wrote:
</I>&gt;<i> 
</I>&gt;<i> Dag,
</I>&gt;<i> please change line 450 to:
</I>&gt;<i> mail('changes to %s' % os.uname()[1], diff(previouslog, latestlog))
</I>&gt;<i> 
</I>&gt;<i> Works fine now. See attached file.
</I>
Yes, the previouslog and latestlog are absolute paths, that's why the 
os.path.basename suggestion was very suspicious. However, the realpath is 
normally there to make sure that if any of them (like previouslog) is a 
symlink, that the diff does not refer to the symlink-name, but to the real 
name of the file. So that you know from the diff which files exactly are 
compared.

However, I'm very suspicious to why it suddenly failed after upgrading to 
4.5 so an analysis of that would be welcome. Either the way 
os.path.realpath works has changed or the upgrade messed wih some 
assumptions.

--   dag wieers,  <A HREF="http://lists.repoforge.org/mailman/listinfo/users">dag at wieers.com</A>,  <A HREF="http://dag.wieers.com/">http://dag.wieers.com/</A>   --
[Any errors in spelling, tact or fact are transmission errors]
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025567.html">[users] Re: Dcon
</A></li>
	<LI>Next message: <A HREF="025572.html">[users] Re: Dcon
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25571">[ date ]</a>
              <a href="thread.html#25571">[ thread ]</a>
              <a href="subject.html#25571">[ subject ]</a>
              <a href="author.html#25571">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
