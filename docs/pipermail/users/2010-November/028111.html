<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [users] clamav-db
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20clamav-db&In-Reply-To=%3CVA.00003b73.04e688f3%40news.conactive.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028109.html">
   <LINK REL="Next"  HREF="028140.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[users] clamav-db</H1>
    <B>Kai Schaetzl</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20clamav-db&In-Reply-To=%3CVA.00003b73.04e688f3%40news.conactive.com%3E"
       TITLE="[users] clamav-db">maillists at conactive.com
       </A><BR>
    <I>Wed Nov 17 15:26:52 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="028109.html">[users] clamav-db
</A></li>
        <LI>Next message: <A HREF="028140.html">[users] clamav-db
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28111">[ date ]</a>
              <a href="thread.html#28111">[ thread ]</a>
              <a href="subject.html#28111">[ subject ]</a>
              <a href="author.html#28111">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dag Wieers wrote on Wed, 17 Nov 2010 13:23:52 +0100 (CET):

&gt;<i> Looking at the SPEC file, I see the ClamAV project still shipping (and 
</I>&gt;<i> installing) the .cvd files. So somehow I wonder what the purposes of this 
</I>&gt;<i> is.
</I>
Me, too :-) From what I gather the .cvd files are compressed versions of the 
cld files. Apparently clamav unpacks them in memory before using. So, for 
clamd using .cld is probably almost no advantage other than the startup of 
the daemon is a bit faster, but for clamscan it might be quite noticable.
When you have both versions of say main.* in the clamav directory the daemon 
will complain on startup and ask you to remove one of them. However, it 
doesn't tell which is the preferred one. When these files were first 
introduced (with 0.96 I think) I removed all my .cvd files going by the fact 
that the .cld files had a newer timestamp and ran freshclam which fetched 
all the .cld versions. So I deduced that .cld is the preferred format.

&gt;<i> Do you know how a packager is supposed to do this ?
</I>
I have no idea, I'm not a packager ;-) Possible solutions:
- provide a package with that dependency and one without it
- if install is an update then don't have that dependency (don't know if 
that is possible)
- similar: if install finds a /var/clamav/main.cld file not older than 30 
days don't have that dependency (again, I don't know if that is possible)

&gt;<i> 
</I>&gt;<i> PS On the internal clamav packaging list there have been discussions 
</I>&gt;<i> regarding not including the virus database as part of the tarball.
</I>
I think that makes sense. definitions grow old very soon and you have to 
update regularly. Maybe on a system with no net access it's better to have 
an old database than none, though.

But I 
&gt;<i> still prefer to have a clamav-db package for offline installation/usage.
</I>
then maybe just remove the dependency and place a readme about the available 
database package in a good place? Or read that out to console when a fresh 
install happens?


Kai

-- 
Get your web at Conactive Internet Services: <A HREF="http://www.conactive.com">http://www.conactive.com</A>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028109.html">[users] clamav-db
</A></li>
	<LI>Next message: <A HREF="028140.html">[users] clamav-db
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28111">[ date ]</a>
              <a href="thread.html#28111">[ thread ]</a>
              <a href="subject.html#28111">[ subject ]</a>
              <a href="author.html#28111">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
