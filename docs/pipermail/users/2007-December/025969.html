<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [users] Metadata problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Metadata%20problems&In-Reply-To=%3Calpine.LRH.0.99999.0712151415280.26078%40horsea.3ti.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025968.html">
   <LINK REL="Next"  HREF="025970.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[users] Metadata problems</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Metadata%20problems&In-Reply-To=%3Calpine.LRH.0.99999.0712151415280.26078%40horsea.3ti.be%3E"
       TITLE="[users] Metadata problems">dag at wieers.com
       </A><BR>
    <I>Sat Dec 15 14:20:23 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025968.html">[users] Metadata problems
</A></li>
        <LI>Next message: <A HREF="025970.html">[users] Metadata problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25969">[ date ]</a>
              <a href="thread.html#25969">[ thread ]</a>
              <a href="subject.html#25969">[ subject ]</a>
              <a href="author.html#25969">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 15 Dec 2007, Nils Breunese (Lemonbit) wrote:

&gt;<i> Max Kanat-Alexander wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; On Fri, 14 Dec 2007 18:48:41 +0100 (CET) Bogdan Costescu
</I>&gt;<i> &gt; &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/users">Bogdan.Costescu at iwr.uni-heidelberg.de</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; ... and Dag wrote at least once that he would like to know which
</I>&gt;<i> &gt; &gt; mirror is in this inconsistent state. If this info is not provided by
</I>&gt;<i> &gt; &gt; the users, he can't attempt to do much... So could you please specify
</I>&gt;<i> &gt; &gt; which mirror was used ?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 	All of them. I'm using the mirrorlist file.
</I>&gt;<i>
</I>&gt;<i> I'm seeing the same quite often.
</I>
Guys,

The problem is that yum downloads the repomd.xml file from _one_ of the
mirrors. This file contains checksums for each repomd file (other.xml.gz,
filelist.xml.gz and primary.xml.gz)

	<A HREF="http://apt.sw.be/redhat/el5/en/i386/dag/repodata/repomd.xml">http://apt.sw.be/redhat/el5/en/i386/dag/repodata/repomd.xml</A>

The problem is that yum downloads this file from one of the mirrors in the
mirrorlist, and then compares the checksum with those other metadata files
it downloads from other mirrors.

This is completely braindead unless your mirrors are in sync all the time
(which is not the case with my mirrors because I do not manage them). In
fact I manage no mirror at all, I have no influence how often they sync.
Hell I do not even know when they sync.

In other words, the mirrorlist is probably only useful when apt.sw.be is
down.

But the way this is written in Yum is braindead anyway. It could at least
verify the timestamps between repomd.xml files from the different mirrors
it is using and drop the ones that are outdated. Mixing mirrors that are
not in sync is braindead.

PS I am not a fan of yum and am not interested in debugging yum problems.

-- 
--   dag wieers,  <A HREF="http://lists.repoforge.org/mailman/listinfo/users">dag at wieers.com</A>,  <A HREF="http://dag.wieers.com/">http://dag.wieers.com/</A>   --
[Any errors in spelling, tact or fact are transmission errors]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025968.html">[users] Metadata problems
</A></li>
	<LI>Next message: <A HREF="025970.html">[users] Metadata problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25969">[ date ]</a>
              <a href="thread.html#25969">[ thread ]</a>
              <a href="subject.html#25969">[ subject ]</a>
              <a href="author.html#25969">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
