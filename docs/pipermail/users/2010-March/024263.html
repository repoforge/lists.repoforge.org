<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [suggest] OpenSSH 4.8p1 or above.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsuggest%5D%20OpenSSH%204.8p1%20or%20above.&In-Reply-To=%3Cec263d1d1003042238x6994ef5ey2fb7e29021dd76f1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024262.html">
   <LINK REL="Next"  HREF="024264.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[suggest] OpenSSH 4.8p1 or above.</H1>
    <B>Victor</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsuggest%5D%20OpenSSH%204.8p1%20or%20above.&In-Reply-To=%3Cec263d1d1003042238x6994ef5ey2fb7e29021dd76f1%40mail.gmail.com%3E"
       TITLE="[suggest] OpenSSH 4.8p1 or above.">dawormie at gmail.com
       </A><BR>
    <I>Fri Mar  5 07:38:09 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="024262.html">[suggest] OpenSSH 4.8p1 or above.
</A></li>
        <LI>Next message: <A HREF="024264.html">[suggest] OpenSSH 4.8p1 or above.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24263">[ date ]</a>
              <a href="thread.html#24263">[ thread ]</a>
              <a href="subject.html#24263">[ subject ]</a>
              <a href="author.html#24263">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well, could you (or someone else) point me in the direction of a clear and
well defined guide for centos 5.4 and setting up jailing of chroot users
that won't allow them to path outside of their jailed directories at all?

I know of rssh part of things to restrict commands etc. But I need the
chroot side of things too. So far in those that DO have chroot running,
they've had to build later versions of openssh and I'd rather have a
packaged install from rpm/epel or centos.

On Fri, Mar 5, 2010 at 4:32 PM, Michael Mansour &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/users">mic at npgx.com.au</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> &gt; I'd like to see rpmforge look to update OpenSSH to 4.8p1 or later.
</I>&gt;<i> &gt; Reason is this version (from what I can determine) has the built-in
</I>&gt;<i> ability
</I>&gt;<i> &gt; to Jail users to their home directory if you enabled SSH (IE: SFTP).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But in the versions available in centos / rpm / epel they are all at
</I>&gt;<i> &gt; 4.3 something.
</I>&gt;<i>
</I>&gt;<i> The last openssh version I have:
</I>&gt;<i>
</I>&gt;<i> openssh-4.3p2-36.el5_4.2.i386
</I>&gt;<i>
</I>&gt;<i> Supports it (from the man page):
</I>&gt;<i>
</I>&gt;<i>     ChrootDirectory
</I>&gt;<i>             Specifies a path to chroot(2) to after authentication.  This
</I>&gt;<i>             path, and all its components, must be root-owned directories
</I>&gt;<i> that
</I>&gt;<i>             are not writable by any other user or group.
</I>&gt;<i>
</I>&gt;<i>             The path may contain the following tokens that are expanded at
</I>&gt;<i>             runtime once the connecting user has been authenticated: %% is
</I>&gt;<i>             replaced by a literal \u2019%\u2019, %h is replaced by the home
</I>&gt;<i> directory
</I>&gt;<i>             of the user being authenticated, and %u is replaced by the
</I>&gt;<i> user-
</I>&gt;<i>             name of that user.
</I>&gt;<i>
</I>&gt;<i>             The ChrootDirectory must contain the necessary files and
</I>&gt;<i> directo-
</I>&gt;<i>             ries to support the users\u2019 session.  For an interactive
</I>&gt;<i> session
</I>&gt;<i>             this requires at least a shell, typically sh(1), and basic /dev
</I>&gt;<i>             nodes such as null(4), zero(4), stdin(4), stdout(4), stderr(4),
</I>&gt;<i>             arandom(4) and tty(4) devices.  For file transfer sessions
</I>&gt;<i> using
</I>&gt;<i>             \u201csftp\u201d, no additional configuration of the
</I>&gt;<i> environment
</I>&gt;<i> is neces-
</I>&gt;<i>             sary if the in-process sftp server is used (see
</I>&gt;<i> \u201cinternal-sftp\u201d
</I>&gt;<i>             will force the use of an in-process sftp server that requires
</I>&gt;<i> no
</I>&gt;<i>             support files when used with ChrootDirectory.  Subsystem for
</I>&gt;<i>             details).
</I>&gt;<i>
</I>&gt;<i>             The default is not to chroot(2).
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Michael.
</I>&gt;<i>
</I>&gt;<i> &gt; Thanks in advance!
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Victor ('Daworm')
</I>&gt;<i> &gt; * Melbourne Wireless Node: KDJ &amp; KDT
</I>&gt;<i> &gt; * Natural Selection 2 Wiki Sysop
</I>&gt;<i> &gt; (<A HREF="http://www.unknownworlds.com/ns2/wiki/">http://www.unknownworlds.com/ns2/wiki/</A>) * AoCWiki Sysop
</I>&gt;<i> &gt;  (<A HREF="http://aoc.wikia.com/">http://aoc.wikia.com/</A>) * Twitter: @dawormie
</I>&gt;<i> ------- End of Original Message -------
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Victor ('Daworm')
* Melbourne Wireless Node: KDJ &amp; KDT
* Natural Selection 2 Wiki Sysop (<A HREF="http://www.unknownworlds.com/ns2/wiki/">http://www.unknownworlds.com/ns2/wiki/</A>)
* AoCWiki Sysop  (<A HREF="http://aoc.wikia.com/">http://aoc.wikia.com/</A>)
* Twitter: @dawormie
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.repoforge.org/pipermail/users/attachments/20100305/578f2ada/attachment-0004.html">http://lists.repoforge.org/pipermail/users/attachments/20100305/578f2ada/attachment-0004.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024262.html">[suggest] OpenSSH 4.8p1 or above.
</A></li>
	<LI>Next message: <A HREF="024264.html">[suggest] OpenSSH 4.8p1 or above.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24263">[ date ]</a>
              <a href="thread.html#24263">[ thread ]</a>
              <a href="subject.html#24263">[ subject ]</a>
              <a href="author.html#24263">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
