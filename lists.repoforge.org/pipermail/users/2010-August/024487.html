<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [suggest] nagios-3.2.1-5.el4.rf.i386.rpm pid path problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsuggest%5D%20nagios-3.2.1-5.el4.rf.i386.rpm%20pid%20path%20problem&In-Reply-To=%3C1282114157.2841.24.camel%40CZC0279JNK.financial.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024486.html">
   <LINK REL="Next"  HREF="024494.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[suggest] nagios-3.2.1-5.el4.rf.i386.rpm pid path problem</H1>
    <B>Christoph Maser</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsuggest%5D%20nagios-3.2.1-5.el4.rf.i386.rpm%20pid%20path%20problem&In-Reply-To=%3C1282114157.2841.24.camel%40CZC0279JNK.financial.com%3E"
       TITLE="[suggest] nagios-3.2.1-5.el4.rf.i386.rpm pid path problem">cmaser at gmx.de
       </A><BR>
    <I>Wed Aug 18 08:49:17 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="024486.html">[suggest] nagios-3.2.1-5.el4.rf.i386.rpm pid path problem
</A></li>
        <LI>Next message: <A HREF="024494.html">[suggest] nagios-3.2.1-5.el4.rf.i386.rpm pid path problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24487">[ date ]</a>
              <a href="thread.html#24487">[ thread ]</a>
              <a href="subject.html#24487">[ subject ]</a>
              <a href="author.html#24487">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Am Dienstag, den 17.08.2010, 16:14 -0700 schrieb Mark D. Nagel:
&gt;<i> The path to nagios.pid was changed from /var/run/nagios.pid to
</I>&gt;<i> /var/nagios/nagios.pid between the 3.2.0 and 3.2.1 RPM release.  This
</I>&gt;<i> would be fine if the killproc function from /etc/init.d/functions in EL4
</I>&gt;<i> supported the -p flag as used in the init script, but this is not
</I>&gt;<i> available in EL4.  Thus, using the init script to restart or stop in EL4
</I>&gt;<i> is broken, generating all manner of errors due to invalid calls to pidof
</I>&gt;<i> and such.  Seems like the simplest fix would be to revert to the 3.2.0
</I>&gt;<i> init script for EL4, which works just fine, or keep the new script but
</I>&gt;<i> place the pid file back into /var/run for EL4.  The alternative would be
</I>&gt;<i> to roll your own replacement for killproc that behaves like the EL5
</I>&gt;<i> killproc.
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> Mark
</I>&gt;<i> 
</I>
Mark

thank you for reporting. The reason why i switched the pid location is
that at startup i now use --user in the daemon-function. So now the pid
file must be in a location where nagios can create it. I did change the
startup call to use --daemon to make things more robust since there is
some error in nagios drop-privilege code. 
I will rethink the whole thing.


+C


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024486.html">[suggest] nagios-3.2.1-5.el4.rf.i386.rpm pid path problem
</A></li>
	<LI>Next message: <A HREF="024494.html">[suggest] nagios-3.2.1-5.el4.rf.i386.rpm pid path problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24487">[ date ]</a>
              <a href="thread.html#24487">[ thread ]</a>
              <a href="subject.html#24487">[ subject ]</a>
              <a href="author.html#24487">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
