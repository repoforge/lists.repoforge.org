<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [users] Weird update problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Weird%20update%20problem&In-Reply-To=%3C4B437E03.6090709%40imag.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027559.html">
   <LINK REL="Next"  HREF="027563.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[users] Weird update problem</H1>
    <B>Nicolas Thierry-Mieg</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Weird%20update%20problem&In-Reply-To=%3C4B437E03.6090709%40imag.fr%3E"
       TITLE="[users] Weird update problem">Nicolas.Thierry-Mieg at imag.fr
       </A><BR>
    <I>Tue Jan  5 18:59:31 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="027559.html">[users] Weird update problem
</A></li>
        <LI>Next message: <A HREF="027563.html">[users] Weird update problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27560">[ date ]</a>
              <a href="thread.html#27560">[ thread ]</a>
              <a href="subject.html#27560">[ subject ]</a>
              <a href="author.html#27560">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Anne Wilson wrote:
&gt;<i> On Tuesday 05 January 2010 16:50:26 Nicolas Thierry-Mieg wrote:
</I>&gt;&gt;<i> Anne Wilson wrote:
</I>&gt;&gt;&gt;<i> For some time now, my CentOS box has been skipping the update of exiv2.
</I>&gt;&gt;&gt;<i> Yesterday I decided to do something about it, so I removed gwenview,
</I>&gt;&gt;&gt;<i> digikam, exiv2 and libexiv2.  I then reinstalled gwenview and digikam,
</I>&gt;&gt;&gt;<i> which of course pulled in the two exiv2 packages.  The version of exiv2
</I>&gt;&gt;&gt;<i> looked surprisingly familiar, but I assumed that the install would pull
</I>&gt;&gt;&gt;<i> in the latest, so I shouldn't worry.  This morning more updates were
</I>&gt;&gt;&gt;<i> announced, and I found that once again exiv2 was being skipped.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I have put a diagnostic file onto <A HREF="http://filebin.ca/swaoqf/centos2.txt">http://filebin.ca/swaoqf/centos2.txt</A> -
</I>&gt;&gt;&gt;<i> I hope someone here will be able to tell me what is going wrong and what
</I>&gt;&gt;&gt;<i> I can do about it.  Thanks
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I haven't checked your log file but I'm guessing you have both rpmforge
</I>&gt;&gt;<i> and epel active...
</I>&gt;<i> I do.
</I>&gt;<i>
</I>&gt;&gt;<i> digikam is not in rpmforge, I suspect you're getting it from epel along
</I>&gt;&gt;<i> with the exiv2 dep, which is perhaps a lower version than the rpmforge
</I>&gt;&gt;<i> exiv2?
</I>&gt;<i>
</I>&gt;<i> The installed version is
</I>&gt;<i>
</I>&gt;<i> exiv2.i386                         0.17.1-1.el5.rf
</I>&gt;<i>
</I>&gt;<i> and the update version on offer is
</I>&gt;<i>
</I>&gt;<i> exiv2.i386                         0.19-1.el5.rf
</I>&gt;<i>
</I>&gt;<i> They look to me as though they would be from the same repo.
</I>&gt;<i>
</I>&gt;&gt;<i> In this case skipping the newer rpmforge exiv2 when updating is expected
</I>&gt;&gt;<i> and normal (assuming digikam requires the older epel exiv2).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Please take this as constructive criticism: you should really try to
</I>&gt;&gt;<i> post relevant info in your emails, eg you don't even state what centos
</I>&gt;&gt;<i> version
</I>&gt;<i>
</I>&gt;<i> Fair comment - when you've been wrestling with something for some time,
</I>&gt;<i> including posting on a distro list, it's too easy to forget that not
</I>&gt;<i> everything relevant has been said in the initial post here.  FWIW, the CentOS
</I>&gt;<i> version is, I think, 5.4.  If you want detailed information on digikam and
</I>&gt;<i> gwenview packages I'll follow up with those.
</I>&gt;<i>
</I>&gt;&gt;<i> you use, much less the various exiv2/digikam/whatever versions
</I>&gt;&gt;<i> you're talking about - which would have been good enough to tell us what
</I>&gt;&gt;<i> repo a package comes from, as long as the repo respects users and
</I>&gt;&gt;<i> community members enough to use a repotag. You would certainly get more
</I>&gt;&gt;<i> useful answers, people don't like to have to guess what your situation
</I>&gt;&gt;<i> is and clicking on a link to a huge log file should only be a last resort.
</I>&gt;&gt;<i>
</I>&gt;<i> I see that.  However, we have done some investigation already, to the point
</I>&gt;<i> where only running 'yum -d9 update exiv\*' was going to tell us any more.  On
</I>&gt;<i> reading the file, Karanbir Singh said
</I>&gt;<i>
</I>&gt;<i> &lt;quote&gt;
</I>&gt;<i> This looks like a repo problem, you should report it to the
</I>&gt;<i> rpmforge-users list so they can fix it ( although many of the packages
</I>&gt;<i> from rpmforge are here on this list as well, its still worth reporting
</I>&gt;<i> to their list )
</I>&gt;<i> &lt;/quote&gt;
</I>&gt;<i>
</I>&gt;<i> Hence the large file for your perusal.
</I>&gt;<i>
</I>&gt;<i> I you need information that isn't in that file or this message, please ask and
</I>&gt;<i> I'll gather it for you.  Thanks
</I>&gt;<i>
</I>
OK, here's the situation AFAICT, based on one of my systems where 
digikam from epel is installed:

digikam (digikam-0.9.5-1.el5.x86_64 from epel) requires libkexiv2.so.3 .
&#359;his is provided by the epel libkexiv2-0.1.7-1.el5.x86_64 , which 
requires libexiv2.so.4 .
The older rpmforge exiv2-0.17.1-1.el5.rf.x86_64 version provides this, 
while the newer exiv2-0.19-1.el5.rf.x86_64 provides libexiv2.so.6 
instead (note the version difference).

Therefore installing digikam from epel pulls in the older exiv2 from 
rpmforge, instead of the newer one (which would not meet the libkexiv2 
dependency, hence libkexiv2 and digikam could not be installed).

Conclusion: your system is fine as is, if you want digikam you need to 
keep the older exiv2. Skipping the exiv2 update is ok. It will only be a 
problem if at some point you want to install something that requires the 
newer libexiv2.so.6 .


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027559.html">[users] Weird update problem
</A></li>
	<LI>Next message: <A HREF="027563.html">[users] Weird update problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27560">[ date ]</a>
              <a href="thread.html#27560">[ thread ]</a>
              <a href="subject.html#27560">[ subject ]</a>
              <a href="author.html#27560">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
