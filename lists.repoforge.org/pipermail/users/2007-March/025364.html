<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [users] Dropping the repotag
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Dropping%20the%20repotag&In-Reply-To=%3CPine.LNX.4.64.0703181421180.1144%40horsea.3ti.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025363.html">
   <LINK REL="Next"  HREF="025366.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[users] Dropping the repotag</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Dropping%20the%20repotag&In-Reply-To=%3CPine.LNX.4.64.0703181421180.1144%40horsea.3ti.be%3E"
       TITLE="[users] Dropping the repotag">dag at wieers.com
       </A><BR>
    <I>Sun Mar 18 14:37:12 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025363.html">[users] Dropping the repotag
</A></li>
        <LI>Next message: <A HREF="025366.html">[users] Dropping the repotag
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25364">[ date ]</a>
              <a href="thread.html#25364">[ thread ]</a>
              <a href="subject.html#25364">[ subject ]</a>
              <a href="author.html#25364">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 18 Mar 2007, Andreas Rogge wrote:

&gt;<i> On Sat, 17 Mar 2007, Dag Wieers wrote:
</I>&gt;<i> &gt; On Sat, 17 Mar 2007, Andreas Rogge wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; &gt; What if you could use for example &quot;listrpms --vendor RPMForge&quot; 
</I>&gt;<i> &gt; &gt; instead of &quot;rpm -qa | grep rf&quot; and get a 100% result without 
</I>&gt;<i> &gt; &gt; false-positives?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It will not tell you which nagios-2.8-4.el5 breaks a dependency chain. 
</I>&gt;<i> &gt; Was it the one from EPEL or the one from RPMforge ? Both have the 
</I>&gt;<i> &gt; exact same release.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; yum doesn't say, you cannot query it because it is not installed. 
</I>&gt;<i> &gt; Hell, since both have the same filename you won't even know by querying the 
</I>&gt;<i> &gt; repositories.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; This is not solvable unless you either improve yum to report all other 
</I>&gt;<i> &gt; information (including keys and/or other tags), which still doesn't 
</I>&gt;<i> &gt; fix all the other tools and is plain confusing. Or if you make the 
</I>&gt;<i> &gt; filename more unique, which is what the repotag does.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; BTW rpm -qa | grep '\.rf$' is pretty conclusive _if_ everybody follows 
</I>&gt;<i> &gt; the same standard and you require packages to be signed.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; BTW2 Dissing the repotag usefulness is like dissing the disttag 
</I>&gt;<i> &gt; usefulness. It is as arbitrary, makes the release longer and is in 
</I>&gt;<i> &gt; essence not required. Still it has its use.
</I>&gt;<i>
</I>&gt;<i> First of all: yes, you're right.
</I>&gt;<i> 
</I>&gt;<i> But we will face this issue with EPEL. A repotag will not help to blame
</I>&gt;<i> EPEL when something breaks (they don't have one). It will only help to
</I>&gt;<i> blame RPMForge (as RPMforge has one). 
</I>
That's why EPEL should have one. At least until something better comes 
around (if there ever will).

People say a repotag should not be in the filename. But a filename is 
there to identify what it is. The version is there to identify what it is, 
just like the name and the arch. All of these are not required in the 
package name. In fact, rename whatever package you have to &quot;this_package&quot;
(without the arch, without the extension) and rpm handles that fine, 
because it doesn't use the information in the filename, it uses the 
header. So the filename is there for the user to identify what is is.

So what's wrong with having the repotag, like the disttag and like the 
version and name in the filename ? It helps (at least) some people as much 
as all that other information and it solves a practical problem with 
yum/rpm and other tools that cannot give all that other information right 
there when we need it. (and if they would, most people wouldn't understand 
why the signature or an arbitrary string is there the moment you have a 
dependency problem).


&gt;<i> I don't think repotags should be dropped because they suck. I just think
</I>&gt;<i> that they're a workaround for broken/incomplete tools and have been in
</I>&gt;<i> place for too long. Hell, neither rpm nor yum nor anything else actually
</I>&gt;<i> knows there is something like a repotag. They just display it because we
</I>&gt;<i> hijack the package signature.
</I>
It is a work around. Why else the disttag ? The repotag is arguably as 
useful as the disttag in the filename. Would you argue against the disttag 
in the same way ? In fact why have the release there at all. And the 
architecture ? Most people don't know what that means anyway.


&gt;<i> People will need better tools anyway, because nobody will be able to
</I>&gt;<i> tell the difference between an EPEL and a base distro package. I think
</I>&gt;<i> yum should actually tell you vendor and distro on all packages.
</I>
The problem is, even when you have 'better' tools, how would they present 
that information without filling the screen and actually helping to 
understand the information. The repotag is short and doesn't add as much 
noise as a signature or an arbitrary string would cause.

I don't think it is practically fixable (if anybody would ever care to fix 
RPM and backport it to EL2.1, EL3, EL4 and now EL5 -&gt; NEVER). So whatever 
'better' technical solution you propose, it wouldn't be useful until EL5 
is out of support.

And not to be kidding, we had this discussion when EL3 was released and 
you know what: people also said it was not the correct solution. Do we 
have a correct solution today ? No. Will we have one tomorrow ? No.

So why postpone a solution until we have a better one ? Especially when we 
cannot define what a better solution would look like and we cannot fix the 
tools.


&gt;<i> We already had similar issues on x86_64 where you couldn't tell the
</I>&gt;<i> difference between i386 and x86_64 packages. Today yum reports every
</I>&gt;<i> package with its arch.
</I>
Right. So more information is better. How would you ideally present the 
repository info in the output when there's a problem. The repotag is the 
most preferred (read: shortest) way IMNSHO.

Kind regards,
--   dag wieers,  <A HREF="http://lists.repoforge.org/mailman/listinfo/users">dag at wieers.com</A>,  <A HREF="http://dag.wieers.com/">http://dag.wieers.com/</A>   --
[all I want is a warm bed and a kind word and unlimited power]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025363.html">[users] Dropping the repotag
</A></li>
	<LI>Next message: <A HREF="025366.html">[users] Dropping the repotag
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25364">[ date ]</a>
              <a href="thread.html#25364">[ thread ]</a>
              <a href="subject.html#25364">[ subject ]</a>
              <a href="author.html#25364">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
