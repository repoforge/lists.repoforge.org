<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [suggest] Re: suggest Digest, Vol 61, Issue 5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsuggest%5D%20Re%3A%20suggest%20Digest%2C%20Vol%2061%2C%20Issue%205&In-Reply-To=%3CAANLkTilC4hRIRCt8C3kXd3RwczgoRNGMBaBDXlv3FjIe%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024449.html">
   <LINK REL="Next"  HREF="024451.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[suggest] Re: suggest Digest, Vol 61, Issue 5</H1>
    <B>Nico Kadel-Garcia</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsuggest%5D%20Re%3A%20suggest%20Digest%2C%20Vol%2061%2C%20Issue%205&In-Reply-To=%3CAANLkTilC4hRIRCt8C3kXd3RwczgoRNGMBaBDXlv3FjIe%40mail.gmail.com%3E"
       TITLE="[suggest] Re: suggest Digest, Vol 61, Issue 5">nkadel at gmail.com
       </A><BR>
    <I>Sun Jul 11 21:25:58 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="024449.html">[suggest] Re: suggest Digest, Vol 61, Issue 5
</A></li>
        <LI>Next message: <A HREF="024451.html">[suggest] Update: bzr
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24450">[ date ]</a>
              <a href="thread.html#24450">[ thread ]</a>
              <a href="subject.html#24450">[ subject ]</a>
              <a href="author.html#24450">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Jul 11, 2010 at 1:56 PM, Nico Kadel-Garcia &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/users">nkadel at gmail.com</A>&gt; wrote:
&gt;&gt;<i> From: Dave B &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/users">botsch at cnf.cornell.edu</A>&gt;
</I>&gt;&gt;<i> Subject: [suggest] broken &quot;mrtg&quot; package for RHEL4
</I>
&gt;&gt;<i> 2. the package is missing MRTG_lib.pm:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can't locate MRTG_lib.pm in @INC (@INC contains: /usr/bin/../lib/mrtg2 /usr/bin
</I>&gt;&gt;<i> /usr/lib64/perl5/5.8.5/x86_64-linux-thread-multi /usr/lib/perl5/5.8.5
</I>&gt;&gt;<i> /usr/lib64/perl5/site_perl/5.8.5/x86_64-linux-thread-multi
</I>&gt;&gt;<i> /usr/lib/perl5/site_perl/5.8.5
</I>&gt;&gt;<i> /usr/lib/perl5/site_perl
</I>&gt;&gt;<i> /usr/lib64/perl5/vendor_perl/5.8.5/x86_64-linux-thread-multi
</I>&gt;&gt;<i> /usr/lib/perl5/vendor_perl/5.8.5
</I>&gt;&gt;<i> /usr/lib64/perl5/vendor_perl/5.8.3/x86_64-linux-thread-multi
</I>&gt;&gt;<i> /usr/lib/perl5/vendor_perl .) at /usr/bin/mrtg line 89.
</I>&gt;&gt;<i> BEGIN failed--compilation aborted at /usr/bin/mrtg line 89.
</I>&gt;<i>
</I>&gt;<i> Ouch. The same problem is happening with RHEL 5, I just tested it. I'm
</I>&gt;<i> guessing it's not set to look properly for the 64-bit Perl layout.
</I>
I see it. The issue is that the Perl 'FindBin' in the mrtg scripts is
hard-coded to look in 'lib' directories, and on 64-bit systems, it
should be looking in 'lib64' directories, especially when the
'configure' statement is told to use lib64. And most RPM setups do
just that, to avoid conflict between 32-bit and 64-bit versions of
components.

There used to be a patch for this in the 2.12 release, but it was
apparently discarded. I've updated it and attached it, and attached a
diff for the .spec file. I've also submitted the patch file to the
MRTG bug tracking system. Hopefully this will get fixed upstream and
other people who've run into this on other operating systems can avoid
the problem.

Dag, or whoever has this one, can you do the honors and integrate these patches?
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mrtg.spec.diff
Type: application/octet-stream
Size: 1037 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.repoforge.org/pipermail/users/attachments/20100711/80db3d6b/attachment-0008.obj">http://lists.repoforge.org/pipermail/users/attachments/20100711/80db3d6b/attachment-0008.obj</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: mrtg-2.16.4-lib64.patch
Type: application/octet-stream
Size: 3049 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.repoforge.org/pipermail/users/attachments/20100711/80db3d6b/attachment-0009.obj">http://lists.repoforge.org/pipermail/users/attachments/20100711/80db3d6b/attachment-0009.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024449.html">[suggest] Re: suggest Digest, Vol 61, Issue 5
</A></li>
	<LI>Next message: <A HREF="024451.html">[suggest] Update: bzr
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24450">[ date ]</a>
              <a href="thread.html#24450">[ thread ]</a>
              <a href="subject.html#24450">[ subject ]</a>
              <a href="author.html#24450">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
