<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [users] Metadata broken for *at least* rh9
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Metadata%20broken%20for%20%2Aat%20least%2A%20rh9&In-Reply-To=%3Calpine.LRH.1.10.0805091118590.27348%40horsea.3ti.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026297.html">
   <LINK REL="Next"  HREF="026302.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[users] Metadata broken for *at least* rh9</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Metadata%20broken%20for%20%2Aat%20least%2A%20rh9&In-Reply-To=%3Calpine.LRH.1.10.0805091118590.27348%40horsea.3ti.be%3E"
       TITLE="[users] Metadata broken for *at least* rh9">dag at wieers.com
       </A><BR>
    <I>Fri May  9 11:52:28 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026297.html">[users] Metadata broken for *at least* rh9
</A></li>
        <LI>Next message: <A HREF="026302.html">[users] Metadata broken for *at least* rh9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26299">[ date ]</a>
              <a href="thread.html#26299">[ thread ]</a>
              <a href="subject.html#26299">[ subject ]</a>
              <a href="author.html#26299">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 8 May 2008, Rex Dieter wrote:

&gt;<i> Dag Wieers wrote:
</I>&gt;&gt;<i> On Thu, 8 May 2008, Ralph Angenendt wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> I just talked to skvidal about
</I>&gt;&gt;&gt;<i> &lt;<A HREF="https://bugzilla.redhat.com/show_bug.cgi?id=444882">https://bugzilla.redhat.com/show_bug.cgi?id=444882</A>&gt; - looks like the
</I>&gt;&gt;&gt;<i> metadata in *at least* the rh9 repository is broken (no, I know that rh9
</I>&gt;&gt;&gt;<i> isn't rawhide9, but that doesn't matter ...).
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The metadata is not broken, yum is broken.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Seth is the sole reason why we have this situation. The createrepo metadata 
</I>&gt;&gt;<i> was not designed with backward compatibility in mind and therefor does not 
</I>&gt;&gt;<i> understand the situation where the epoch is unset (which is the case for 
</I>&gt;&gt;<i> older distributions).
</I>&gt;<i>
</I>&gt;<i> joy,
</I>&gt;<i> <A HREF="https://bugzilla.redhat.com/show_bug.cgi?id=444882">https://bugzilla.redhat.com/show_bug.cgi?id=444882</A>
</I>&gt;<i>
</I>&gt;<i> The metadata DTD (as written, according to Seth anyway), pretty much requires 
</I>&gt;<i> it.
</I>
Why then does the createrepo -n option exists that resulted in that &quot;badly 
broken&quot; metadata output ?

      -n, --noepoch = don't add zero epochs for non-existent epochs
                     (incompatible with yum and smart but required for
                      systems with rpm &lt; 4.2.1)

The fact that the epoch-field is mandatory in the repomd metadata 
definition is an oversight and the easiest way to rectify that situation 
is to change the metadata definition so that repomd can be used on RH9 and 
older, like apt is currently already doing.

That way the &quot;createrepo -n&quot; is no longer necessary and createrepo can 
handle it automagically in all cases and that clears the path for yum to 
implement it as well.

The change is pretty simple, the implementation already exists and patches 
are available to do it. The only thing holding us back is the power to 
change.

In any case, stating that the RPMforge metadata is corrupt is an 
oversimplification of the problem. It is either doing it like we do (and 
support apt) or not generate any metadata at all. Or we can dismiss this 
for a few years (like the past couple of years) and the problem will 
resolve itself... -sigh-

-- 
--   dag wieers,  <A HREF="http://lists.repoforge.org/mailman/listinfo/users">dag at wieers.com</A>,  <A HREF="http://dag.wieers.com/">http://dag.wieers.com/</A>   --
[Any errors in spelling, tact or fact are transmission errors]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026297.html">[users] Metadata broken for *at least* rh9
</A></li>
	<LI>Next message: <A HREF="026302.html">[users] Metadata broken for *at least* rh9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26299">[ date ]</a>
              <a href="thread.html#26299">[ thread ]</a>
              <a href="subject.html#26299">[ subject ]</a>
              <a href="author.html#26299">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
