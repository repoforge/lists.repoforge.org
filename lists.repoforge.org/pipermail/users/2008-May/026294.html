<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [users] Metadata broken for *at least* rh9
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Metadata%20broken%20for%20%2Aat%20least%2A%20rh9&In-Reply-To=%3Calpine.LRH.1.10.0805081745370.27348%40horsea.3ti.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026293.html">
   <LINK REL="Next"  HREF="026295.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[users] Metadata broken for *at least* rh9</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Metadata%20broken%20for%20%2Aat%20least%2A%20rh9&In-Reply-To=%3Calpine.LRH.1.10.0805081745370.27348%40horsea.3ti.be%3E"
       TITLE="[users] Metadata broken for *at least* rh9">dag at wieers.com
       </A><BR>
    <I>Thu May  8 18:39:04 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="026293.html">[users] Metadata broken for *at least* rh9
</A></li>
        <LI>Next message: <A HREF="026295.html">[users] Metadata broken for *at least* rh9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26294">[ date ]</a>
              <a href="thread.html#26294">[ thread ]</a>
              <a href="subject.html#26294">[ subject ]</a>
              <a href="author.html#26294">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 8 May 2008, Ralph Angenendt wrote:

&gt;<i> I just talked to skvidal about
</I>&gt;<i> &lt;<A HREF="https://bugzilla.redhat.com/show_bug.cgi?id=444882">https://bugzilla.redhat.com/show_bug.cgi?id=444882</A>&gt; - looks like the
</I>&gt;<i> metadata in *at least* the rh9 repository is broken (no, I know that rh9
</I>&gt;<i> isn't rawhide9, but that doesn't matter ...).
</I>
The metadata is not broken, yum is broken.

Seth is the sole reason why we have this situation. The createrepo 
metadata was not designed with backward compatibility in mind and therefor 
does not understand the situation where the epoch is unset (which is the 
case for older distributions).

Since repomd metadata is useful for older distributions createrepo has an 
option (-n) to be build with epoch being set to None. Patched by Panu 
to support apt+repomd. Sadly yum cannot handle that (which is a bug with 
yum) and repoview cannot handle that either.

I reported this problem before, I even send in a patch for repoview to 
handle this case. Never heard from the developers again, probably because 
they are not interested in anything other than FCX and FCX-1

The simple fact is that on RH9 (and lower) you either need to use a yum 
with yum-arch metadata, or apt with repomd metadata.

The reason I have repomd metadata is because apt can use it correctly on 
RH9 and older distributions allowing to use the same update tool on old 
and new distributions, something yum-users can only dream of.

Seth's remark about my comments in the metadata do not affect the 
generated metadata at all. The metadata is just re-compressed in an 
rsyncable format so that mirrors do not have to redownload the complete 
metadata for just a single update. This was a feature request I made in 
bugzilla and was closed by Seth as well.

The comment is just so people know that the hashes have been recreated 
after the recompression and do not support Seth's case at all.

-- 
--   dag wieers,  <A HREF="http://lists.repoforge.org/mailman/listinfo/users">dag at wieers.com</A>,  <A HREF="http://dag.wieers.com/">http://dag.wieers.com/</A>   --
[Any errors in spelling, tact or fact are transmission errors]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026293.html">[users] Metadata broken for *at least* rh9
</A></li>
	<LI>Next message: <A HREF="026295.html">[users] Metadata broken for *at least* rh9
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26294">[ date ]</a>
              <a href="thread.html#26294">[ thread ]</a>
              <a href="subject.html#26294">[ subject ]</a>
              <a href="author.html#26294">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
