<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [users] Dependency resolution problems
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Dependency%20resolution%20problems&In-Reply-To=%3Calpine.LRH.2.00.0907191805000.30337%40horsea.3ti.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027313.html">
   <LINK REL="Next"  HREF="027328.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[users] Dependency resolution problems</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Dependency%20resolution%20problems&In-Reply-To=%3Calpine.LRH.2.00.0907191805000.30337%40horsea.3ti.be%3E"
       TITLE="[users] Dependency resolution problems">dag at wieers.com
       </A><BR>
    <I>Sun Jul 19 18:14:36 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027313.html">[users] Dependency resolution problems
</A></li>
        <LI>Next message: <A HREF="027328.html">[users] Dependency resolution problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27321">[ date ]</a>
              <a href="thread.html#27321">[ thread ]</a>
              <a href="subject.html#27321">[ subject ]</a>
              <a href="author.html#27321">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 16 Jul 2009, David Steinbrunner wrote:

&gt;<i> Christoph Maser wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Am Dienstag, den 07.07.2009, 18:32 +0200 schrieb Joe Ogulin:
</I>&gt;&gt;&gt;<i> Error: Missing Dependency: perl(Normalize::Text::Normalize_Fields) is
</I>&gt;&gt;&gt;<i> needed by package
</I>&gt;&gt;&gt;<i> perl-MP3-Tag-1.11-1.el5.rf.noarch (rpmforge)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This one i broken. Seems like a mistake from find-requires skript. Is it
</I>&gt;&gt;<i> ok to simply put &quot;Provides: perl(Normalize::Text::Normalize_Fields)&quot; in
</I>&gt;&gt;<i> the spec of MP3-Tag? Or is there a way to remove things from requires
</I>&gt;&gt;<i> list?
</I>&gt;<i>
</I>&gt;<i> The attached works for me.  It was generated by cpanspec and I added lines
</I>&gt;<i> from the rpmforge spec to handle the man and bin files.
</I>
The reason why it works for you with that SPEC file is because the 
examples are left out of the documentation.

There is this long-standing bug in RPM that also takes documentation into 
consideration for the auto-requires and auto-provides. And the perl 
packages are in fact very vulnerable to this.

The proper fix should go into perl.prov and perl.req and should consist of 
ignoring documentation files. I don't know if this is already in bugzilla, 
but if someone wants to do the effort to add it and make sure it gets 
fixed upstreal, ths fix is quite easy (check if filename starts with 
/usr/share/doc, and if so continue in the loop).

Since our SPEC files still need to work for RHEL3, RHEL4 and RHEL5. I 
don't think we can realy on this fix in the foreseeable future though.

-- 
--   dag wieers,  <A HREF="http://lists.repoforge.org/mailman/listinfo/users">dag at wieers.com</A>,  <A HREF="http://dag.wieers.com/">http://dag.wieers.com/</A>   --
[Any errors in spelling, tact or fact are transmission errors]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027313.html">[users] Dependency resolution problems
</A></li>
	<LI>Next message: <A HREF="027328.html">[users] Dependency resolution problems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27321">[ date ]</a>
              <a href="thread.html#27321">[ thread ]</a>
              <a href="subject.html#27321">[ subject ]</a>
              <a href="author.html#27321">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
