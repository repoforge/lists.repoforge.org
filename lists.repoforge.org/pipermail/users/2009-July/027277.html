<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [users] Cinelerra patchset
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Cinelerra%20patchset&In-Reply-To=%3C1247320009.6715.13.camel%40mypride%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027363.html">
   <LINK REL="Next"  HREF="027281.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[users] Cinelerra patchset</H1>
    <B>Yury V. Zaytsev</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20Cinelerra%20patchset&In-Reply-To=%3C1247320009.6715.13.camel%40mypride%3E"
       TITLE="[users] Cinelerra patchset">yury at shurup.com
       </A><BR>
    <I>Sat Jul 11 15:46:49 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="027363.html">[users] Major mediaplayer update
</A></li>
        <LI>Next message: <A HREF="027281.html">[users] K3b patchset
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27277">[ date ]</a>
              <a href="thread.html#27277">[ thread ]</a>
              <a href="subject.html#27277">[ subject ]</a>
              <a href="author.html#27277">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Dag,

On Fri, 2009-07-10 at 17:46 +0200, Dag Wieers wrote:

&gt;<i> The other bad news is that both k3b-extras and cinelerra for RHEL5 are now 
</I>&gt;<i> broken. They both fail to build against the newer ffmpeg and I can't find 
</I>&gt;<i> a proper fix for both. For k3b-extras I could disable ffmpeg, with loss of 
</I>&gt;<i> functionality of course :-/ I prefer a fix.
</I>
Please have a look at the attached patchset for Cinelerra. The problems
are mainly due to ffmpeg interface changes:

(1) img_convert deprecated in favor of swscale 
(2) avcodec_decode_audio -&gt; avcodec_decode_audio2
(3) extern &quot;C&quot; for C++ modules
(4) libavcodec has its own subdir now

I've spent half-day cooking as I prefer to stick to the bare minimum of
changes required to make it work and my machines are terribly slow at
compiling :-(

Be warned that it DOES break build against internal ffmpeg. As for the
mysterious includes issue, my guess is that it used to work while the
interface of the internal ffmpeg was identical to the external one you
ship, so it used a bit of both, but when they broke the compatibility
the problems arose.

Please report if it works for you and whether you are going to commit it
or not.
 
-- 
Sincerely yours,
Yury V. Zaytsev
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cinelerra-2.1-zyv.patch
Type: text/x-patch
Size: 7729 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.repoforge.org/pipermail/users/attachments/20090711/b3042879/attachment-0008.bin">http://lists.repoforge.org/pipermail/users/attachments/20090711/b3042879/attachment-0008.bin</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: cinelerra-spec-zyv.patch
Type: text/x-patch
Size: 1024 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.repoforge.org/pipermail/users/attachments/20090711/b3042879/attachment-0009.bin">http://lists.repoforge.org/pipermail/users/attachments/20090711/b3042879/attachment-0009.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027363.html">[users] Major mediaplayer update
</A></li>
	<LI>Next message: <A HREF="027281.html">[users] K3b patchset
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27277">[ date ]</a>
              <a href="thread.html#27277">[ thread ]</a>
              <a href="subject.html#27277">[ subject ]</a>
              <a href="author.html#27277">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
