<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [suggest] Fw: [rsyslog] rsyslog 1.19.0 released
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsuggest%5D%20Fw%3A%20%5Brsyslog%5D%20rsyslog%201.19.0%20released&In-Reply-To=%3C20070816133557.M78995%40npgx.com.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025639.html">
   <LINK REL="Next"  HREF="023213.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[suggest] Fw: [rsyslog] rsyslog 1.19.0 released</H1>
    <B>Michael Mansour</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsuggest%5D%20Fw%3A%20%5Brsyslog%5D%20rsyslog%201.19.0%20released&In-Reply-To=%3C20070816133557.M78995%40npgx.com.au%3E"
       TITLE="[suggest] Fw: [rsyslog] rsyslog 1.19.0 released">mic at npgx.com.au
       </A><BR>
    <I>Thu Aug 16 15:46:35 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025639.html">[users] Perl-DBD-ODBC x86_64 build errors
</A></li>
        <LI>Next message: <A HREF="023213.html">[suggest] Fw: [rsyslog] rsyslog 1.19.0 released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23212">[ date ]</a>
              <a href="thread.html#23212">[ thread ]</a>
              <a href="subject.html#23212">[ subject ]</a>
              <a href="author.html#23212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Since rsyslog 1.17.5, I've been building the RPM's using the specfile
attached.

This original spec was from the &quot;redhat people&quot;, I just modified:

%define with_db 1
from 0 to 1, and:

Version: 1.19.0
whenever I wnated to build a newer version and most importantly:

%configure --sbindir=%{sbindir} --enable-mysql
ie. added the --enable-mysql to build a mysql-enabled version of rsyslog.

This has worked fine until 1.19.0, where as we can see from the below mailout
from Michael, the mysql support is now a plugin.

When I go to build, I get the following error:

warning: Installed (but unpackaged) file(s) found:
   /lib/rsyslog/ommysql.a
   /lib/rsyslog/ommysql.la
   /lib/rsyslog/ommysql.so.0.0.0
Wrote: /usr/src/redhat/RPMS/i386/rsyslog-1.19.0-1.i386.rpm

so obviously when I install and try to use the mysql logging features, rsyslog
fails to log with:

Aug 16 23:35:11 server rsyslogd:could not load module
'/lib/rsyslog/ommysql.so', dlopen: /lib/rsyslog/ommysql.so: cannot open shared
object file: No such file or directory

SO my question is, how can I modify the spec file to package the mysql
libraries so they can be installed via the built RPM? or should there be two
spec files, one for rsyslog without mysql and one for rsyslog with?

Thanks.

Michael.

---------- Forwarded Message -----------
From: &quot;Michael Meckelein&quot; &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/users">mmeckelein at hq.adiscon.com</A>&gt;
To: &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/users">rsyslog at lists.adiscon.com</A>&gt;
Sent: Thu, 16 Aug 2007 14:33:56 +0200
Subject: [rsyslog] rsyslog 1.19.0 released

Hi all,

rsyslog 1.19.0 has been released today. This release is the first to
support dynamically loading of output plug-ins. The MySQL output module
has been converted into a loadable plug-in. This enables packagers to
create much cleaner solutions by providing a rsyslog base package and a
MySQL add-on package. This release is recommended for all users.

Changelog:

<A HREF="http://www.rsyslog.com/Article115.phtml">http://www.rsyslog.com/Article115.phtml</A>

Download:

<A HREF="http://www.rsyslog.com/Downloads-req-getit-lid-52.phtml">http://www.rsyslog.com/Downloads-req-getit-lid-52.phtml</A>

As always, feedback is appreciated.

Michael Meckelein
_______________________________________________
rsyslog mailing list
<A HREF="http://lists.adiscon.net/mailman/listinfo/rsyslog">http://lists.adiscon.net/mailman/listinfo/rsyslog</A>
------- End of Forwarded Message -------

-------------- next part --------------
A non-text attachment was scrubbed...
Name: rsyslog.spec
Type: application/octet-stream
Size: 5181 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.repoforge.org/pipermail/users/attachments/20070816/fbd15bc7/attachment-0004.obj">http://lists.repoforge.org/pipermail/users/attachments/20070816/fbd15bc7/attachment-0004.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025639.html">[users] Perl-DBD-ODBC x86_64 build errors
</A></li>
	<LI>Next message: <A HREF="023213.html">[suggest] Fw: [rsyslog] rsyslog 1.19.0 released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23212">[ date ]</a>
              <a href="thread.html#23212">[ thread ]</a>
              <a href="subject.html#23212">[ subject ]</a>
              <a href="author.html#23212">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
