<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [suggest] Fw: [rsyslog] rsyslog 1.19.0 released
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsuggest%5D%20Fw%3A%20%5Brsyslog%5D%20rsyslog%201.19.0%20released&In-Reply-To=%3C20070820.063454.038296.28D6E67EA81E70737A81EA556AF1C4AA%40CTBTO.ORG%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025647.html">
   <LINK REL="Next"  HREF="025648.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[suggest] Fw: [rsyslog] rsyslog 1.19.0 released</H1>
    <B>Stefan Radman</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsuggest%5D%20Fw%3A%20%5Brsyslog%5D%20rsyslog%201.19.0%20released&In-Reply-To=%3C20070820.063454.038296.28D6E67EA81E70737A81EA556AF1C4AA%40CTBTO.ORG%3E"
       TITLE="[suggest] Fw: [rsyslog] rsyslog 1.19.0 released">Stefan.Radman at CTBTO.ORG
       </A><BR>
    <I>Mon Aug 20 08:34:50 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025647.html">[users] dkms file missing error during boot
</A></li>
        <LI>Next message: <A HREF="025648.html">[users] Re: dkms file missing error during boot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23224">[ date ]</a>
              <a href="thread.html#23224">[ thread ]</a>
              <a href="subject.html#23224">[ subject ]</a>
              <a href="author.html#23224">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Hmm, just a query, will adding the above to the spec file 
</I>&gt;<i> actually produce two RPM's?
</I>
Correct

&gt;<i> -----Original Message-----
</I>&gt;<i> From: Michael Mansour [mailto:<A HREF="http://lists.repoforge.org/mailman/listinfo/users">mic at npgx.com.au</A>] 
</I>&gt;<i> Sent: Saturday, 18 August, 2007 05:10
</I>&gt;<i> To: Stefan Radman; suggest lists.rpmforge.net
</I>&gt;<i> Subject: RE: [suggest] Fw: [rsyslog] rsyslog 1.19.0 released
</I>&gt;<i> 
</I>&gt;<i> Hi Stefan,
</I>&gt;<i> 
</I>&gt;<i> &gt; You'll need to add something along the lines below to create a
</I>&gt;<i> &gt; subpackage for the mysql output module.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; %package mysql
</I>&gt;<i> &gt; Group: System Environment/Daemons
</I>&gt;<i> &gt; Summary: MySQL plugin for rsyslog
</I>&gt;<i> &gt; Requires: %{name} = %{version}
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; %description mysql
</I>&gt;<i> &gt; MySQL output module for rsyslog
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; %files mysql
</I>&gt;<i> &gt; %defattr(-,root,root,-)
</I>&gt;<i> &gt; %{_libdir}/rsyslog/ommysql.so*
</I>&gt;<i> &gt; %exclude %{_libdir}/*.a
</I>&gt;<i> &gt; %exclude %{_libdir}/*.la
</I>&gt;<i> 
</I>&gt;<i> Very clear, thankyou I'll give it a go this weekend and let you know.
</I>&gt;<i> 
</I>&gt;<i> Hmm, just a query, will adding the above to the spec file 
</I>&gt;<i> actually produce two
</I>&gt;<i> RPM's?
</I>&gt;<i> 
</I>&gt;<i> Thanks.
</I>&gt;<i> 
</I>&gt;<i> Michael.
</I>&gt;<i> 
</I>&gt;<i> &gt; Cheers
</I>&gt;<i> &gt; Stefan
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; &gt; -----Original Message-----
</I>&gt;<i> &gt; &gt; From: <A HREF="http://lists.repoforge.org/mailman/listinfo/users">suggest-bounces at lists.rpmforge.net</A> 
</I>&gt;<i> &gt; &gt; [mailto:<A HREF="http://lists.repoforge.org/mailman/listinfo/users">suggest-bounces at lists.rpmforge.net</A>] On Behalf Of 
</I>&gt;<i> &gt; &gt; Michael Mansour
</I>&gt;<i> &gt; &gt; Sent: Thursday, 16 August, 2007 15:47
</I>&gt;<i> &gt; &gt; To: suggest lists.rpmforge.net
</I>&gt;<i> &gt; &gt; Subject: [suggest] Fw: [rsyslog] rsyslog 1.19.0 released
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Hi,
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Since rsyslog 1.17.5, I've been building the RPM's using 
</I>&gt;<i> the specfile
</I>&gt;<i> &gt; &gt; attached.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; This original spec was from the &quot;redhat people&quot;, I just modified:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; %define with_db 1
</I>&gt;<i> &gt; &gt; from 0 to 1, and:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Version: 1.19.0
</I>&gt;<i> &gt; &gt; whenever I wnated to build a newer version and most importantly:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; %configure --sbindir=%{sbindir} --enable-mysql
</I>&gt;<i> &gt; &gt; ie. added the --enable-mysql to build a mysql-enabled version 
</I>&gt;<i> &gt; &gt; of rsyslog.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; This has worked fine until 1.19.0, where as we can see from 
</I>&gt;<i> &gt; &gt; the below mailout
</I>&gt;<i> &gt; &gt; from Michael, the mysql support is now a plugin.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; When I go to build, I get the following error:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; warning: Installed (but unpackaged) file(s) found:
</I>&gt;<i> &gt; &gt;    /lib/rsyslog/ommysql.a
</I>&gt;<i> &gt; &gt;    /lib/rsyslog/ommysql.la
</I>&gt;<i> &gt; &gt;    /lib/rsyslog/ommysql.so.0.0.0
</I>&gt;<i> &gt; &gt; Wrote: /usr/src/redhat/RPMS/i386/rsyslog-1.19.0-1.i386.rpm
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; so obviously when I install and try to use the mysql logging 
</I>&gt;<i> &gt; &gt; features, rsyslog
</I>&gt;<i> &gt; &gt; fails to log with:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Aug 16 23:35:11 server rsyslogd:could not load module
</I>&gt;<i> &gt; &gt; '/lib/rsyslog/ommysql.so', dlopen: /lib/rsyslog/ommysql.so: 
</I>&gt;<i> &gt; &gt; cannot open shared
</I>&gt;<i> &gt; &gt; object file: No such file or directory
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; SO my question is, how can I modify the spec file to 
</I>&gt;<i> package the mysql
</I>&gt;<i> &gt; &gt; libraries so they can be installed via the built RPM? or 
</I>&gt;<i> &gt; &gt; should there be two
</I>&gt;<i> &gt; &gt; spec files, one for rsyslog without mysql and one for 
</I>&gt;<i> rsyslog with?
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Thanks.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Michael.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; ---------- Forwarded Message -----------
</I>&gt;<i> &gt; &gt; From: &quot;Michael Meckelein&quot; &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/users">mmeckelein at hq.adiscon.com</A>&gt;
</I>&gt;<i> &gt; &gt; To: &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/users">rsyslog at lists.adiscon.com</A>&gt;
</I>&gt;<i> &gt; &gt; Sent: Thu, 16 Aug 2007 14:33:56 +0200
</I>&gt;<i> &gt; &gt; Subject: [rsyslog] rsyslog 1.19.0 released
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Hi all,
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; rsyslog 1.19.0 has been released today. This release is 
</I>&gt;<i> the first to
</I>&gt;<i> &gt; &gt; support dynamically loading of output plug-ins. The MySQL 
</I>&gt;<i> &gt; &gt; output module
</I>&gt;<i> &gt; &gt; has been converted into a loadable plug-in. This enables 
</I>&gt;<i> packagers to
</I>&gt;<i> &gt; &gt; create much cleaner solutions by providing a rsyslog base 
</I>&gt;<i> &gt; &gt; package and a
</I>&gt;<i> &gt; &gt; MySQL add-on package. This release is recommended for all users.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Changelog:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; <A HREF="http://www.rsyslog.com/Article115.phtml">http://www.rsyslog.com/Article115.phtml</A>
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Download:
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; <A HREF="http://www.rsyslog.com/Downloads-req-getit-lid-52.phtml">http://www.rsyslog.com/Downloads-req-getit-lid-52.phtml</A>
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; As always, feedback is appreciated.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; Michael Meckelein
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; rsyslog mailing list
</I>&gt;<i> &gt; &gt; <A HREF="http://lists.adiscon.net/mailman/listinfo/rsyslog">http://lists.adiscon.net/mailman/listinfo/rsyslog</A>
</I>&gt;<i> &gt; &gt; ------- End of Forwarded Message -------
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> ------- End of Original Message -------
</I>&gt;<i> 
</I>&gt;<i> 
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025647.html">[users] dkms file missing error during boot
</A></li>
	<LI>Next message: <A HREF="025648.html">[users] Re: dkms file missing error during boot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23224">[ date ]</a>
              <a href="thread.html#23224">[ thread ]</a>
              <a href="subject.html#23224">[ subject ]</a>
              <a href="author.html#23224">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
