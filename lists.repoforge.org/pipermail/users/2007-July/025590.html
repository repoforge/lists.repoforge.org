<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [users] selfupdating packages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20selfupdating%20packages&In-Reply-To=%3C20070725123843.M72717%40npgx.com.au%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025589.html">
   <LINK REL="Next"  HREF="025591.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[users] selfupdating packages</H1>
    <B>Michael Mansour</B> 
    <A HREF="mailto:users%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Busers%5D%20selfupdating%20packages&In-Reply-To=%3C20070725123843.M72717%40npgx.com.au%3E"
       TITLE="[users] selfupdating packages">mic at npgx.com.au
       </A><BR>
    <I>Wed Jul 25 14:39:49 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="025589.html">[users] selfupdating packages
</A></li>
        <LI>Next message: <A HREF="025591.html">[users] selfupdating packages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25590">[ date ]</a>
              <a href="thread.html#25590">[ thread ]</a>
              <a href="subject.html#25590">[ subject ]</a>
              <a href="author.html#25590">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Rance,

&gt;<i> I have a question about the &quot;proper&quot; way to handle sofware that  
</I>&gt;<i> updates itself.
</I>&gt;<i> 
</I>&gt;<i> For example, I run clamav, which I installed via rpm from rpmforge.
</I>&gt;<i> 
</I>&gt;<i> One of the rpm deps was clamav-db.
</I>&gt;<i> 
</I>&gt;<i> clamav includes a utility called &quot;freshclam&quot; that updates the  
</I>&gt;<i> antivirus db several times each day.
</I>&gt;<i> 
</I>&gt;<i> when I issue a &quot;yum update&quot; from my centos box clamav-db gets  
</I>&gt;<i> installed as an update, but it is possible that the rpm update  
</I>&gt;<i> actually &quot;undoes&quot; any freshclam update to a newer version of the db  
</I>&gt;<i> than when the updated rpm was originally made.
</I>
This assumption is incorrect. If you look at the spec file you'll see that 
your virus database is not modified, but the new (or old) virus definition 
will be renamed to .rpmsave or .rpmnew.

The below does not apply in this case.

Regards,

Michael.

&gt;<i> These options I know are available:
</I>&gt;<i> 
</I>&gt;<i> 1) configure my local copy of yum (or other package tools I use) to  
</I>&gt;<i> ignore updates of the form &quot;clamav-db*&quot;
</I>&gt;<i> 
</I>&gt;<i> 2) create my own rpm with a dummy spec file that just says that it  
</I>&gt;<i> &quot;Provides&quot; the clamav db but in fact does not.  but that version  
</I>&gt;<i> number would never be updated, and then rest of them clamav packages 
</I>&gt;<i>  would install fine.
</I>&gt;<i> 
</I>&gt;<i> Is there another option that is available?
</I>&gt;<i> 
</I>&gt;<i> What should I do to address this issue?
</I>&gt;<i> 
</I>&gt;<i> I've used clamav as the specific example, but there are other tools  
</I>&gt;<i> that have self-updating sections like clamav.  So the question I 
</I>&gt;<i> asked  is more generalized.
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> users mailing list
</I>&gt;<i> <A HREF="http://lists.repoforge.org/mailman/listinfo/users">users at lists.rpmforge.net</A>
</I>&gt;<i> <A HREF="http://lists.rpmforge.net/mailman/listinfo/users">http://lists.rpmforge.net/mailman/listinfo/users</A>
</I>------- End of Original Message -------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025589.html">[users] selfupdating packages
</A></li>
	<LI>Next message: <A HREF="025591.html">[users] selfupdating packages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25590">[ date ]</a>
              <a href="thread.html#25590">[ thread ]</a>
              <a href="subject.html#25590">[ subject ]</a>
              <a href="author.html#25590">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/users">More information about the users
mailing list</a><br>
</body></html>
