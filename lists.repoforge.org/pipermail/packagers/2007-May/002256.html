<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [packagers] Re: [svn] r5358 - in trunk/rpms: perl-GStreamer	perl-Gtk2-GladeXML
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20Re%3A%20%5Bsvn%5D%20r5358%20-%20in%20trunk/rpms%3A%20perl-GStreamer%0A%09perl-Gtk2-GladeXML&In-Reply-To=%3CPine.LNX.4.64.0705031838380.29817%40horsea.3ti.be%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002255.html">
   <LINK REL="Next"  HREF="002257.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[packagers] Re: [svn] r5358 - in trunk/rpms: perl-GStreamer	perl-Gtk2-GladeXML</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20Re%3A%20%5Bsvn%5D%20r5358%20-%20in%20trunk/rpms%3A%20perl-GStreamer%0A%09perl-Gtk2-GladeXML&In-Reply-To=%3CPine.LNX.4.64.0705031838380.29817%40horsea.3ti.be%3E"
       TITLE="[packagers] Re: [svn] r5358 - in trunk/rpms: perl-GStreamer	perl-Gtk2-GladeXML">dag at wieers.com
       </A><BR>
    <I>Thu May  3 18:49:16 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002255.html">[packagers] spamassassin-tools
</A></li>
        <LI>Next message: <A HREF="002257.html">[packagers] perl-Mail-SPF --&gt; Error: Missing Dependency: perl(version) is needed by package
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2256">[ date ]</a>
              <a href="thread.html#2256">[ thread ]</a>
              <a href="subject.html#2256">[ subject ]</a>
              <a href="author.html#2256">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 3 May 2007, <A HREF="http://lists.repoforge.org/mailman/listinfo/packagers">packagers at lists.rpmforge.net</A> wrote:

&gt;<i> Author: dries
</I>&gt;<i> Date: 2007-05-03 16:38:53 +0200 (Thu, 03 May 2007)
</I>&gt;<i> New Revision: 5358
</I>&gt;<i> 
</I>&gt;<i> Modified:
</I>&gt;<i>    trunk/rpms/perl-GStreamer/perl-GStreamer.spec
</I>&gt;<i>    trunk/rpms/perl-Gtk2-GladeXML/perl-Gtk2-GladeXML.spec
</I>&gt;<i> Log:
</I>&gt;<i> converted to utf8
</I>&gt;<i> 
</I>&gt;<i> Modified: trunk/rpms/perl-GStreamer/perl-GStreamer.spec
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- trunk/rpms/perl-GStreamer/perl-GStreamer.spec	2007-05-03 14:29:01 UTC (rev 5357)
</I>&gt;<i> +++ trunk/rpms/perl-GStreamer/perl-GStreamer.spec	2007-05-03 14:38:53 UTC (rev 5358)
</I>&gt;<i> @@ -1,6 +1,6 @@
</I>&gt;<i>  # $Id$
</I>&gt;<i>  # Authority: dag
</I>&gt;<i> -# Upstream: Torsten Sch&#246;nfeld &lt;kaffeetisch$gmx,de&gt;
</I>&gt;<i> +# Upstream: Torsten Sch&#195;&#182;nfeld &lt;kaffeetisch$gmx,de&gt;
</I>&gt;<i>  
</I>&gt;<i>  %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
</I>&gt;<i>  %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
</I>&gt;<i> 
</I>&gt;<i> Modified: trunk/rpms/perl-Gtk2-GladeXML/perl-Gtk2-GladeXML.spec
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- trunk/rpms/perl-Gtk2-GladeXML/perl-Gtk2-GladeXML.spec	2007-05-03 14:29:01 UTC (rev 5357)
</I>&gt;<i> +++ trunk/rpms/perl-Gtk2-GladeXML/perl-Gtk2-GladeXML.spec	2007-05-03 14:38:53 UTC (rev 5358)
</I>&gt;<i> @@ -1,6 +1,6 @@
</I>&gt;<i>  # $Id$
</I>&gt;<i>  # Authority: dag
</I>&gt;<i> -# Upstream: Torsten Sch&#246;nfeld &lt;kaffeetisch$gmx,de&gt;
</I>&gt;<i> +# Upstream: Torsten Sch&#195;&#182;nfeld &lt;kaffeetisch$gmx,de&gt;
</I>&gt;<i>  
</I>&gt;<i>  %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
</I>&gt;<i>  %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
</I>
I fixed a bug in the dar-perl.py script so that it now outputs the 
author in utf8 as well.

Once the script is ready and does everything I want, I'd like to change it 
to make on the fly changes to our RPMforge SPEC files. (I do now test it 
with diffing between its output and the SPEC file)

The aim is that the script can work autonomously. How that works with the 
description, license and file-list I don't know yet. For changing existing 
SPEC files, this is not a major concern though.

Currently the script takes care of:

 + Authority
 + Upstream
 + Name / Version
 + real_version (fixes automatically the 1.002004 perl stuff)
 + Source (if found in by-module it will use that, otherwise it uses the official location)
 + BuildArch (few exceptions to this when building is completely initiated by perl)
 + %doc (automatically looks for known doc files, like CPAN)
 + Guesses %files (misses mostly with complex distributions)


Missing:

 + License 
	need to look where I can get that from without scraping the website
	one possibility is to look at the archive and check LICENCE/Artistic
	this info should definitely go into META.yml

 + Summary and %description
	again, do not want to scrape the website
	one possibility is to parse the README
	this info should definitely go into META.yml
	
 + %files
	to do this properly we need to either build and scan buildroot
	or parse Makefile, both are undesirable for me


Dries, is your script available so that I can see what we can merge ?

Kind regards,
--   dag wieers,  <A HREF="http://lists.repoforge.org/mailman/listinfo/packagers">dag at wieers.com</A>,  <A HREF="http://dag.wieers.com/">http://dag.wieers.com/</A>   --
[all I want is a warm bed and a kind word and unlimited power]
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002255.html">[packagers] spamassassin-tools
</A></li>
	<LI>Next message: <A HREF="002257.html">[packagers] perl-Mail-SPF --&gt; Error: Missing Dependency: perl(version) is needed by package
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2256">[ date ]</a>
              <a href="thread.html#2256">[ thread ]</a>
              <a href="subject.html#2256">[ subject ]</a>
              <a href="author.html#2256">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/packagers">More information about the packagers
mailing list</a><br>
</body></html>
