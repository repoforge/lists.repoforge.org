<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [packagers] Git specfile update
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20Git%20specfile%20update&In-Reply-To=%3C469785F8.4030106%40statsbiblioteket.dk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002341.html">
   <LINK REL="Next"  HREF="002343.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[packagers] Git specfile update</H1>
    <B>Tom G. Christensen</B> 
    <A HREF="mailto:packagers%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bpackagers%5D%20Git%20specfile%20update&In-Reply-To=%3C469785F8.4030106%40statsbiblioteket.dk%3E"
       TITLE="[packagers] Git specfile update">tgc at statsbiblioteket.dk
       </A><BR>
    <I>Fri Jul 13 16:02:32 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="002341.html">[packagers] New Package msktutil
</A></li>
        <LI>Next message: <A HREF="002343.html">[packagers] Git specfile update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2342">[ date ]</a>
              <a href="thread.html#2342">[ thread ]</a>
              <a href="subject.html#2342">[ subject ]</a>
              <a href="author.html#2342">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

It has these updates:
Update to release 1.5.2.4.

Use the pre-compiled upstream manpages instead of txt version
Since they're nice enough to provide them I think we should take 
advantage of that.
This also means that git help &lt;command&gt; will actually provide output.

Don't trash all the hardlinks in %%{_bindir} during install.
Running perl -pi -e on all the files in %{_bindir} kills the hardlinks 
and balloons the rpm up to a whopping 20+ megs, not ideal so I commented 
it out :)
I checked afterwards and nothing seems to actually need fixing anyway so 
should be safe.

Add gitk to -gui package.

I've added perl(Error) as a BuildRequires, without it perl-Git installs 
its own copy and actually ends up providing perl(Error).
Alternatively you can leave out the BR and nuke the private copy in 
%install stage.
I also added expat-devel to BR since it's not pulled in by any of the 
other BRs and the build needs it.

The specfile was buildtested in my mock setup for el3,4,5 and I've done 
a few small tests with the el4 binaries without issues.
It was &quot;upgrade&quot; testet on el4 against a local modified build of the 
upstream src.rpm and it did the right thing (replaced all the small 
packages, pulled in new git-gui and perl-Git).

-tgc
-------------- next part --------------
A non-text attachment was scrubbed...
Name: git-update.patch
Type: text/x-patch
Size: 3253 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.repoforge.org/pipermail/packagers/attachments/20070713/12bfb003/attachment-0001.bin">http://lists.repoforge.org/pipermail/packagers/attachments/20070713/12bfb003/attachment-0001.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002341.html">[packagers] New Package msktutil
</A></li>
	<LI>Next message: <A HREF="002343.html">[packagers] Git specfile update
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2342">[ date ]</a>
              <a href="thread.html#2342">[ thread ]</a>
              <a href="subject.html#2342">[ subject ]</a>
              <a href="author.html#2342">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/packagers">More information about the packagers
mailing list</a><br>
</body></html>
