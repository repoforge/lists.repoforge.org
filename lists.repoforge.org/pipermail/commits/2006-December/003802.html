<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r5002 - in trunk/rpms: . amule ati-x11-drv bmpx	dkms-ndiswrapper faac faad2 ffmpeg frozen-bubble	gstreamer-ffmpeg gstreamer-plugins-bad gstreamer-plugins-ugly	gtkpod gxine ipw2100-firmware kino libmp4v2 mjpegtools ogle	oxine postgrey vlc x264 xine xine-lib-moles
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5002%20-%20in%20trunk/rpms%3A%20.%20amule%20ati-x11-drv%20bmpx%0A%09dkms-ndiswrapper%20faac%20faad2%20ffmpeg%20frozen-bubble%0A%09gstreamer-ffmpeg%20gstreamer-plugins-bad%20gstreamer-plugins-ugly%0A%09gtkpod%20gxine%20ipw2100-firmware%20kino%20libmp4v2%20mjpegtools%20ogle%0A%09oxine%20postgrey%20vlc%20x264%20xine%20xine-lib-moles&In-Reply-To=%3C20061218163541.9E869944ADC%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003801.html">
   <LINK REL="Next"  HREF="003803.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r5002 - in trunk/rpms: . amule ati-x11-drv bmpx	dkms-ndiswrapper faac faad2 ffmpeg frozen-bubble	gstreamer-ffmpeg gstreamer-plugins-bad gstreamer-plugins-ugly	gtkpod gxine ipw2100-firmware kino libmp4v2 mjpegtools ogle	oxine postgrey vlc x264 xine xine-lib-moles</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5002%20-%20in%20trunk/rpms%3A%20.%20amule%20ati-x11-drv%20bmpx%0A%09dkms-ndiswrapper%20faac%20faad2%20ffmpeg%20frozen-bubble%0A%09gstreamer-ffmpeg%20gstreamer-plugins-bad%20gstreamer-plugins-ugly%0A%09gtkpod%20gxine%20ipw2100-firmware%20kino%20libmp4v2%20mjpegtools%20ogle%0A%09oxine%20postgrey%20vlc%20x264%20xine%20xine-lib-moles&In-Reply-To=%3C20061218163541.9E869944ADC%40pooch.vmhosting.org%3E"
       TITLE="[svn] r5002 - in trunk/rpms: . amule ati-x11-drv bmpx	dkms-ndiswrapper faac faad2 ffmpeg frozen-bubble	gstreamer-ffmpeg gstreamer-plugins-bad gstreamer-plugins-ugly	gtkpod gxine ipw2100-firmware kino libmp4v2 mjpegtools ogle	oxine postgrey vlc x264 xine xine-lib-moles">packagers at lists.rpmforge.net
       </A><BR>
    <I>Mon Dec 18 17:35:41 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003801.html">[svn] r5001 - in trunk/rpms: bash-completion cfengine gocr librsync	partimage rdiff-backup spamassassin
</A></li>
        <LI>Next message: <A HREF="003803.html">[svn] r5003 - in trunk/rpms: mcabber miredo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3802">[ date ]</a>
              <a href="thread.html#3802">[ thread ]</a>
              <a href="subject.html#3802">[ subject ]</a>
              <a href="author.html#3802">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: thias
Date: 2006-12-18 17:35:37 +0100 (Mon, 18 Dec 2006)
New Revision: 5002

Added:
   trunk/rpms/amule/emule_logo.png
   trunk/rpms/faad2/faad2-2.5-buildfix.patch
   trunk/rpms/ffmpeg/ffmpeg-20061215-gsm.patch
   trunk/rpms/gstreamer-plugins-bad/gst-plugins-bad-0.10.3-faad2.patch
   trunk/rpms/libmp4v2/
   trunk/rpms/libmp4v2/libmp4v2.spec
   trunk/rpms/oxine/oxine-0.6-install.patch
   trunk/rpms/vlc/vlc-0.8.6-ffmpegX11.patch
   trunk/rpms/xine-lib-moles/xine-lib-moles.spec
Removed:
   trunk/rpms/faad2/faad2-2.0-64bit.patch
   trunk/rpms/faad2/faad2-2.0-Makefile-separator.patch
   trunk/rpms/faad2/faad2-2.0-configure-mpeg4ip.patch
   trunk/rpms/faad2/faad2-2.0-gcc34.patch
   trunk/rpms/faad2/faad2-2.0-gcc4.patch
   trunk/rpms/faad2/faad2-2.0-mp4ff_int_types.patch
   trunk/rpms/faad2/faad2-2.0-symbol.patch
   trunk/rpms/faad2/faad2-2.0-systypes.patch
   trunk/rpms/faad2/faad2-2.0-xmms-noext.patch
   trunk/rpms/ffmpeg/ffmpeg-20060918-gsm.patch
   trunk/rpms/ffmpeg/ffmpeg-20060918-x264.patch
   trunk/rpms/frozen-bubble/frozen-bubble-1.0.0-FBLE.pm.patch
   trunk/rpms/frozen-bubble/frozen-bubble-1.0.0-perl-SDL.patch
   trunk/rpms/gstreamer-plugins-ugly/gst-plugins-ugly-0.10.4-ac3.patch
   trunk/rpms/mjpegtools/jpeg-mmx-0.1.6-gcc41.patch
   trunk/rpms/ogle/ogle-0.9.2-alsa.patch
   trunk/rpms/vlc/vlc-0.8.5-x264.patch
   trunk/rpms/xine-lib-moles/xine-lib-moles.txt
Modified:
   trunk/rpms/amule/amule.spec
   trunk/rpms/ati-x11-drv/ati-x11-drv.spec
   trunk/rpms/bmpx/bmpx.spec
   trunk/rpms/dkms-ndiswrapper/dkms-ndiswrapper.spec
   trunk/rpms/faac/faac.spec
   trunk/rpms/faad2/faad2.spec
   trunk/rpms/ffmpeg/ffmpeg.spec
   trunk/rpms/frozen-bubble/frozen-bubble.spec
   trunk/rpms/gstreamer-ffmpeg/gstreamer-ffmpeg.spec
   trunk/rpms/gstreamer-plugins-bad/gstreamer-plugins-bad.spec
   trunk/rpms/gstreamer-plugins-ugly/gstreamer-plugins-ugly.spec
   trunk/rpms/gtkpod/gtkpod.spec
   trunk/rpms/gxine/gxine.spec
   trunk/rpms/ipw2100-firmware/ipw2100-firmware.spec
   trunk/rpms/kino/kino.spec
   trunk/rpms/mjpegtools/mjpegtools.spec
   trunk/rpms/ogle/ogle.spec
   trunk/rpms/oxine/oxine.spec
   trunk/rpms/postgrey/postgrey.init
   trunk/rpms/postgrey/postgrey.spec
   trunk/rpms/vlc/vlc.spec
   trunk/rpms/x264/x264.spec
   trunk/rpms/xine/xine.spec
Log:
MAJOR updates to many multimedia packages. Highlights : Updated faad2, faac (required for new vlc), updated ffmpeg, ogle, gxine, oxine. Rebuild xine, kino. New gst plugins packages.


Modified: trunk/rpms/amule/amule.spec
===================================================================
--- trunk/rpms/amule/amule.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/amule/amule.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -6,14 +6,13 @@
 Summary: Client for ED2K Peer-to-Peer Networks based on eMule
 Name: amule
 Version: 2.1.3
-Release: 1%{?prever:.%{prever}}
+Release: 2%{?prever:.%{prever}}
 License: GPL
 Group: Applications/Internet
 URL: <A HREF="http://www.amule.org/">http://www.amule.org/</A>
-Source: <A HREF="http://download.berlios.de/amule/aMule-%{version">http://download.berlios.de/amule/aMule-%{version</A>}%{?prever}.tar.bz2
+Source0: <A HREF="http://download.berlios.de/amule/aMule-%{version">http://download.berlios.de/amule/aMule-%{version</A>}%{?prever}.tar.bz2
+Source1: emule_logo.png
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-Requires(post): /usr/sbin/alternatives
-Requires(preun): /usr/sbin/alternatives
 BuildRequires: gcc-c++, wxGTK-devel &gt;= 2.6.0, zlib-devel, gettext-devel
 BuildRequires: flex, bison
 
@@ -37,7 +36,6 @@
 %install
 %{__rm} -rf %{buildroot} _docs
 %{__make} install DESTDIR=%{buildroot}
-%{__mv} %{buildroot}%{_bindir}/ed2k %{buildroot}%{_bindir}/ed2k.%{name}
 %find_lang %{name}
 # Move the docs back to be included with %%doc
 %{__mv} %{buildroot}%{_defaultdocdir}/aMule-* _docs
@@ -46,15 +44,16 @@
     iconv -f ISO8859-1 -t UTF-8 -o tmp.desktop ${file}
     %{__mv} tmp.desktop ${file}
 done
+# Replace xpm icon with our png one
+%{__rm} -f %{buildroot}%{_datadir}/pixmaps/amule.xpm
+%{__install} -p -m 0644 %{SOURCE1} %{buildroot}%{_datadir}/pixmaps/amule.png
+%{__perl} -pi -e 's|amule.xpm|amule.png|g' \
+    %{buildroot}%{_datadir}/applications/*.desktop
 
 
 %post
 update-desktop-database -q 2&gt;/dev/null || :
-/usr/sbin/alternatives --install %{_bindir}/ed2k ed2k %{_bindir}/ed2k.%{name} 60 || :
 
-%preun
-/usr/sbin/alternatives --remove ed2k %{_bindir}/ed2k.%{name} || :
-
 %postun
 update-desktop-database -q 2&gt;/dev/null || :
 
@@ -70,7 +69,8 @@
 %{_libdir}/xchat/plugins/xas.pl
 %{_datadir}/applications/*.desktop
 #{_datadir}/cas/
-%{_datadir}/pixmaps/*.xpm
+%{_datadir}/pixmaps/alc.xpm
+%{_datadir}/pixmaps/amule.png
 %lang(de) %{_mandir}/de/man1/*.1*
 %lang(es) %{_mandir}/es/man1/*.1*
 %lang(fr) %{_mandir}/fr/man1/*.1*
@@ -79,6 +79,11 @@
 
 
 %changelog
+* Wed Nov 15 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 2.1.3-2
+- Remove all of the alternatives stuff.
+- Replace the default (ugly) icon with a much nicer transparent png one.
+  Haven't found any nicer replacement for alc.xpm, though.
+
 * Mon Jun 12 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 2.1.3-1
 - Update to 2.1.3.
 

Added: trunk/rpms/amule/emule_logo.png
===================================================================
(Binary files differ)


Property changes on: trunk/rpms/amule/emule_logo.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Modified: trunk/rpms/ati-x11-drv/ati-x11-drv.spec
===================================================================
--- trunk/rpms/ati-x11-drv/ati-x11-drv.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/ati-x11-drv/ati-x11-drv.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -17,12 +17,12 @@
 
 Summary: Proprietary ATI hardware accelerated OpenGL display driver
 Name: ati-x11-drv
-Version: 8.30.3
+Version: 8.32.5
 Release: 1
 License: Proprietary
 Group: User Interface/X Hardware Support
 URL: <A HREF="http://www.ati.com/online/customercareportal/linux.html">http://www.ati.com/online/customercareportal/linux.html</A>
-Source0: <A HREF="http://www2.ati.com/drivers/linux/ati-driver-installer-%{version">http://www2.ati.com/drivers/linux/ati-driver-installer-%{version</A>}.run
+Source0: <A HREF="http://www2.ati.com/drivers/linux/ati-driver-installer-%{version">http://www2.ati.com/drivers/linux/ati-driver-installer-%{version</A>}-x86.x86_64.run
 Source1: fireglcontrolpanel.desktop
 Source2: Makefile.fglrx
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
@@ -286,6 +286,12 @@
 
 
 %changelog
+* Thu Dec 14 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 8.32.5-1
+- Update to 8.32.5.
+
+* Tue Nov 28 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 8.31.5-1
+- Update to 8.31.5.
+
 * Mon Nov  6 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 8.30.3-1
 - Update to 8.30.3.
 

Modified: trunk/rpms/bmpx/bmpx.spec
===================================================================
--- trunk/rpms/bmpx/bmpx.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/bmpx/bmpx.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -4,8 +4,8 @@
 
 Summary: Beep Media Player
 Name: bmpx
-Version: 0.36.0
-Release: 1
+Version: 0.36.1
+Release: 2
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://www.beep-media-player.org/">http://www.beep-media-player.org/</A>
@@ -18,7 +18,7 @@
 BuildRequires: gstreamer-devel &gt;= 0.10.4
 BuildRequires: gstreamer-plugins-base-devel &gt;= 0.10.4
 BuildRequires: dbus-devel, hal-devel, gamin-devel, libmusicbrainz-devel
-BuildRequires: taglib-devel, neon-devel, faad2-devel, libsidplay-devel
+BuildRequires: taglib-devel, neon-devel, libmp4v2-devel, libsidplay-devel
 BuildRequires: boost-devel, glibmm24-devel, gtkmm24-devel, libglademm24-devel
 BuildRequires: startup-notification-devel, sqlite-devel, alsa-lib-devel
 BuildRequires: libnotify-devel, librsvg2-devel, cdparanoia-devel
@@ -118,6 +118,12 @@
 
 
 %changelog
+* Fri Dec 15 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.36.1-2
+- Rebuild against plain libmp4v2 instead of full faad2.
+
+* Thu Dec 14 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.36.1-1
+- Update to 0.36.1.
+
 * Mon Dec 11 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.36.0-1
 - Update to 0.36.0.
 - Update install patch so that it still applies.

Modified: trunk/rpms/dkms-ndiswrapper/dkms-ndiswrapper.spec
===================================================================
--- trunk/rpms/dkms-ndiswrapper/dkms-ndiswrapper.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/dkms-ndiswrapper/dkms-ndiswrapper.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -14,6 +14,7 @@
 Requires(post): dkms
 Requires(preun): dkms
 Provides: ndiswrapper = %{version}-%{release}
+ExclusiveArch: i386 x86_64
 
 %description
 This kernel module implements the Microsoft NDIS (Network Driver Interface

Modified: trunk/rpms/faac/faac.spec
===================================================================
--- trunk/rpms/faac/faac.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/faac/faac.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -3,16 +3,15 @@
 
 Summary: Reference encoder and encoding library for MPEG2/4 AAC
 Name: faac
-Version: 1.24
-Release: 3
+Version: 1.25
+Release: 1
 License: LGPL
 Group: Applications/Multimedia
 URL: <A HREF="http://www.audiocoding.com/">http://www.audiocoding.com/</A>
 Source: <A HREF="http://dl.sf.net/faac/faac-%{version">http://dl.sf.net/faac/faac-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: faad2-devel
-# Required for bootstrap
-BuildRequires: autoconf, automake, libtool
+BuildRequires: libmp4v2-devel
+BuildRequires: autoconf, automake, libtool, dos2unix
 
 %description
 FAAC is an AAC audio encoder. It currently supports MPEG-4 LTP, MAIN and LOW
@@ -23,7 +22,7 @@
 %package devel
 Summary: Development libraries of the FAAC AAC encoder
 Group: Development/Libraries
-Requires: %{name} = %{version}
+Requires: %{name} = %{version}-%{release}
 
 %description devel
 FAAC is an AAC audio encoder. It currently supports MPEG-4 LTP, MAIN and LOW
@@ -35,12 +34,17 @@
 
 %prep
 %setup -n %{name}
+# Don't ask...
+find . -type f -exec dos2unix {} \;
+find . -type f -exec chmod 644 {} \;
+find . -type d -exec chmod 755 {} \;
 
 
 %build
 sh bootstrap
 %configure \
-    --disable-static
+    --disable-static \
+    --with-mp4v2
 %{__make} %{?_smp_mflags}
 
 
@@ -72,6 +76,10 @@
 
 
 %changelog
+* Fri Dec 15 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.25-1
+- Update to 1.25.
+- Enable external libmp4v2... but the resulting package doesn't require it...
+
 * Wed Apr 12 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.24-3
 - Add faad2-devel build requirement to build with MP4 support (Chris Petersen),
   faad2 had to be fixed before it worked, though.

Deleted: trunk/rpms/faad2/faad2-2.0-64bit.patch
===================================================================
--- trunk/rpms/faad2/faad2-2.0-64bit.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/faad2/faad2-2.0-64bit.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,269 +0,0 @@
---- faad2/libfaad/decoder.h.~1~	2004-01-05 06:05:11.000000000 -0800
-+++ faad2/libfaad/decoder.h	2005-05-04 15:33:45.000000000 -0700
-@@ -76,41 +76,41 @@
- #define LFE_CHANNEL          (9)
- #define UNKNOWN_CHANNEL      (0)
- 
--int8_t* FAADAPI faacDecGetErrorMessage(uint8_t errcode);
-+char* FAADAPI faacDecGetErrorMessage(unsigned char errcode);
- 
--uint32_t FAADAPI faacDecGetCapabilities(void);
-+unsigned long FAADAPI faacDecGetCapabilities(void);
- 
- faacDecHandle FAADAPI faacDecOpen(void);
- 
- faacDecConfigurationPtr FAADAPI faacDecGetCurrentConfiguration(faacDecHandle hDecoder);
- 
--uint8_t FAADAPI faacDecSetConfiguration(faacDecHandle hDecoder,
-+unsigned char FAADAPI faacDecSetConfiguration(faacDecHandle hDecoder,
-                                     faacDecConfigurationPtr config);
- 
- /* Init the library based on info from the AAC file (ADTS/ADIF) */
--int32_t FAADAPI faacDecInit(faacDecHandle hDecoder,
--                            uint8_t *buffer,
--                            uint32_t buffer_size,
--                            uint32_t *samplerate,
--                            uint8_t *channels);
-+long FAADAPI faacDecInit(faacDecHandle hDecoder,
-+                            unsigned char *buffer,
-+                            unsigned long buffer_size,
-+                            unsigned long *samplerate,
-+                            unsigned char *channels);
- 
- /* Init the library using a DecoderSpecificInfo */
--int8_t FAADAPI faacDecInit2(faacDecHandle hDecoder, uint8_t *pBuffer,
--                         uint32_t SizeOfDecoderSpecificInfo,
--                         uint32_t *samplerate, uint8_t *channels);
-+char FAADAPI faacDecInit2(faacDecHandle hDecoder, unsigned char *pBuffer,
-+                         unsigned long SizeOfDecoderSpecificInfo,
-+                         unsigned long *samplerate, unsigned char *channels);
- 
- /* Init the library for DRM */
--int8_t FAADAPI faacDecInitDRM(faacDecHandle hDecoder, uint32_t samplerate,
--                              uint8_t channels);
-+char FAADAPI faacDecInitDRM(faacDecHandle hDecoder, unsigned long samplerate,
-+                              unsigned char channels);
- 
- void FAADAPI faacDecClose(faacDecHandle hDecoder);
- 
--void FAADAPI faacDecPostSeekReset(faacDecHandle hDecoder, int32_t frame);
-+void FAADAPI faacDecPostSeekReset(faacDecHandle hDecoder, long frame);
- 
- void* FAADAPI faacDecDecode(faacDecHandle hDecoder,
-                             faacDecFrameInfo *hInfo,
--                            uint8_t *buffer,
--                            uint32_t buffer_size);
-+                            unsigned char *buffer,
-+                            unsigned long buffer_size);
- 
- #ifdef _WIN32
-   #pragma pack(pop)
---- faad2/libfaad/mp4.h.~1~	2004-01-05 06:05:12.000000000 -0800
-+++ faad2/libfaad/mp4.h	2005-05-04 15:35:54.000000000 -0700
-@@ -34,12 +34,12 @@
- 
- #include &quot;decoder.h&quot;
- 
--int8_t FAADAPI AudioSpecificConfig(uint8_t *pBuffer,
--                                   uint32_t buffer_size,
-+char FAADAPI AudioSpecificConfig(unsigned char *pBuffer,
-+				 unsigned long buffer_size,
-                                    mp4AudioSpecificConfig *mp4ASC);
- 
--int8_t FAADAPI AudioSpecificConfig2(uint8_t *pBuffer,
--                                    uint32_t buffer_size,
-+char FAADAPI AudioSpecificConfig2(unsigned char *pBuffer,
-+                                  unsigned long buffer_size,
-                                     mp4AudioSpecificConfig *mp4ASC,
-                                     program_config *pce);
- 
---- faad2/libfaad/mp4.c.~1~	2004-01-05 06:05:12.000000000 -0800
-+++ faad2/libfaad/mp4.c	2005-05-04 15:57:14.000000000 -0700
-@@ -119,15 +119,15 @@
- };
- 
- /* Table 1.6.1 */
--int8_t FAADAPI AudioSpecificConfig(uint8_t *pBuffer,
--                                   uint32_t buffer_size,
-+char FAADAPI AudioSpecificConfig(unsigned char *pBuffer,
-+                                   unsigned long buffer_size,
-                                    mp4AudioSpecificConfig *mp4ASC)
- {
-     return AudioSpecificConfig2(pBuffer, buffer_size, mp4ASC, NULL);
- }
- 
--int8_t FAADAPI AudioSpecificConfig2(uint8_t *pBuffer,
--                                    uint32_t buffer_size,
-+char FAADAPI AudioSpecificConfig2(unsigned char *pBuffer,
-+                                    unsigned long buffer_size,
-                                     mp4AudioSpecificConfig *mp4ASC,
-                                     program_config *pce)
- {
---- faad2/libfaad/structs.h.~1~	2004-01-29 03:31:11.000000000 -0800
-+++ faad2/libfaad/structs.h	2005-05-04 15:40:18.000000000 -0700
-@@ -307,58 +307,58 @@
- typedef struct mp4AudioSpecificConfig
- {
-     /* Audio Specific Info */
--    uint8_t objectTypeIndex;
--    uint8_t samplingFrequencyIndex;
--    uint32_t samplingFrequency;
--    uint8_t channelsConfiguration;
-+    unsigned char objectTypeIndex;
-+    unsigned char samplingFrequencyIndex;
-+    unsigned long samplingFrequency;
-+    unsigned char channelsConfiguration;
- 
-     /* GA Specific Info */
--    uint8_t frameLengthFlag;
--    uint8_t dependsOnCoreCoder;
--    uint16_t coreCoderDelay;
--    uint8_t extensionFlag;
--    uint8_t aacSectionDataResilienceFlag;
--    uint8_t aacScalefactorDataResilienceFlag;
--    uint8_t aacSpectralDataResilienceFlag;
--    uint8_t epConfig;
-+    unsigned char frameLengthFlag;
-+    unsigned char dependsOnCoreCoder;
-+    unsigned short coreCoderDelay;
-+    unsigned char extensionFlag;
-+    unsigned char aacSectionDataResilienceFlag;
-+    unsigned char aacScalefactorDataResilienceFlag;
-+    unsigned char aacSpectralDataResilienceFlag;
-+    unsigned char epConfig;
- 
--    int8_t sbr_present_flag;
--    int8_t forceUpSampling;
-+    char sbr_present_flag;
-+    char forceUpSampling;
- } mp4AudioSpecificConfig;
- 
- typedef struct faacDecConfiguration
- {
--    uint8_t defObjectType;
--    uint32_t defSampleRate;
--    uint8_t outputFormat;
--    uint8_t downMatrix;
--    uint8_t useOldADTSFormat;
--    uint8_t dontUpSampleImplicitSBR;
-+    unsigned char defObjectType;
-+    unsigned long defSampleRate;
-+    unsigned char outputFormat;
-+    unsigned char downMatrix;
-+    unsigned char useOldADTSFormat;
-+    unsigned char dontUpSampleImplicitSBR;
- } faacDecConfiguration, *faacDecConfigurationPtr;
- 
- typedef struct faacDecFrameInfo
- {
--    uint32_t bytesconsumed;
--    uint32_t samples;
--    uint8_t channels;
--    uint8_t error;
--    uint32_t samplerate;
-+    unsigned long bytesconsumed;
-+    unsigned long samples;
-+    unsigned char channels;
-+    unsigned char error;
-+    unsigned long samplerate;
- 
-     /* SBR: 0: off, 1: on; normal, 2: on; downsampled */
--    uint8_t sbr;
-+    unsigned char sbr;
- 
-     /* MPEG-4 ObjectType */
--    uint8_t object_type;
-+    unsigned char object_type;
- 
-     /* AAC header type; MP4 will be signalled as RAW also */
--    uint8_t header_type;
-+    unsigned char header_type;
- 
-     /* multichannel configuration */
--    uint8_t num_front_channels;
--    uint8_t num_side_channels;
--    uint8_t num_back_channels;
--    uint8_t num_lfe_channels;
--    uint8_t channel_position[MAX_CHANNELS];
-+    unsigned char num_front_channels;
-+    unsigned char num_side_channels;
-+    unsigned char num_back_channels;
-+    unsigned char num_lfe_channels;
-+    unsigned char channel_position[64];
- } faacDecFrameInfo;
- 
- typedef struct
---- faad2/libfaad/decoder.c.~1~	2004-02-04 12:07:24.000000000 -0800
-+++ faad2/libfaad/decoder.c	2005-05-04 15:54:56.000000000 -0700
-@@ -50,14 +50,14 @@
- uint16_t dbg_count;
- #endif
- 
--int8_t* FAADAPI faacDecGetErrorMessage(uint8_t errcode)
-+char* FAADAPI faacDecGetErrorMessage(unsigned char errcode)
- {
-     if (errcode &gt;= NUM_ERROR_MESSAGES)
-         return NULL;
-     return err_msg[errcode];
- }
- 
--uint32_t FAADAPI faacDecGetCapabilities(void)
-+unsigned long FAADAPI faacDecGetCapabilities(void)
- {
-     uint32_t cap = 0;
- 
-@@ -190,9 +190,9 @@
-     return 0;
- }
- 
--int32_t FAADAPI faacDecInit(faacDecHandle hDecoder, uint8_t *buffer,
--                            uint32_t buffer_size,
--                            uint32_t *samplerate, uint8_t *channels)
-+long FAADAPI faacDecInit(faacDecHandle hDecoder, unsigned char *buffer,
-+                            unsigned long buffer_size,
-+                            unsigned long *samplerate, unsigned char *channels)
- {
-     uint32_t bits = 0;
-     bitfile ld;
-@@ -284,9 +284,9 @@
- }
- 
- /* Init the library using a DecoderSpecificInfo */
--int8_t FAADAPI faacDecInit2(faacDecHandle hDecoder, uint8_t *pBuffer,
--                            uint32_t SizeOfDecoderSpecificInfo,
--                            uint32_t *samplerate, uint8_t *channels)
-+char FAADAPI faacDecInit2(faacDecHandle hDecoder, unsigned char *pBuffer,
-+                            unsigned long SizeOfDecoderSpecificInfo,
-+                            unsigned long *samplerate, unsigned char *channels)
- {
-     int8_t rc;
-     mp4AudioSpecificConfig mp4ASC;
-@@ -366,8 +366,8 @@
- }
- 
- #ifdef DRM
--int8_t FAADAPI faacDecInitDRM(faacDecHandle hDecoder, uint32_t samplerate,
--                              uint8_t channels)
-+char FAADAPI faacDecInitDRM(faacDecHandle hDecoder, unsigned long samplerate,
-+                              unsigned char channels)
- {
-     uint8_t i;
- 
-@@ -512,7 +512,7 @@
-     if (hDecoder) faad_free(hDecoder);
- }
- 
--void FAADAPI faacDecPostSeekReset(faacDecHandle hDecoder, int32_t frame)
-+void FAADAPI faacDecPostSeekReset(faacDecHandle hDecoder, long frame)
- {
-     if (hDecoder)
-     {
-@@ -730,7 +730,7 @@
- 
- void* FAADAPI faacDecDecode(faacDecHandle hDecoder,
-                             faacDecFrameInfo *hInfo,
--                            uint8_t *buffer, uint32_t buffer_size)
-+                            unsigned char *buffer, unsigned long buffer_size)
- {
-     uint8_t channels = 0;
-     uint8_t output_channels = 0;

Deleted: trunk/rpms/faad2/faad2-2.0-Makefile-separator.patch
===================================================================
--- trunk/rpms/faad2/faad2-2.0-Makefile-separator.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/faad2/faad2-2.0-Makefile-separator.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,15 +0,0 @@
-diff -Naupr faad2.orig/Makefile.am faad2/Makefile.am
---- faad2.orig/Makefile.am	2004-02-06 11:04:39.000000000 -0500
-+++ faad2/Makefile.am	2004-02-26 07:47:09.367426792 -0500
-@@ -2,7 +2,7 @@ SUBDIRS = libfaad common frontend plugin
- 
- EXTRA_DIST = faad2.spec
- 
--rpm:    Makefile
--       make dist
--       $(RPMBUILD) -ta $(PACKAGE)-$(VERSION).tar.gz
--       rm $(PACKAGE)-$(VERSION).tar.gz
-+rpm:	Makefile
-+	make dist
-+	$(RPMBUILD) -ta $(PACKAGE)-$(VERSION).tar.gz
-+	rm $(PACKAGE)-$(VERSION).tar.gz

Deleted: trunk/rpms/faad2/faad2-2.0-configure-mpeg4ip.patch
===================================================================
--- trunk/rpms/faad2/faad2-2.0-configure-mpeg4ip.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/faad2/faad2-2.0-configure-mpeg4ip.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,11 +0,0 @@
---- configure.in.orig	2004-03-13 15:24:19.783147336 +0100
-+++ configure.in	2004-03-13 15:24:48.430792232 +0100
-@@ -67,7 +67,7 @@
-         [HAVE_FPOS_T_POS])
- 
- 
--external_mp4v2=yes
-+AC_CHECK_PROG(external_mp4v2, mpeg4ip-config, yes, no)
- AC_CHECK_LIB(mp4v2, MP4Create, , external_mp4v2=no, -lstdc++)
- AC_CHECK_LIB(mp4v2, MP4MetadataDelete, , external_mp4v2=no, -lstdc++)
- AC_CHECK_HEADER(mp4.h, , external_mp4v2=no)

Deleted: trunk/rpms/faad2/faad2-2.0-gcc34.patch
===================================================================
--- trunk/rpms/faad2/faad2-2.0-gcc34.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/faad2/faad2-2.0-gcc34.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,10 +0,0 @@
---- faad2/common/mp4v2/mp4property.h	2004-04-14 20:53:58.582017392 -0400
-+++ faad2/common/mp4v2/mp4property_.h	2004-04-14 20:51:21.955828192 -0400
-@@ -21,6 +21,7 @@
- 
- #ifndef __MP4_PROPERTY_INCLUDED__
- #define __MP4_PROPERTY_INCLUDED__
-+#define NULL 0
- 
- // forward declarations
- class MP4Atom;

Deleted: trunk/rpms/faad2/faad2-2.0-gcc4.patch
===================================================================
--- trunk/rpms/faad2/faad2-2.0-gcc4.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/faad2/faad2-2.0-gcc4.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,12 +0,0 @@
-diff -ur faad2-orig/common/mp4ff/mp4ffint.h faad2/common/mp4ff/mp4ffint.h
---- faad2-orig/common/mp4ff/mp4ffint.h	2005-02-12 23:38:28.828890793 -0500
-+++ faad2/common/mp4ff/mp4ffint.h	2005-02-12 23:41:01.618473068 -0500
-@@ -301,7 +301,7 @@
- mp4ff_t *mp4ff_open_edit(mp4ff_callback_t *f);
- #endif
- void mp4ff_close(mp4ff_t *ff);
--void mp4ff_track_add(mp4ff_t *f);
-+static void mp4ff_track_add(mp4ff_t *f);
- int32_t parse_sub_atoms(mp4ff_t *f, const uint64_t total_size);
- int32_t parse_atoms(mp4ff_t *f);
- 

Deleted: trunk/rpms/faad2/faad2-2.0-mp4ff_int_types.patch
===================================================================
--- trunk/rpms/faad2/faad2-2.0-mp4ff_int_types.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/faad2/faad2-2.0-mp4ff_int_types.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,11 +0,0 @@
-diff -uNr faad2-orig/common/mp4ff/Makefile.am faad2/common/mp4ff/Makefile.am
---- faad2-orig/common/mp4ff/Makefile.am	2004-02-06 14:12:28.000000000 +0100
-+++ faad2/common/mp4ff/Makefile.am	2006-01-02 21:27:46.000000000 +0100
-@@ -1,6 +1,6 @@
- lib_LTLIBRARIES = libmp4ff.la
- 
--include_HEADERS = mp4ff.h
-+include_HEADERS = mp4ff.h mp4ff_int_types.h
- 
- libmp4ff_la_SOURCES = mp4ff.c mp4atom.c mp4meta.c mp4sample.c mp4util.c \
-    mp4tagupdate.c mp4ff.h mp4ffint.h mp4ff_int_types.h \

Deleted: trunk/rpms/faad2/faad2-2.0-symbol.patch
===================================================================
--- trunk/rpms/faad2/faad2-2.0-symbol.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/faad2/faad2-2.0-symbol.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,104 +0,0 @@
---- faad2/libfaad/decoder.c.~1~	2005-05-04 16:34:50.000000000 -0700
-+++ faad2/libfaad/decoder.c	2005-05-04 16:47:24.000000000 -0700
-@@ -50,12 +50,17 @@
- uint16_t dbg_count;
- #endif
- 
-+#define alias(target, name) _alias(target, name)
-+#define _alias(target, name) \
-+  extern __typeof (target) name __attribute__ ((alias (#target)));
-+
- char* FAADAPI faacDecGetErrorMessage(unsigned char errcode)
- {
-     if (errcode &gt;= NUM_ERROR_MESSAGES)
-         return NULL;
-     return err_msg[errcode];
- }
-+alias(faacDecGetErrorMessage, NeAACDecGetErrorMessage)
- 
- unsigned long FAADAPI faacDecGetCapabilities(void)
- {
-@@ -82,6 +87,7 @@
- 
-     return cap;
- }
-+alias(faacDecGetCapabilities, NeAACDecGetCapabilities)
- 
- faacDecHandle FAADAPI faacDecOpen(void)
- {
-@@ -147,6 +153,7 @@
- 
-     return hDecoder;
- }
-+alias(faacDecOpen, NeAACDecOpen)
- 
- faacDecConfigurationPtr FAADAPI faacDecGetCurrentConfiguration(faacDecHandle hDecoder)
- {
-@@ -159,6 +166,7 @@
- 
-     return NULL;
- }
-+alias(faacDecGetCurrentConfiguration, NeAACDecGetCurrentConfiguration)
- 
- uint8_t FAADAPI faacDecSetConfiguration(faacDecHandle hDecoder,
-                                     faacDecConfigurationPtr config)
-@@ -189,6 +197,7 @@
- 
-     return 0;
- }
-+alias(faacDecSetConfiguration, NeAACDecSetConfiguration)
- 
- long FAADAPI faacDecInit(faacDecHandle hDecoder, unsigned char *buffer,
-                             unsigned long buffer_size,
-@@ -282,6 +291,7 @@
- 
-     return bits;
- }
-+alias(faacDecInit, NeAACDecInit)
- 
- /* Init the library using a DecoderSpecificInfo */
- char FAADAPI faacDecInit2(faacDecHandle hDecoder, unsigned char *pBuffer,
-@@ -364,6 +374,7 @@
- 
-     return 0;
- }
-+alias(faacDecInit2, NeAACDecInit2)
- 
- #ifdef DRM
- char FAADAPI faacDecInitDRM(faacDecHandle hDecoder, unsigned long samplerate,
-@@ -457,7 +468,14 @@
- 
-     return 0;
- }
-+#else
-+char FAADAPI faacDecInitDRM(faacDecHandle hDecoder, unsigned long samplerate,
-+                              unsigned char channels)
-+{
-+     return 1;
-+}
- #endif
-+alias(faacDecInitDRM, NeAACDecInitDRM)
- 
- void FAADAPI faacDecClose(faacDecHandle hDecoder)
- {
-@@ -511,6 +529,7 @@
- 
-     if (hDecoder) faad_free(hDecoder);
- }
-+alias(faacDecClose, NeAACDecClose)
- 
- void FAADAPI faacDecPostSeekReset(faacDecHandle hDecoder, long frame)
- {
-@@ -522,6 +541,7 @@
-             hDecoder-&gt;frame = frame;
-     }
- }
-+alias(faacDecPostSeekReset, NeAACDecPostSeekReset)
- 
- static void create_channel_config(faacDecHandle hDecoder, faacDecFrameInfo *hInfo)
- {
-@@ -970,3 +990,4 @@
- 
-     return NULL;
- }
-+alias(faacDecDecode, NeAACDecDecode)

Deleted: trunk/rpms/faad2/faad2-2.0-systypes.patch
===================================================================
--- trunk/rpms/faad2/faad2-2.0-systypes.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/faad2/faad2-2.0-systypes.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,13 +0,0 @@
-diff -Naupr faad2.orig/common/mp4v2/mp4.h faad2/common/mp4v2/mp4.h
---- faad2.orig/common/mp4v2/mp4.h	2004-02-06 13:47:04.000000000 +0100
-+++ faad2/common/mp4v2/mp4.h	2006-04-12 13:22:16.000000000 +0200
-@@ -23,6 +23,9 @@
- #ifndef __MP4_INCLUDED__
- #define __MP4_INCLUDED__
- 
-+/* to define u_intX_t used here */
-+#include &lt;sys/types.h&gt;
-+
- /* include system and project specific headers */
- #include &lt;mpeg4ip.h&gt;
- 

Deleted: trunk/rpms/faad2/faad2-2.0-xmms-noext.patch
===================================================================
--- trunk/rpms/faad2/faad2-2.0-xmms-noext.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/faad2/faad2-2.0-xmms-noext.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,30 +0,0 @@
---- faad2/plugins/xmms/src/libmp4.c.orig	2004-03-25 20:41:17.000000000 -0800
-+++ faad2/plugins/xmms/src/libmp4.c	2004-03-25 21:01:50.000000000 -0800
-@@ -34,6 +34,9 @@
- static int	mp4_isFile(char *);
- static void*	mp4Decode(void *);
- 
-+void getMP4info(char* file);
-+int getAACTrack(MP4FileHandle file);
-+
- InputPlugin mp4_ip =
-   {
-     0,	// handle
-@@ -112,11 +115,13 @@
-     gchar*	extention;
- 
-     extention = strrchr(filename, '.');
-+
-     if (extention &amp;&amp;
--	!strcasecmp(extention, &quot;.mp4&quot;) ||	// official extention
--	!strcasecmp(extention, &quot;.m4a&quot;) ||	// Apple mp4 extention
--	!strcasecmp(extention, &quot;.aac&quot;)		// old MPEG2/4-AAC extention
--	){
-+        (!strcasecmp(extention, &quot;.mp4&quot;) ||	// official extention
-+         !strcasecmp(extention, &quot;.m4a&quot;) ||	// Apple mp4 extention
-+         !strcasecmp(extention, &quot;.aac&quot;)		  // old MPEG2/4-AAC extention
-+        ))
-+    {
-       return (1);
-     }
-   }

Added: trunk/rpms/faad2/faad2-2.5-buildfix.patch
===================================================================
--- trunk/rpms/faad2/faad2-2.5-buildfix.patch	                        (rev 0)
+++ trunk/rpms/faad2/faad2-2.5-buildfix.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -0,0 +1,104 @@
+diff -Naupr faad2-2.5.orig/configure.in faad2/configure.in
+--- faad2-2.5.orig/configure.in	2006-08-13 16:13:31.000000000 +0200
++++ faad2/configure.in	2006-12-15 18:24:30.000000000 +0100
+@@ -4,7 +4,6 @@ dnl This is the configure.in for faad2 r
+ dnl - libfaad.so
+ dnl - libmp4ff.a (only static for moment)
+ dnl - faad
+-dnl - xmms input mp4/aac plugin
+ dnl - mpeg4ip plugin (requires mpeg4ip's libmp4v2 to be installed)
+ 
+ AC_INIT
+@@ -26,12 +25,6 @@ AC_CHECK_PROGS(RPMBUILD, rpmbuild, rpm)
+ 
+ AM_CONFIG_HEADER(config.h)
+ 
+-AC_ARG_WITH(xmms,[  --with-xmms             compile XMMS-1 plugin],
+-	     WITHXMMS=$withval, WITHXMMS=no)
+-
+-AC_ARG_WITH(bmp,[  --with-bmp              compile beep media player plugin],
+-	     [WITHBMP=$withval;WITHXMMS=$withval], [WITHBMP=no])
+-
+ AC_ARG_WITH(drm,[  --with-drm              compile libfaad with DRM support],
+ 	     WITHDRM=$withval, WITHDRM=no)
+ 
+@@ -94,32 +87,6 @@ if test x$WITHMPEG4IP = xyes; then
+    fi
+ fi
+ 
+-if test x$WITHXMMS = xyes; then
+-  AC_CHECK_PROGS(XMMS_CONFIG, xmms-config,&quot;not_found&quot;)
+-  if test &quot;$XMMS_CONFIG&quot; = &quot;not_found&quot;; then
+-    AC_MSG_ERROR(&quot;*** xmms-config not found - xmms plugin can't be build&quot;)
+-  fi
+-  AC_CHECK_HEADER(pthread.h,,
+-           AC_MSG_ERROR(*** pthread headers support not installed or not found))
+-  AC_CHECK_HEADER(id3.h,,
+-       AC_MSG_ERROR(*** id3lib headers support not installed or not found))
+-  AC_CHECK_PROGS(GTK_CONFIG, gtk-config, &quot;not_found&quot;)
+-  if test &quot;$XGTK_CONFIG&quot; = &quot;not_found&quot;; then
+-    AC_MSG_ERROR(&quot;*** gtk-config not found - xmms plugin can't be build without&quot;)
+-  fi
+-
+-  AM_CONDITIONAL(HAVE_XMMS, true)
+-else
+- AC_MSG_NOTICE(no xmms build configured)
+- AM_CONDITIONAL(HAVE_XMMS, false)
+-fi
+-
+-if test x$WITHBMP = xyes; then
+-  AC_DEFINE([HAVE_BMP], 1, [User wants beep media player plugin built])
+-  AM_CONDITIONAL([HAVE_XMMS], true)
+-  AM_CONDITIONAL([HAVE_BMP], true)
+-fi
+-
+ if test x$WITHDRM = xyes; then
+   AC_DEFINE(DRM, 1, [Define if you want to use libfaad together with Digital Radio Mondiale (DRM)])
+   AC_DEFINE(DRM_PS, 1, [Define if you want support for Digital Radio Mondiale (DRM) parametric stereo])
+@@ -129,8 +96,6 @@ AC_CONFIG_FILES(libfaad/Makefile)
+ AC_CONFIG_FILES(common/Makefile)
+ AC_CONFIG_FILES(common/mp4ff/Makefile)
+ AC_CONFIG_FILES(plugins/Makefile)
+-AC_CONFIG_FILES(plugins/xmms/Makefile)
+-AC_CONFIG_FILES(plugins/xmms/src/Makefile)
+ AC_CONFIG_FILES(plugins/mpeg4ip/Makefile)
+ AC_CONFIG_FILES(faad2.spec)
+ AC_CONFIG_FILES(frontend/Makefile)
+diff -Naupr faad2-2.5.orig/plugins/Makefile.am faad2/plugins/Makefile.am
+--- faad2-2.5.orig/plugins/Makefile.am	2006-08-07 20:47:45.000000000 +0200
++++ faad2/plugins/Makefile.am	2006-12-15 18:25:07.000000000 +0100
+@@ -1,17 +1,3 @@
+ if HAVE_MPEG4IP_PLUG
+-if HAVE_XMMS
+-SUBDIRS = xmms mpeg4ip
+-else
+ SUBDIRS = mpeg4ip
+-endif #HAVE_XMMS
+-else
+-if HAVE_XMMS
+-SUBDIRS = xmms
+-else
+-if HAVE_BMP
+-SUBDIRS = bmp
+-else
+-SUBDIRS =
+-endif #HAVE_BMP
+-endif #HAVE_XMMS
+ endif #HAVE_MPEG4IP_PLUG
+diff -Naupr faad2-2.5.orig/plugins/xmms/src/Makefile.am faad2/plugins/xmms/src/Makefile.am
+--- faad2-2.5.orig/plugins/xmms/src/Makefile.am	2006-08-07 20:47:45.000000000 +0200
++++ faad2/plugins/xmms/src/Makefile.am	2006-12-15 18:20:38.000000000 +0100
+@@ -1,11 +1,11 @@
+ if HAVE_BMP
+-libdir=$(shell pkg-config --variable=input-plugin-dir bmp)
++#libdir=$(shell pkg-config --variable=input-plugin-dir bmp)
+ local_CFLAGS=$(shell pkg-config --cflags bmp)
+ local_LDFLAGS=$(shell pkg-config --libs bmp)
+ else
+ local_CFLAGS=`$(XMMS_CONFIG) --cflags` -Wall
+ local_LDFLAGS=`$(XMMS_CONFIG) --libs`
+-libdir = `$(XMMS_CONFIG) --input-plugin-dir`
++#libdir = `$(XMMS_CONFIG) --input-plugin-dir`
+ endif #HAVE_BMP
+ lib_LTLIBRARIES = libmp4.la
+ 

Modified: trunk/rpms/faad2/faad2.spec
===================================================================
--- trunk/rpms/faad2/faad2.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/faad2/faad2.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,54 +1,24 @@
 # $Id$
 # Authority: matthias
 
-%define xmmsinputdir %(xmms-config --input-plugin-dir 2&gt;/dev/null || echo %{_libdir}/xmms/Input)
-#define prever       rc3
-#define date         20040923
-
 Summary: Library and frontend for decoding MPEG2/4 AAC
 Name: faad2
-Version: 2.0
-Release: 8%{?prever:.%{prever}}%{?date:.%{date}}
+Version: 2.5
+Release: 1
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://www.audiocoding.com/">http://www.audiocoding.com/</A>
-%if %{?date:1}0
-#Source: <A HREF="http://www.audiocoding.com/snapshot/faad2-%{date">http://www.audiocoding.com/snapshot/faad2-%{date</A>}.tar.bz2
-Source: <A HREF="http://download.videolan.org/pub/videolan/vlc/0.8.1/contrib/faad2-%{date">http://download.videolan.org/pub/videolan/vlc/0.8.1/contrib/faad2-%{date</A>}.tar.bz2
-%else
-Source: <A HREF="http://dl.sf.net/faac/%{name">http://dl.sf.net/faac/%{name</A>}-%{version}%{?prever:-%{prever}}.tar.gz
-%endif
-Patch0: faad2-2.0-Makefile-separator.patch
-Patch1: faad2-2.0-gcc34.patch
-Patch2: faad2-2.0-xmms-noext.patch
-Patch3: faad2-2.0-gcc4.patch
-Patch4: faad2-2.0-configure-mpeg4ip.patch
-Patch5: faad2-2.0-64bit.patch
-Patch6: faad2-2.0-symbol.patch
-Patch7: faad2-2.0-mp4ff_int_types.patch
-Patch8: faad2-2.0-systypes.patch
+Source: <A HREF="http://dl.sf.net/faac/faad2-%{version">http://dl.sf.net/faac/faad2-%{version</A>}.tar.gz
+Patch0: faad2-2.5-buildfix.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: autoconf, automake, libtool
-BuildRequires: gcc-c++, zlib-devel, libsndfile-devel &gt;= 1.0.0
-BuildRequires: xmms-devel, id3lib-devel, gtk+-devel
+BuildRequires: gcc-c++, zlib-devel, libsysfs-devel
 
 %description
 FAAD 2 is a LC, MAIN and LTP profile, MPEG2 and MPEG-4 AAC decoder, completely
 written from scratch.
 
 
-%package -n xmms-aac
-Summary: X MultiMedia System input plugin to play AAC files
-Group: Applications/Multimedia
-Requires: %{name} = %{version}
-Provides: xmms-%{name} = %{version}-%{release}
-
-%description -n xmms-aac
-This xmms plugin reads AAC files with and without ID3 tags (version 2.x).
-AAC files are MPEG2 or MPEG4 files that can be found in MPEG4 audio files
-(.mp4). MPEG4 files with AAC inside can be read by RealPlayer or Quicktime.
-
-
 %package devel
 Summary: Development libraries of the FAAD 2 AAC decoder
 Group: Development/Libraries
@@ -62,30 +32,16 @@
 
 
 %prep
-%if %{?date:1}0
-%setup -n %{name}-%{date}
-%else
 %setup -n %{name}
-%endif
-%patch0 -p1 -b .makefilesep
-%patch1 -p1 -b .gcc34
-%patch2 -p1 -b .noext
-%patch3 -p1 -b .gcc4
-%patch4 -p0 -b .mpeg4ip
-%patch5 -p1 -b .64bit
-%patch6 -p1 -b .symbol
-%patch7 -p1 -b .mp4ff_int_types
-%patch8 -p1 -b .systypes
+%patch0 -p1 -b .buildfix
 
 
 %build
-test -x configure || sh bootstrap
+# This is what the README.linux file recommends
+autoreconf -vif
 %configure \
     --disable-static \
-    --with-xmms \
-    --with-mpeg4ip \
-    --with-drm \
-    --with-mp4v2
+    --with-drm
 %{__make} %{?_smp_mflags}
 
 
@@ -93,11 +49,7 @@
 %{__rm} -rf %{buildroot}
 %{__make} install DESTDIR=%{buildroot}
 
-# Remove this wrong include
-%{__perl} -pi -e 's|#include &lt;systems.h&gt;||g' \
-    %{buildroot}%{_includedir}/mpeg4ip.h
 
-
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -109,27 +61,24 @@
 
 %files
 %defattr(-, root, root, 0755)
-%doc AUTHORS COPYING ChangeLog NEWS README TODO
+%doc AUTHORS COPYING ChangeLog NEWS README* TODO
 %{_bindir}/*
 %{_libdir}/*.so.*
 
-%files -n xmms-aac
-%defattr(-, root, root, 0755)
-%doc plugins/xmms/AUTHORS plugins/xmms/NEWS
-%doc plugins/xmms/README plugins/xmms/TODO
-#exclude %{xmmsinputdir}/*.a
-%exclude %{xmmsinputdir}/*.la
-%{xmmsinputdir}/*.so
-
 %files devel
 %defattr(-, root, root, 0755)
 %{_includedir}/*
-#{_libdir}/*.a
 %exclude %{_libdir}/*.la
 %{_libdir}/*.so
 
 
 %changelog
+* Fri Dec 15 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 2.5-1
+- Update to 2.5.
+- Completely remove xmms/bmp plugin, it's a real mess anyway. Use audacious.
+- Rip out libmp4v2 too, it's best as a separate package.
+- Add libsysfs-devel build requirement, as it seems configure checks for it.
+
 * Wed Apr 12 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 2.0-8
 - Include patch to #include &lt;sys/types.h&gt; in mp4.h to fix building against
   the included libmp4v2 (faac, maybe others).

Deleted: trunk/rpms/ffmpeg/ffmpeg-20060918-gsm.patch
===================================================================
--- trunk/rpms/ffmpeg/ffmpeg-20060918-gsm.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/ffmpeg/ffmpeg-20060918-gsm.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,24 +0,0 @@
-diff -Naupr ffmpeg-20060918.orig/configure ffmpeg-20060918/configure
---- ffmpeg-20060918.orig/configure	2006-09-17 00:07:20.000000000 +0200
-+++ ffmpeg-20060918/configure	2006-09-18 17:42:59.000000000 +0200
-@@ -1281,7 +1281,7 @@ fi
- 
- # these are off by default, so fail if requested and not available
- enabled dts     &amp;&amp; require libdts dts.h dts_init -ldts
--enabled libgsm  &amp;&amp; require libgsm gsm.h gsm_create -lgsm
-+enabled libgsm  &amp;&amp; require libgsm gsm/gsm.h gsm_create -lgsm
- enabled mp3lame &amp;&amp; require LAME lame/lame.h lame_init -lmp3lame
- enabled vorbis  &amp;&amp; require libvorbis vorbis/vorbisenc.h vorbis_info_init -lvorbis -lvorbisenc -logg
- enabled libogg  &amp;&amp; require libogg ogg/ogg.h ogg_sync_init -logg
-diff -Naupr ffmpeg-20060918.orig/libavcodec/libgsm.c ffmpeg-20060918/libavcodec/libgsm.c
---- ffmpeg-20060918.orig/libavcodec/libgsm.c	2006-01-12 23:43:26.000000000 +0100
-+++ ffmpeg-20060918/libavcodec/libgsm.c	2006-09-18 17:42:48.000000000 +0200
-@@ -23,7 +23,7 @@
-  */
- 
- #include &quot;avcodec.h&quot;
--#include &lt;gsm.h&gt;
-+#include &lt;gsm/gsm.h&gt;
- 
- // gsm.h miss some essential constants
- #define GSM_BLOCK_SIZE 33

Deleted: trunk/rpms/ffmpeg/ffmpeg-20060918-x264.patch
===================================================================
--- trunk/rpms/ffmpeg/ffmpeg-20060918-x264.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/ffmpeg/ffmpeg-20060918-x264.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,11 +0,0 @@
---- libavcodec/x264.c	2006-08-30 23:18:17.000000000 +0200
-+++ x264.c	2006-10-24 13:21:09.000000000 +0200
-@@ -144,7 +146,7 @@ X264_init(AVCodecContext *avctx)
-     else{
-         if(avctx-&gt;crf){
-             x4-&gt;params.rc.i_rc_method = X264_RC_CRF;
--            x4-&gt;params.rc.i_rf_constant = avctx-&gt;crf;
-+            x4-&gt;params.rc.f_rf_constant = avctx-&gt;crf;
-         }else if(avctx-&gt;cqp &gt; -1){
-             x4-&gt;params.rc.i_rc_method = X264_RC_CQP;
-             x4-&gt;params.rc.i_qp_constant = avctx-&gt;cqp;

Added: trunk/rpms/ffmpeg/ffmpeg-20061215-gsm.patch
===================================================================
--- trunk/rpms/ffmpeg/ffmpeg-20061215-gsm.patch	                        (rev 0)
+++ trunk/rpms/ffmpeg/ffmpeg-20061215-gsm.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -0,0 +1,24 @@
+diff -Naupr ffmpeg-20061215.orig/configure ffmpeg-20061215/configure
+--- ffmpeg-20061215.orig/configure	2006-12-13 21:42:11.000000000 +0100
++++ ffmpeg-20061215/configure	2006-12-18 11:41:24.000000000 +0100
+@@ -1456,7 +1456,7 @@ fi
+ 
+ # these are off by default, so fail if requested and not available
+ enabled dts     &amp;&amp; require libdts dts.h dts_init -ldts -lm
+-enabled libgsm  &amp;&amp; require libgsm gsm.h gsm_create -lgsm
++enabled libgsm  &amp;&amp; require libgsm gsm/gsm.h gsm_create -lgsm
+ enabled mp3lame &amp;&amp; require LAME lame/lame.h lame_init -lmp3lame -lm
+ enabled libvorbis &amp;&amp; require libvorbis vorbis/vorbisenc.h vorbis_info_init -lvorbis -lvorbisenc -logg
+ enabled libogg  &amp;&amp; require libogg ogg/ogg.h ogg_sync_init -logg
+diff -Naupr ffmpeg-20061215.orig/libavcodec/libgsm.c ffmpeg-20061215/libavcodec/libgsm.c
+--- ffmpeg-20061215.orig/libavcodec/libgsm.c	2006-10-07 17:30:46.000000000 +0200
++++ ffmpeg-20061215/libavcodec/libgsm.c	2006-12-18 11:41:47.000000000 +0100
+@@ -25,7 +25,7 @@
+  */
+ 
+ #include &quot;avcodec.h&quot;
+-#include &lt;gsm.h&gt;
++#include &lt;gsm/gsm.h&gt;
+ 
+ // gsm.h miss some essential constants
+ #define GSM_BLOCK_SIZE 33

Modified: trunk/rpms/ffmpeg/ffmpeg.spec
===================================================================
--- trunk/rpms/ffmpeg/ffmpeg.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/ffmpeg/ffmpeg.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -25,7 +25,7 @@
 %{?el2:%define _without_vorbis 1}
 %{?el2:%define _without_x264 1}
 
-%define date   20060918
+%define date   20061215
 
 Summary: Utilities and libraries to record, convert and stream audio and video
 Name: ffmpeg
@@ -38,8 +38,7 @@
 # find ffmpeg -name .svn | xargs rm -rf
 # then rename the directory and compress
 Source: ffmpeg-%{date}.tar.bz2
-Patch0: ffmpeg-20060918-gsm.patch
-Patch1: ffmpeg-20060918-x264.patch
+Patch0: ffmpeg-20061215-gsm.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: imlib2-devel, SDL-devel, freetype-devel, zlib-devel
 %{!?_without_texi2html:BuildRequires: texi2html}
@@ -116,20 +115,19 @@
 %prep
 %setup -n ffmpeg-%{date}
 %patch0 -p1 -b .gsm
-%patch1 -p0 -b .x264
 
 
 %build
-#export CFLAGS=&quot;%{optflags}&quot;
+export CFLAGS=&quot;%{optflags}&quot;
+# We should be using --disable-opts since configure is adding some default opts
+# to ours (-O3), but as of 20061215 the build fails on asm stuff when it's set
 ./configure \
     --prefix=%{_prefix} \
     --libdir=%{_libdir} \
     --mandir=%{_mandir} \
     --incdir=%{_includedir}/ffmpeg \
 %ifarch x86_64
-    --extra-cflags=&quot;-fPIC %{optflags}&quot; \
-%else
-    --extra-cflags=&quot;%{optflags}&quot; \
+    --extra-cflags=&quot;-fPIC&quot; \
 %endif
     %{!?_without_lame:   --enable-mp3lame} \
     %{!?_without_vorbis: --enable-libogg --enable-vorbis} \
@@ -144,7 +142,6 @@
     --enable-shared \
     --enable-pthreads \
     --enable-gpl \
-    --disable-opts \
     --disable-strip
 %{__make} %{?_smp_mflags}
 
@@ -210,6 +207,13 @@
 
 
 %changelog
+* Fri Dec 15 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.7.20061215
+- Update to today's SVN codebase.
+- Update gsm patch so that it still applies.
+- Remove no longer needed x264 patch.
+- Remove --disable-opts option for now, as the build fails without. It seems
+  like an option from -O3 might be required for inline asm to work on x86.
+
 * Tue Oct 24 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.4.9-0.7.20060918
 - Try to update, but stick with 20060918 as linking &quot;as needed&quot; is causing
   too much trouble for now (libdca and libmp3lame with libm functions).

Deleted: trunk/rpms/frozen-bubble/frozen-bubble-1.0.0-FBLE.pm.patch
===================================================================
--- trunk/rpms/frozen-bubble/frozen-bubble-1.0.0-FBLE.pm.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/frozen-bubble/frozen-bubble-1.0.0-FBLE.pm.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,26 +0,0 @@
---- c_stuff/lib/FBLE.pm	2003-02-16 18:14:28.000000000 -0500
-+++ FBLE.pm	2004-02-06 12:32:57.000000000 -0500
-@@ -1094,11 +1094,11 @@
-     $rect{screenshot} = SDL::Rect-&gt;new(-x =&gt; $POS_1P{p1}{left_limit} - 40, '-y' =&gt; 0, 
- 				       -width =&gt; $POS_1P{p1}{right_limit} - $POS_1P{p1}{left_limit} + 80,
- 				       -height =&gt; $POS_1P{bottom_limit} - $POS_1P{init_top_limit} + 190);
--    fb_c_stuff::shrink($app-&gt;{-surface},
--		       $file_browser_screenshots[$list_browser_highlight_offset]-&gt;display_format()-&gt;{-surface},
-+    fb_c_stuff::shrink($$app,
-+		       ${$file_browser_screenshots[$list_browser_highlight_offset]-&gt;display_format()},
- 		       $rect{middle}-&gt;x + $rect{middle}-&gt;width - $rect{screenshot}-&gt;width/4 - 12,
- 		       $rect{middle}-&gt;y + $rect{middle}-&gt;height/2 - $rect{screenshot}-&gt;height/8 - 3,
--		       $rect{screenshot}{-rect}, 4);
-+		       ${$rect{screenshot}}, 4);
- }
- 
- 
-@@ -1371,7 +1371,7 @@
-     $rect{ls_name_erase} = SDL::Rect-&gt;new(-x =&gt; 195, '-y' =&gt; 0, -width =&gt; 445-195, -height =&gt; 35);
-     $background-&gt;blit($rect{ls_name_erase}, $app, $rect{ls_name_erase});
-     $app-&gt;update;
--    $app-&gt;print(($background-&gt;width - SDL_TEXTWIDTH(uc($levelset_name)))/2 - 6, 7, uc($levelset_name));
-+    $app-&gt;print(($background-&gt;width - SDL::SFont::SDL_TEXTWIDTH(uc($levelset_name)))/2 - 6, 7, uc($levelset_name));
- }
- 
- sub print_text_generic {

Deleted: trunk/rpms/frozen-bubble/frozen-bubble-1.0.0-perl-SDL.patch
===================================================================
--- trunk/rpms/frozen-bubble/frozen-bubble-1.0.0-perl-SDL.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/frozen-bubble/frozen-bubble-1.0.0-perl-SDL.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,112 +0,0 @@
---- ../../Builds/frozen-bubble-1.0.0/frozen-bubble	2003-02-16 18:45:27.000000000 -0500
-+++ frozen-bubble	2004-02-06 12:33:08.000000000 -0500
-@@ -50,6 +50,7 @@
- 
- use SDL;
- use SDL::App;
-+use SDL::SFont;
- use SDL::Surface;
- use SDL::Event;
- use SDL::Cursor;
-@@ -179,7 +180,7 @@
- 	    $elem or return -1;
- 	    -f $elem or return 0;
- 	    $mus = SDL::Music-&gt;new($elem);
--	    if ($mus-&gt;{-data}) {
-+	    if ($$mus) {
- 		print STDERR &quot;[Playlist] playing `$elem'\n&quot;;
- 		$mixer-&gt;play_music($mus, 0);
- 		return 1;
-@@ -191,9 +192,9 @@
- 	while ($tryanother-&gt;() == 0) {};
-     } else {
- 	$mus = SDL::Music-&gt;new(&quot;$FPATH$musics{$name}&quot;);
--	$mus-&gt;{-data} or print STDERR &quot;Warning, could not create new music from `$FPATH$musics{$name}' (reason: &quot;, $app-&gt;error, &quot;).\n&quot;;
-+	$mus or print STDERR &quot;Warning, could not create new music from `$FPATH$musics{$name}' (reason: &quot;, $app-&gt;error, &quot;).\n&quot;;
- 	if ($pos) {
--	    fb_c_stuff::fade_in_music_position($mus-&gt;{-data}, -1, 500, $pos);
-+	    fb_c_stuff::fade_in_music_position($$mus, -1, 500, $pos);
- 	} else {
- 	    $mixer-&gt;play_music($mus, -1);
- 	}
-@@ -212,7 +213,7 @@
-     foreach (@sounds) {
- 	my $sound_path = &quot;$FPATH/snd/$_.wav&quot;;
- 	$sound{$_} = SDL::Sound-&gt;new($sound_path);
--	if ($sound{$_}{-data}) {
-+	if ($sound{$_}) {
- 	    $sound{$_}-&gt;volume(80);
- 	} else {
- 	    print STDERR &quot;Warning, could not create new sound from `$sound_path'.\n&quot;;
-@@ -307,7 +308,7 @@
- sub add_image($) {
-     my $file = &quot;$FPATH/gfx/$_[0]&quot;;
-     my $img = SDL::Surface-&gt;new(-name =&gt; $file);
--    $img-&gt;{-surface} or die &quot;FATAL: Couldn't load `$file' into a SDL::Surface.\n&quot;;
-+    $$img or die &quot;FATAL: Couldn't load `$file' into a SDL::Surface.\n&quot;;
-     add_default_rect($img);
-     return $img;
- }
-@@ -880,7 +881,7 @@
-     $background_orig-&gt;blit($drect, $surface, $drect);
-     push @update_rects, $drect;
-     iter_players_ {  #- sometimes called from within a iter_players so...
--	$surface-&gt;print($POS{$::p_}{scoresx}-SDL_TEXTWIDTH($pdata{$::p_}{score})/2, $POS{scoresy}, $pdata{$::p_}{score});
-+	$surface-&gt;print($POS{$::p_}{scoresx}-SDL::SFont::SDL_TEXTWIDTH($pdata{$::p_}{score})/2, $POS{scoresy}, $pdata{$::p_}{score});
-     };
- }
- 
-@@ -1437,7 +1438,7 @@
-     $font = SDL::Font-&gt;new(&quot;$FPATH/gfx/font-hi.png&quot;);
-     my $centered_print = sub($$$) {
- 	my ($x, $y, $txt) = @_;
--	$app-&gt;print($x+($imgbin{hiscore_frame}-&gt;width-SDL_TEXTWIDTH(uc($txt)))/2 - 6,
-+	$app-&gt;print($x+($imgbin{hiscore_frame}-&gt;width-SDL::SFont::SDL_TEXTWIDTH(uc($txt)))/2 - 6,
- 		    $y+$imgbin{hiscore_frame}-&gt;height - 8, uc($txt));
-     };
- 
-@@ -1473,7 +1474,7 @@
- 	}
- 
- 	put_image($imgbin{hiscore_frame}, $high_posx - 7, $high_posy - 6);
--	fb_c_stuff::shrink($app-&gt;{-surface}, $background-&gt;display_format-&gt;{-surface}, $high_posx, $high_posy, $high_rect-&gt;{-rect}, 4);
-+	fb_c_stuff::shrink($$app, ${$background-&gt;display_format()}, $high_posx, $high_posy, $$high_rect, 4);
- 	$centered_print-&gt;($high_posx, $high_posy,    $high-&gt;{name});
- 	$centered_print-&gt;($high_posx, $high_posy+20, $high-&gt;{level} eq 'WON' ? &quot;WON!&quot; : &quot;LVL-&quot;.$high-&gt;{level});
- 	my $min = int($high-&gt;{time}/60);
-@@ -1510,7 +1511,7 @@
- 
-     foreach my $i (@{$w-&gt;{intro}}) {
- 	if ($i) {
--	    my $xpos = (640-SDL_TEXTWIDTH($i))/2;
-+	    my $xpos = (640-SDL::SFont::SDL_TEXTWIDTH($i))/2;
- 	    $app-&gt;print($xpos, $ypos, $i);
- 	}
- 	$ypos += 22;
-@@ -1521,7 +1522,7 @@
-     my $ok = 1;
-   entries:
-     foreach my $entry (@{$w-&gt;{entries}}) {
--	$xpos = (640-$imgbin{void_panel}-&gt;width)/2 + 120 - SDL_TEXTWIDTH($entry-&gt;{'q'})/2;
-+	$xpos = (640-$imgbin{void_panel}-&gt;width)/2 + 120 - SDL::SFont::SDL_TEXTWIDTH($entry-&gt;{'q'})/2;
- 	$app-&gt;print($xpos, $ypos, $entry-&gt;{'q'});
- 	$app-&gt;flip;
- 	my $srect_mulchar_redraw = SDL::Rect-&gt;new(-width =&gt; $imgbin{void_panel}-&gt;width, -height =&gt; 30,
-@@ -1555,7 +1556,7 @@
- 
-     if ($ok) {
- 	${$_-&gt;{a}} = $_-&gt;{answer} foreach @{$w-&gt;{entries}};
--	$xpos = (640-SDL_TEXTWIDTH($w-&gt;{outro}))/2;
-+	$xpos = (640-SDL::SFont::SDL_TEXTWIDTH($w-&gt;{outro}))/2;
- 	$ypos = (480+$imgbin{void_panel}-&gt;height)/2 - 35;
- 	$app-&gt;print($xpos, $ypos, $w-&gt;{outro});
- 	$app-&gt;flip;
-@@ -1642,7 +1643,7 @@
- 	$background-&gt;blit($apprects{main}, $app, $apprects{main});
- 	$app-&gt;flip;
-     } else {
--	fb_c_stuff::effect($app-&gt;{-surface}, $background-&gt;display_format-&gt;{-surface});
-+	fb_c_stuff::effect($$app, ${$background-&gt;display_format()});
-     }
- 
-     $display_on_app_disabled = 0;

Modified: trunk/rpms/frozen-bubble/frozen-bubble.spec
===================================================================
--- trunk/rpms/frozen-bubble/frozen-bubble.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/frozen-bubble/frozen-bubble.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -6,18 +6,16 @@
 
 Summary: Frozen Bubble arcade game
 Name: frozen-bubble
-Version: 1.0.0
-Release: 9
+Version: 2.0.0
+Release: 0
 License: GPL
 Group: Amusements/Games
 URL: <A HREF="http://www.frozen-bubble.org/">http://www.frozen-bubble.org/</A>
-Source: <A HREF="http://zarb.org/~gc/fb/frozen-bubble-%{version">http://zarb.org/~gc/fb/frozen-bubble-%{version</A>}.tar.bz2
-Patch0: frozen-bubble-1.0.0-perl-SDL.patch
-Patch1: frozen-bubble-1.0.0-FBLE.pm.patch
+Source: <A HREF="http://zarb.org/~gc/fb/frozen-bubble-%{version">http://zarb.org/~gc/fb/frozen-bubble-%{version</A>}-9fdd84f56e5221e6c58c12eab72459d9.tar.bz2
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-Requires: perl-SDL &gt;= 1.19.0, SDL, SDL_mixer &gt;= 1.2.2
-BuildRequires: perl-SDL &gt;= 1.19.0, SDL-devel, SDL_mixer-devel &gt;= 1.2.2
-BuildConflicts: gimp-perl, gsl, perl-PDL
+Requires: perl-SDL &gt;= 2.1.3
+BuildRequires: perl-SDL &gt;= 2.1.3, SDL_mixer-devel, SDL_Pango-devel, glib2-devel
+BuildRequires: gettext
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 
 %description
@@ -27,29 +25,48 @@
 editor.
 
 
+%package server
+Summary: Frozen Bubble network game dedicated server
+Group: System Environment/Daemons
+
+%description server
+Frozen Bubble network game dedicated server. The server is already included
+with the game in order to be launched automatically for LAN games, so you
+only need to install this package if you want to run a full-time dedicated
+Frozen Bubble network game dedicated server.
+
+
 %prep
 %setup
-%patch0 -p0 -b .perlSDL
-%patch1 -p0
-# The &quot;min 1.19.0&quot; requirement check for perl-SDL is broken
-%{__perl} -pi.orig -e 's|\@if ! perl.*||g' Makefile
 
 
 %build
-%{__make} %{?_smp_mflags} OPTIMIZE=&quot;%{optflags}&quot; PREFIX=&quot;%{_prefix}&quot;
+%{__make} %{?_smp_mflags} \
+    OPTIMIZE=&quot;%{optflags}&quot; \
+    CFLAGS=&quot;%{optflags} `pkg-config glib-2.0 --cflags`&quot; \
+    LIBS=&quot;`pkg-config glib-2.0 --libs`&quot; \
+    PREFIX=%{_prefix} \
+    LIBDIR=%{_libexecdir} \
+    DATADIR=%{_datadir}
 
 
 %install
 %{__rm} -rf %{buildroot}
 %{__make} install \
-    PREFIX=%{buildroot}%{_prefix} \
-    INSTALLARCHLIB=%{buildroot}%{perl_sitearch} \
-    INSTALLSITEARCH=%{buildroot}%{perl_sitearch} \
-    INSTALLVENDORARCH=%{buildroot}%{perl_sitearch}
-%{__rm} -f %{buildroot}%{perl_sitearch}/{build_fbsyms,perllocal.pod}
-find %{buildroot} -name .xvpics | xargs rm -rf
+    PREFIX=%{_prefix} \
+    LIBDIR=%{_libexecdir} \
+    DATADIR=%{_datadir} \
+    DESTDIR=%{buildroot}
+%find_lang %{name}
 
-%{__install} -Dp -m644 icons/frozen-bubble-icon-48x48.png \
+# Install server init script and default configuration
+%{__install} -D -p -m 0755 server/init/fb-server \
+    %{buildroot}%{_sysconfdir}/rc.d/init.d/fb-server
+%{__install} -D -p -m 0755 server/init/fb-server.conf \
+    %{buildroot}%{_sysconfdir}/fb-server.conf
+
+# Instal meny entry icon
+%{__install} -D -p -m 0644 icons/frozen-bubble-icon-48x48.png \
     %{buildroot}%{_datadir}/pixmaps/frozen-bubble.png
 
 # Install menu entry
@@ -76,24 +93,41 @@
     %{buildroot}%{_sysconfdir}/X11/applnk/Games/%{name}.desktop
 %endif
 
-# Quick fix in order to not have rpm pick up perl(Gimp) as a dependency
-%{__chmod} -x %{buildroot}%{_prefix}/share/%{name}/gfx/shoot/create.pl
-
 # Clean up the installed perl files
-%{__rm} -f `find %{buildroot} -name '*.bs' -o -name .packlist`
+find %{buildroot} -name '*.bs' -o -name .packlist -o -name 'perllocal.pod' \
+    | xargs %{__rm} -rf
 
 
+%post server
+/usr/sbin/useradd -r -s /bin/nologin -d %{_libexecdir}/frozen-bubble fbubble || :
+/sbin/chkconfig --add fb-server
+
+%preun server
+if [ $1 -eq 0 ]; then
+    /sbin/service fb-server stop
+    /sbin/chkconfig --del fb-server
+fi
+
+%postun server
+/usr/sbin/userdel fbubble || :
+if [ $1 -ge 1 ]; then
+    /sbin/service fb-server condrestart
+fi
+
+
 %clean
 %{__rm} -rf %{buildroot}
 
 
-%files
+%files -f %{name}.lang
 %defattr(-, root, root, 0755)
-%doc AUTHORS CHANGES COPYING README
-%{_prefix}/bin/*
-%{_prefix}/share/%{name}
-%{_prefix}/share/man/man6/*
-%{_datadir}/pixmaps/%{name}.png
+%doc AUTHORS COPYING NEWS README TIPS
+%{_bindir}/frozen-bubble
+%{_bindir}/frozen-bubble-editor
+%{_libexecdir}/frozen-bubble/
+%{_datadir}/frozen-bubble/
+%{_datadir}/pixmaps/frozen-bubble.png
+%{_mandir}/man6/*
 %{perl_sitearch}/auto/*
 %{perl_sitearch}/*.pm
 %if %{!?_without_freedesktop:1}0
@@ -102,8 +136,19 @@
 %{_sysconfdir}/X11/applnk/Games/%{name}.desktop
 %endif
 
+%files server
+%defattr(-, root, root, 0755)
+%doc server/init/README
+%config(noreplace) %{_sysconfdir}/fb-server.conf
+%{_sysconfdir}/rc.d/init.d/fb-server
+%{_libexecdir}/frozen-bubble/
 
+
 %changelog
+* Thu Oct 26 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 2.0.0-0
+- Update to 2.0.0 pre-release.
+- Split out the server in its own sub-package, which can be installed alone.
+
 * Fri Mar 17 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-9
 - Release bump to drop the disttag number in FC5 build.
 

Modified: trunk/rpms/gstreamer-ffmpeg/gstreamer-ffmpeg.spec
===================================================================
--- trunk/rpms/gstreamer-ffmpeg/gstreamer-ffmpeg.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/gstreamer-ffmpeg/gstreamer-ffmpeg.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -12,7 +12,7 @@
 
 Summary: GStreamer streaming media framework FFmpeg-based plugin
 Name: %{gstreamer}-ffmpeg
-Version: 0.10.1
+Version: 0.10.2
 Release: 1
 License: LGPL
 Group: Applications/Multimedia
@@ -30,6 +30,7 @@
 BuildRequires: imlib2-devel
 BuildRequires: SDL-devel
 BuildRequires: alsa-lib-devel
+Buildrequires: liboil-devel
 
 %description
 GStreamer is a streaming-media framework, based on graphs of filters which
@@ -48,6 +49,7 @@
 
 %build
 %configure \
+    --disable-static \
 %ifarch ppc
     --disable-altivec \
 %endif
@@ -69,12 +71,17 @@
 %defattr(-, root, root, 0755)
 %doc AUTHORS COPYING NEWS README TODO
 %{_libdir}/gstreamer-%{majorminor}/libgstffmpeg.so
-#{_libdir}/gstreamer-%{majorminor}/libgstpostproc.so
+%{_libdir}/gstreamer-%{majorminor}/libgstpostproc.so
 %exclude %{_libdir}/gstreamer-%{majorminor}/libgstffmpeg.la
-#exclude %{_libdir}/gstreamer-%{majorminor}/libgstpostproc.la
+%exclude %{_libdir}/gstreamer-%{majorminor}/libgstpostproc.la
 
 
 %changelog
+* Fri Dec 15 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.10.2-1
+- Update to 0.10.2.
+- Add new liboil-devel build requirement.
+- libgstpostproc.so is back.
+
 * Wed Apr 19 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.10.1-1
 - Update to 0.10.1.
 

Added: trunk/rpms/gstreamer-plugins-bad/gst-plugins-bad-0.10.3-faad2.patch
===================================================================
--- trunk/rpms/gstreamer-plugins-bad/gst-plugins-bad-0.10.3-faad2.patch	                        (rev 0)
+++ trunk/rpms/gstreamer-plugins-bad/gst-plugins-bad-0.10.3-faad2.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -0,0 +1,68 @@
+diff -Naupr gst-plugins-bad-0.10.3.orig/configure gst-plugins-bad-0.10.3/configure
+--- gst-plugins-bad-0.10.3.orig/configure	2006-05-04 17:20:18.000000000 +0200
++++ gst-plugins-bad-0.10.3/configure	2006-05-04 17:20:18.000000000 +0200
+@@ -30382,9 +30382,9 @@ if test x$USE_FAAD = xyes; then
+ 
+   HAVE_FAAD=&quot;yes&quot;
+ 
+-  echo &quot;$as_me:$LINENO: checking for faacDecOpen in -lfaad&quot; &gt;&amp;5
+-echo $ECHO_N &quot;checking for faacDecOpen in -lfaad... $ECHO_C&quot; &gt;&amp;6
+-if test &quot;${ac_cv_lib_faad_faacDecOpen+set}&quot; = set; then
++  echo &quot;$as_me:$LINENO: checking for NeAACDecOpen in -lfaad&quot; &gt;&amp;5
++echo $ECHO_N &quot;checking for NeAACDecOpen in -lfaad... $ECHO_C&quot; &gt;&amp;6
++if test &quot;${ac_cv_lib_faad_NeAACDecOpen+set}&quot; = set; then
+   echo $ECHO_N &quot;(cached) $ECHO_C&quot; &gt;&amp;6
+ else
+   ac_check_lib_save_LIBS=$LIBS
+@@ -30402,11 +30402,11 @@ extern &quot;C&quot;
+ #endif
+ /* We use char because int might match the return type of a gcc2
+    builtin and then its argument prototype would still apply.  */
+-char faacDecOpen ();
++char NeAACDecOpen ();
+ int
+ main ()
+ {
+-faacDecOpen ();
++NeAACDecOpen ();
+   ;
+   return 0;
+ }
+@@ -30432,20 +30432,20 @@ if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_l
+   ac_status=$?
+   echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+   (exit $ac_status); }; }; then
+-  ac_cv_lib_faad_faacDecOpen=yes
++  ac_cv_lib_faad_NeAACDecOpen=yes
+ else
+   echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+ sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+ 
+-ac_cv_lib_faad_faacDecOpen=no
++ac_cv_lib_faad_NeAACDecOpen=no
+ fi
+ rm -f conftest.err conftest.$ac_objext \
+       conftest$ac_exeext conftest.$ac_ext
+ LIBS=$ac_check_lib_save_LIBS
+ fi
+-echo &quot;$as_me:$LINENO: result: $ac_cv_lib_faad_faacDecOpen&quot; &gt;&amp;5
+-echo &quot;${ECHO_T}$ac_cv_lib_faad_faacDecOpen&quot; &gt;&amp;6
+-if test $ac_cv_lib_faad_faacDecOpen = yes; then
++echo &quot;$as_me:$LINENO: result: $ac_cv_lib_faad_NeAACDecOpen&quot; &gt;&amp;5
++echo &quot;${ECHO_T}$ac_cv_lib_faad_NeAACDecOpen&quot; &gt;&amp;6
++if test $ac_cv_lib_faad_NeAACDecOpen = yes; then
+   HAVE_FAAD=yes
+ else
+   HAVE_FAAD=no
+diff -Naupr gst-plugins-bad-0.10.3.orig/configure.ac gst-plugins-bad-0.10.3/configure.ac
+--- gst-plugins-bad-0.10.3.orig/configure.ac	2006-05-04 17:18:42.000000000 +0200
++++ gst-plugins-bad-0.10.3/configure.ac	2006-05-04 17:18:42.000000000 +0200
+@@ -397,7 +397,7 @@ dnl **** Free AAC Decoder (FAAD) ****
+ translit(dnm, m, l) AM_CONDITIONAL(USE_FAAD, true)
+ GST_CHECK_FEATURE(FAAD, [AAC decoder plug-in], faad, [
+   HAVE_FAAD=&quot;yes&quot;
+-  GST_CHECK_LIBHEADER(FAAD, faad, faacDecOpen, -lm, faad.h,
++  GST_CHECK_LIBHEADER(FAAD, faad, NeAACDecOpen, -lm, faad.h,
+     FAAD_LIBS=&quot;-lfaad -lm&quot;, HAVE_FAAD=&quot;no&quot;)
+   if test $HAVE_FAAD = &quot;yes&quot;; then
+     AC_MSG_CHECKING([Checking for FAAD &gt;= 2])

Modified: trunk/rpms/gstreamer-plugins-bad/gstreamer-plugins-bad.spec
===================================================================
--- trunk/rpms/gstreamer-plugins-bad/gstreamer-plugins-bad.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/gstreamer-plugins-bad/gstreamer-plugins-bad.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,8 +1,7 @@
 # $Id$
 # Authority: matthias
+# ExclusiveDist: fc5 fc6 fc7
 
-# ExclusiveDist: fc5
-
 %define desktop_vendor rpmforge
 
 %define majorminor   0.10
@@ -14,11 +13,12 @@
 Summary: GStreamer streaming media framework &quot;bad&quot; plug-ins
 Name: %{gstreamer}-plugins-bad
 Version: 0.10.3
-Release: 1
+Release: 2
 License: LGPL
 Group: Applications/Multimedia
 URL: <A HREF="http://gstreamer.freedesktop.org/">http://gstreamer.freedesktop.org/</A>
 Source: <A HREF="http://gstreamer.freedesktop.org/src/gst-plugins-bad/gst-plugins-bad-%{version">http://gstreamer.freedesktop.org/src/gst-plugins-bad/gst-plugins-bad-%{version</A>}.tar.bz2
+Patch0: gst-plugins-bad-0.10.3-faad2.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 Requires: %{gstreamer} &gt;= %{gst_minver}
 BuildRequires: %{gstreamer}-devel &gt;= %{gst_minver}
@@ -38,8 +38,9 @@
 BuildRequires: gsm-devel
 BuildRequires: libmpcdec-devel
 BuildRequires: SDL-devel
+BuildRequires: soundtouch-devel
 BuildRequires: swfdec-devel
-Buildrequires: wavpack-devel
+#Buildrequires: wavpack-devel
 BuildRequires: xvidcore-devel
 BuildRequires: bzip2-devel
 BuildRequires: mesa-libGLU-devel
@@ -72,6 +73,7 @@
 
 %prep
 %setup -q -n gst-plugins-bad-%{version}
+%patch0 -p1 -b .faad2
 
 
 %build
@@ -122,10 +124,11 @@
 %{_libdir}/gstreamer-%{majorminor}/libgstmms.so
 %{_libdir}/gstreamer-%{majorminor}/libgstmusepack.so
 %{_libdir}/gstreamer-%{majorminor}/libgstneonhttpsrc.so
+%{_libdir}/gstreamer-%{majorminor}/libgstpitch.so
 %{_libdir}/gstreamer-%{majorminor}/libgstsdlvideosink.so
 %{_libdir}/gstreamer-%{majorminor}/libgstswfdec.so
 %{_libdir}/gstreamer-%{majorminor}/libgstvideo4linux2.so
-%{_libdir}/gstreamer-%{majorminor}/libgstwavpack.so
+#%{_libdir}/gstreamer-%{majorminor}/libgstwavpack.so
 %{_libdir}/gstreamer-%{majorminor}/libgstxvid.so
 
 
@@ -135,6 +138,15 @@
 
 
 %changelog
+* Mon Dec 18 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.10.3-2
+- Try to rebuild against new wavpack 4.40 from Extras : Fails.
+- Try to update to 0.10.3.2 pre-release : Fails, it needs a more recent gst.
+- Try to include patch to update wavpack plugin source from 0.10.3.2
+  pre-release : Fails to find wavpack/md5.h.
+- Give up and disable wavpack support for now, sorry! Patches welcome.
+- Include patch to fix faad2 2.5 detection.
+- Add soundtouch support.
+
 * Thu Jun  1 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.10.3-1
 - Update to 0.10.3.
 - Add new translations.

Deleted: trunk/rpms/gstreamer-plugins-ugly/gst-plugins-ugly-0.10.4-ac3.patch
===================================================================
--- trunk/rpms/gstreamer-plugins-ugly/gst-plugins-ugly-0.10.4-ac3.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/gstreamer-plugins-ugly/gst-plugins-ugly-0.10.4-ac3.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,207 +0,0 @@
-diff -Naur gst-plugins-ugly-0.10.4/ext/a52dec/gsta52dec.c gst-plugins-ugly-0.10.4-new/ext/a52dec/gsta52dec.c
---- gst-plugins-ugly-0.10.4/ext/a52dec/gsta52dec.c	2006-08-14 06:52:25.000000000 -0300
-+++ gst-plugins-ugly-0.10.4-new/ext/a52dec/gsta52dec.c	2006-11-26 08:50:21.000000000 -0200
-@@ -58,7 +58,9 @@
- enum
- {
-   ARG_0,
--  ARG_DRC
-+  ARG_DRC,
-+  ARG_MODE,
-+  ARG_LFE,
- };
- 
- static GstStaticPadTemplate sink_factory = GST_STATIC_PAD_TEMPLATE (&quot;sink&quot;,
-@@ -94,6 +96,30 @@
- 
- static GstElementClass *parent_class = NULL;
- 
-+#define GST_TYPE_A52DEC_MODE (gst_a52dec_mode_get_type())
-+static GType
-+gst_a52dec_mode_get_type (void)
-+{
-+  static GType a52dec_mode_type = 0;
-+  static const GEnumValue a52dec_modes[] = {
-+    {A52_MONO, &quot;Mono&quot;, &quot;mono&quot;},
-+    {A52_STEREO, &quot;Stereo&quot;, &quot;stereo&quot;},
-+    {A52_3F, &quot;3 Front&quot;, &quot;3f&quot;},
-+    {A52_2F1R, &quot;2 Front, 1 Rear&quot;, &quot;2f1r&quot;},
-+    {A52_3F1R, &quot;3 Front, 1 Rear&quot;, &quot;3f1r&quot;},
-+    {A52_2F2R, &quot;2 Front, 2 Rear&quot;, &quot;2f2r&quot;},
-+    {A52_3F2R, &quot;3 Front, 2 Rear&quot;, &quot;3f2r&quot;},
-+    {A52_DOLBY, &quot;Dolby&quot;, &quot;dolby&quot;},
-+    {0, NULL, NULL},
-+  };
-+
-+  if (!a52dec_mode_type) {
-+    a52dec_mode_type = g_enum_register_static (&quot;GstA52DecMode&quot;, a52dec_modes);
-+  }
-+  return a52dec_mode_type;
-+}
-+
-+
- GType
- gst_a52dec_get_type (void)
- {
-@@ -153,6 +179,11 @@
-   g_object_class_install_property (G_OBJECT_CLASS (klass), ARG_DRC,
-       g_param_spec_boolean (&quot;drc&quot;, &quot;Dynamic Range Compression&quot;,
-           &quot;Use Dynamic Range Compression&quot;, FALSE, G_PARAM_READWRITE));
-+  g_object_class_install_property (G_OBJECT_CLASS (klass), ARG_MODE,
-+      g_param_spec_enum (&quot;mode&quot;, &quot;Decoder Mode&quot;, &quot;Decoding Mode (default 3f2r)&quot;,
-+          GST_TYPE_A52DEC_MODE, A52_3F2R, G_PARAM_READWRITE));
-+  g_object_class_install_property (G_OBJECT_CLASS (klass), ARG_LFE,
-+      g_param_spec_boolean (&quot;lfe&quot;, &quot;LFE&quot;, &quot;LFE&quot;, TRUE, G_PARAM_READWRITE));
- 
-   oil_init ();
- 
-@@ -191,6 +222,7 @@
-   gst_pad_use_fixed_caps (a52dec-&gt;srcpad);
-   gst_element_add_pad (GST_ELEMENT (a52dec), a52dec-&gt;srcpad);
- 
-+  a52dec-&gt;request_channels = A52_CHANNEL;
-   a52dec-&gt;dynamic_range_compression = FALSE;
-   a52dec-&gt;cache = NULL;
- }
-@@ -268,6 +300,12 @@
-       }
-       chans += 2;
-       break;
-+    case A52_MONO:
-+      if (pos) {
-+        pos[0 + chans] = GST_AUDIO_CHANNEL_POSITION_FRONT_MONO;
-+      }
-+      chans += 1;
-+      break;
-     default:
-       /* error, caller should post error message */
-       g_free (pos);
-@@ -441,6 +479,49 @@
-     gst_a52dec_update_streaminfo (a52dec);
-   }
- 
-+  /* If we haven't had an explicit number of channels chosen through properties
-+   * at this point, choose what to downmix to now, based on what the peer will 
-+   * accept - this allows a52dec to do downmixing in preference to a 
-+   * downstream element such as audioconvert.
-+   */
-+  if (a52dec-&gt;request_channels == A52_CHANNEL) {
-+    GstCaps *caps;
-+
-+    caps = gst_pad_get_allowed_caps (a52dec-&gt;srcpad);
-+    if (caps &amp;&amp; gst_caps_get_size (caps) &gt; 0) {
-+      GstCaps *copy = gst_caps_copy_nth (caps, 0);
-+      GstStructure *structure = gst_caps_get_structure (copy, 0);
-+      gint channels;
-+      const int a52_channels[6] = {
-+        A52_MONO,
-+        A52_STEREO,
-+        A52_STEREO | A52_LFE,
-+        A52_2F2R,
-+        A52_2F2R | A52_LFE,
-+        A52_3F2R | A52_LFE,
-+      };
-+
-+      /* Prefer the original number of channels, but fixate to something 
-+       * preferred (first in the caps) downstream if possible.
-+       */
-+      gst_structure_fixate_field_nearest_int (structure, &quot;channels&quot;,
-+          flags ? gst_a52dec_channels (flags, NULL) : 6);
-+      gst_structure_get_int (structure, &quot;channels&quot;, &amp;channels);
-+      if (channels &lt;= 6)
-+        a52dec-&gt;request_channels = a52_channels[channels - 1];
-+      else
-+        a52dec-&gt;request_channels = a52_channels[5];
-+
-+      gst_caps_unref (copy);
-+    } else if (flags)
-+      a52dec-&gt;request_channels = a52dec-&gt;stream_channels;
-+    else
-+      a52dec-&gt;request_channels = A52_3F2R | A52_LFE;
-+
-+    if (caps)
-+      gst_caps_unref (caps);
-+  }
-+
-   /* process */
-   flags = a52dec-&gt;request_channels;     /* | A52_ADJUST_LEVEL; */
-   a52dec-&gt;level = 1;
-@@ -681,7 +762,6 @@
-       a52dec-&gt;bit_rate = -1;
-       a52dec-&gt;sample_rate = -1;
-       a52dec-&gt;stream_channels = A52_CHANNEL;
--      a52dec-&gt;request_channels = A52_3F2R | A52_LFE;
-       a52dec-&gt;using_channels = A52_CHANNEL;
-       a52dec-&gt;level = 1;
-       a52dec-&gt;bias = 0;
-@@ -729,6 +809,18 @@
-       src-&gt;dynamic_range_compression = g_value_get_boolean (value);
-       GST_OBJECT_UNLOCK (src);
-       break;
-+    case ARG_MODE:
-+      GST_OBJECT_LOCK (src);
-+      src-&gt;request_channels &amp;= ~A52_CHANNEL_MASK;
-+      src-&gt;request_channels |= g_value_get_enum (value);
-+      GST_OBJECT_UNLOCK (src);
-+      break;
-+    case ARG_LFE:
-+      GST_OBJECT_LOCK (src);
-+      src-&gt;request_channels &amp;= ~A52_LFE;
-+      src-&gt;request_channels |= g_value_get_boolean (value) ? A52_LFE : 0;
-+      GST_OBJECT_UNLOCK (src);
-+      break;
-     default:
-       G_OBJECT_WARN_INVALID_PROPERTY_ID (object, prop_id, pspec);
-       break;
-@@ -747,6 +839,16 @@
-       g_value_set_boolean (value, src-&gt;dynamic_range_compression);
-       GST_OBJECT_UNLOCK (src);
-       break;
-+    case ARG_MODE:
-+      GST_OBJECT_LOCK (src);
-+      g_value_set_enum (value, src-&gt;request_channels &amp; A52_CHANNEL_MASK);
-+      GST_OBJECT_UNLOCK (src);
-+      break;
-+    case ARG_LFE:
-+      GST_OBJECT_LOCK (src);
-+      g_value_set_boolean (value, src-&gt;request_channels &amp; A52_LFE);
-+      GST_OBJECT_UNLOCK (src);
-+      break;
-     default:
-       G_OBJECT_WARN_INVALID_PROPERTY_ID (object, prop_id, pspec);
-       break;
-diff -Naur gst-plugins-ugly-0.10.4/ext/a52dec/gsta52dec.h gst-plugins-ugly-0.10.4-new/ext/a52dec/gsta52dec.h
---- gst-plugins-ugly-0.10.4/ext/a52dec/gsta52dec.h	2006-08-08 07:43:51.000000000 -0300
-+++ gst-plugins-ugly-0.10.4-new/ext/a52dec/gsta52dec.h	2006-11-26 08:50:26.000000000 -0200
-@@ -73,6 +73,31 @@
- 
- GType gst_a52dec_get_type (void);
- 
-+#ifndef A52_MONO
-+#define A52_MONO 1
-+#endif
-+#ifndef A52_STEREO
-+#define A52_STEREO 2
-+#endif
-+#ifndef A52_3F
-+#define A52_3F 3
-+#endif
-+#ifndef A52_2F1R
-+#define A52_2F1R 4
-+#endif
-+#ifndef A52_3F1R
-+#define A52_3F1R 5
-+#endif
-+#ifndef A52_2F2R
-+#define A52_2F2R 6
-+#endif
-+#ifndef A52_3F2R
-+#define A52_3F2R 7
-+#endif
-+#ifndef A52_DOLBY
-+#define A52_DOLBY 10
-+#endif
-+
- G_END_DECLS
- 
- #endif /* __GST_A52DEC_H__ */

Modified: trunk/rpms/gstreamer-plugins-ugly/gstreamer-plugins-ugly.spec
===================================================================
--- trunk/rpms/gstreamer-plugins-ugly/gstreamer-plugins-ugly.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/gstreamer-plugins-ugly/gstreamer-plugins-ugly.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -13,13 +13,12 @@
 
 Summary: GStreamer streaming media framework &quot;ugly&quot; plug-ins
 Name: %{gstreamer}-plugins-ugly
-Version: 0.10.4
-Release: 3
+Version: 0.10.5
+Release: 1
 License: LGPL
 Group: Applications/Multimedia
 URL: <A HREF="http://gstreamer.freedesktop.org/">http://gstreamer.freedesktop.org/</A>
 Source: <A HREF="http://gstreamer.freedesktop.org/src/gst-plugins-ugly/gst-plugins-ugly-%{version">http://gstreamer.freedesktop.org/src/gst-plugins-ugly/gst-plugins-ugly-%{version</A>}.tar.bz2
-Patch0: gst-plugins-ugly-0.10.4-ac3.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 Requires: %{gstreamer} &gt;= %{gst_minver}
 BuildRequires: %{gstreamer}-devel &gt;= %{gst_minver}
@@ -80,7 +79,6 @@
 
 %prep
 %setup -n gst-plugins-ugly-%{version}
-%patch0 -p1 -b .ac3
 
 
 %build
@@ -136,6 +134,10 @@
 
 
 %changelog
+* Fri Dec 15 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.10.5-1
+- Update to 0.10.5.
+- Remove no longer needed AC3 sound patch.
+
 * Sun Nov 26 2006 Paulo Roma &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">roma at lcg.ufrj.br</A>&gt; 0.10.4-3
 - Patched to fix AC3 sound.
 

Modified: trunk/rpms/gtkpod/gtkpod.spec
===================================================================
--- trunk/rpms/gtkpod/gtkpod.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/gtkpod/gtkpod.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -6,14 +6,14 @@
 Summary: Graphical song management program for Apple's iPod
 Name: gtkpod
 Version: 0.99.8
-Release: 1
+Release: 2
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://www.gtkpod.org/">http://www.gtkpod.org/</A>
 Source: <A HREF="http://dl.sf.net/gtkpod/gtkpod-%{version">http://dl.sf.net/gtkpod/gtkpod-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: libgpod-devel, gtk2-devel, libglade2-devel
-BuildRequires: libid3tag-devel, faad2-devel, gettext, flex
+BuildRequires: libid3tag-devel, libmp4v2-devel, gettext, flex
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 
 %description
@@ -83,6 +83,10 @@
 
 
 %changelog
+* Fri Dec 15 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.8-2
+- Rebuild against simple libmp4v2 instead of full faac2, it seems like this
+  package could go into Extras now!
+
 * Mon Sep 25 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.8-1
 - Update to 0.99.8.
 

Modified: trunk/rpms/gxine/gxine.spec
===================================================================
--- trunk/rpms/gxine/gxine.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/gxine/gxine.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -6,9 +6,17 @@
 %{?rh7:%define _without_freedesktop 1}
 %{?el2:%define _without_freedesktop 1}
 
+%{?el3:%define _without_firefox 1}
+%{?el2:%define _without_firefox 1}
+%{?fc4:%define _without_firefox 1}
+%{?fc3:%define _without_firefox 1}
+%{?fc2:%define _without_firefox 1}
+%{?fc1:%define _without_firefox 1}
+
 %{?el4:%define _without_modxorg 1}
 %{?el3:%define _without_modxorg 1}
 %{?el2:%define _without_modxorg 1}
+%{?fc5:%define _without_modxorg 1}
 %{?fc4:%define _without_modxorg 1}
 %{?fc3:%define _without_modxorg 1}
 %{?fc2:%define _without_modxorg 1}
@@ -18,7 +26,7 @@
 
 Summary: Frontend for the xine multimedia library
 Name: gxine
-Version: 0.5.6
+Version: 0.5.9
 Release: 1
 License: GPL
 Group: Applications/Multimedia
@@ -27,11 +35,15 @@
 Source: <A HREF="http://dl.sf.net/xine/gxine-%{version">http://dl.sf.net/xine/gxine-%{version</A>}.tar.bz2
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: gtk2-devel &gt;= 2.0, xine-lib-devel &gt;= 1.0.0
-BuildRequires: glib2-devel &gt;= 2.6, mozilla-devel
+BuildRequires: gtk2-devel &gt;= 2.0, xine-lib-devel &gt;= 1.0.0, lirc-devel
+BuildRequires: gettext, js-devel
+# This is checked at configure time :-( - Build fails as of 0.5.9
+# gtkvideo.c:2004: error: 'priv' undeclared (first use in this function)
+#Buildrequires: gnome-screensaver, dbus-glib-devel
+%{!?_without_firefox:BuildRequires: firefox-devel}
+%{?_without_firefox:BuildRequires: mozilla-devel}
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
-Requires: gtk2 &gt;= 2.0, xine-lib &gt;= 1.0.0
-%{!?_without_modxorg:BuildRequires: libXaw-devel}
+%{!?_without_modxorg:BuildRequires: libXaw-devel, libXtst-devel, libXinerama-devel, libXrandr-devel}
 
 %description
 xine is a fully-featured free audio/video player for unix-like systems which
@@ -46,22 +58,11 @@
 %setup
 
 %{__perl} -pi.orig -e 's|(\@XTEST_LIBS\@)|$1 \@X_LIBS\@|g' Makefile.in */Makefile.in
+# The desktop file now includes all the proper mime types, only tweak it a bit
+%{__perl} -pi -e 's|^(Name=).*|$1GXine Video Player|g;
+                  s|^(Categories=).*|$1GNOME;Application;AudioVideo;|g' \
+    gxine.desktop        
 
-### FIXME: Include improved desktop-file. (Please fix upstream)
-%{__cat} &lt;&lt;EOF &gt;gxine.desktop
-[Desktop Entry]
-Name=GXine Movie Player
-Comment=Play movies and songs
-Icon=gxine.png
-Exec=gxine
-Terminal=false
-Type=Application
-StartupNotify=true
-Encoding=UTF-8
-Categories=GNOME;Application;AudioVideo;
-MimeType=video/mpeg;video/msvideo;video/quicktime;video/x-avi;video/x-ms-asf;video/x-ms-wmv;video/x-msvideo;application/x-ogg;application/ogg;audio/x-mp3;audio/x-mpeg;video/x-mpeg;video/x-fli;audio/x-wav;audio/x-mpegurl;audio/x-scpls;audio/x-ms-asx;application/vnd.rn-realmedia;audio/x-real-audio;audio/x-pn-realaudio;application/x-flac;audio/x-flac;application/x-shockwave-flash;audio/mpeg;audio/x-ms-asf;audio/x-m4a;audio/x-ms-wax;video/dv;video/x-anim;video/x-flc;misc/ultravox;application/x-matroska;audio/vnd.rn-realaudio;audio/x-pn-aiff;audio/x-pn-au;audio/x-pn-wav;audio/x-pn-windows-acm;image/vnd.rn-realpix;video/vnd.rn-realvideo
-EOF
-
 %{__cat} &lt;&lt;EOF &gt;gxine.applications
 gxine
 	command=gxine
@@ -78,17 +79,19 @@
 
 %build
 %configure \
-	--x-libraries=&quot;%{_prefix}/X11R6/%{_lib}&quot;
+    --with-dbus \
+    --with-logo-format=&quot;auto&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
-%{__make} install \
-	DESTDIR=&quot;%{buildroot}&quot;
-%find_lang %{name}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+%find_lang gxine
+%find_lang gxine.theme
+# Have both translation sets of files included (is there a better way?)
+%{__cat} gxine.theme.lang &gt;&gt; gxine.lang
 
-%{__install} -Dp -m0644 pixmaps/gxine.png %{buildroot}%{_datadir}/pixmaps/gxine.png
-%{__install} -Dp -m0644 gxine.applications %{buildroot}%{_datadir}/application-registry/gxine.applications
+%{__install} -D -m0644 gxine.applications %{buildroot}%{_datadir}/application-registry/gxine.applications
 
 %if %{?_without_freedesktop:1}0
 	%{__install} -Dp -m0644 gxine.desktop %{buildroot}%{_datadir}/gnome/apps/Multimedia/gxine.desktop
@@ -106,17 +109,13 @@
 %clean
 %{__rm} -rf %{buildroot}
 
-%files -f %{name}.lang
+%files -f gxine.lang
 %defattr(-, root, root, 0755)
 %doc AUTHORS ChangeLog COPYING README TODO
 %dir %{_sysconfdir}/gxine/
-%config(noreplace) %{_sysconfdir}/gxine/gtkrc
-%config(noreplace) %{_sysconfdir}/gxine/keypad.xml
-%config(noreplace) %{_sysconfdir}/gxine/startup
-%config(noreplace) %{_sysconfdir}/gxine/toolbar*.xml
+%config(noreplace) %{_sysconfdir}/gxine/*
 %{_bindir}/gxine*
 %{_libdir}/gxine/
-#%exclude %{_libdir}/gxine/*.a
 %exclude %{_libdir}/gxine/*.la
 %{_mandir}/man1/gxine*.1*
 %lang(de) %{_mandir}/de/man1/gxine*.1*
@@ -126,9 +125,11 @@
 %{_datadir}/gxine/
 %{_datadir}/pixmaps/gxine.png
 %{_datadir}/icons/*/*/apps/gxine.png
-%{_datadir}/locale/*/LC_MESSAGES/gxine.*
 
 %changelog
+* Mon Dec 18 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.5.9-1
+- Update to 0.5.9.
+
 * Fri May 05 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.6-1
 - Updated to release 0.5.6.
 

Modified: trunk/rpms/ipw2100-firmware/ipw2100-firmware.spec
===================================================================
--- trunk/rpms/ipw2100-firmware/ipw2100-firmware.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/ipw2100-firmware/ipw2100-firmware.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -15,11 +15,14 @@
 BuildArch: noarch
 
 %description
-This package contains the firmware files required by the ipw2100 driver for
-Linux. Usage of the firmware is subject to the terms and conditions contained
-in /lib/firmware/LICENSE.ipw2100. Please read it carefully.
+This package contains the firmware files required by the Intel&#174; PRO/Wireless
+2100 (ipw2100) driver for Linux.
 
+IMPORTANT NOTICE : This package is covered by the Intel&#174; license found in the
+/lib/firmware/LICENSE.ipw2100 file. Usage of this package requires agreeing
+to the terms of the Intel&#174; license.
 
+
 %prep
 %setup -c
 

Modified: trunk/rpms/kino/kino.spec
===================================================================
--- trunk/rpms/kino/kino.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/kino/kino.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -14,7 +14,7 @@
 Summary: Simple non-linear video editor
 Name: kino
 Version: 0.9.3
-Release: 1%{?cvs:.%{cvs}}
+Release: 2%{?cvs:.%{cvs}}
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://www.kinodv.org/">http://www.kinodv.org/</A>
@@ -96,6 +96,9 @@
 
 
 %changelog
+* Mon Dec 18 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.9.3-2
+- Rebuild against new ffmpeg snapshot (libavformat.so bump).
+
 * Tue Nov 21 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.9.3-1
 - Update to 0.9.3.
 

Added: trunk/rpms/libmp4v2/libmp4v2.spec
===================================================================
--- trunk/rpms/libmp4v2/libmp4v2.spec	                        (rev 0)
+++ trunk/rpms/libmp4v2/libmp4v2.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -0,0 +1,93 @@
+# $Id$
+# Authority: matthias
+
+Summary: Library for working with files using the mp4 container format
+Name: libmp4v2
+Version: 1.5.0.1
+Release: 3
+License: MPL
+Group: System Environment/Libraries
+URL: <A HREF="http://resare.com/libmp4v2/">http://resare.com/libmp4v2/</A>
+Source0: <A HREF="http://resare.com/libmp4v2/dist/libmp4v2-%{version">http://resare.com/libmp4v2/dist/libmp4v2-%{version</A>}.tar.bz2
+# Only here to be in the source package, &quot;just in case, and FYI&quot;
+Source1: <A HREF="http://resare.com/libmp4v2/mklibmp4v2/mklibmp4v2-r51.tar.bz2">http://resare.com/libmp4v2/mklibmp4v2/mklibmp4v2-r51.tar.bz2</A>
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+%description
+The libmp4v2 library provides an abstraction layer for working with files
+using the mp4 container format. This library is developed by mpeg4ip project
+and is an exact copy of the library distributed in the mpeg4ip package.
+
+
+%package devel
+Summary: Development files for the mp4v2 library
+Group: Development/Libraries
+Requires: %{name} = %{version}-%{release}
+
+%description devel
+Development files and documentation needed to develop and compile programs
+using the libmp4v2 library.
+
+
+%prep
+%setup -q 
+
+
+%build
+%configure \
+    --disable-static \
+    --disable-dependency-tracking
+%{__make} %{?_smp_mflags}
+
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=%{buildroot}
+%{__rm} -rf %{buildroot}%{_mandir}/manm/
+
+
+%clean
+%{__rm} -rf %{buildroot}
+
+
+%post -p /sbin/ldconfig
+
+%postun -p /sbin/ldconfig
+
+
+%files
+%defattr(-,root,root,0755)
+%doc COPYING
+%{_bindir}/*
+%{_libdir}/*.so.*
+
+%files devel
+%defattr(-,root,root,0755)
+%doc README TODO INTERNALS API_CHANGES
+%{_includedir}/*.h
+%exclude %{_libdir}/*.la
+%{_libdir}/*.so
+%{_mandir}/man?/*
+
+
+%changelog
+* Fri Dec 15 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.5.0.1-3
+- Spec file cleanup (habits, mostly) preparing to submit for Extras inclusion.
+
+* Fri Oct 06 2006 Thorsten Leemhuis &lt;fedora [AT] leemhuis [DOT] info&gt; 1.5.0.1-2
+- rebuilt for unwind info generation, broken in gcc-4.1.1-21
+
+* Tue Jul 18 2006 Noa Resare &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">noa at resare.com</A>&gt; 1.5.0.1-1
+- new upstream release
+
+* Sat May 13 2006 Noa Resare &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">noa at resare.com</A>&gt; 1.4.1-3
+- disabled static lib
+- use DESTDIR
+- disable-dependency-tracking for faster builds
+- removed a manpage template file apt.mpt.gz
+
+* Mon May 08 2006 Noa Resare &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">noa at resare.com</A>&gt; 1.4.1-2
+- specfile cleanups
+
+* Fri May 05 2006 Noa Resare &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">noa at resare.com</A>&gt; 1.4.1-1.lvn5
+- initial release


Property changes on: trunk/rpms/libmp4v2/libmp4v2.spec
___________________________________________________________________
Name: svn:keywords
   + Id

Deleted: trunk/rpms/mjpegtools/jpeg-mmx-0.1.6-gcc41.patch
===================================================================
--- trunk/rpms/mjpegtools/jpeg-mmx-0.1.6-gcc41.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/mjpegtools/jpeg-mmx-0.1.6-gcc41.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,12 +0,0 @@
-diff -Naupr jpeg-mmx.orig/jquant_x86simd.c jpeg-mmx/jquant_x86simd.c
---- jpeg-mmx.orig/jquant_x86simd.c	2003-08-02 06:31:28.000000000 +0200
-+++ jpeg-mmx/jquant_x86simd.c	2006-03-17 15:52:41.000000000 +0100
-@@ -104,7 +104,7 @@ void jcquant_sse( INT16 *psrc, INT16 *pd
- 
- 	/* Initialise zero block flags */
- 	/* Set up SSE rounding mode */
--	__asm__ ( &quot;ldmxcsr %0\n&quot; : : &quot;X&quot; (trunc_mxcsr) );
-+	__asm__ ( &quot;ldmxcsr %0\n&quot; : : &quot;m&quot; (trunc_mxcsr) );
- 
- 	for (i=0; i &lt; 64 ; i+=4)
- 	{

Modified: trunk/rpms/mjpegtools/mjpegtools.spec
===================================================================
--- trunk/rpms/mjpegtools/mjpegtools.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/mjpegtools/mjpegtools.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -8,10 +8,6 @@
 %{?dist: %{expand: %%define %dist 1}}
 %{?fedora: %{expand: %%define fc%{fedora} 1}}
 
-#{!?dist:%define _without_mmx 1}
-#{?fc6:  %define _without_mmx 1}
-#{?fc5:  %define _without_mmx 1}
-
 %{!?dist:%define _with_modxorg 1}
 %{?fc6:  %define _with_modxorg 1}
 %{?fc5:  %define _with_modxorg 1}
@@ -23,19 +19,15 @@
 %{?rh7:%define _without_alsa 1}
 %{?el2:%define _without_alsa 1}
 
-%define jpegmmx_version 0.1.6
-
 Summary: Tools for recording, editing, playing and encoding mpeg video
 Name: mjpegtools
 Version: 1.9.0
-Release: 0.1
+Release: 0.2
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://mjpeg.sourceforge.net/">http://mjpeg.sourceforge.net/</A>
-#Source0: <A HREF="http://dl.sf.net/mjpeg/mjpegtools-%{version">http://dl.sf.net/mjpeg/mjpegtools-%{version</A>}.tar.gz
-Source0: mjpegtools-%{version}cvs.tar.gz
-Source1: <A HREF="http://dl.sf.net/mjpeg/jpeg-mmx-%{jpegmmx_version">http://dl.sf.net/mjpeg/jpeg-mmx-%{jpegmmx_version</A>}.tar.gz
-Patch0: jpeg-mmx-0.1.6-gcc41.patch
+#Source: <A HREF="http://dl.sf.net/mjpeg/mjpegtools-%{version">http://dl.sf.net/mjpeg/mjpegtools-%{version</A>}.tar.gz
+Source: mjpegtools-%{version}cvs.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gcc-c++, SDL-devel, libjpeg-devel, libpng-devel, gtk2-devel
 BuildRequires: libquicktime-devel, libdv-devel, SDL_gfx-devel
@@ -44,16 +36,9 @@
 %{!?_without_alsa:BuildRequires: alsa-lib-devel}
 # Required by some other package, it seems... (SDL-devel is a good guess)
 BuildRequires: arts-devel
-# Optimisations are automatically turned on when detected
-# as we build on i686, this will be an i686 only package
-%ifarch %{ix86}
-%{!?_without_mmx:BuildArch: i686}
-%endif
-BuildRequires: nasm
 Requires(post): /sbin/install-info, /sbin/ldconfig
 Requires(preun): /sbin/install-info
 
-
 %description
 The MJPEG-tools are a basic set of utilities for recording, editing,
 playing back and encoding (to mpeg) video under linux. Recording can
@@ -75,28 +60,15 @@
 
 
 %prep
-%setup -a 1
-%patch0 -p0 -b .gcc41
+%setup
 
 
 %build
-%ifarch %{ix86}
-%if 0%{!?_without_mmx:1}
-pushd jpeg-mmx
-    ./configure &amp;&amp; %{__make} CFLAGS=&quot;%{optflags}&quot;
-popd
-%endif
-%endif
-
-# Required for 1.8.0 with gcc 4.1 (FC5+)
-export CFLAGS=&quot;%{optflags} -fpermissive&quot;
-export CXXFLAGS=&quot;%{optflags} -fpermissive&quot;
-%configure \
-%ifarch %{ix86}
-    %{!?_without_mmx:--with-jpeg-mmx=&quot;`pwd`/jpeg-mmx-%{jpegmmx_version}&quot;}
-%endif
+%configure
 # Don't use %{?_smp_mflags}, the build can fail! (1.8.0)
-%{__make}
+# Force CFLAGS in order to remove the custom ARCHFLAGS set for x86 and ppc
+# Since the pthread flags are added to CFLAGS and CXXFLAGS by configure, re-add
+%{__make} CFLAGS=&quot;%{optflags} -lpthread&quot; CXXFLAGS=&quot;%{optflags} -lpthread&quot;
 
 
 %install
@@ -139,6 +111,14 @@
 
 
 %changelog
+* Mon Dec 11 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.9.0-0.2
+- Update to today's CVS.
+- Remove jpeg-mmx as it's been officially discontinued (very little to no
+  speed improvement on modern x86 CPUs).
+- Remove nasm build requirement (was used by jpeg-mmx).
+- Make sure we use *only* our CFLAGS, thus make the package i386 again instead
+  of i686. I wonder how much this impacts performance, not much in theory.
+
 * Wed Oct 18 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.9.0-0.1
 - Update to today's CVS to fix ppc build.
 

Deleted: trunk/rpms/ogle/ogle-0.9.2-alsa.patch
===================================================================
--- trunk/rpms/ogle/ogle-0.9.2-alsa.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/ogle/ogle-0.9.2-alsa.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,16 +0,0 @@
-===================================================================
-RCS file: /cvsroot/ogle/ogle/configure.in,v
-retrieving revision 1.126
-retrieving revision 1.127
-diff -u -r1.126 -r1.127
---- ogle/ogle/configure.in	2003/12/29 16:48:37	1.126
-+++ ogle/ogle/configure.in	2003/12/30 14:09:06	1.127
-@@ -495,7 +495,7 @@
-           [ 
- #include &lt;sys/asoundlib.h&gt;
- #if defined(SND_LIB_MAJOR) &amp;&amp; defined(SND_LIB_MINOR)
--#if SND_LIB_MAJOR&gt;0 || (SND_LIB_MAJOR==0 &amp;&amp; SND_LIB_MINOR==5)
-+#if SND_LIB_MAJOR==0 &amp;&amp; SND_LIB_MINOR&lt;6
- AP_maGiC_VALUE
- #endif
- #endif

Modified: trunk/rpms/ogle/ogle.spec
===================================================================
--- trunk/rpms/ogle/ogle.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/ogle/ogle.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -28,7 +28,7 @@
 Summary: DVD video player
 Name: ogle
 Version: 0.9.2
-Release: 7
+Release: 8
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://www.dtek.chalmers.se/groups/dvd/">http://www.dtek.chalmers.se/groups/dvd/</A>
@@ -146,6 +146,9 @@
 
 
 %changelog
+* Thu Dec 14 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.9.2-8
+- Update to new 0.9.2-cvs, release candidate for 0.9.3.
+
 * Wed Mar 22 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.9.2-7
 - Add missing build requirements for modular X.
 

Added: trunk/rpms/oxine/oxine-0.6-install.patch
===================================================================
--- trunk/rpms/oxine/oxine-0.6-install.patch	                        (rev 0)
+++ trunk/rpms/oxine/oxine-0.6-install.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -0,0 +1,24 @@
+diff -Naupr oxine-0.6.orig/data/skins/Makefile.am oxine-0.6/data/skins/Makefile.am
+--- oxine-0.6.orig/data/skins/Makefile.am	2006-10-18 12:57:38.000000000 +0200
++++ oxine-0.6/data/skins/Makefile.am	2006-12-18 16:34:59.000000000 +0100
+@@ -1,7 +1,7 @@
+ 
+ SUBDIRS			= oxinetic greyraven
+ 
+-DEFAULT_SKIN	= @OXINE_SKINDIR@/default
++DEFAULT_SKIN	= $(DESTDIR)@OXINE_SKINDIR@/default
+ 
+ install-data-local:
+ 	test -L $(DEFAULT_SKIN) || \
+diff -Naupr oxine-0.6.orig/data/skins/Makefile.in oxine-0.6/data/skins/Makefile.in
+--- oxine-0.6.orig/data/skins/Makefile.in	2006-11-03 18:23:53.000000000 +0100
++++ oxine-0.6/data/skins/Makefile.in	2006-12-18 16:37:07.000000000 +0100
+@@ -211,7 +211,7 @@ target_alias = @target_alias@
+ umount_path = @umount_path@
+ xmllint_path = @xmllint_path@
+ SUBDIRS = oxinetic greyraven
+-DEFAULT_SKIN = @OXINE_SKINDIR@/default
++DEFAULT_SKIN = $(DESTDIR)@OXINE_SKINDIR@/default
+ all: all-recursive
+ 
+ .SUFFIXES:

Modified: trunk/rpms/oxine/oxine.spec
===================================================================
--- trunk/rpms/oxine/oxine.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/oxine/oxine.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -3,19 +3,18 @@
 
 Summary: Lightweight, purely OSD based xine frontend
 Name: oxine
-Version: 0.3.5
-Release: 0.1.cvs
+Version: 0.6
+Release: 1
 License: GPL
 Group: Applications/Multimedia
-Source: <A HREF="http://dl.sf.net/oxine/%{name">http://dl.sf.net/oxine/%{name</A>}-%{version}.tar.gz
+Source: <A HREF="http://dl.sf.net/oxine/oxine-%{version">http://dl.sf.net/oxine/oxine-%{version</A>}.tar.gz
+Patch0: oxine-0.6-install.patch
 URL: <A HREF="http://oxine.sourceforge.net/">http://oxine.sourceforge.net/</A>
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-Requires: xine-lib &gt;= 1.0.0
-Requires: util-linux, eject, netpbm-progs, mjpegtools, ImageMagick
-BuildRequires: xine-lib-devel &gt;= 1.0.0, lirc-devel
-# configure checks for those
-BuildRequires: util-linux, eject, netpbm-progs, mjpegtools, ImageMagick
-BuildRequires: gettext-devel
+BuildRequires: eject
+BuildRequires: libX11-devel, libXtst-devel, libXinerama-devel
+BuildRequires: xine-lib-devel &gt;= 1.0.1, gettext
+BuildRequires: curl-devel, ImageMagick-devel, lirc-devel
 
 %description
 oxine is a lightweight gui for the famous xine engine which uses the on screen
@@ -28,16 +27,23 @@
 
 %prep
 %setup
+%patch0 -p1 -b .install
 
 
 %build
-%configure
+# --disable-weather until we get libmetar packaged
+# --without-jsw until we get libjsw packaged
+%configure \
+    --disable-rpath \
+    --disable-weather \
+    --enable-vdr \
+    --without-jsw
 %{__make} %{?_smp_mflags}
 
 
 %install
 %{__rm} -rf %{buildroot}
-%makeinstall
+%{__make} install DESTDIR=%{buildroot}
 %find_lang %{name}
 
 
@@ -53,6 +59,12 @@
 
 
 %changelog
+* Mon Dec 18 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.6-1
+- Update to 0.6.
+- Include install patch.
+- Enable VDR.
+- Disable (at least for now) weather and jsw because of not-yet-packaged libs.
+
 * Wed Aug 31 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.3.5-0.1.cvs
 - Update to CVS snapshot.
 

Modified: trunk/rpms/postgrey/postgrey.init
===================================================================
--- trunk/rpms/postgrey/postgrey.init	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/postgrey/postgrey.init	2006-12-18 16:35:37 UTC (rev 5002)
@@ -35,15 +35,14 @@
     daemon $postgrey -d $OPTIONS
     RETVAL=$?
     echo
-    [ $RETVAL = 0 ] &amp;&amp; touch /var/lock/subsys/$prog
-    return $RETVAL
+    [ $RETVAL -eq 0 ] &amp;&amp; touch /var/lock/subsys/$prog
 }
 stop() {
     echo -n $&quot;Stopping $prog: &quot;
     killproc $postgrey
     RETVAL=$?
     echo
-    [ $RETVAL = 0 ] &amp;&amp; rm -f /var/lock/subsys/$prog
+    [ $RETVAL -eq 0 ] &amp;&amp; rm -f /var/lock/subsys/$prog
 }
 
 restart() {
@@ -56,7 +55,6 @@
     killproc $postgrey -HUP
     RETVAL=$?
     echo
-    return $RETVAL
 }
  
 # See how we were called.
@@ -84,4 +82,4 @@
         exit 1
 esac
 
-exit $?
+exit $RETVAL

Modified: trunk/rpms/postgrey/postgrey.spec
===================================================================
--- trunk/rpms/postgrey/postgrey.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/postgrey/postgrey.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -6,7 +6,7 @@
 Summary: Postfix Greylisting Policy Server
 Name: postgrey
 Version: 1.27
-Release: 1
+Release: 3
 License: GPL
 Group: System Environment/Daemons
 Source0: <A HREF="http://isg.ee.ethz.ch/tools/postgrey/pub/postgrey-%{version">http://isg.ee.ethz.ch/tools/postgrey/pub/postgrey-%{version</A>}.tar.gz
@@ -42,6 +42,11 @@
 
 
 %build
+# We only have perl scripts, so just &quot;build&quot; the man page
+pod2man \
+    --center=&quot;Postgrey Policy Server for Postfix&quot; \
+    --section=&quot;8&quot; \
+    postgrey &gt; postgrey.8
 
 
 %install
@@ -63,7 +68,15 @@
 %{__install} -D -p -m 0755 %{SOURCE1} \
     %{buildroot}%{_sysconfdir}/rc.d/init.d/postgrey
 
+# Man page
+%{__install} -D -p -m 0644 postgrey.8 \
+    %{buildroot}%{_mandir}/man8/postgrey.8
 
+# Optional report script
+%{__install} -D -p -m 0755 contrib/postgreyreport \
+    %{buildroot}%{_sbindir}/postgreyreport
+
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -95,10 +108,18 @@
 %config(noreplace) %{confdir}/postgrey_whitelist_recipients
 %config(noreplace) %{confdir}/postgrey_whitelist_clients.local
 %{_sbindir}/postgrey
+%{_sbindir}/postgreyreport
+%{_mandir}/man8/postgrey.8*
 %dir %attr(0751, postgrey, postfix) %{_var}/spool/postfix/postgrey/
 
 
 %changelog
+* Mon Dec  4 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.27-3
+- Add man page generation (Mike Wohlgemuth).
+
+* Fri Dec  1 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.27-2
+- Include postgreyreport script.
+
 * Mon Nov  6 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.27-1
 - Spec file cleanup.
 

Deleted: trunk/rpms/vlc/vlc-0.8.5-x264.patch
===================================================================
--- trunk/rpms/vlc/vlc-0.8.5-x264.patch	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/vlc/vlc-0.8.5-x264.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,26 +0,0 @@
-diff -Naupr vlc-0.8.5.orig/modules/codec/x264.c vlc-0.8.5/modules/codec/x264.c
---- vlc-0.8.5.orig/modules/codec/x264.c	2006-05-06 17:52:19.000000000 +0200
-+++ vlc-0.8.5/modules/codec/x264.c	2006-10-24 14:10:05.000000000 +0200
-@@ -545,9 +545,13 @@ static int  Open ( vlc_object_t *p_this 
-     /* average bitrate specified by transcode vb */
-     p_sys-&gt;param.rc.i_bitrate = p_enc-&gt;fmt_out.i_bitrate / 1000;
- 
-+#if X264_BUILD &lt; 48 
-     /* cbr = 1 overrides qp or crf and sets an average bitrate
-        but maxrate = average bitrate is needed for &quot;real&quot; CBR */
-     if( p_sys-&gt;param.rc.i_bitrate &gt; 0 ) p_sys-&gt;param.rc.b_cbr = 1;
-+#else
-+    if( p_sys-&gt;param.rc.i_bitrate &gt; 0 ) p_sys-&gt;param.rc.i_rc_method = X264_RC_ABR; 
-+#endif 
- 
-     var_Get( p_enc, SOUT_CFG_PREFIX &quot;qpstep&quot;, &amp;val );
-     if( val.i_int &gt;= 0 &amp;&amp; val.i_int &lt;= 51 ) p_sys-&gt;param.rc.i_qp_step = val.i_int;
-@@ -737,7 +741,7 @@ static int  Open ( vlc_object_t *p_this 
- #if X264_BUILD &gt;= 37
-     var_Get( p_enc, SOUT_CFG_PREFIX &quot;crf&quot;, &amp;val ); 
-     if( val.i_int &gt;= 0 &amp;&amp; val.i_int &lt;= 51 ) /* crf != 0 overrides qp */
--        p_sys-&gt;param.rc.i_rf_constant = val.i_int;
-+        p_sys-&gt;param.rc.f_rf_constant = val.i_int;
- #endif
- 
- #if X264_BUILD &gt;= 39

Added: trunk/rpms/vlc/vlc-0.8.6-ffmpegX11.patch
===================================================================
--- trunk/rpms/vlc/vlc-0.8.6-ffmpegX11.patch	                        (rev 0)
+++ trunk/rpms/vlc/vlc-0.8.6-ffmpegX11.patch	2006-12-18 16:35:37 UTC (rev 5002)
@@ -0,0 +1,42 @@
+diff -Naupr vlc-0.8.6.orig/configure vlc-0.8.6/configure
+--- vlc-0.8.6.orig/configure	2006-12-09 02:33:49.000000000 +0100
++++ vlc-0.8.6/configure	2006-12-15 19:49:50.000000000 +0100
+@@ -43190,7 +43190,7 @@ if test &quot;${with_ffmpeg_mp3lame+set}&quot; = s
+      if test &quot;$with_ffmpeg_mp3lame&quot; = &quot;yes&quot;;	then
+ 
+   for element in ffmpeg; do
+-    eval &quot;LDFLAGS_${element}=&quot;'&quot;'&quot;-lmp3lame &quot;'$'&quot;{LDFLAGS_${element}} &quot;'&quot;'
++    eval &quot;LDFLAGS_${element}=&quot;'&quot;'&quot;-lmp3lame -lX11 -lXext &quot;'$'&quot;{LDFLAGS_${element}} &quot;'&quot;'
+     am_modules_with_ldflags=&quot;${am_modules_with_ldflags} ${element}&quot;
+   done
+ 
+@@ -43432,7 +43432,7 @@ echo &quot;${ECHO_T}${real_ffmpeg_tree}/libav
+      if test &quot;${with_ffmpeg_mp3lame}&quot; != &quot;yes&quot;; then
+ 
+   for element in ffmpeg; do
+-    eval &quot;LDFLAGS_${element}=&quot;'&quot;'&quot;-lmp3lame &quot;'$'&quot;{LDFLAGS_${element}} &quot;'&quot;'
++    eval &quot;LDFLAGS_${element}=&quot;'&quot;'&quot;-lmp3lame -lX11 -lXext &quot;'$'&quot;{LDFLAGS_${element}} &quot;'&quot;'
+     am_modules_with_ldflags=&quot;${am_modules_with_ldflags} ${element}&quot;
+   done
+ 
+diff -Naupr vlc-0.8.6.orig/configure.ac vlc-0.8.6/configure.ac
+--- vlc-0.8.6.orig/configure.ac	2006-12-09 02:32:53.000000000 +0100
++++ vlc-0.8.6/configure.ac	2006-12-15 19:49:17.000000000 +0100
+@@ -2512,7 +2512,7 @@ dnl Those options have to be here becaus
+    [    --with-ffmpeg-mp3lame specify if ffmpeg has been compiled with mp3lame support],
+    [
+      if test &quot;$with_ffmpeg_mp3lame&quot; = &quot;yes&quot;;	then
+-     	VLC_ADD_LDFLAGS([ffmpeg],[-lmp3lame])
++     	VLC_ADD_LDFLAGS([ffmpeg],[-lmp3lame -lX11 -lXext])
+      fi])
+ 
+  AC_ARG_WITH(ffmpeg-faac,
+@@ -2602,7 +2602,7 @@ dnl Those options have to be here becaus
+    fi
+    if fgrep -s &quot;CONFIG_MP3LAME=yes&quot; &quot;${real_ffmpeg_tree}/config.mak&quot;; then
+      if test &quot;${with_ffmpeg_mp3lame}&quot; != &quot;yes&quot;; then
+-       VLC_ADD_LDFLAGS([ffmpeg],[-lmp3lame])
++       VLC_ADD_LDFLAGS([ffmpeg],[-lmp3lame -lX11 -lXext])
+      fi
+    fi
+    if fgrep -s &quot;CONFIG_FAAC=yes&quot; &quot;${real_ffmpeg_tree}/config.mak&quot;; then

Modified: trunk/rpms/vlc/vlc.spec
===================================================================
--- trunk/rpms/vlc/vlc.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/vlc/vlc.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -8,10 +8,12 @@
 %{!?dist:%define _with_modxorg 1}
 %{!?dist:%define _with_avahi 1}
 
+%{?fc7:%define _with_modxorg 1}
 %{?fc6:%define _with_modxorg 1}
-%{?fc6:%define _with_avahi 1}
-
 %{?fc5:%define _with_modxorg 1}
+
+%{?fc7:%define _with_avahi 1}
+%{?fc6:%define _with_avahi 1}
 %{?fc5:%define _with_avahi 1}
 
 %{?el4:%define _without_wxwidgets 1}
@@ -65,23 +67,25 @@
 %{?yd3:%define _without_fribidi 1}
 
 %define desktop_vendor rpmforge
-%define ffmpeg_date    20051207
-%define live_date      2006.10.18a
+%define ffmpeg_date    20061215
+%define live_date      2006.12.08
 
 Summary: The VideoLAN client, also a very good standalone video player
 Name: vlc
-Version: 0.8.5
-Release: 5
+Version: 0.8.6
+Release: 1
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://www.videolan.org/">http://www.videolan.org/</A>
 Source0: <A HREF="http://downloads.videolan.org/pub/videolan/vlc/%{version">http://downloads.videolan.org/pub/videolan/vlc/%{version</A>}/vlc-%{version}.tar.bz2
 Source1: <A HREF="http://downloads.videolan.org/pub/videolan/vlc/%{version">http://downloads.videolan.org/pub/videolan/vlc/%{version</A>}/contrib/ffmpeg-%{ffmpeg_date}.tar.bz2
 Source2: <A HREF="http://www.live555.com/liveMedia/public/live.%{live_date">http://www.live555.com/liveMedia/public/live.%{live_date</A>}.tar.gz
-Patch0: vlc-0.8.5-x264.patch
+Patch0: vlc-0.8.6-ffmpegX11.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gcc-c++, libpng-devel, libxml2-devel, libtiff-devel
-BuildRequires: libgcrypt-devel, gnutls-devel
+BuildRequires: libgcrypt-devel, gnutls-devel, libsysfs-devel, libtar-devel
+BuildRequires: libjpeg-devel
+Buildrequires: autoconf, automake, libtool
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 %{?_with_modxorg:BuildRequires: libGLU-devel, libXt-devel, libXv-devel, libXinerama-devel, libXxf86vm-devel}
 %{!?_with_modxorg:BuildRequires: XFree86-devel}
@@ -95,7 +99,7 @@
 %{!?_without_mad:BuildRequires: libmad-devel}
 %{!?_without_id3tag:BuildRequires: libid3tag-devel}
 %{!?_without_ffmpeg:BuildRequires: lame-devel, faac-devel}
-%{!?_without_faad2:BuildRequires: faad2-devel}
+%{!?_without_faad2:BuildRequires: faad2-devel &gt;= 2.5}
 %{!?_without_a52:BuildRequires: a52dec-devel}
 %{!?_without_flac:BuildRequires: flac-devel}
 %{!?_without_mpeg2dec:BuildRequires: mpeg2dec-devel}
@@ -130,6 +134,10 @@
 %{!?_without_mpcdec:BuildRequires: libmpcdec-devel}
 %{!?_without_cddb:BuildRequires: libcddb-devel}
 %{!?_without_dca:BuildRequires: libdca-devel}
+# Add in 0.8.6
+%{!?_without_upnp:BuildRequires: libupnp-devel}
+#{!?_without_goom:BuildRequires: goom-devel}
+%{!?_without_jack:BuildRequires: jack-audio-connection-kit-devel}
 Obsoletes: videolan-client &lt; 0.8.5-4
 Provides: videolan-client = %{version}-%{release}
 
@@ -165,13 +173,14 @@
 
 %prep
 %setup -a 1 -a 2
-%patch0 -p1 -b .x264
+%patch0 -p1 -b .ffmpegX11
 # Fix PLUGIN_PATH path for lib64
 %{__perl} -pi -e 's|/lib/vlc|/%{_lib}/vlc|g' vlc-config.in.in configure*
 
 
 %build
 export CFLAGS=&quot;%{optflags}&quot;
+
 # Build bundeled ffmpeg first
 pushd ffmpeg-%{ffmpeg_date}
     ./configure \
@@ -244,61 +253,35 @@
     %{?_with_ncurses:--enable-ncurses} \
     %{?_without_slp:--disable-slp} \
     %{?_with_pth:--enable-pth} \
-    %{!?_without_live:--enable-livedotcom --with-livedotcom-tree=&quot;`pwd`/live&quot;}
+    %{!?_without_live:--enable-live555 --with-live555-tree=&quot;`pwd`/live&quot;} \
+    %{!?_without_jack:--enable-jack}
+    #{!?_without_goom:--enable-goom} \
 %{__make} %{?_smp_mflags}
 
 
 %install
 %{__rm} -rf %{buildroot} _docs
 %makeinstall
-%find_lang vlc
+%find_lang %{name}
 # Include the docs below, our way
 %{__mv} %{buildroot}%{_docdir}/vlc _docs
-# So that the icon gets themable
+# So that the icon gets themable (still required in 0.8.6)
 %{__mkdir_p} %{buildroot}%{_datadir}/pixmaps
 %{__cp} -ap %{buildroot}%{_datadir}/vlc/vlc48x48.png \
     %{buildroot}%{_datadir}/pixmaps/vlc.png
 
-%{__cat} &lt;&lt;EOF &gt;videolan-client.desktop
-[Desktop Entry]
-Name=VideoLAN Client
-Comment=Play DVDs, other various video formats and network streamed videos
-Icon=vlc.png
-Exec=vlc
-Terminal=false
-Type=Application
-Encoding=UTF-8
-MimeType=video/mpeg;video/msvideo;video/quicktime;video/x-avi;video/x-ms-asf;video/x-ms-wmv;video/x-msvideo;application/x-ogg;application/ogg;audio/x-mp3;audio/x-mpeg;video/x-mpeg;video/x-fli;audio/x-wav;audio/x-mpegurl;audio/x-scpls;audio/x-ms-asx;application/vnd.rn-realmedia;audio/x-real-audio;audio/x-pn-realaudio;application/x-flac;audio/x-flac;application/x-shockwave-flash;audio/mpeg;audio/x-ms-asf;audio/x-m4a;audio/x-ms-wax;video/dv;video/x-anim;video/x-flc;misc/ultravox;application/x-matroska;audio/vnd.rn-realaudio;audio/x-pn-aiff;audio/x-pn-au;audio/x-pn-wav;audio/x-pn-windows-acm;image/vnd.rn-realpix;video/vnd.rn-realvideo
-EOF
-
-%if %{!?_without_freedesktop:1}0
-# Convert the menu entry
-%{__mkdir_p} %{buildroot}%{_datadir}/applications
-desktop-file-install --vendor %{desktop_vendor} \
-  --dir %{buildroot}%{_datadir}/applications    \
-  --add-category Application                    \
-  --add-category AudioVideo                     \
-  videolan-client.desktop
-%else
-%{__install} -Dp -m644 videolan-client.desktop \
-    %{buildroot}%{_datadir}/gnome/apps/Multimedia/videolan-client.desktop
-%endif
-
-
-
 %clean
 %{__rm} -rf %{buildroot}
 
 
-%files -f vlc.lang
+%files -f %{name}.lang
 %defattr(-, root, root, 0755)
 %doc AUTHORS COPYING ChangeLog MAINTAINERS README THANKS
 %doc _docs/*
 %{_bindir}/*vlc
 %{_libdir}/vlc/
 %exclude %{_libdir}/vlc/*.a
-%{!?_without_freedesktop:%{_datadir}/applications/%{desktop_vendor}-videolan-client.desktop}
-%{?_without_freedesktop:%{_datadir}/gnome/apps/Multimedia/videolan-client.desktop}
+%{_datadir}/applications/vlc.desktop
 %{_datadir}/pixmaps/vlc.png
 %{_datadir}/vlc/
 
@@ -307,12 +290,24 @@
 %doc HACKING
 %{_bindir}/vlc-config
 %{_includedir}/vlc/
-#dir %{_libdir}/vlc/
-%exclude %{_libdir}/vlc/*.a
 %exclude %{_libdir}/libvlc.a
 
 
 %changelog
+* Fri Dec 15 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.8.6-1
+- Update to 0.8.6.
+- Update ffmpeg to 20060710.
+- Update live to 2006.12.08.
+- Require faad2 &gt;= 2.5 since vlc no longer builds with previous 2.0 release.
+- No longer create our own desktop file, it's taken care of now.
+- Rename deprecated livedotcom options to live555.
+- Add libjpeg, libsysfs and libtar build requirements.
+- Add libupnp support, enabled by default.
+- Add autotools build requirements to make build output more silent and run
+  configure only once :-/
+- Include patch to fix final binary linking, where -lX11 was missing.
+- Add jack support, and soon goom (lib required?).
+
 * Tue Oct 24 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.8.5-5
 - Update live lib to 2006.10.18a.
 - Try to update fffmpeg... but... nope, way too hard :-(

Modified: trunk/rpms/x264/x264.spec
===================================================================
--- trunk/rpms/x264/x264.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/x264/x264.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -17,7 +17,7 @@
 %{?rh7:%define _without_gtk26 1}
 %{?el2:%define _without_gtk26 1}
 
-%define date 20061023
+%define date 20061214
 
 Summary: Library for encoding and decoding H264/AVC video streams
 Name: x264
@@ -138,6 +138,9 @@
 %endif
 
 %changelog
+* Fri Dec 15 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.0.0-0.3.20061214
+- Update to 20061214 snapshot (same soname, no rebuilds required).
+
 * Tue Oct 24 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.0.0-0.3.20061023
 - Update to 20061023 snapshot, the last was too old for MPlayer 1.0rc1.
 - Remove no longer needed gtk patch.

Modified: trunk/rpms/xine/xine.spec
===================================================================
--- trunk/rpms/xine/xine.spec	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/xine/xine.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -4,11 +4,13 @@
 %{?dist: %{expand: %%define %dist 1}}
 %{?fedora: %{expand: %%define fc%{fedora} 1}}
 
-%{!?dist:%define _with_extras 1}
-%{?fc6:  %define _with_extras 1}
-%{?fc5:  %define _with_extras 1}
+%{!?dist:%define _with_moles 1}
+%{?fc7:  %define _with_moles 1}
+%{?fc6:  %define _with_moles 1}
+%{?fc5:  %define _with_moles 1}
 
 %{!?dist:%define _with_modxorg 1}
+%{?fc7:  %define _with_modxorg 1}
 %{?fc6:  %define _with_modxorg 1}
 %{?fc5:  %define _with_modxorg 1}
 
@@ -20,7 +22,7 @@
 Summary: Free multimedia player
 Name: xine
 Version: 0.99.4
-Release: 7
+Release: 8
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://xinehq.de/">http://xinehq.de/</A>
@@ -33,8 +35,8 @@
 Patch2: xine-ui-0.99.3-uifixups.patch
 Patch3: xine-ui-0.99.3-shared-lirc.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-%{!?_with_extras:Requires: xine-lib &gt;= 1.1.2}
-%{?_with_extras:Requires: xine-lib-extras &gt;= 1.1.2}
+%{!?_with_moles:Requires: xine-lib &gt;= 1.1.2}
+%{?_with_moles:Requires: xine-lib-moles &gt;= 1.1.2}
 BuildRequires: gcc-c++, libpng-devel, xine-lib-devel &gt;= 1.0.0
 BuildRequires: curl-devel, libidn-devel, libtermcap-devel, readline-devel
 BuildRequires: pkgconfig, /usr/bin/find
@@ -171,6 +173,9 @@
 
 
 %changelog
+* Mon Dec 18 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.4-8
+- Change name of requirement from xine-lib-extras to xine-lib-moles.
+
 * Wed Nov  8 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.4-7
 - Require xine-lib-extras on FC5 too.
 

Copied: trunk/rpms/xine-lib-moles/xine-lib-moles.spec (from rev 4999, trunk/rpms/xine-lib-moles/xine-lib-moles.txt)
===================================================================
--- trunk/rpms/xine-lib-moles/xine-lib-moles.spec	                        (rev 0)
+++ trunk/rpms/xine-lib-moles/xine-lib-moles.spec	2006-12-18 16:35:37 UTC (rev 5002)
@@ -0,0 +1,438 @@
+# $Id$
+# Authority: matthias
+# Upstream: &lt;xine-user$lists,sf,net&gt;
+# ExclusiveDist: fc5 fc6
+
+Summary: Extra libraries for the Xine library
+Name: xine-lib-moles
+Version: 1.1.3
+Release: 1
+License: GPL
+Group: System Environment/Libraries
+URL: <A HREF="http://xinehq.de/">http://xinehq.de/</A>
+Source0: <A HREF="http://dl.sf.net/xine/xine-lib-%{version">http://dl.sf.net/xine/xine-lib-%{version</A>}.tar.gz
+# WARNING : Needs to be from the i386 package in order to contain vidix files
+Source1: rpm_-ql_xine-lib.txt
+Source2: rpm_-ql_xine-lib-extras.txt
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+Requires: xine-lib = %{version}
+Requires: libdvdcss
+Buildrequires: zlib-devel, vcdimager-devel, a52dec-devel, libmad-devel
+%{?_with_rte:BuildRequires: rte-devel}
+%{?_with_extdvdnav:BuildRequires: libdvdnav-devel &gt;= 0.1.4}
+%{?_with_extffmpeg:BuildRequires: ffmpeg-devel}
+%{!?_without_libfame:BuildRequires: libfame-devel}
+
+%description
+Xine is a free multimedia player. It plays back CDs, DVDs, and VCDs. It also
+decodes multimedia files like AVI, MOV, WMV, and MP3 from local disk drives,
+and displays multimedia streamed over the Internet. It interprets many of the
+most common multimedia formats available - and some of the most uncommon
+formats, too.
+
+This package contains files for the Xine library which aren't present in the
+main xine-lib package.
+
+Available rpmbuild rebuild options :
+--with : rte extdvdnav extffmpeg
+--without : libfame
+
+
+%prep
+%setup -n xine-lib-%{version}
+
+
+%build
+%configure \
+    %{?_with_extffmpeg:--with-external-ffmpeg} \
+    %{!?_with_extdvdnav:--with-included-dvdnav} \
+    --with-external-a52dec \
+    --with-external-libmad
+%{__make} %{?_smp_mflags}
+
+
+%install
+%{__rm} -rf %{buildroot} tmp
+%{__make} install DESTDIR=&quot;`pwd`/tmp&quot;
+# Only a small part of the libs are what we want, so clean up all the ones
+# from packages already in Extras
+EXCLUDE=&quot;`grep -h &quot;plugins.*\.so$&quot; %{SOURCE1} %{SOURCE2} | cut -d &quot;/&quot; -f 4-`&quot;
+for lib in ${EXCLUDE}; do
+    %{__rm} -f tmp%{_libdir}/${lib}
+done
+# ...then move all the remaining ones to be included.
+%{__mkdir_p} %{buildroot}%{_libdir}
+%{__cp} -a tmp%{_libdir}/xine %{buildroot}%{_libdir}/
+
+
+%clean
+%{__rm} -rf %{buildroot}
+
+
+%files
+%defattr(-, root, root, 0755)
+%doc COPYING doc/README.network_dvd
+%{_libdir}/xine/plugins/%{version}/post/*.so
+%{_libdir}/xine/plugins/%{version}/*.so
+
+
+%changelog
+* Mon Dec 18 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.3-1
+- Update to 1.1.3.
+- Rename xine-lib-moles as xine-lib-extras is now the package from Extras which
+  contains the not-commonly-used plugins with external dependencies. MOLES
+  stands for MPEG and Other Legally Encumbered Stuff... yeah, plain silly.
+
+* Wed Nov  1 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.2-1
+- Severly castrated xine-lib as xine-lib-extras for FC6+...
+
+* Sun Sep 24 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.2-2
+- Rebuild against new libcdio.
+
+* Tue Jul 11 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.2-1
+- Update to 1.1.2.
+- Source is now a .bz2 file.
+- Build require gettext-devel.
+- Build require gtk2-devel (for gdk-pixbuf-2.0).
+- Enable samba support by default.
+- Enable modplug support by default.
+- Enable ImageMagick support by default.
+- Switch to external libcdio, vcdimager, a52dec and libmad. Keep internal
+  dvdnav and libdts since those have extrnal development (mostly) stopped.
+  (note that a52dec-devel seems to be missing a52_internal.h for now)
+
+* Mon Mar  6 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.1-2
+- Add freetype support.
+- Add many missing modular X build requirements.
+- Force Xv path to prefix for modular X, otherwise it it not found.
+
+* Tue Jan 10 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.1-1
+- Update to 1.1.1 (missed that one in Nov.!).
+- Remove no longer needed faad patch.
+- Don't use external ffmpeg (on FC4), as it's nearly never a good idea, so
+  let only people who really want to do it... do it.
+
+* Tue Aug  2 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.0-1
+- Move xine.5 man page from devel to the main package.
+- Add some READMEs from doc/.
+- Change the devel doc from sgml to html/png, makes more sense.
+
+* Sat Jul 30 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.0-1
+- Update to 1.1.0, which includes gcc4 fixes.
+
+* Tue May  3 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.1-2
+- Remove ffmpeg MMX disabling, it works, go figure.
+- No longer run autogen.sh or libtool. Same, it works... confusing.
+- Use external ffmpeg lib only for FC4, as there are issues (at least on FC3).
+
+* Thu Apr 28 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.1-1
+- Update to 1.0.1.
+- Add patch for GCC4 from Ville.
+- Disable ffmpeg's MMX, build fails otherwise.
+- Run autogen to fix lib linking problem.
+- Add missing buildroot removal in %%install.
+
+* Fri Feb  4 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-2
+- Added patch to fix faad on x86_64, thanks to Nicholas Miell.
+
+* Mon Jan  3 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-1
+- Update to 1.0 final! (had to keep 1.0.0 as the version, though)
+- Added libXvMCW support (for the VIA Unichrome, mostly).
+- Change --enable-shared-xv to --disable-static-xv to keep x86_64 working.
+
+* Thu Dec 16 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.17.rc8
+- Update to 1.0rc8 and remove obsolete memleak patch.
+- Add --enable-shared-xv as compilation against static Xv fails on x86_64.
+
+* Fri Dec  3 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.17.rc7
+- Added xine-lib-1-rc7-memleak.patch, thanks to Bastien Nocera.
+
+* Wed Dec  1 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.16.rc7
+- Update to 1.0rc7.
+
+* Fri Nov  5 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.15.rc6a
+- Removed most explicit deps, only libdvdcss is really needed.
+
+* Tue Oct 12 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0.0-0.15.rc6a
+- Build against newer flac-1.1.1.
+
+* Fri Sep 17 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.14.rc6a
+- Update to 1.0rc6a.
+- Removed wrong &quot;not x86 = 64bit&quot; assumptions and build changes which seem
+  properly autodetected now anyway.
+
+* Wed Jun 30 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.14.rc5
+- Update to 1.0rc5.
+
+* Tue Jun 15 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.13.rc4a
+- Remove explicit xvidcore dependencies, as they don't exist anymore.
+
+* Wed May 19 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.13.rc4a
+- Update to 1.0rc4a.
+- Remove the plugin stripping since now all goes into the debuginfo package.
+- Added libtheora support by default.
+
+* Tue May  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.12.rc4
+- Update to 1.0rc4.
+
+* Thu Apr 15 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.11.rc3c
+- Update to 1.0rc3c.
+
+* Thu Mar 25 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.10.rc3b
+- Removed explicit XFree86 dependency.
+
+* Thu Mar 18 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.9.rc3b
+- Update to 1.0rc3b.
+
+* Tue Feb 24 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.8.rc3a
+- Rebuild against new libfame.
+
+* Tue Feb 24 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.7.rc3a
+- Rebuilt to get the debuginfo package.
+
+* Sun Jan  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.6.rc3a
+- Update to 1.0rc3a.
+
+* Thu Dec 18 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.5.rc3
+- Update to 1.0rc3.
+
+* Tue Dec  2 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.4.rc2
+- Added an obsoletes tag for libxine.
+- Added --with-pic configure option to allow prelinking.
+- Added libdvdcss dependency to be sure it gets pulled in.
+
+* Fri Nov  7 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.3.rc2
+- Update to 1.0rc2.
+- Rebuild for Fedora Core 1.
+
+* Tue Oct 21 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0rc1.
+- Disable ALSA by default for ppc, as it can't be supported with YDL kernels.
+
+* Thu Aug  7 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0rc0a.
+- Added speex support.
+- Removed all .la files of the plugins, not built by default anymore.
+
+* Mon May 12 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta12.
+
+* Tue Apr 29 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta11.
+
+* Wed Apr  9 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta10.
+
+* Mon Mar 31 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuilt for Red Hat Linux 9.
+- Exclude .la files.
+
+* Sun Mar 23 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta9.
+
+* Mon Mar 10 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta8, no really, I mean it this time.
+- Exclude vidix plugins for non x86 archs.
+
+* Sun Mar  9 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta8.
+
+* Thu Feb 27 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta6.
+
+* Sat Feb 22 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta5.
+
+* Tue Feb  4 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuild now defaults to use the internal libdvdnav since many people
+  reported problems using the external CVS snapshot.
+
+* Thu Jan 30 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta4 since beta3 had a build bug un mmx cpus.
+
+* Wed Jan 29 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta3.
+- Added flac, libfame, rte and gnomevfs2 build options.
+
+* Sun Jan 12 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Repackage the latest 1.0beta2 at last, it's usable now.
+- Split pack into xine/xine-lib instead of xine/xine-libs and two source
+  packages.
+
+* Sun Oct  6 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Removed --without arts from %%description as it can't work if arts-devel
+  is installed.
+- Added vidix files.
+- Delete unpackaged xitk related files.
+
+* Mon Sep 30 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Fixed ALSA support.
+- Spec file cleanup.
+- New --without aalib, lirc and arts options.
+
+* Thu Sep 26 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuilt for Red Hat Linux 8.0.
+
+* Tue Aug 27 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Added new .desktop file support.
+- Added alsa support.
+
+* Sun Aug  4 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Fixed plugins (new API version again).
+- Rebuilt without the NVIDIA_GLX package :-/
+
+* Sun Aug  4 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.13.
+- Updated both d4d and d5d plugins.
+- Now use %%find_lang.
+
+* Tue Jun 25 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.12.
+
+* Mon Jun 17 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Split into xine (UI) and xine-libs to be able to install just the engine
+  for other frontends.
+
+* Mon May 27 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.10 final.
+- Added a quick perl regexp hack for the d4d &amp; d5d API versions.
+
+* Thu May  9 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Almost complete spec file rewrite to reflect improvements in the build
+  process (simplifications were now possible).
+- Updated the d5d plugin to 0.2.4.
+- Moved everything from %%install to %%build as it seems more logical.
+- Added %%{?_smp_mflags} and LIBRARY_PATH for the lib, thanks Ralf!
+- Added the d4d plugin as well.
+
+* Tue Apr 30 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.9.
+
+* Wed Jan 16 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.8 with new all-in-one d5d css and menu support plugin.
+- Cleaned up the docs.
+
+* Tue Dec 11 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.7.
+
+* Thu Nov 29 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.6.
+
+* Sat Nov 24 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.5, added the new LC_MESSAGEs.
+
+* Tue Nov  6 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.4 (0.9.3 had build problems).
+- Update d4d plugin to 0.2.7.
+- Put the menu navigation plugin back in and update it to 0.9.3beta
+  (yeah, Fred, I'm doing that for you ;-)).
+
+* Thu Nov  1 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Added the missing xineshot to %files.
+- Removed the menu navigation plugin : It's so buggy and not moving very
+  fast. If you want menu support, try Ogle, it's worth it!
+- Added new man pages translations.
+- Cleaned-up the %doc section, lots were added recently.
+- Modified the way the target cpu is forced, it should now be possible to
+  rebuild for anything else than i686.
+
+* Mon Oct 22 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Removed the libdvdcss since it was making xine mutually exclusive with
+  videolan... and moved it to a separate package instead.
+- Removed the ugly hacks from libtool problems, I guess this spec won't
+  be suited for 7.1 anymore.
+
+* Sun Oct 21 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Addedd libdvdcss library so that encrypted menus can now be played too.
+- Updated lots of dependencies (ogg vorbis, arts, zlib, esd, libpng).
+
+* Tue Oct 16 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.2 with updated CSS plugin and libvdvread.
+
+* Mon Oct  8 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuilt for Red Hat 7.2 with lirc support.
+
+* Wed Sep 19 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Updated the dvdnav plugin to the latest version.
+
+* Tue Sep 18 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.1.
+- Update libdvdread to 0.9.1 too :-)
+
+* Fri Sep 14 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.0.
+- Spec file cleanup, the configure scripts and the way they use macros
+  are still too crappy to clean up more :-(
+- Included the new menu plugin and libdvdcss...slurp!
+
+* Thu Sep 13 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.5.3 and kept d4d plugin 0.2.2 (0.2.4 doesn't compile for me).
+
+* Mon Sep  3 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.5.2.
+- Removed the &quot;aaxine&quot; binary.
+
+* Sat Aug 11 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.5.1.
+
+* Fri Aug 10 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Nothing weird with the package in one whole week, I'll release it :-)
+
+* Mon Aug  6 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.5.0.
+- Merged the new &quot;lib&quot; and &quot;ui&quot; sources in the same SRPM and split the
+  binaries in a main and a &quot;devel&quot; package.
+
+* Thu May 17 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.4.3.
+
+* Thu May 10 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Changed the spec file to now use XINE_BUILD to override the default
+  build arch and use the compilation optimisations chosen by the xine
+  authors in the configure script.
+- Doesn't work with --arch=athlon though... I wonder why!
+
+* Mon May  7 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.4.2.
+
+* Fri Apr 20 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuilt for Red Hat 7.1.
+
+* Thu Mar  8 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.4.01.
+
+* Thu Feb 15 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Updated the DeCSS plugin to the latest 0.1.2 release.
+- Added a menu entry since xine is now stable enough to not need to be
+  launched in a terminal anymore.
+
+* Wed Jan 31 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Upgraded to 0.3.7 with the subtitles patch to the plugin
+
+* Wed Jan 31 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Upgraded to 0.3.6 with the same plugin
+
+* Sat Jan 13 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Included the DeCSS dvd plugin for 0.3.5
+
+* Wed Jan 10 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- upgraded to 0.3.5
+
+* Mon Jan  8 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- upgraded to 0.3.4
+- tweak to configure.in to compile with gcc 2.96
+
+* Tue Jan  2 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- upgraded to 0.3.3
+
+* Sun Dec 17 2000 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- upgraded to 0.3.2 &quot;complete&quot; :-)
+- fixed my files section to include the new skin
+
+* Mon Nov 20 2000 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- cleaned-up the spec file for RedHat 7.0
+- added stripping, changed prefix, added docs, added defattr
+
+* Fri Oct 17 2000 Daniel Caujolle-Bert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">f1rmb at users.sourceforge.net</A>&gt;
+- first spec file.
+

Deleted: trunk/rpms/xine-lib-moles/xine-lib-moles.txt
===================================================================
--- trunk/rpms/xine-lib-moles/xine-lib-moles.txt	2006-12-18 14:40:32 UTC (rev 5001)
+++ trunk/rpms/xine-lib-moles/xine-lib-moles.txt	2006-12-18 16:35:37 UTC (rev 5002)
@@ -1,438 +0,0 @@
-# $Id$
-# Authority: matthias
-# Upstream: &lt;xine-user$lists,sf,net&gt;
-# ExclusiveDist: fc5 fc6
-
-Summary: Extra libraries for the Xine library
-Name: xine-lib-moles
-Version: 1.1.3
-Release: 1
-License: GPL
-Group: System Environment/Libraries
-URL: <A HREF="http://xinehq.de/">http://xinehq.de/</A>
-Source0: <A HREF="http://dl.sf.net/xine/xine-lib-%{version">http://dl.sf.net/xine/xine-lib-%{version</A>}.tar.gz
-# WARNING : Needs to be from the i386 package in order to contain vidix files
-Source1: rpm_-ql_xine-lib.txt
-Source2: rpm_-ql_xine-lib-extras.txt
-BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-Requires: xine-lib = %{version}
-Requires: libdvdcss
-Buildrequires: zlib-devel, vcdimager-devel, a52dec-devel, libmad-devel
-%{?_with_rte:BuildRequires: rte-devel}
-%{?_with_extdvdnav:BuildRequires: libdvdnav-devel &gt;= 0.1.4}
-%{?_with_extffmpeg:BuildRequires: ffmpeg-devel}
-%{!?_without_libfame:BuildRequires: libfame-devel}
-
-%description
-Xine is a free multimedia player. It plays back CDs, DVDs, and VCDs. It also
-decodes multimedia files like AVI, MOV, WMV, and MP3 from local disk drives,
-and displays multimedia streamed over the Internet. It interprets many of the
-most common multimedia formats available - and some of the most uncommon
-formats, too.
-
-This package contains files for the Xine library which aren't present in the
-main xine-lib package.
-
-Available rpmbuild rebuild options :
---with : rte extdvdnav extffmpeg
---without : libfame
-
-
-%prep
-%setup -n xine-lib-%{version}
-
-
-%build
-%configure \
-    %{?_with_extffmpeg:--with-external-ffmpeg} \
-    %{!?_with_extdvdnav:--with-included-dvdnav} \
-    --with-external-a52dec \
-    --with-external-libmad
-%{__make} %{?_smp_mflags}
-
-
-%install
-%{__rm} -rf %{buildroot} tmp
-%{__make} install DESTDIR=&quot;`pwd`/tmp&quot;
-# Only a small part of the libs are what we want, so clean up all the ones
-# from packages already in Extras
-EXCLUDE=&quot;`grep -h &quot;plugins.*\.so$&quot; %{SOURCE1} %{SOURCE2} | cut -d &quot;/&quot; -f 4-`&quot;
-for lib in ${EXCLUDE}; do
-    %{__rm} -f tmp%{_libdir}/${lib}
-done
-# ...then move all the remaining ones to be included.
-%{__mkdir_p} %{buildroot}%{_libdir}
-%{__cp} -a tmp%{_libdir}/xine %{buildroot}%{_libdir}/
-
-
-%clean
-%{__rm} -rf %{buildroot}
-
-
-%files
-%defattr(-, root, root, 0755)
-%doc COPYING doc/README.network_dvd
-%{_libdir}/xine/plugins/%{version}/post/*.so
-%{_libdir}/xine/plugins/%{version}/*.so
-
-
-%changelog
-* Mon Dec 18 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.3-1
-- Update to 1.1.3.
-- Rename xine-lib-moles as xine-lib-extras is now the package from Extras which
-  contains the not-commonly-used plugins with external dependencies. MOLES
-  stands for MPEG and Other Legally Encumbered Stuff... yeah, plain silly.
-
-* Wed Nov  1 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.2-1
-- Severly castrated xine-lib as xine-lib-extras for FC6+...
-
-* Sun Sep 24 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.2-2
-- Rebuild against new libcdio.
-
-* Tue Jul 11 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.2-1
-- Update to 1.1.2.
-- Source is now a .bz2 file.
-- Build require gettext-devel.
-- Build require gtk2-devel (for gdk-pixbuf-2.0).
-- Enable samba support by default.
-- Enable modplug support by default.
-- Enable ImageMagick support by default.
-- Switch to external libcdio, vcdimager, a52dec and libmad. Keep internal
-  dvdnav and libdts since those have extrnal development (mostly) stopped.
-  (note that a52dec-devel seems to be missing a52_internal.h for now)
-
-* Mon Mar  6 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.1-2
-- Add freetype support.
-- Add many missing modular X build requirements.
-- Force Xv path to prefix for modular X, otherwise it it not found.
-
-* Tue Jan 10 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.1-1
-- Update to 1.1.1 (missed that one in Nov.!).
-- Remove no longer needed faad patch.
-- Don't use external ffmpeg (on FC4), as it's nearly never a good idea, so
-  let only people who really want to do it... do it.
-
-* Tue Aug  2 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.0-1
-- Move xine.5 man page from devel to the main package.
-- Add some READMEs from doc/.
-- Change the devel doc from sgml to html/png, makes more sense.
-
-* Sat Jul 30 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.0-1
-- Update to 1.1.0, which includes gcc4 fixes.
-
-* Tue May  3 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.1-2
-- Remove ffmpeg MMX disabling, it works, go figure.
-- No longer run autogen.sh or libtool. Same, it works... confusing.
-- Use external ffmpeg lib only for FC4, as there are issues (at least on FC3).
-
-* Thu Apr 28 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.1-1
-- Update to 1.0.1.
-- Add patch for GCC4 from Ville.
-- Disable ffmpeg's MMX, build fails otherwise.
-- Run autogen to fix lib linking problem.
-- Add missing buildroot removal in %%install.
-
-* Fri Feb  4 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-2
-- Added patch to fix faad on x86_64, thanks to Nicholas Miell.
-
-* Mon Jan  3 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-1
-- Update to 1.0 final! (had to keep 1.0.0 as the version, though)
-- Added libXvMCW support (for the VIA Unichrome, mostly).
-- Change --enable-shared-xv to --disable-static-xv to keep x86_64 working.
-
-* Thu Dec 16 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.17.rc8
-- Update to 1.0rc8 and remove obsolete memleak patch.
-- Add --enable-shared-xv as compilation against static Xv fails on x86_64.
-
-* Fri Dec  3 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.17.rc7
-- Added xine-lib-1-rc7-memleak.patch, thanks to Bastien Nocera.
-
-* Wed Dec  1 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.16.rc7
-- Update to 1.0rc7.
-
-* Fri Nov  5 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.15.rc6a
-- Removed most explicit deps, only libdvdcss is really needed.
-
-* Tue Oct 12 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0.0-0.15.rc6a
-- Build against newer flac-1.1.1.
-
-* Fri Sep 17 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.14.rc6a
-- Update to 1.0rc6a.
-- Removed wrong &quot;not x86 = 64bit&quot; assumptions and build changes which seem
-  properly autodetected now anyway.
-
-* Wed Jun 30 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.14.rc5
-- Update to 1.0rc5.
-
-* Tue Jun 15 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.13.rc4a
-- Remove explicit xvidcore dependencies, as they don't exist anymore.
-
-* Wed May 19 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.13.rc4a
-- Update to 1.0rc4a.
-- Remove the plugin stripping since now all goes into the debuginfo package.
-- Added libtheora support by default.
-
-* Tue May  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.12.rc4
-- Update to 1.0rc4.
-
-* Thu Apr 15 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.11.rc3c
-- Update to 1.0rc3c.
-
-* Thu Mar 25 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.10.rc3b
-- Removed explicit XFree86 dependency.
-
-* Thu Mar 18 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.9.rc3b
-- Update to 1.0rc3b.
-
-* Tue Feb 24 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.8.rc3a
-- Rebuild against new libfame.
-
-* Tue Feb 24 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.7.rc3a
-- Rebuilt to get the debuginfo package.
-
-* Sun Jan  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.6.rc3a
-- Update to 1.0rc3a.
-
-* Thu Dec 18 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.5.rc3
-- Update to 1.0rc3.
-
-* Tue Dec  2 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.4.rc2
-- Added an obsoletes tag for libxine.
-- Added --with-pic configure option to allow prelinking.
-- Added libdvdcss dependency to be sure it gets pulled in.
-
-* Fri Nov  7 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.3.rc2
-- Update to 1.0rc2.
-- Rebuild for Fedora Core 1.
-
-* Tue Oct 21 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 1.0rc1.
-- Disable ALSA by default for ppc, as it can't be supported with YDL kernels.
-
-* Thu Aug  7 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 1.0rc0a.
-- Added speex support.
-- Removed all .la files of the plugins, not built by default anymore.
-
-* Mon May 12 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 1.0beta12.
-
-* Tue Apr 29 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 1.0beta11.
-
-* Wed Apr  9 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 1.0beta10.
-
-* Mon Mar 31 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Rebuilt for Red Hat Linux 9.
-- Exclude .la files.
-
-* Sun Mar 23 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 1.0beta9.
-
-* Mon Mar 10 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 1.0beta8, no really, I mean it this time.
-- Exclude vidix plugins for non x86 archs.
-
-* Sun Mar  9 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 1.0beta8.
-
-* Thu Feb 27 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 1.0beta6.
-
-* Sat Feb 22 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 1.0beta5.
-
-* Tue Feb  4 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Rebuild now defaults to use the internal libdvdnav since many people
-  reported problems using the external CVS snapshot.
-
-* Thu Jan 30 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 1.0beta4 since beta3 had a build bug un mmx cpus.
-
-* Wed Jan 29 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 1.0beta3.
-- Added flac, libfame, rte and gnomevfs2 build options.
-
-* Sun Jan 12 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Repackage the latest 1.0beta2 at last, it's usable now.
-- Split pack into xine/xine-lib instead of xine/xine-libs and two source
-  packages.
-
-* Sun Oct  6 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Removed --without arts from %%description as it can't work if arts-devel
-  is installed.
-- Added vidix files.
-- Delete unpackaged xitk related files.
-
-* Mon Sep 30 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Fixed ALSA support.
-- Spec file cleanup.
-- New --without aalib, lirc and arts options.
-
-* Thu Sep 26 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Rebuilt for Red Hat Linux 8.0.
-
-* Tue Aug 27 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Added new .desktop file support.
-- Added alsa support.
-
-* Sun Aug  4 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Fixed plugins (new API version again).
-- Rebuilt without the NVIDIA_GLX package :-/
-
-* Sun Aug  4 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.9.13.
-- Updated both d4d and d5d plugins.
-- Now use %%find_lang.
-
-* Tue Jun 25 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.9.12.
-
-* Mon Jun 17 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Split into xine (UI) and xine-libs to be able to install just the engine
-  for other frontends.
-
-* Mon May 27 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.9.10 final.
-- Added a quick perl regexp hack for the d4d &amp; d5d API versions.
-
-* Thu May  9 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Almost complete spec file rewrite to reflect improvements in the build
-  process (simplifications were now possible).
-- Updated the d5d plugin to 0.2.4.
-- Moved everything from %%install to %%build as it seems more logical.
-- Added %%{?_smp_mflags} and LIBRARY_PATH for the lib, thanks Ralf!
-- Added the d4d plugin as well.
-
-* Tue Apr 30 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.9.9.
-
-* Wed Jan 16 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.9.8 with new all-in-one d5d css and menu support plugin.
-- Cleaned up the docs.
-
-* Tue Dec 11 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.9.7.
-
-* Thu Nov 29 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.9.6.
-
-* Sat Nov 24 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.9.5, added the new LC_MESSAGEs.
-
-* Tue Nov  6 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.9.4 (0.9.3 had build problems).
-- Update d4d plugin to 0.2.7.
-- Put the menu navigation plugin back in and update it to 0.9.3beta
-  (yeah, Fred, I'm doing that for you ;-)).
-
-* Thu Nov  1 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Added the missing xineshot to %files.
-- Removed the menu navigation plugin : It's so buggy and not moving very
-  fast. If you want menu support, try Ogle, it's worth it!
-- Added new man pages translations.
-- Cleaned-up the %doc section, lots were added recently.
-- Modified the way the target cpu is forced, it should now be possible to
-  rebuild for anything else than i686.
-
-* Mon Oct 22 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Removed the libdvdcss since it was making xine mutually exclusive with
-  videolan... and moved it to a separate package instead.
-- Removed the ugly hacks from libtool problems, I guess this spec won't
-  be suited for 7.1 anymore.
-
-* Sun Oct 21 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Addedd libdvdcss library so that encrypted menus can now be played too.
-- Updated lots of dependencies (ogg vorbis, arts, zlib, esd, libpng).
-
-* Tue Oct 16 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.9.2 with updated CSS plugin and libvdvread.
-
-* Mon Oct  8 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Rebuilt for Red Hat 7.2 with lirc support.
-
-* Wed Sep 19 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Updated the dvdnav plugin to the latest version.
-
-* Tue Sep 18 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.9.1.
-- Update libdvdread to 0.9.1 too :-)
-
-* Fri Sep 14 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.9.0.
-- Spec file cleanup, the configure scripts and the way they use macros
-  are still too crappy to clean up more :-(
-- Included the new menu plugin and libdvdcss...slurp!
-
-* Thu Sep 13 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.5.3 and kept d4d plugin 0.2.2 (0.2.4 doesn't compile for me).
-
-* Mon Sep  3 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.5.2.
-- Removed the &quot;aaxine&quot; binary.
-
-* Sat Aug 11 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.5.1.
-
-* Fri Aug 10 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Nothing weird with the package in one whole week, I'll release it :-)
-
-* Mon Aug  6 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.5.0.
-- Merged the new &quot;lib&quot; and &quot;ui&quot; sources in the same SRPM and split the
-  binaries in a main and a &quot;devel&quot; package.
-
-* Thu May 17 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.4.3.
-
-* Thu May 10 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Changed the spec file to now use XINE_BUILD to override the default
-  build arch and use the compilation optimisations chosen by the xine
-  authors in the configure script.
-- Doesn't work with --arch=athlon though... I wonder why!
-
-* Mon May  7 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.4.2.
-
-* Fri Apr 20 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Rebuilt for Red Hat 7.1.
-
-* Thu Mar  8 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Update to 0.4.01.
-
-* Thu Feb 15 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Updated the DeCSS plugin to the latest 0.1.2 release.
-- Added a menu entry since xine is now stable enough to not need to be
-  launched in a terminal anymore.
-
-* Wed Jan 31 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Upgraded to 0.3.7 with the subtitles patch to the plugin
-
-* Wed Jan 31 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Upgraded to 0.3.6 with the same plugin
-
-* Sat Jan 13 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- Included the DeCSS dvd plugin for 0.3.5
-
-* Wed Jan 10 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- upgraded to 0.3.5
-
-* Mon Jan  8 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- upgraded to 0.3.4
-- tweak to configure.in to compile with gcc 2.96
-
-* Tue Jan  2 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- upgraded to 0.3.3
-
-* Sun Dec 17 2000 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- upgraded to 0.3.2 &quot;complete&quot; :-)
-- fixed my files section to include the new skin
-
-* Mon Nov 20 2000 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
-- cleaned-up the spec file for RedHat 7.0
-- added stripping, changed prefix, added docs, added defattr
-
-* Fri Oct 17 2000 Daniel Caujolle-Bert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">f1rmb at users.sourceforge.net</A>&gt;
-- first spec file.
-


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003801.html">[svn] r5001 - in trunk/rpms: bash-completion cfengine gocr librsync	partimage rdiff-backup spamassassin
</A></li>
	<LI>Next message: <A HREF="003803.html">[svn] r5003 - in trunk/rpms: mcabber miredo
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3802">[ date ]</a>
              <a href="thread.html#3802">[ thread ]</a>
              <a href="subject.html#3802">[ subject ]</a>
              <a href="author.html#3802">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
