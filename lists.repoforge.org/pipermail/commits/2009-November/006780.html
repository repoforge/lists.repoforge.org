<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r7985 - in trunk/rpms: comix cvs2svn faad2 munin	nautilus-python perl-AnyEvent perl-Brackup	perl-CGI-FormBuilder perl-Convert-Bencode	perl-Data-Stream-Bulk perl-Image-Info perl-Jifty	perl-Jifty-Plugin-OpenID perl-LWPx-ParanoidAgent	perl-Lingua-Romana-Perligata perl-Net-Amazon-S3	perl-Net-Growl perl-SQL-Abstract perl-SQL-Statement	perl-SQL-Translator perl-Spreadsheet-ParseExcel perl-Switch	perl-Sys-Filesystem perl-Test-Compile perl-Test-Differences	perl-Test-Script perl-Test-WWW-Selenium perl-Text-CSV	perl-Text-CSV_XS perl-URI-ParseSearchString	perl-Variable-Magic perl-WebService-Prowl perl-XML-LibXML	perl-XML-RSS perl-Yahoo-Marketing perl-lib-abs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r7985%20-%20in%20trunk/rpms%3A%20comix%20cvs2svn%20faad2%20munin%0A%09nautilus-python%20perl-AnyEvent%20perl-Brackup%0A%09perl-CGI-FormBuilder%20perl-Convert-Bencode%0A%09perl-Data-Stream-Bulk%20perl-Image-Info%20perl-Jifty%0A%09perl-Jifty-Plugin-OpenID%20perl-LWPx-ParanoidAgent%0A%09perl-Lingua-Romana-Perligata%20perl-Net-Amazon-S3%0A%09perl-Net-Growl%20perl-SQL-Abstract%20perl-SQL-Statement%0A%09perl-SQL-Translator%20perl-Spreadsheet-ParseExcel%20perl-Switch%0A%09perl-Sys-Filesystem%20perl-Test-Compile%20perl-Test-Differences%0A%09perl-Test-Script%20perl-Test-WWW-Selenium%20perl-Text-CSV%0A%09perl-Text-CSV_XS%20perl-URI-ParseSearchString%0A%09perl-Variable-Magic%20perl-WebService-Prowl%20perl-XML-LibXML%0A%09perl-XML-RSS%20perl-Yahoo-Marketing%20perl-lib-abs&In-Reply-To=%3C200911031452.nA3EqhD9028578%40surya.karan.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006779.html">
   <LINK REL="Next"  HREF="006781.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r7985 - in trunk/rpms: comix cvs2svn faad2 munin	nautilus-python perl-AnyEvent perl-Brackup	perl-CGI-FormBuilder perl-Convert-Bencode	perl-Data-Stream-Bulk perl-Image-Info perl-Jifty	perl-Jifty-Plugin-OpenID perl-LWPx-ParanoidAgent	perl-Lingua-Romana-Perligata perl-Net-Amazon-S3	perl-Net-Growl perl-SQL-Abstract perl-SQL-Statement	perl-SQL-Translator perl-Spreadsheet-ParseExcel perl-Switch	perl-Sys-Filesystem perl-Test-Compile perl-Test-Differences	perl-Test-Script perl-Test-WWW-Selenium perl-Text-CSV	perl-Text-CSV_XS perl-URI-ParseSearchString	perl-Variable-Magic perl-WebService-Prowl perl-XML-LibXML	perl-XML-RSS perl-Yahoo-Marketing perl-lib-abs</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r7985%20-%20in%20trunk/rpms%3A%20comix%20cvs2svn%20faad2%20munin%0A%09nautilus-python%20perl-AnyEvent%20perl-Brackup%0A%09perl-CGI-FormBuilder%20perl-Convert-Bencode%0A%09perl-Data-Stream-Bulk%20perl-Image-Info%20perl-Jifty%0A%09perl-Jifty-Plugin-OpenID%20perl-LWPx-ParanoidAgent%0A%09perl-Lingua-Romana-Perligata%20perl-Net-Amazon-S3%0A%09perl-Net-Growl%20perl-SQL-Abstract%20perl-SQL-Statement%0A%09perl-SQL-Translator%20perl-Spreadsheet-ParseExcel%20perl-Switch%0A%09perl-Sys-Filesystem%20perl-Test-Compile%20perl-Test-Differences%0A%09perl-Test-Script%20perl-Test-WWW-Selenium%20perl-Text-CSV%0A%09perl-Text-CSV_XS%20perl-URI-ParseSearchString%0A%09perl-Variable-Magic%20perl-WebService-Prowl%20perl-XML-LibXML%0A%09perl-XML-RSS%20perl-Yahoo-Marketing%20perl-lib-abs&In-Reply-To=%3C200911031452.nA3EqhD9028578%40surya.karan.org%3E"
       TITLE="[svn] r7985 - in trunk/rpms: comix cvs2svn faad2 munin	nautilus-python perl-AnyEvent perl-Brackup	perl-CGI-FormBuilder perl-Convert-Bencode	perl-Data-Stream-Bulk perl-Image-Info perl-Jifty	perl-Jifty-Plugin-OpenID perl-LWPx-ParanoidAgent	perl-Lingua-Romana-Perligata perl-Net-Amazon-S3	perl-Net-Growl perl-SQL-Abstract perl-SQL-Statement	perl-SQL-Translator perl-Spreadsheet-ParseExcel perl-Switch	perl-Sys-Filesystem perl-Test-Compile perl-Test-Differences	perl-Test-Script perl-Test-WWW-Selenium perl-Text-CSV	perl-Text-CSV_XS perl-URI-ParseSearchString	perl-Variable-Magic perl-WebService-Prowl perl-XML-LibXML	perl-XML-RSS perl-Yahoo-Marketing perl-lib-abs">packagers at lists.rpmforge.net
       </A><BR>
    <I>Tue Nov  3 15:52:43 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006779.html">[svn] r7984 - in trunk/tools/dar: . dists/el2i dists/el3a	dists/el3i dists/el4a dists/el4i dists/el5a dists/el5i	dists/fc1i dists/fc2a dists/fc2i dists/fc3a dists/fc3i	dists/fc4i dists/nodist dists/rh6i dists/rh7i dists/rh8i	dists/rh9i scripts
</A></li>
        <LI>Next message: <A HREF="006781.html">[svn] r7986 - in trunk/rpms: . python-cxx python-nautilus	python-svn rabbitvcs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6780">[ date ]</a>
              <a href="thread.html#6780">[ thread ]</a>
              <a href="subject.html#6780">[ subject ]</a>
              <a href="author.html#6780">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: shuff
Date: 2009-11-03 14:52:40 +0000 (Tue, 03 Nov 2009)
New Revision: 7985

Added:
   trunk/rpms/munin/munin-1.2.6-rrdtool-1.3.patch
   trunk/rpms/munin/munin.te
Modified:
   trunk/rpms/comix/comix.spec
   trunk/rpms/cvs2svn/cvs2svn.spec
   trunk/rpms/faad2/faad2.spec
   trunk/rpms/munin/munin.spec
   trunk/rpms/nautilus-python/nautilus-python.spec
   trunk/rpms/perl-AnyEvent/perl-AnyEvent.spec
   trunk/rpms/perl-Brackup/perl-Brackup.spec
   trunk/rpms/perl-CGI-FormBuilder/perl-CGI-FormBuilder.spec
   trunk/rpms/perl-Convert-Bencode/perl-Convert-Bencode.spec
   trunk/rpms/perl-Data-Stream-Bulk/perl-Data-Stream-Bulk.spec
   trunk/rpms/perl-Image-Info/perl-Image-Info.spec
   trunk/rpms/perl-Jifty-Plugin-OpenID/perl-Jifty-Plugin-OpenID.spec
   trunk/rpms/perl-Jifty/perl-Jifty.spec
   trunk/rpms/perl-LWPx-ParanoidAgent/perl-LWPx-ParanoidAgent.spec
   trunk/rpms/perl-Lingua-Romana-Perligata/perl-Lingua-Romana-Perligata.spec
   trunk/rpms/perl-Net-Amazon-S3/perl-Net-Amazon-S3.spec
   trunk/rpms/perl-Net-Growl/perl-Net-Growl.spec
   trunk/rpms/perl-SQL-Abstract/perl-SQL-Abstract.spec
   trunk/rpms/perl-SQL-Statement/perl-SQL-Statement.spec
   trunk/rpms/perl-SQL-Translator/perl-SQL-Translator.spec
   trunk/rpms/perl-Spreadsheet-ParseExcel/perl-Spreadsheet-ParseExcel.spec
   trunk/rpms/perl-Switch/perl-Switch.spec
   trunk/rpms/perl-Sys-Filesystem/perl-Sys-Filesystem.spec
   trunk/rpms/perl-Test-Compile/perl-Test-Compile.spec
   trunk/rpms/perl-Test-Differences/perl-Test-Differences.spec
   trunk/rpms/perl-Test-Script/perl-Test-Script.spec
   trunk/rpms/perl-Test-WWW-Selenium/perl-Test-WWW-Selenium.spec
   trunk/rpms/perl-Text-CSV/perl-Text-CSV.spec
   trunk/rpms/perl-Text-CSV_XS/perl-Text-CSV_XS.spec
   trunk/rpms/perl-URI-ParseSearchString/perl-URI-ParseSearchString.spec
   trunk/rpms/perl-Variable-Magic/perl-Variable-Magic.spec
   trunk/rpms/perl-WebService-Prowl/perl-WebService-Prowl.spec
   trunk/rpms/perl-XML-LibXML/perl-XML-LibXML.spec
   trunk/rpms/perl-XML-RSS/perl-XML-RSS.spec
   trunk/rpms/perl-Yahoo-Marketing/perl-Yahoo-Marketing.spec
   trunk/rpms/perl-lib-abs/perl-lib-abs.spec
Log:
reverted ugly kludge from r7955, added munin security patch and SElinux policy


Modified: trunk/rpms/comix/comix.spec
===================================================================
--- trunk/rpms/comix/comix.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/comix/comix.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -14,15 +14,8 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 Buildarch: noarch
-BuildRequires: gtk2-devel &gt;= 2.12.0
-BuildRequires: pygtk2-devel &gt;= 2.12.0
-BuildRequires: python
-BuildRequires: python-imaging
-Requires: gtk2 &gt;= 2.12.0
-Requires: pygtk2 &gt;= 2.12.0
-Requires: python
-Requires: python-imaging
-Requires: rar
+BuildRequires: python, python-imaging, pygtk2-devel &gt;= 2.12.0, gtk2-devel &gt;= 2.12.0
+Requires: python, python-imaging, rar, pygtk2 &gt;= 2.12.0, gtk2 &gt;= 2.12.0
 
 %description
 Comix is a comic book viewer. It reads zip, rar, tar, tar.gz, and tar.bz2
@@ -54,7 +47,9 @@
 
 %changelog
 * Wed Jul  1 2009 Steve Huff &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">hakamadare at users.sourceforge.net</A>&gt; - 4.0.4-2
-- Added version to pygtk2 related BuildRequires.
+- This version has minimum required versions of some libraries that
+  prevent it from running on stock RHEL5; captured them (this enforces
+  the FIXME noted above).
 
 * Tue Apr  7 2009 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 4.0.4-1
 - Updated to release 4.0.4.

Modified: trunk/rpms/cvs2svn/cvs2svn.spec
===================================================================
--- trunk/rpms/cvs2svn/cvs2svn.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/cvs2svn/cvs2svn.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 
 %define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 Summary: converts CVS repository to Subversion
 Name: cvs2svn
 Version: 2.3.0
@@ -54,7 +20,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: python &gt;= 2.4, python-devel &gt;= 2.4
-#BuildRequires: rpm-macros-rpmforge
+BuildRequires: rpm-macros-rpmforge
 Requires: coreutils
 Requires: cvs
 Requires: gdbm

Modified: trunk/rpms/faad2/faad2.spec
===================================================================
--- trunk/rpms/faad2/faad2.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/faad2/faad2.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -12,7 +12,7 @@
 
 Summary: Library and frontend for decoding MPEG2/4 AAC
 Name: faad2
-Version: 2.6.1
+Version: 2.7
 Release: 1%{?dist}
 License: GPL
 Group: Applications/Multimedia
@@ -42,7 +42,7 @@
 you will need to install %{name}-devel.
 
 %prep
-%setup -n %{name}
+%setup
 #patch0 -p1 -b .buildfix
 #patch1 -p1 -b .faacDec
 
@@ -69,17 +69,24 @@
 %files
 %defattr(-, root, root, 0755)
 %doc AUTHORS COPYING ChangeLog NEWS README* TODO
+%{_mandir}/manm/faad.man.gz
 %{_bindir}/faad
 %{_libdir}/libfaad.so.*
+%{_libdir}/libfaad.la
+%{_libdir}/libmp4ff.a
 
 %files devel
 %defattr(-, root, root, 0755)
 %{_includedir}/faad.h
+%{_includedir}/mp4ff.h
+%{_includedir}/mp4ffint.h
 %{_includedir}/neaacdec.h
 %{_libdir}/libfaad.so
-%exclude %{_libdir}/libfaad.la
 
 %changelog
+* Tue Oct 06 2009 Steve Huff &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">shuff at vecna.org</A>&gt; - 2.7-1
+- Updated to release 2.7.
+
 * Mon Nov 10 2008 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.6.1-1
 - Updated to release 2.6.1.
 

Added: trunk/rpms/munin/munin-1.2.6-rrdtool-1.3.patch
===================================================================
--- trunk/rpms/munin/munin-1.2.6-rrdtool-1.3.patch	                        (rev 0)
+++ trunk/rpms/munin/munin-1.2.6-rrdtool-1.3.patch	2009-11-03 14:52:40 UTC (rev 7985)
@@ -0,0 +1,34 @@
+Description: Patch to handle utf8 with RRDTool version &gt;= 1.3.  Not fixed in
+ upstream tags/1.3.4, and trunk is rewritten.
+Origin: other, <A HREF="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=494547">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=494547</A>
+Bug-Debian: <A HREF="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=494547">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=494547</A>
+Forwarded: no
+Index: munin-1.2.6/server/munin-graph.in
+===================================================================
+--- munin-1.2.6.orig/server/munin-graph.in	2008-09-08 21:42:45.000000000 +0200
++++ munin-1.2.6/server/munin-graph.in	2008-09-08 21:52:01.000000000 +0200
+@@ -30,6 +30,7 @@
+ use Digest::MD5;
+ use Getopt::Long;
+ use Time::HiRes;
++if ($RRDs::VERSION &gt;= 1.3) { use Encode; }
+ 
+ my $graph_time= Time::HiRes::time;
+ my $DEBUG = 0;
+@@ -858,6 +859,16 @@
+ 	    }
+ 	    print &quot;\n\nrrdtool \&quot;graph\&quot; \&quot;&quot;,
+ 	      join (&quot;\&quot;\n\t\&quot;&quot;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">, at complete</A>), &quot;\&quot;\n&quot; if $DEBUG;
++
++	    # Since version 1.3 rrdtool uses libpango which needs its input  
++	    # as utf8 string. So we assume that every input is in latin1 
++	    # and decode it to perl's internal representation and then to utf8. 
++     	    if ( $RRDs::VERSION &gt;= 1.3 ) { 
++ 	        @complete = map { 
++		    $_ = encode(&quot;utf8&quot;, (decode(&quot;latin1&quot;, $_)));
++		} @complete;
++	    }
++
+ 	    RRDs::graph (@complete);
+ 	    if (my $ERROR = RRDs::error) {
+ 		logger (&quot;Unable to graph $filename: $ERROR&quot;);

Modified: trunk/rpms/munin/munin.spec
===================================================================
--- trunk/rpms/munin/munin.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/munin/munin.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,6 +5,12 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define logmsg logger -t %{name}/rpm
 
+%{?el4:%define _without_selinux 1}
+%{?el3:%define _without_selinux 1}
+%{?rh9:%define _without_selinux 1}
+%{?rh7:%define _without_selinux 1}
+
+
 Summary: Network-wide graphing framework (grapher/gatherer)
 Name: munin
 Version: 1.2.6
@@ -16,6 +22,7 @@
 Source0: <A HREF="http://dl.sf.net/sourceforge/munin/munin_%{version">http://dl.sf.net/sourceforge/munin/munin_%{version</A>}.tar.gz
 Source1: munin-1.2.5-hddtemp_smartctl-config
 Source2: munin-1.2.4-sendmail-config
+Source3: munin.te
 Patch1: munin-1.2.4-conf.patch
 Patch2: munin-1.2.6-rrdtool-1.3.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
@@ -24,6 +31,7 @@
 Requires: perl-Net-Server, perl-Net-SNMP
 Requires: rrdtool, shadow-utils
 BuildRequires: which
+%{!?_without_selinux:BuildRequires: checkpolicy, policycoreutils}
 
 %description
 Munin is a highly flexible and powerful solution used to create graphs of
@@ -133,6 +141,14 @@
 %build
 %{__make} build CONFIG=&quot;dists/redhat/Makefile.config&quot; HTMLDIR=&quot;/var/www/munin&quot;
 
+### set up SELinux module if called for
+%if %{!_without_selinux}
+checkmodule -M -m -o %{name}.mod %{SOURCE3}
+semodule_package -o %{name}.pp -m %{name}.mod
+%{__install} -d -m0755 %{buildroot}%{_datadir}/selinux/targeted/
+%{__install} %{name}.pp %{buildroot}%{_datadir}/selinux/targeted/
+%endif
+
 %install
 %{__rm} -rf %{buildroot}
 
@@ -191,6 +207,11 @@
                 %logmsg &quot;Unexpected error adding user \&quot;munin\&quot;. Aborting installation.&quot;
 fi
 
+%post
+%if %{!_without_selinux}
+semodule -i %{_datadir}/targeted/%{name}.pp
+%endif
+
 ### userdel removes group munin as well
 %postun
 if [ $1 -eq 0 ]; then
@@ -250,6 +271,7 @@
 %{_datadir}/munin/munin-limits
 %{_datadir}/munin/munin-update
 %{_datadir}/munin/VeraMono.ttf
+%attr(root, root, 0644) %{_datadir}/targeted/*
 %{perl_vendorlib}/Munin.pm
 %{perl_vendorlib}/Munin/Plugin.pm
 
@@ -290,6 +312,10 @@
 %dir %{_localstatedir}/log/munin/
 
 %changelog
+* Thu Sep 03 2009 Steve Huff &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">shuff at vecna.org</A>&gt; - 1.2.6-2
+- add SELinux policy module to quash warnings generated by ping and
+  ifconfig
+
 * Wed May 27 2009 Christoph Maser &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">cmr at financial.com</A>&gt; - 1.2.6-1
 - Update to 1.2.6
 - Remove cron.d patch

Added: trunk/rpms/munin/munin.te
===================================================================
--- trunk/rpms/munin/munin.te	                        (rev 0)
+++ trunk/rpms/munin/munin.te	2009-11-03 14:52:40 UTC (rev 7985)
@@ -0,0 +1,9 @@
+module munin 1.0;
+
+# munin doesn't close a TCP socket when pinging
+require {
+        type ifconfig_t;
+        type initrc_t;
+
+        class tcp_socket { read write };
+}

Modified: trunk/rpms/nautilus-python/nautilus-python.spec
===================================================================
--- trunk/rpms/nautilus-python/nautilus-python.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/nautilus-python/nautilus-python.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -9,40 +9,6 @@
 %define python_version %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_version()')
 %define nautilus_extensiondir %(pkg-config --variable=extensiondir libnautilus-extension)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 Summary: Python bindings for Nautilus
 Name: nautilus-python
 Version: 0.5.0
@@ -61,7 +27,7 @@
 BuildRequires: pkgconfig &gt;= 0.9.0
 BuildRequires: pygtk2-devel &gt;= 2.8
 BuildRequires: python-devel &gt;= 2.3
-#BuildRequires: rpm-macros-rpmforge
+BuildRequires: rpm-macros-rpmforge
 BuildRequires: /bin/sed
 BuildRequires: /usr/bin/find
 BuildRequires: /usr/bin/xargs

Modified: trunk/rpms/perl-AnyEvent/perl-AnyEvent.spec
===================================================================
--- trunk/rpms/perl-AnyEvent/perl-AnyEvent.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-AnyEvent/perl-AnyEvent.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -6,40 +6,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name AnyEvent
 
 Summary: Framework for multiple event loops

Modified: trunk/rpms/perl-Brackup/perl-Brackup.spec
===================================================================
--- trunk/rpms/perl-Brackup/perl-Brackup.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Brackup/perl-Brackup.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -8,40 +8,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Brackup
 
 Summary: Flexible backup tool
@@ -73,7 +39,7 @@
 BuildRequires: perl(Net::SFTP::Foreign)
 BuildRequires: perl(POSIX)
 BuildRequires: perl(Test::More)
-#BuildRequires: rpm-macros-rpmforge
+BuildRequires: rpm-macros-rpmforge
 Requires: perl
 Requires: perl(Carp)
 Requires: perl(DBD::SQLite)

Modified: trunk/rpms/perl-CGI-FormBuilder/perl-CGI-FormBuilder.spec
===================================================================
--- trunk/rpms/perl-CGI-FormBuilder/perl-CGI-FormBuilder.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-CGI-FormBuilder/perl-CGI-FormBuilder.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name CGI-FormBuilder
 
 Summary: Easily generate and process stateful forms
@@ -60,7 +26,7 @@
 BuildRequires: perl(HTML::Template) &gt;= 2.06
 BuildRequires: perl(Template) &gt;= 2.08
 BuildRequires: perl(Text::Template) &gt;= 1.43
-# BuildRequires: rpm-macros-rpmforge
+BuildRequires: rpm-macros-rpmforge
 Requires: perl
 Requires: perl(CGI)
 Requires: perl(CGI::FastTemplate) &gt;= 1.09

Modified: trunk/rpms/perl-Convert-Bencode/perl-Convert-Bencode.spec
===================================================================
--- trunk/rpms/perl-Convert-Bencode/perl-Convert-Bencode.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Convert-Bencode/perl-Convert-Bencode.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Convert-Bencode
 
 Summary: Functions for converting to/from bencoded strings
@@ -56,7 +22,7 @@
 BuildRequires: perl
 BuildRequires: perl(ExtUtils::MakeMaker)
 BuildRequires: perl(Test::More) &gt;= 0.45
-#BuildRequires: rpm-macros-rpmforge
+BuildRequires: rpm-macros-rpmforge
 Requires: perl
 
 ### remove autoreq Perl dependencies

Modified: trunk/rpms/perl-Data-Stream-Bulk/perl-Data-Stream-Bulk.spec
===================================================================
--- trunk/rpms/perl-Data-Stream-Bulk/perl-Data-Stream-Bulk.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Data-Stream-Bulk/perl-Data-Stream-Bulk.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Data-Stream-Bulk
 
 Summary: N at a time iteration API
@@ -59,7 +25,7 @@
 BuildRequires: perl(namespace::clean) &gt;= 0.08
 BuildRequires: perl(Sub::Exporter)
 BuildRequires: perl(Test::use::ok)
-#BuildRequires: rpm-macros-rpmforge
+BuildRequires: rpm-macros-rpmforge
 Requires: perl
 Requires: perl(Moose)
 Requires: perl(namespace::clean) &gt;= 0.08

Modified: trunk/rpms/perl-Image-Info/perl-Image-Info.spec
===================================================================
--- trunk/rpms/perl-Image-Info/perl-Image-Info.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Image-Info/perl-Image-Info.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Image-Info
 
 Summary: Extract meta information from image files
@@ -55,7 +21,7 @@
 BuildArch: noarch
 BuildRequires: perl &gt;= 1:5.6.2
 BuildRequires: perl(ExtUtils::MakeMaker)
-# BuildRequires: rpm-macros-rpmforge
+BuildRequires: rpm-macros-rpmforge
 #BuildRequires: perl(Test::More) &gt;= 0.62
 Requires: perl &gt;= 1:5.6.2
 

Modified: trunk/rpms/perl-Jifty/perl-Jifty.spec
===================================================================
--- trunk/rpms/perl-Jifty/perl-Jifty.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Jifty/perl-Jifty.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Jifty
 
 Summary: Perl package that implements an application framework
@@ -177,7 +143,7 @@
 BuildRequires: perl(version)
 BuildRequires: perl(YAML) &gt;= 0.35
 BuildRequires: perl(YAML::Syck) &gt;= 0.71
-# BuildRequires: rpm-macros-rpmforge
+BuildRequires: rpm-macros-rpmforge
 Requires: perl &gt;= 2:5.8.3
 Requires: perl(Cache::Simple::TimedExpiry)
 Requires: perl(Number::RecordLocator)

Modified: trunk/rpms/perl-Jifty-Plugin-OpenID/perl-Jifty-Plugin-OpenID.spec
===================================================================
--- trunk/rpms/perl-Jifty-Plugin-OpenID/perl-Jifty-Plugin-OpenID.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Jifty-Plugin-OpenID/perl-Jifty-Plugin-OpenID.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Jifty-Plugin-OpenID
 
 Summary: Provides OpenID authentication for your jifty app
@@ -59,7 +25,7 @@
 BuildRequires: perl(Jifty)
 BuildRequires: perl(LWPx::ParanoidAgent)
 BuildRequires: perl(Net::OpenID::Consumer)
-# BuildRequires: rpm-macros-rpmforge
+BuildRequires: rpm-macros-rpmforge
 
 # we don't want to either provide or require anything from _docdir, per policy
 %filter_provides_in %{_docdir}

Modified: trunk/rpms/perl-LWPx-ParanoidAgent/perl-LWPx-ParanoidAgent.spec
===================================================================
--- trunk/rpms/perl-LWPx-ParanoidAgent/perl-LWPx-ParanoidAgent.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-LWPx-ParanoidAgent/perl-LWPx-ParanoidAgent.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name LWPx-ParanoidAgent
 
 Summary: subclass of LWP::UserAgent that protects you from harm
@@ -57,7 +23,7 @@
 BuildRequires: perl(LWP::UserAgent)
 BuildRequires: perl(Net::DNS)
 BuildRequires: perl(Time::HiRes)
-# BuildRequires: rpm-macros-rpmforge
+BuildRequires: rpm-macros-rpmforge
 
 # we don't want to either provide or require anything from _docdir, per policy
 %filter_provides_in %{_docdir}

Modified: trunk/rpms/perl-Lingua-Romana-Perligata/perl-Lingua-Romana-Perligata.spec
===================================================================
--- trunk/rpms/perl-Lingua-Romana-Perligata/perl-Lingua-Romana-Perligata.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Lingua-Romana-Perligata/perl-Lingua-Romana-Perligata.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Lingua-Romana-Perligata
 
 Summary: Perl in Latin
@@ -56,7 +22,7 @@
 BuildRequires: perl
 BuildRequires: perl(ExtUtils::MakeMaker)
 BuildRequires: perl(Filter::Util::Call)
-# BuildRequires: rpm-macros-rpmforge
+BuildRequires: rpm-macros-rpmforge
 Requires: perl
 Requires: perl(Filter::Util::Call)
 

Modified: trunk/rpms/perl-Net-Amazon-S3/perl-Net-Amazon-S3.spec
===================================================================
--- trunk/rpms/perl-Net-Amazon-S3/perl-Net-Amazon-S3.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Net-Amazon-S3/perl-Net-Amazon-S3.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -2,49 +2,12 @@
 # Authority: shuff
 # Upstream: L&#233;on Brocard &lt;leon$astray,com&gt;
 
-## This package needs Moose.
-## ExcludeDist: el3 el4
-
-## Still needs Data::Stream::Bulk, MooseX::StrictConstructor, MooseX::Types::DateTime
+## Still needs MooseX::StrictConstructor, MooseX::Types::DateTime
 ## Test
 
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Net-Amazon-S3
 
 Summary: Use the Amazon S3 - Simple Storage Service
@@ -84,7 +47,7 @@
 BuildRequires: perl(XML::LibXML)
 BuildRequires: perl(XML::LibXML::XPathContext)
 BuildRequires: perl(URI::Escape)
-#BuildRequires: rpm-macros-rpmforge
+BuildRequires: rpm-macros-rpmforge
 Requires: perl
 Requires: perl(Carp)
 Requires: perl(Class::MOP) &gt;= 0.88

Modified: trunk/rpms/perl-Net-Growl/perl-Net-Growl.spec
===================================================================
--- trunk/rpms/perl-Net-Growl/perl-Net-Growl.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Net-Growl/perl-Net-Growl.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Net-Growl
 
 Summary: Growl Notifications over the network
@@ -61,7 +27,7 @@
 BuildRequires: perl(strict)
 BuildRequires: perl(Test::More)
 BuildRequires: perl(warnings)
-#BuildRequires: rpm-macros-rpmforge
+BuildRequires: rpm-macros-rpmforge
 Requires: perl
 Requires: perl(Carp)
 Requires: perl(Exporter)
@@ -70,7 +36,7 @@
 Requires: perl(warnings)
 
 
-### AnyEvent::HTTP is optional, not required
+### remove autoreq Perl dependencies
 %filter_from_requires /^perl.*/d
 %filter_setup
 

Modified: trunk/rpms/perl-SQL-Abstract/perl-SQL-Abstract.spec
===================================================================
--- trunk/rpms/perl-SQL-Abstract/perl-SQL-Abstract.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-SQL-Abstract/perl-SQL-Abstract.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -4,40 +4,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name SQL-Abstract
 
 Name: perl-SQL-Abstract

Modified: trunk/rpms/perl-SQL-Statement/perl-SQL-Statement.spec
===================================================================
--- trunk/rpms/perl-SQL-Statement/perl-SQL-Statement.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-SQL-Statement/perl-SQL-Statement.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name SQL-Statement
 
 Summary: SQL parsing and processing engine

Modified: trunk/rpms/perl-SQL-Translator/perl-SQL-Translator.spec
===================================================================
--- trunk/rpms/perl-SQL-Translator/perl-SQL-Translator.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-SQL-Translator/perl-SQL-Translator.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name SQL-Translator
 
 Summary: SQL DDL transformations and more

Modified: trunk/rpms/perl-Spreadsheet-ParseExcel/perl-Spreadsheet-ParseExcel.spec
===================================================================
--- trunk/rpms/perl-Spreadsheet-ParseExcel/perl-Spreadsheet-ParseExcel.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Spreadsheet-ParseExcel/perl-Spreadsheet-ParseExcel.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Spreadsheet-ParseExcel
 
 Summary: Get information from Excel file

Modified: trunk/rpms/perl-Switch/perl-Switch.spec
===================================================================
--- trunk/rpms/perl-Switch/perl-Switch.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Switch/perl-Switch.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Switch
 
 Summary: Perl module that implements a switch statement

Modified: trunk/rpms/perl-Sys-Filesystem/perl-Sys-Filesystem.spec
===================================================================
--- trunk/rpms/perl-Sys-Filesystem/perl-Sys-Filesystem.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Sys-Filesystem/perl-Sys-Filesystem.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Sys-Filesystem
 
 Summary: Interface to filesystem names and their properties

Modified: trunk/rpms/perl-Test-Compile/perl-Test-Compile.spec
===================================================================
--- trunk/rpms/perl-Test-Compile/perl-Test-Compile.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Test-Compile/perl-Test-Compile.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Test-Compile
 
 Summary: check whether Perl module files compile correctly

Modified: trunk/rpms/perl-Test-Differences/perl-Test-Differences.spec
===================================================================
--- trunk/rpms/perl-Test-Differences/perl-Test-Differences.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Test-Differences/perl-Test-Differences.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Test-Differences
 
 Summary: Test strings and data structures and show differences if not ok

Modified: trunk/rpms/perl-Test-Script/perl-Test-Script.spec
===================================================================
--- trunk/rpms/perl-Test-Script/perl-Test-Script.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Test-Script/perl-Test-Script.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Test-Script
 
 Summary: Cross-platform basic tests for scripts

Modified: trunk/rpms/perl-Test-WWW-Selenium/perl-Test-WWW-Selenium.spec
===================================================================
--- trunk/rpms/perl-Test-WWW-Selenium/perl-Test-WWW-Selenium.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Test-WWW-Selenium/perl-Test-WWW-Selenium.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Test-WWW-Selenium
 
 Summary: Test applications using Selenium Remote Control

Modified: trunk/rpms/perl-Text-CSV/perl-Text-CSV.spec
===================================================================
--- trunk/rpms/perl-Text-CSV/perl-Text-CSV.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Text-CSV/perl-Text-CSV.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Text-CSV
 
 Summary: comma-separated values manipulator (using XS or PurePerl)

Modified: trunk/rpms/perl-Text-CSV_XS/perl-Text-CSV_XS.spec
===================================================================
--- trunk/rpms/perl-Text-CSV_XS/perl-Text-CSV_XS.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Text-CSV_XS/perl-Text-CSV_XS.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Text-CSV_XS
 
 Summary: Comma-separated values manipulation routines

Modified: trunk/rpms/perl-URI-ParseSearchString/perl-URI-ParseSearchString.spec
===================================================================
--- trunk/rpms/perl-URI-ParseSearchString/perl-URI-ParseSearchString.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-URI-ParseSearchString/perl-URI-ParseSearchString.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name URI-ParseSearchString
 
 Summary: Parse Apache referer logs and extract search engine query strings

Modified: trunk/rpms/perl-Variable-Magic/perl-Variable-Magic.spec
===================================================================
--- trunk/rpms/perl-Variable-Magic/perl-Variable-Magic.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Variable-Magic/perl-Variable-Magic.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Variable-Magic
 
 Summary: Associate user-defined magic to variables from Perl

Modified: trunk/rpms/perl-WebService-Prowl/perl-WebService-Prowl.spec
===================================================================
--- trunk/rpms/perl-WebService-Prowl/perl-WebService-Prowl.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-WebService-Prowl/perl-WebService-Prowl.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name WebService-Prowl
 
 Summary: a interface to Prowl Public API

Modified: trunk/rpms/perl-XML-LibXML/perl-XML-LibXML.spec
===================================================================
--- trunk/rpms/perl-XML-LibXML/perl-XML-LibXML.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-XML-LibXML/perl-XML-LibXML.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -8,40 +8,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name XML-LibXML
 
 Summary: Interface to Gnome libxml2 xml parsing and DOM library

Modified: trunk/rpms/perl-XML-RSS/perl-XML-RSS.spec
===================================================================
--- trunk/rpms/perl-XML-RSS/perl-XML-RSS.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-XML-RSS/perl-XML-RSS.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name XML-RSS
 
 Summary: Creates and updates RSS files

Modified: trunk/rpms/perl-Yahoo-Marketing/perl-Yahoo-Marketing.spec
===================================================================
--- trunk/rpms/perl-Yahoo-Marketing/perl-Yahoo-Marketing.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-Yahoo-Marketing/perl-Yahoo-Marketing.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -5,40 +5,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name Yahoo-Marketing
 
 Summary: Interface for Yahoo! Search Marketing's Web Services

Modified: trunk/rpms/perl-lib-abs/perl-lib-abs.spec
===================================================================
--- trunk/rpms/perl-lib-abs/perl-lib-abs.spec	2009-11-03 04:29:18 UTC (rev 7984)
+++ trunk/rpms/perl-lib-abs/perl-lib-abs.spec	2009-11-03 14:52:40 UTC (rev 7985)
@@ -7,40 +7,6 @@
 %define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
-### BEGIN KLUDGE
-## temporary fix until package builders install rpm-macros-rpmforge in their
-## build environments; once that's done, remove the kludge
-## 2009-10-26 shuff
-
-# prevent anything matching from being scanned for provides
-%define filter_provides_in(P) %{expand: \
-%global __filter_prov_cmd %{?__filter_prov_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# prevent anything matching from being scanned for requires
-%define filter_requires_in(P) %{expand: \
-%global __filter_req_cmd %{?__filter_req_cmd} %{__grep} -v %{-P} '%*' | \
-}
-
-# filter anything matching out of the provides stream
-%define filter_from_provides() %{expand: \
-%global __filter_from_prov %{?__filter_from_prov} | %{__sed} -e '%*' \
-}
-
-# filter anything matching out of the requires stream
-%define filter_from_requires() %{expand: \
-%global __filter_from_req %{?__filter_from_req} | %{__sed} -e '%*' \
-}
-
-# actually set up the filtering bits 
-%define filter_setup %{expand: \
-%global _use_internal_dependency_generator 0 \
-%global __deploop() while read FILE; do /usr/lib/rpm/rpmdeps -%{1} ${FILE}; done | /bin/sort -u \
-%global __find_provides /bin/sh -c &quot;%{?__filter_prov_cmd} %{__deploop P} %{?__filter_from_prov}&quot; \
-%global __find_requires /bin/sh -c &quot;%{?__filter_req_cmd}  %{__deploop R} %{?__filter_from_req}&quot; \
-}
-### END KLUDGE
-
 %define real_name lib-abs
 
 Summary: The same as C&lt;lib&gt;, but makes relative path absolute
@@ -59,7 +25,7 @@
 BuildRequires: perl(ExtUtils::MakeMaker)
 BuildRequires: perl(Test::More)
 BuildRequires: perl(Cwd) &gt;= 3.12
-# BuildRequires: rpm-macros-rpmforge
+BuildRequires: rpm-macros-rpmforge
 
 %filter_from_requires /^perl(module2)/d
 %filter_setup


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006779.html">[svn] r7984 - in trunk/tools/dar: . dists/el2i dists/el3a	dists/el3i dists/el4a dists/el4i dists/el5a dists/el5i	dists/fc1i dists/fc2a dists/fc2i dists/fc3a dists/fc3i	dists/fc4i dists/nodist dists/rh6i dists/rh7i dists/rh8i	dists/rh9i scripts
</A></li>
	<LI>Next message: <A HREF="006781.html">[svn] r7986 - in trunk/rpms: . python-cxx python-nautilus	python-svn rabbitvcs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6780">[ date ]</a>
              <a href="thread.html#6780">[ thread ]</a>
              <a href="subject.html#6780">[ subject ]</a>
              <a href="author.html#6780">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
