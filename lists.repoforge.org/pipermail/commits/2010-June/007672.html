<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r8878 - in /trunk/rpms: ffmpeg/ffmpeg.spec mplayer/mplayer.spec opencore-amr/opencore-amr.spec vlc/vlc-test.spec vlc/vlc.spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r8878%20-%20in%20/trunk/rpms%3A%20ffmpeg/ffmpeg.spec%0A%20mplayer/mplayer.spec%0A%20opencore-amr/opencore-amr.spec%20vlc/vlc-test.spec%20vlc/vlc.spec&In-Reply-To=%3C201006140010.o5E0Adka020172%40surya.karan.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007671.html">
   <LINK REL="Next"  HREF="007673.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r8878 - in /trunk/rpms: ffmpeg/ffmpeg.spec mplayer/mplayer.spec opencore-amr/opencore-amr.spec vlc/vlc-test.spec vlc/vlc.spec</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r8878%20-%20in%20/trunk/rpms%3A%20ffmpeg/ffmpeg.spec%0A%20mplayer/mplayer.spec%0A%20opencore-amr/opencore-amr.spec%20vlc/vlc-test.spec%20vlc/vlc.spec&In-Reply-To=%3C201006140010.o5E0Adka020172%40surya.karan.org%3E"
       TITLE="[svn] r8878 - in /trunk/rpms: ffmpeg/ffmpeg.spec mplayer/mplayer.spec opencore-amr/opencore-amr.spec vlc/vlc-test.spec vlc/vlc.spec">dag at wieers.com
       </A><BR>
    <I>Mon Jun 14 02:10:39 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007671.html">[svn] r8877 - /trunk/rpms/exiv2/exiv2.spec
</A></li>
        <LI>Next message: <A HREF="007673.html">[svn] r8879 - in /trunk/rpms: asciidoc/asciidoc.spec flash-plugin/flash-plugin-x86_64.spec flash-plugin/flash-plugin.spec libffi/ libffi/libffi.spec libtalloc/ libtalloc/libtalloc.spec ntop/ntop.spec openmpi/ openmpi/openmpi.spec viewvc/viewvc-1.0.spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7672">[ date ]</a>
              <a href="thread.html#7672">[ thread ]</a>
              <a href="subject.html#7672">[ subject ]</a>
              <a href="author.html#7672">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: Mon Jun 14 01:10:39 2010
New Revision: 8878

URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge?rev=8878&amp;view=rev">http://svn.rpmforge.net/viewvc/rpmforge?rev=8878&amp;view=rev</A>
Log:
Updates

Modified:
    trunk/rpms/ffmpeg/ffmpeg.spec
    trunk/rpms/mplayer/mplayer.spec
    trunk/rpms/opencore-amr/opencore-amr.spec
    trunk/rpms/vlc/vlc-test.spec
    trunk/rpms/vlc/vlc.spec

Modified: trunk/rpms/ffmpeg/ffmpeg.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/ffmpeg/ffmpeg.spec?rev=8878&amp;r1=8877&amp;r2=8878&amp;view=diff">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/ffmpeg/ffmpeg.spec?rev=8878&amp;r1=8877&amp;r2=8878&amp;view=diff</A>
==============================================================================
--- trunk/rpms/ffmpeg/ffmpeg.spec (original)
+++ trunk/rpms/ffmpeg/ffmpeg.spec Mon Jun 14 01:10:39 2010
@@ -2,6 +2,9 @@
 # Authority: dag
 
 ### Disabled speex support as ffmpeg needs speex 1.2 and RHEL5 ships with 1.0.5
+
+%define _without_nut 1
+%define _without_openjpeg 1
 
 %{?el5:%define _without_gsm 1}
 %{?el5:%define _without_speex 1}
@@ -19,8 +22,8 @@
 
 Summary: Utilities and libraries to record, convert and stream audio and video
 Name: ffmpeg
-Version: 0.5
-Release: 3%{?dist}
+Version: 0.5.2
+Release: 2%{?dist}
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://ffmpeg.org/">http://ffmpeg.org/</A>
@@ -31,15 +34,17 @@
 BuildRequires: SDL-devel
 BuildRequires: freetype-devel
 BuildRequires: imlib2-devel
+BuildRequires: opencore-amr-devel
 BuildRequires: zlib-devel
 %{!?_without_a52dec:BuildRequires: a52dec-devel}
-%{!?_without_amrnb:BuildRequires: amrnb-devel}
-%{!?_without_amrwb:BuildRequires: amrwb-devel}
+%{!?_without_opencore_amr:BuildRequires: opencore-amr-devel}
 #%{!?_without_vorbis:BuildRequires: libogg-devel, libvorbis-devel}
 %{!?_without_faac:BuildRequires: faac-devel}
 %{!?_without_faad:BuildRequires: faad2-devel}
 %{!?_without_gsm:BuildRequires: gsm-devel}
 %{!?_without_lame:BuildRequires: lame-devel}
+%{!?_without_nut:BuildRequires: libnut-devel}
+%{!?_without_openjpeg:BuildRequires: openjpeg-devel}
 %{!?_without_texi2html:BuildRequires: texi2html}
 %{!?_without_theora:BuildRequires: libogg-devel, libtheora-devel}
 %{!?_without_x264:BuildRequires: x264-devel}
@@ -116,26 +121,35 @@
     --shlibdir=&quot;%{_libdir}&quot; \
     --mandir=&quot;%{_mandir}&quot; \
     --incdir=&quot;%{_includedir}&quot; \
-%{?_without_v4l:--disable-demuxer=v4l} \
+    --disable-avisynth \
+%{?_without_v4l:--disable-demuxer=v4l --disable-demuxer=v4l2} \
+%ifarch %ix86
+    --extra-cflags=&quot;%{optflags}&quot; \
+%endif
 %ifarch x86_64
-    --extra-cflags=&quot;-fPIC&quot; \
+    --extra-cflags=&quot;%{optflags} -fPIC&quot; \
 %endif
-%{!?_without_amrnb:--enable-libamr-nb} \
-%{!?_without_amrwb:--enable-libamr-wb} \
+    --enable-avfilter \
+    --enable-avfilter-lavf \
 %{!?_without_dirac:--enable-libdirac} \
 %{!?_without_faac:--enable-libfaac} \
-%{!?_without_faad:--enable-libfaad} \
+%{!?_without_faad:--enable-libfaad --enable-libfaadbin} \
 %{!?_without_gsm:--enable-libgsm} \
 %{!?_without_lame:--enable-libmp3lame} \
+%{!?_without_nut:--enable-libnut} \
+%{!?_without_opencore_amr:--enable-libopencore-amrnb --enable-libopencore-amrwb} \
 %{!?_without_speex:--enable-libspeex} \
 %{!?_without_theora:--enable-libtheora} \
 %{!?_without_x264:--enable-libx264} \
     --enable-gpl \
     --enable-nonfree \
+%{!?_without_openjpeg:--enable-libopenjpeg} \
     --enable-postproc \
     --enable-pthreads \
     --enable-shared \
     --enable-swscale \
+    --enable-vdpau \
+    --enable-version3 \
     --enable-x11grab
 #%{!?_without_dc1394:--enable-libdc1394} \
 ### Native encoding exists for vorbis and xvid
@@ -180,6 +194,7 @@
 %{_datadir}/ffmpeg/
 %{_libdir}/libavcodec.so.*
 %{_libdir}/libavdevice.so.*
+%{_libdir}/libavfilter.so.*
 %{_libdir}/libavformat.so.*
 %{_libdir}/libavutil.so.*
 %{_libdir}/libswscale.so.*
@@ -190,21 +205,25 @@
 %doc _docs/*
 %{_includedir}/libavcodec/
 %{_includedir}/libavdevice/
+%{_includedir}/libavfilter/
 %{_includedir}/libavformat/
 %{_includedir}/libavutil/
 %{_includedir}/libswscale/
 %{_libdir}/libavcodec.a
 %{_libdir}/libavdevice.a
+%{_libdir}/libavfilter.a
 %{_libdir}/libavformat.a
 %{_libdir}/libavutil.a
 %{_libdir}/libswscale.a
 %{_libdir}/libavcodec.so
 %{_libdir}/libavdevice.so
+%{_libdir}/libavfilter.so
 %{_libdir}/libavformat.so
 %{_libdir}/libavutil.so
 %{_libdir}/libswscale.so
 %{_libdir}/pkgconfig/libavcodec.pc
 %{_libdir}/pkgconfig/libavdevice.pc
+%{_libdir}/pkgconfig/libavfilter.pc
 %{_libdir}/pkgconfig/libavformat.pc
 %{_libdir}/pkgconfig/libavutil.pc
 %{_libdir}/pkgconfig/libswscale.pc
@@ -218,6 +237,12 @@
 %{_libdir}/pkgconfig/libpostproc.pc
 
 %changelog
+* Sun Jun 13 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.2-2
+- Added more functionality.
+
+* Fri Jun 11 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.2-1
+- Updated to release 0.5.2.
+
 * Fri Nov 06 2009 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5-3
 - Rebuild against newer faad2 2.7.
 

Modified: trunk/rpms/mplayer/mplayer.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/mplayer/mplayer.spec?rev=8878&amp;r1=8877&amp;r2=8878&amp;view=diff">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/mplayer/mplayer.spec?rev=8878&amp;r1=8877&amp;r2=8878&amp;view=diff</A>
==============================================================================
--- trunk/rpms/mplayer/mplayer.spec (original)
+++ trunk/rpms/mplayer/mplayer.spec Mon Jun 14 01:10:39 2010
@@ -1,34 +1,37 @@
 # $Id$
 # Authority: matthias
 
-%{?el5:%define _without_nas 1}
+%define _without_directfb 1
+%define _without_fribidi 1
+%define _without_ivtv 1
+%define _without_nas 1
+%define _without_xss 1
 
 %{?el4:%define _without_modxorg 1}
-%{?el4:%define _without_nas 1}
 
 %{?el3:%define _without_alsa 1}
-%{?el3:%define _without_fribidi 1}
+%{?el3:%define _without_binutils214 1}
 %{?el3:%define _without_modxorg 1}
-%{?el3:%define _without_nas 1}
 %{?el3:%define _without_theora 1}
 %{?el3:%define _without_xvmc 1}
 %{?el3:%define _without_x264_patch 1}
-%{?el3:%define _without_binutils214 1}
-
+
+%define real_name MPlayer
+%define real_version rc3
 %define live_version 2009.07.09
 
 Summary: MPlayer, the Movie Player for Linux
 Name: mplayer
 Version: 1.0
-%define real_version 2009-07-11
-Release: 0.41.svn20090711%{?dist}
+Release: 0.43.%{real_version}%{?dist}
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://mplayerhq.hu/">http://mplayerhq.hu/</A>
 
 #Source0: <A HREF="http://www.mplayerhq.hu/MPlayer/releases/MPlayer-%{real_version">http://www.mplayerhq.hu/MPlayer/releases/MPlayer-%{real_version</A>}.tar.bz2
 #Source0: <A HREF="http://www.mplayerhq.hu/MPlayer/releases/mplayer-export-snapshot.tar.bz2">http://www.mplayerhq.hu/MPlayer/releases/mplayer-export-snapshot.tar.bz2</A>
-Source0: <A HREF="http://www.mplayerhq.hu/MPlayer/releases/mplayer-export-snapshot-%{real_version">http://www.mplayerhq.hu/MPlayer/releases/mplayer-export-snapshot-%{real_version</A>}.tar.bz2
+#Source0: <A HREF="http://www.mplayerhq.hu/MPlayer/releases/mplayer-export-snapshot-%{real_version">http://www.mplayerhq.hu/MPlayer/releases/mplayer-export-snapshot-%{real_version</A>}.tar.bz2
+Source0: <A HREF="http://www.mplayerhq.hu/MPlayer/releases/MPlayer-%{version">http://www.mplayerhq.hu/MPlayer/releases/MPlayer-%{version</A>}%{real_version}.tar.bz2
 Source1: <A HREF="http://www.live555.com/liveMedia/public/live.%{live_version">http://www.live555.com/liveMedia/public/live.%{live_version</A>}.tar.gz
 Source2: <A HREF="http://www.mplayerhq.hu/MPlayer/skins/Blue-1.7.tar.bz2">http://www.mplayerhq.hu/MPlayer/skins/Blue-1.7.tar.bz2</A>
 Source3: mplayer.png
@@ -48,6 +51,7 @@
 BuildRequires: libpng-devel
 BuildRequires: libungif-devel
 BuildRequires: SDL-devel
+BuildRequires: yasm
 %{!?_without_aalib:BuildRequires: aalib-devel}
 %{!?_without_alsa:BuildRequires: alsa-lib-devel}
 %{!?_without_amrnb:BuildRequires: amrnb-devel}
@@ -58,6 +62,7 @@
 %{!?_without_dts:BuildRequires: libdca-devel}
 %{!?_without_dv:BuildRequires: libdv-devel}
 %{?_with_dvdread:BuildRequires: libdvdread-devel}
+%{!?_without_enca:BuildRequires: enca-devel}
 %{!?_without_esd:BuildRequires: esound-devel}
 %{!?_without_faac:BuildRequires: faac-devel}
 %{!?_without_fame:BuildRequires: libfame-devel}
@@ -66,11 +71,11 @@
 %{!?_without_ladspa:BuildRequires: ladspa-devel}
 %{!?_without_lirc:BuildRequires: lirc-devel}
 %{!?_without_lzo:BuildRequires: lzo-devel}
-%{!?_without_modxorg:BuildRequires: libXv-devel, libXxf86vm-devel, libGL-devel, libXt-devel}
+%{!?_without_modxorg:BuildRequires: libXv-devel, libXxf86vm-devel, libGL-devel, libXt-devel, xorg-x11-proto-devel}
 %{!?_without_modxorg:%{!?_without_xvmc:BuildRequires: libXvMC-devel}}
+%{?_without_modxorg:%{!?_without_xvmc:BuildRequires: libXvMCW-devel}}
 %{?_without_modxorg:BuildRequires: XFree86-devel}
-%{?_without_modxorg:%{!?_without_xvmc:BuildRequires: libXvMCW-devel}}
-%{!?_without_mpc:BuildRequires: libmpcdec-devel}
+%{!?_without_musepack:BuildRequires: libmpcdec-devel &gt;= 1.2.1}
 %{!?_without_nas:BuildRequires: nas-devel}
 %{!?_without_samba:BuildRequires: samba-common}
 %{!?_without_speex:BuildRequires: speex-devel}
@@ -78,6 +83,7 @@
 %{!?_without_twolame:BuildRequires: twolame-devel}
 %{!?_without_vstream:BuildRequires: vstream-client-devel}
 %{!?_without_x264:BuildRequires: x264-devel}
+%{!?_without_xss:BuildRequires: libXScrnSaver-devel}
 %{!?_without_xvid:BuildRequires: xvidcore-devel}
 Requires: mplayer-fonts
 
@@ -119,7 +125,7 @@
 This package contains the end user documentation.
 
 %prep
-%setup -n mplayer-export-%{real_version} -a 1
+%setup -n %{real_name}-%{version}%{real_version} -a 1
 %patch1 -p1 -b .playlist
 %patch10 -p1 -b .fribidi
 #patch100 -p0 -b .h264_static
@@ -146,23 +152,37 @@
 echo | ./configure \
     --prefix=&quot;%{_prefix}&quot; \
     --bindir=&quot;%{_bindir}&quot; \
+    --confdir=&quot;%{_sysconfdir}/mplayer&quot; \
     --datadir=&quot;%{_datadir}/mplayer&quot; \
+    --libdir=&quot;%{_libdir}&quot; \
     --mandir=&quot;%{_mandir}&quot; \
-    --confdir=&quot;%{_sysconfdir}/mplayer&quot; \
-    --libdir=&quot;%{_libdir}&quot; \
+    --extra-cflags=&quot;-I%{_includedir}/directfb&quot; \
 %{!?_with_dvdread:--disable-dvdread} \
 %{?_without_gcccheck:--disable-gcc-check} \
 %{?_without_binutils214:--disable-ssse3} \
+%{!?_without_directfb:--enable-directfb} \
     --enable-dynamic-plugins \
+    --enable-fbdev \
+%{!?_without_fribidi:--enable-fribidi} \
     --enable-gui \
+%{!?_without_ivtv:--enable-ivtv} \
     --enable-joystick \
     --enable-largefiles \
+    --enable-lirc \
 %{?_without_live:--disable-live} \
 %{!?_without_osdmenu:--enable-menu} \
+%{!?_without_musepack:--enable-musepack} \
+    --enable-radio \
+    --enable-radio-capture \
+    --enable-runtime-cpudetection \
+    --enable-tv-v4l1 \
+    --enable-tv-v4l2 \
+%{!?_without_xss:--enable-xss} \
 %{?_without_modxorg:%{!?_without_xvmc:--enable-xvmc --with-xvmclib=&quot;XvMCW&quot;}} \
 %{!?_without_modxorg:%{!?_without_xvmc:--enable-xvmc}} \
 %ifarch %{ix86}
-    --enable-runtime-cpudetection \
+    --enable-qtx \
+    --enable-win32dll \
 %endif
     --language=&quot;all&quot;
 #    --enable-win32 \
@@ -170,6 +190,7 @@
 #    --with-xanimlibdir=&quot;%{_libdir}/codecs&quot; \
 #    --with-reallibdir=&quot;%{_libdir}/codecs&quot; \
 #%{!?_without_live:--with-livelibdir=&quot;$(pwd)/live&quot;}
+#    --enable-xmms \
 
 #%{__make} %{?_smp_mflags}
 %{__make}
@@ -256,6 +277,12 @@
 %doc DOCS/*
 
 %changelog
+* Sun Jun 13 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0-0.43.rc3
+- Updated to release 1.0rc3.
+
+* Sun Jun 13 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0-0.42.svn20090711
+- Rebuild against libdvbpsi 
+
 * Fri Nov 06 2009 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0-0.41.svn20090711
 - Rebuild against faad2 2.7.
 

Modified: trunk/rpms/opencore-amr/opencore-amr.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/opencore-amr/opencore-amr.spec?rev=8878&amp;r1=8877&amp;r2=8878&amp;view=diff">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/opencore-amr/opencore-amr.spec?rev=8878&amp;r1=8877&amp;r2=8878&amp;view=diff</A>
==============================================================================
--- trunk/rpms/opencore-amr/opencore-amr.spec (original)
+++ trunk/rpms/opencore-amr/opencore-amr.spec Mon Jun 14 01:10:39 2010
@@ -1,23 +1,24 @@
 # $Id$
-# Authority: yury
-# Upstream: <A HREF="http://opencore-amr.sourceforge.net">http://opencore-amr.sourceforge.net</A>
+# Authority: dag
 
-Summary: Adaptive Multi Rate speech codec
+Summary: Adaptive Multi-Rate Floating-point (AMR) Speech Codec
 Name: opencore-amr
 Version: 0.1.2
 Release: 1%{?dist}
-License: Apache License
+License: Distributable
 Group: System Environment/Libraries
 URL: <A HREF="http://opencore-amr.sourceforge.net/">http://opencore-amr.sourceforge.net/</A>
 
-Source: <A HREF="http://dl.sf.net/opencore-amr/opencore-amr-%{version">http://dl.sf.net/opencore-amr/opencore-amr-%{version</A>}.tar.gz
+Source: <A HREF="http://dl.sf.net/project/opencore-amr/opencore-amr/%{version">http://dl.sf.net/project/opencore-amr/opencore-amr/%{version</A>}/opencore-amr-%{version}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
+BuildRequires: gcc-c++
+
 %description
-This library contains an implementation of the 3GPP TS 26.073
-specification for the Adaptive Multi Rate (AMR) speech codec. The
-implementation is derived from the OpenCORE framework, part of the
-Google Android project.
+3GPP released reference implementations 3GPP Adaptive Multi-Rate
+Floating-point (AMR) Speech Codec (3GPP TS 26.104 V 7.0.0) and 3GPP
+AMR Adaptive Multi-Rate - Wideband (AMR-WB) Speech Codec (3GPP TS
+26.204 V7.0.0).
 
 %package devel
 Summary: Header files, libraries and development documentation for %{name}
@@ -31,7 +32,7 @@
 you will need to install %{name}-devel.
 
 %prep
-%setup -n %{name}-%{version}
+%setup
 
 %build
 %configure --disable-static
@@ -56,7 +57,8 @@
 %files devel
 %defattr(-, root, root, 0755)
 %doc test/*
-%{_includedir}/*
+%{_includedir}/opencore-amrnb/
+%{_includedir}/opencore-amrwb/
 %{_libdir}/libopencore-amrnb.so
 %{_libdir}/libopencore-amrwb.so
 %{_libdir}/pkgconfig/opencore-amrnb.pc
@@ -65,6 +67,8 @@
 %exclude %{_libdir}/libopencore-amrwb.la
 
 %changelog
-* Sat Jun 12 2010 Yury V. Zaytsev &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">yury at shurup.com</A>&gt; - 0.1.2-1
-- Salvaged from RPMForge SRPM by Bjarne Saltbaek.
-- Minor fixes.
+* Sun Jun 13 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.1.2-1
+- Updated to release 0.1.2.
+
+* Fri Aug 07 2009 Bjarne Saltbaek &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">arnebjarne72 at hotmail.com</A>&gt; 0.1.1-0.git20090807
+- Initial package.

Modified: trunk/rpms/vlc/vlc-test.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/vlc/vlc-test.spec?rev=8878&amp;r1=8877&amp;r2=8878&amp;view=diff">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/vlc/vlc-test.spec?rev=8878&amp;r1=8877&amp;r2=8878&amp;view=diff</A>
==============================================================================
--- trunk/rpms/vlc/vlc-test.spec (original)
+++ trunk/rpms/vlc/vlc-test.spec Mon Jun 14 01:10:39 2010
@@ -16,6 +16,7 @@
 #define _without_dirac 1
 #define _without_opencv 1
 %define _without_directfb 1
+#define _without_ffmpeg 1
 
 %ifarch %{ix86}
 %define _with_loader 1
@@ -32,27 +33,10 @@
 %{?el4:%define _without_glide 1}
 %{?el4:%define _without_jack 1}
 %{?el4:%define _without_modxorg 1}
+### We don't want to build a VLC without graphical interface
+#{?el4:#define _without_qt4 1}
 %{?el4:%define _without_sysfs 1}
 %{?el4:%define _without_theora 1}
-
-%{?fc3:%define _without_avahi 1}
-%{?fc3:%define _without_jack 1}
-%{?fc3:%define _without_modxorg 1}
-%{?fc3:%define _without_sysfs 1}
-
-%{?fc2:%define _without_avahi 1}
-%{?fc2:%define _without_hal 1}
-%{?fc2:%define _without_jack 1}
-%{?fc2:%define _without_modxorg 1}
-%{?fc2:%define _without_sysfs 1}
-
-%{?fc1:%define _without_avahi 1}
-%{?fc1:%define _without_alsa 1}
-%{?fc1:%define _without_hal 1}
-%{?fc1:%define _without_jack 1}
-%{?fc1:%define _without_modxorg 1}
-%{?fc1:%define _without_sysfs 1}
-%{?fc1:%define _without_theora 1}
 
 %{?el3:%define mozilla seamonkey-devel}
 %{?el3:%define _without_alsa 1}
@@ -62,56 +46,10 @@
 %{?el3:%define _without_hal 1}
 %{?el3:%define _without_jack 1}
 %{?el3:%define _without_modxorg 1}
+### We don't want to build a VLC without graphical interface
+#{?el3:#define _without_qt4 1}
 %{?el3:%define _without_sysfs 1}
 %{?el3:%define _without_theora 1}
-
-%{?rh9:%define _without_alsa 1}
-%{?rh9:%define _without_avahi 1}
-%{?rh9:%define _without_dbus1 1}
-%{?rh9:%define _without_fribidi 1}
-%{?rh9:%define _without_hal 1}
-%{?rh9:%define _without_jack 1}
-%{?rh9:%define _without_modxorg 1}
-%{?rh9:%define _without_sysfs 1}
-%{?rh9:%define _without_theora 1}
-%{?rh9:%define _without_x264 1}
-
-%{?rh7:%define _without_alsa 1}
-%{?rh7:%define _without_avahi 1}
-%{?rh7:%define _without_dbus1 1}
-%{?rh7:%define _without_freedesktop 1}
-%{?rh7:%define _without_fribidi 1}
-%{?rh7:%define _without_hal 1}
-%{?rh7:%define _without_jack 1}
-%{?rh7:%define _without_modxorg 1}
-%{?rh7:%define _without_sysfs 1}
-%{?rh7:%define _without_theora 1}
-%{?rh7:%define _without_vorbis 1}
-#{?rh7:#define _without_wxwidgets 1}
-%{?rh7:%define _without_x264 1}
-%{?rh7:%define _without_xosd 1}
-
-%{?el2:%define mozilla seamonkey-devel}
-%{?el2:%define _without_alsa 1}
-%{?el2:%define _without_arts 1}
-%{?el2:%define _without_avahi 1}
-%{?el2:%define _without_dbus1 1}
-%{?el2:%define _without_freedesktop 1}
-%{?el2:%define _without_fribidi 1}
-%{?el2:%define _without_glx 1}
-%{?el2:%define _without_hal 1}
-%{?el2:%define _without_jack 1}
-%{?el2:%define _without_modxorg 1}
-%{?el2:%define _without_sysfs 1}
-%{?el2:%define _without_theora 1}
-#{?el2:#define _without_upnp 1}
-%{?el2:%define _without_vorbis 1}
-#{?el2:#define _without_wxwidgets 1}
-%{?el2:%define _without_x264 1}
-%{?el2:%define _without_xosd 1}
-
-%{?yd3:%define _without_alsa 1}
-%{?yd3:%define _without_fribidi 1}
 
 %define desktop_vendor rpmforge
 #define ffmpeg_date 20061215
@@ -119,18 +57,18 @@
 #define ffmpeg_date 20080113
 %define ffmpeg_date 20080225
 #define live_date 2006.12.08
-%define live_date 2008.09.02
+#define live_date 2008.09.02
+%define live_date 2009.07.09
 
 Summary: The VideoLAN client, also a very good standalone video player
 Name: vlc
-%define real_version 1.0.0-rc1
-Version: 1.0.1
-Release: 0.2%{?dist}
+Version: 1.0.6
+Release: 0.1%{?dist}
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://www.videolan.org/">http://www.videolan.org/</A>
 
-Source0: <A HREF="http://downloads.videolan.org/pub/videolan/testing/vlc-%{real_version">http://downloads.videolan.org/pub/videolan/testing/vlc-%{real_version</A>}/vlc-%{real_version}.tar.bz2
+Source0: <A HREF="http://downloads.videolan.org/pub/videolan/vlc/%{version">http://downloads.videolan.org/pub/videolan/vlc/%{version</A>}/vlc-%{version}.tar.bz2
 #Source1: <A HREF="http://downloads.videolan.org/pub/videolan/vlc/%{version">http://downloads.videolan.org/pub/videolan/vlc/%{version</A>}/contrib/ffmpeg-%{ffmpeg_date}.tar.bz2
 Source1: <A HREF="http://rpm.greysector.net/livna/ffmpeg-%{ffmpeg_date">http://rpm.greysector.net/livna/ffmpeg-%{ffmpeg_date</A>}.tar.bz2
 Source2: <A HREF="http://www.live555.com/liveMedia/public/live.%{live_date">http://www.live555.com/liveMedia/public/live.%{live_date</A>}.tar.gz
@@ -142,7 +80,7 @@
 Patch80: vlc-0.8.6e-xulrunner.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-Buildrequires: autoconf
+BuildRequires: autoconf
 BuildRequires: automake
 BuildRequires: gcc-c++
 BuildRequires: gnutls-devel
@@ -178,6 +116,7 @@
 %{!?_without_esd:BuildRequires: esound-devel}
 %{!?_without_faad2:BuildRequires: faad2-devel &gt;= 2.5}
 %{!?_without_ffmpeg:BuildRequires: lame-devel, faac-devel}
+%{?_without_ffmpeg:BuildRequires: ffmpeg-devel}
 %{!?_without_flac:BuildRequires: flac-devel}
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 %{!?_without_fribidi:BuildRequires: fribidi-devel}
@@ -196,7 +135,9 @@
 %{!?_without_mpeg2dec:BuildRequires: mpeg2dec-devel}
 %{!?_without_ncurses:BuildRequires: ncurses-devel}
 %{!?_without_ogg:BuildRequires: libogg-devel}
+%{!?_without_opencv:BuildRequires: opencv-devel}
 %{!?_without_portaudio:BuildRequires: portaudio-devel}
+%{!?_without_qt4:BuildRequires: qt4-devel}
 %{!?_without_sdl:BuildRequires: SDL-devel, SDL_image-devel}
 %{!?_without_shout:BuildRequires: libshout-devel &gt;= 2.2.2}
 %{!?_without_smb:BuildRequires: samba-common}
@@ -260,7 +201,7 @@
 IPv4 or IPv6 on a high-bandwidth network.
 
 %prep
-%setup -n %{name}-%{real_version} -a 1 -a 2
+%setup -a 1 -a 2
 #patch0 -p1 -b .ffmpegX11
 #patch1 -p1 -b .wx28
 
@@ -304,17 +245,17 @@
         --enable-libmp3lame \
 %{!?_without_gsm:--enable-libgsm} \
         --enable-libfaac \
+        --enable-libfaad \
 %{!?_without_theora:--enable-libtheora} \
 %{!?_without_vorbis:--enable-libvorbis} \
+%{!?_without_x246:--enable-libx264} \
         --enable-libxvid \
         --enable-nonfree \
         --enable-pp \
         --enable-pthreads \
         --enable-shared
-#{!?_without_x246:--enable-libx264} \
+#        --enable-libdc1394 \
 #        --enable-static
-#        --enable-libdc1394 \
-#        --enable-libfaad \
     %{__make} %{?_smp_mflags}
 popd
 
@@ -398,6 +339,7 @@
 %{?_with_pth:--enable-pth} \
     --enable-pulse \
 %{!?_without_pvr:--enable-pvr} \
+%{?_without_qt4:--disable-qt4 --disable-skins2} \
     --enable-real \
     --enable-realrtsp \
 %{?_without_sdl:--disable-sdl} \
@@ -415,6 +357,7 @@
 %{!?_without_twolame:--enable-twolame} \
 %{!?_without_upnp:--enable-upnp} \
 %{!?_without_v4l:--enable-v4l} \
+%{?_without_v4l2:--disable-v4l2} \
 %{?_without_vorbis:--disable-vorbis} \
 %{?_without_wxwidgets:--disable-wxwidgets --disable-skins2} \
 %{?_without_x264:--disable-x264} \

Modified: trunk/rpms/vlc/vlc.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/vlc/vlc.spec?rev=8878&amp;r1=8877&amp;r2=8878&amp;view=diff">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/vlc/vlc.spec?rev=8878&amp;r1=8877&amp;r2=8878&amp;view=diff</A>
==============================================================================
--- trunk/rpms/vlc/vlc.spec (original)
+++ trunk/rpms/vlc/vlc.spec Mon Jun 14 01:10:39 2010
@@ -55,12 +55,13 @@
 #define ffmpeg_date 20080113
 %define ffmpeg_date 20080225
 #define live_date 2006.12.08
+#define live_date 2008.09.02
 %define live_date 2009.07.09
 
 Summary: The VideoLAN client, also a very good standalone video player
 Name: vlc
 Version: 0.9.9a
-Release: 4%{?dist}
+Release: 5%{?dist}
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://www.videolan.org/">http://www.videolan.org/</A>
@@ -317,9 +318,9 @@
 %{!?_without_opencv:--enable-opencv} \
 %{!?_without_portaudio:--enable-portaudio} \
 %{?_with_pth:--enable-pth} \
-%{?_without_qt4:--disable-qt4 --disable-skins2} \
     --enable-pulse \
 %{!?_without_pvr:--enable-pvr} \
+%{?_without_qt4:--disable-qt4 --disable-skins2} \
     --enable-real \
     --enable-realrtsp \
 %{?_without_sdl:--disable-sdl} \
@@ -397,8 +398,11 @@
 %endif
 
 %changelog
+* Sun Jun 13 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.9.9a-5
+- Rebuild against libdvbpsi-0.1.7.
+
 * Fri Nov 06 2009 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.9.9a-4
-- Rebuild against newer faad2 2.7.
+- Rebuild against newer faad2-2.7.
 
 * Sun Sep 06 2009 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.9.9a-3
 - Rebuild with minor fixed. (David Ward)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007671.html">[svn] r8877 - /trunk/rpms/exiv2/exiv2.spec
</A></li>
	<LI>Next message: <A HREF="007673.html">[svn] r8879 - in /trunk/rpms: asciidoc/asciidoc.spec flash-plugin/flash-plugin-x86_64.spec flash-plugin/flash-plugin.spec libffi/ libffi/libffi.spec libtalloc/ libtalloc/libtalloc.spec ntop/ntop.spec openmpi/ openmpi/openmpi.spec viewvc/viewvc-1.0.spec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7672">[ date ]</a>
              <a href="thread.html#7672">[ thread ]</a>
              <a href="subject.html#7672">[ subject ]</a>
              <a href="author.html#7672">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
