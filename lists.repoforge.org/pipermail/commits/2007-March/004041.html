<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r5242 - in trunk/rpms: . amsn arpd dosbox fragroute honeyd	icewm imlib iodine iptstate libdnsres libevent memcached	nttlscan pcsc-lite python-elementtree sharedance skystreets	tor trickle udpcast vomit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5242%20-%20in%20trunk/rpms%3A%20.%20amsn%20arpd%20dosbox%20fragroute%20honeyd%0A%09icewm%20imlib%20iodine%20iptstate%20libdnsres%20libevent%20memcached%0A%09nttlscan%20pcsc-lite%20python-elementtree%20sharedance%20skystreets%0A%09tor%20trickle%20udpcast%20vomit&In-Reply-To=%3C20070325230940.15677944B68%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004040.html">
   <LINK REL="Next"  HREF="004042.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r5242 - in trunk/rpms: . amsn arpd dosbox fragroute honeyd	icewm imlib iodine iptstate libdnsres libevent memcached	nttlscan pcsc-lite python-elementtree sharedance skystreets	tor trickle udpcast vomit</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5242%20-%20in%20trunk/rpms%3A%20.%20amsn%20arpd%20dosbox%20fragroute%20honeyd%0A%09icewm%20imlib%20iodine%20iptstate%20libdnsres%20libevent%20memcached%0A%09nttlscan%20pcsc-lite%20python-elementtree%20sharedance%20skystreets%0A%09tor%20trickle%20udpcast%20vomit&In-Reply-To=%3C20070325230940.15677944B68%40pooch.vmhosting.org%3E"
       TITLE="[svn] r5242 - in trunk/rpms: . amsn arpd dosbox fragroute honeyd	icewm imlib iodine iptstate libdnsres libevent memcached	nttlscan pcsc-lite python-elementtree sharedance skystreets	tor trickle udpcast vomit">packagers at lists.rpmforge.net
       </A><BR>
    <I>Mon Mar 26 01:09:40 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="004040.html">[svn] r5241 - in trunk/rpms: . cairo directfb gstreamer-plugins-bad	gstreamer-plugins-extras gstreamer-plugins-ugly inkscape js	liboil nsc soundtouch swfdec
</A></li>
        <LI>Next message: <A HREF="004042.html">[svn] r5243 - trunk/rpms/dvdrip
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4041">[ date ]</a>
              <a href="thread.html#4041">[ thread ]</a>
              <a href="subject.html#4041">[ subject ]</a>
              <a href="author.html#4041">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2007-03-26 01:09:36 +0200 (Mon, 26 Mar 2007)
New Revision: 5242

Added:
   trunk/rpms/imlib/
   trunk/rpms/imlib/imlib-1.9.10-ac25.patch
   trunk/rpms/imlib/imlib-1.9.10-cppflags.patch
   trunk/rpms/imlib/imlib-1.9.13-gmodulehack.patch
   trunk/rpms/imlib/imlib-1.9.13-underquoted.patch
   trunk/rpms/imlib/imlib-1.9.13-waitpid.patch
   trunk/rpms/imlib/imlib-1.9.14-bounds.patch
   trunk/rpms/imlib/imlib.spec
Modified:
   trunk/rpms/amsn/amsn.spec
   trunk/rpms/arpd/arpd.spec
   trunk/rpms/dosbox/dosbox.spec
   trunk/rpms/fragroute/fragroute.spec
   trunk/rpms/honeyd/honeyd.spec
   trunk/rpms/icewm/icewm.spec
   trunk/rpms/iodine/iodine.spec
   trunk/rpms/iptstate/iptstate.spec
   trunk/rpms/libdnsres/libdnsres.spec
   trunk/rpms/libevent/libevent.spec
   trunk/rpms/memcached/memcached-1.1.spec
   trunk/rpms/memcached/memcached.spec
   trunk/rpms/nttlscan/nttlscan.spec
   trunk/rpms/pcsc-lite/pcsc-lite.spec
   trunk/rpms/python-elementtree/python-elementtree.spec
   trunk/rpms/sharedance/sharedance.spec
   trunk/rpms/skystreets/skystreets.spec
   trunk/rpms/tor/tor.spec
   trunk/rpms/trickle/trickle.spec
   trunk/rpms/udpcast/udpcast.spec
   trunk/rpms/vomit/vomit.spec
Log:
Updates

Modified: trunk/rpms/amsn/amsn.spec
===================================================================
--- trunk/rpms/amsn/amsn.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/amsn/amsn.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -91,6 +91,8 @@
 %defattr(-, root, root, 0755)
 %doc AGREEMENT CREDITS FAQ GNUGPL HELP INSTALL README TODO
 %{_bindir}/amsn
+%{_bindir}/amsn-remote
+%{_bindir}/amsn-remote-CLI
 %{_datadir}/amsn/
 %{_datadir}/pixmaps/amsn.png
 %{?_without_freedesktop:%{_datadir}/gnome/apps/Internet/amsn.desktop}

Modified: trunk/rpms/arpd/arpd.spec
===================================================================
--- trunk/rpms/arpd/arpd.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/arpd/arpd.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -11,7 +11,7 @@
 Summary: ARP reply daemon
 Name: arpd
 Version: 0.2
-Release: 4
+Release: 5
 License: OpenSource
 Group: Applications/Internet
 URL: <A HREF="http://www.honeyd.org/tools.php">http://www.honeyd.org/tools.php</A>
@@ -53,6 +53,9 @@
 %{_sbindir}/arpd
 
 %changelog
+* Sun Mar 25 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.2-5
+- Rebuild against libevent-1.1a on EL5.
+
 * Wed Mar 07 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.2-4
 - Rebuild against libevent-1.3b.
 

Modified: trunk/rpms/dosbox/dosbox.spec
===================================================================
--- trunk/rpms/dosbox/dosbox.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/dosbox/dosbox.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -22,7 +22,7 @@
 
 Summary: x86/DOS emulator with sound/graphics
 Name: dosbox
-Version: 0.65
+Version: 0.70
 Release: 1
 License: GPL
 Group: Applications/Emulators
@@ -34,7 +34,7 @@
 
 BuildRequires: libpng-devel, SDL-devel
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
-%{?_with_modxorg:BuildRequires: xorg-x11-devel}
+%{?_with_modxorg:BuildRequires: libX11-devel}
 %{!?_with_modxorg:BuildRequires: XFree86-devel}
 %{!?_without_alsa:BuildRequires: alsa-lib-devel}
 
@@ -97,5 +97,8 @@
 %{_datadir}/pixmaps/dosbox.png
 
 %changelog
+* Mon Mar 26 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.70-1
+- Updated to release 0.70.
+
 * Wed Feb 14 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.65-1
-- Initialm package. (using DAR)
+- Initial package. (using DAR)

Modified: trunk/rpms/fragroute/fragroute.spec
===================================================================
--- trunk/rpms/fragroute/fragroute.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/fragroute/fragroute.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -12,7 +12,7 @@
 Summary: Intercepts, modifies, and rewrites egress traffic
 Name: fragroute
 Version: 1.2
-Release: 3
+Release: 4
 License: BSD
 Group: Applications/Internet
 URL: <A HREF="http://www.monkey.org/~dugsong/fragroute/">http://www.monkey.org/~dugsong/fragroute/</A>
@@ -53,6 +53,9 @@
 %{_sbindir}/fragtest
 
 %changelog
+* Sun Mar 25 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.2-4
+- Rebuild against libevent-1.1a on EL5.
+
 * Wed Mar 07 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.2-3
 - Rebuild against libevent-1.3b.
 

Modified: trunk/rpms/honeyd/honeyd.spec
===================================================================
--- trunk/rpms/honeyd/honeyd.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/honeyd/honeyd.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -12,7 +12,7 @@
 Summary: Honeypot daemon
 Name: honeyd
 Version: 1.5b
-Release: 3
+Release: 5
 License: BSD
 Group: Applications/Internet
 URL: <A HREF="http://www.honeyd.org/">http://www.honeyd.org/</A>
@@ -64,6 +64,12 @@
 %{_libdir}/honeyd/
 
 %changelog
+* Sun Mar 25 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.5b-5
+- Rebuild against libevent-1.1a on EL5.
+
+* Wed Mar 07 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.5b-4
+- Rebuild against libevent-1.3b.
+
 * Tue Feb 20 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.5b-3
 - Rebuild against libevent-1.3b.
 

Modified: trunk/rpms/icewm/icewm.spec
===================================================================
--- trunk/rpms/icewm/icewm.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/icewm/icewm.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -28,8 +28,8 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: autoconf, automake, libtool
-BuildRequires: imlib2-devel, libpng-devel, kdelibs
 BuildRequires: gcc-c++, gettext
+BuildRequires: imlib-devel, imlib2-devel, libpng-devel, kdelibs
 %{!?_without_gnome2:BuildRequires: gnome-desktop-devel}
 %{!?_with_modxorg:BuildRequires: XFree86-devel, XFree86-font-utils}
 %{?_with_modxorg:BuildRequires: libX11-devel, xorg-x11-font-utils}

Added: trunk/rpms/imlib/imlib-1.9.10-ac25.patch
===================================================================
--- trunk/rpms/imlib/imlib-1.9.10-ac25.patch	                        (rev 0)
+++ trunk/rpms/imlib/imlib-1.9.10-ac25.patch	2007-03-25 23:09:36 UTC (rev 5242)
@@ -0,0 +1,45 @@
+--- imlib-1.9.10/configure.in.ac25	Tue Mar 27 23:10:41 2001
++++ imlib-1.9.10/configure.in	Thu Feb  7 17:06:56 2002
+@@ -249,21 +249,21 @@
+ 
+ dnl Test for libtiff
+ AC_CHECK_LIB(tiff, TIFFReadScanline,
+-  AC_CHECK_HEADER(tiffio.h,
++ [ AC_CHECK_HEADER(tiffio.h,
+     TIFFLIBS=&quot;-ltiff&quot;
+     SUPPORT_LIBS=&quot;$SUPPORT_LIBS -ltiff&quot;; AC_DEFINE(HAVE_LIBTIFF),
+-    AC_MSG_WARN(*** Native TIFF support will not be built (TIFF header files not found) ***)),
+-  AC_CHECK_LIB(tiff, TIFFWriteScanline,
+-    AC_CHECK_HEADER(tiffio.h,
++    AC_MSG_WARN(*** Native TIFF support will not be built (TIFF header files not found) ***)) ],
++ [ AC_CHECK_LIB(tiff, TIFFWriteScanline,
++  [  AC_CHECK_HEADER(tiffio.h,
+       TIFFLIBS=&quot;-ltiff -ljpeg -lz&quot;
+       SUPPORT_LIBS=&quot;$SUPPORT_LIBS -ltiff -ljpeg -lz&quot;; AC_DEFINE(HAVE_LIBTIFF),
+-      AC_MSG_WARN(*** Native TIFF support will not be built (TIFF header files not found) ***)),
+-    AC_CHECK_LIB(tiff34, TIFFFlushData,
+-      AC_CHECK_HEADER(tiffio.h,
++      AC_MSG_WARN(*** Native TIFF support will not be built (TIFF header files not found) ***)) ],
++  [  AC_CHECK_LIB(tiff34, TIFFFlushData,
++ [   AC_CHECK_HEADER(tiffio.h,
+         TIFFLIBS=&quot;-ltiff34 -ljpeg -lz&quot;
+         SUPPORT_LIBS=&quot;$SUPPORT_LIBS -ltiff34 -ljpeg -lz&quot;; AC_DEFINE(HAVE_LIBTIFF),
+-        AC_MSG_WARN(*** Native TIFF support will not be built (TIFF header files not found) ***)),
+-    AC_MSG_WARN(*** Native TIFF support will not be built (TIFF library not found) ***), -ljpeg -lz $GX_LIBS), -ljpeg -lz $GX_LIBS), $GX_LIBS)
++        AC_MSG_WARN(*** Native TIFF support will not be built (TIFF header files not found) ***)) ],
++    AC_MSG_WARN(*** Native TIFF support will not be built (TIFF library not found) ***), -ljpeg -lz $GX_LIBS) ], -ljpeg -lz $GX_LIBS) ], $GX_LIBS)
+ 
+ 
+ AC_CHECK_HEADER(gif_lib.h,
+@@ -281,9 +281,9 @@
+   AC_MSG_WARN(*** Native GIF support will not be built (GIF header not found) ***))
+ 
+ AC_CHECK_LIB(png, png_read_info,
+-  AC_CHECK_HEADER(png.h,
++  [ AC_CHECK_HEADER(png.h,
+     png_ok=yes,
+-    png_ok=no),
++    png_ok=no) ],
+   AC_MSG_WARN(*** Native PNG support will not be built (PNG library not found) ***), -lz -lm $GX_LIBS)
+ if test &quot;$png_ok&quot; = yes; then
+   AC_MSG_CHECKING([for png_structp in png.h])

Added: trunk/rpms/imlib/imlib-1.9.10-cppflags.patch
===================================================================
--- trunk/rpms/imlib/imlib-1.9.10-cppflags.patch	                        (rev 0)
+++ trunk/rpms/imlib/imlib-1.9.10-cppflags.patch	2007-03-25 23:09:36 UTC (rev 5242)
@@ -0,0 +1,11 @@
+--- imlib-1.9.10/configure.in.cppflags	Tue Jan  8 15:05:58 2002
++++ imlib-1.9.10/configure.in	Tue Jan  8 15:06:11 2002
+@@ -160,8 +160,6 @@
+   GX_LIBS=&quot;$GTK_LIBS&quot;
+ fi
+ 
+-CPPFLAGS=&quot;$CPPFLAGS -I$includedir -I$prefix/include&quot;
+-
+ SUPPORT_LIBS=&quot;&quot;
+ 
+ dnl Test for shared memory headers and semantics, unless we are

Added: trunk/rpms/imlib/imlib-1.9.13-gmodulehack.patch
===================================================================
--- trunk/rpms/imlib/imlib-1.9.13-gmodulehack.patch	                        (rev 0)
+++ trunk/rpms/imlib/imlib-1.9.13-gmodulehack.patch	2007-03-25 23:09:36 UTC (rev 5242)
@@ -0,0 +1,75 @@
+--- imlib-1.9.13/gdk_imlib/Makefile.am.gmodulehack	Wed Mar 13 13:02:39 2002
++++ imlib-1.9.13/gdk_imlib/Makefile.am	Thu Mar 14 12:20:10 2002
+@@ -83,7 +83,7 @@
+ 
+ libgdk_imlib_la_LDFLAGS = -version-info 10:13:9
+ libgdk_imlib_la_LIBADD = $(GMODULE_LIBS) $(X_PRE_LIBS) \
+-			 $(X_LIBS) $(X_EXTRA_LIBS)
++			 $(X_LIBS) $(X_EXTRA_LIBS) local-hack-gmodule/libgmodule-local.la
+ 
+ 
+ include_HEADERS = gdk_imlib.h gdk_imlib_private.h gdk_imlib_types.h
+--- imlib-1.9.13/configure.in.gmodulehack	Thu Mar 14 12:16:52 2002
++++ imlib-1.9.13/configure.in	Thu Mar 14 12:16:52 2002
+@@ -32,55 +32,12 @@
+ 	fi
+ ])
+ 
+-dynworks=false
+-if test x$with_modules = xno; then
+-	AC_MSG_RESULT(no)
+-else 
+-	AC_MSG_RESULT(yes)
+-
+-if test &quot;x$GDK_IMLIB&quot; != x; then
+-  oLIBS=&quot;$LIBS&quot;
+-  oCFLAGS=&quot;$CFLAGS&quot;
+-  LIBS=&quot;$LIBS `glib-config --libs gmodule`&quot;
+-  CFLAGS=&quot;$CFLAGS `glib-config --cflags gmodule`&quot;
+-  AC_TRY_RUN([
+-#include &lt;glib.h&gt;
+-#include &lt;gmodule.h&gt;
+-main ()
+-{
+-    if (g_module_supported ())
+-        exit (0);
+-    else
+-        exit (1);
+-}
+-], dynworks=true)
+-  LIBS=&quot;$oLIBS&quot;
+-  CFLAGS=&quot;$oCFLAGS&quot;
+-fi
+-
+-dnl Now we check to see if our libtool supports shared lib deps
+-dnl (in a rather ugly way even)
+-if $dynworks; then
+-   imlib_libtool_config=&quot;$srcdir/libtool --config&quot;
+-   imlib_deplibs_check=`$imlib_libtool_config | \
+-      grep '^[[a-z_]]*check[[a-z_]]*_method=[['\''&quot;]]' | \
+-      sed 's/.*[['\''&quot;]]\(.*\)[['\''&quot;]]$/\1/'`
+-   if test &quot;x$imlib_deplibs_check&quot; = &quot;xnone&quot; || \
+-      test &quot;x$imlib_deplibs_check&quot; = &quot;xunknown&quot; || \
+-      test &quot;x$imlib_deplibs_check&quot; = &quot;x&quot;; then
+-      dynworks=false
+-   fi
+-fi
+-
+-if $dynworks; then
+-   AC_DEFINE(USE_GMODULE)
+-   GMODULE_LIBS=&quot;`glib-config --libs gmodule`&quot;
+-   GMODULE_FLAGS=&quot;`glib-config --cflags gmodule`&quot;
+-   AC_SUBST(GMODULE_LIBS)
+-   AC_SUBST(GMODULE_FLAGS)
+-fi
+-
+-fi
++dynworks=true
++GMODULE_LIBS=
++GMODULE_CFLAGS=
++AC_DEFINE(USE_GMODULE)
++AC_SUBST(GMODULE_LIBS)
++AC_SUBST(GMODULE_CFLAGS)
+ 
+ AC_SUBST(TIFFLIBS)
+ AC_SUBST(GIFLIBS)

Added: trunk/rpms/imlib/imlib-1.9.13-underquoted.patch
===================================================================
--- trunk/rpms/imlib/imlib-1.9.13-underquoted.patch	                        (rev 0)
+++ trunk/rpms/imlib/imlib-1.9.13-underquoted.patch	2007-03-25 23:09:36 UTC (rev 5242)
@@ -0,0 +1,20 @@
+--- imlib-1.9.13/imlib.m4.underquoted	2004-08-06 13:46:53.184070437 +0100
++++ imlib-1.9.13/imlib.m4	2004-08-06 13:47:08.596126926 +0100
+@@ -6,7 +6,7 @@
+ dnl AM_PATH_IMLIB([MINIMUM-VERSION, [ACTION-IF-FOUND [, ACTION-IF-NOT-FOUND]]])
+ dnl Test for IMLIB, and define IMLIB_CFLAGS and IMLIB_LIBS
+ dnl
+-AC_DEFUN(AM_PATH_IMLIB,
++AC_DEFUN([AM_PATH_IMLIB],
+ [dnl 
+ dnl Get the cflags and libraries from the imlib-config script
+ dnl
+@@ -164,7 +164,7 @@
+ ])
+ 
+ # Check for gdk-imlib
+-AC_DEFUN(AM_PATH_GDK_IMLIB,
++AC_DEFUN([AM_PATH_GDK_IMLIB],
+ [dnl 
+ dnl Get the cflags and libraries from the imlib-config script
+ dnl

Added: trunk/rpms/imlib/imlib-1.9.13-waitpid.patch
===================================================================
--- trunk/rpms/imlib/imlib-1.9.13-waitpid.patch	                        (rev 0)
+++ trunk/rpms/imlib/imlib-1.9.13-waitpid.patch	2007-03-25 23:09:36 UTC (rev 5242)
@@ -0,0 +1,28 @@
+--- imlib-1.9.13/gdk_imlib/load.c.waitpid	Wed Apr 10 17:43:34 2002
++++ imlib-1.9.13/gdk_imlib/load.c	Wed Apr 10 17:43:38 2002
+@@ -302,11 +302,11 @@
+ 	  break;
+ 	}
+     }
+-#if 0
+   if (p &amp;&amp; !needs_conv) {
+ 	if (p != stdin)
+       fclose(p);
+   }
++#if 0
+   else if (p)
+     _gdk_imlib_close_helper(p);
+ 
+--- imlib-1.9.13/Imlib/load.c.waitpid	Wed Apr 10 17:41:46 2002
++++ imlib-1.9.13/Imlib/load.c	Wed Apr 10 17:42:12 2002
+@@ -1823,9 +1823,9 @@
+       if (p != stdin) 
+         fclose(p);
+     }
++#if 0
+   else if (p)
+     close_helper(p);
+-#if 0
+   /* This is *all* fallback code.  Prone to badness.  Turn it OFF */
+   if ((!data) &amp;&amp; (id-&gt;fallback))
+     {

Added: trunk/rpms/imlib/imlib-1.9.14-bounds.patch
===================================================================
--- trunk/rpms/imlib/imlib-1.9.14-bounds.patch	                        (rev 0)
+++ trunk/rpms/imlib/imlib-1.9.14-bounds.patch	2007-03-25 23:09:36 UTC (rev 5242)
@@ -0,0 +1,320 @@
+diff -uprk.orig imlib-1.9.14.orig/gdk_imlib/io-bmp.c imlib-1.9.14/gdk_imlib/io-bmp.c
+--- imlib-1.9.14.orig/gdk_imlib/io-bmp.c	2002-03-04 20:06:29 +0300
++++ imlib-1.9.14/gdk_imlib/io-bmp.c	2004-08-30 13:38:02 +0400
+@@ -42,12 +42,12 @@ loader_bmp (FILE *file, int *w, int *h, 
+   fread(dbuf, 4, 2, file);
+   *w = (int)dbuf[0];
+   *h = (int)dbuf[1];
+-  if (*w &gt; 32767)
++  if ((*w &lt; 0) || (*w &gt; 32767))
+     {
+       fprintf(stderr, &quot;IMLIB ERROR: Image width &gt; 32767 pixels for file\n&quot;);
+       return NULL;
+     }
+-  if (*h &gt; 32767)
++  if ((*h &lt; 0) || (*h &gt; 32767))
+     {
+       fprintf(stderr, &quot;IMLIB ERROR: Image height &gt; 32767 pixels for file\n&quot;);
+       return NULL;
+@@ -72,6 +72,9 @@ loader_bmp (FILE *file, int *w, int *h, 
+   ncolors = (int)dbuf[0];
+   if (ncolors == 0)
+     ncolors = 1 &lt;&lt; bpp;
++  if ((ncolors &lt; 0) || (ncolors &gt; (1 &lt;&lt; bpp)))
++    ncolors = 1 &lt;&lt; bpp;
++
+   /* some more sanity checks */
+   if (((comp == BI_RLE4) &amp;&amp; (bpp != 4)) || ((comp == BI_RLE8) &amp;&amp; (bpp != 8)) || ((comp == BI_BITFIELDS) &amp;&amp; (bpp != 16 &amp;&amp; bpp != 32)))
+     {
+@@ -197,9 +200,13 @@ loader_bmp (FILE *file, int *w, int *h, 
+ 		  for (bit = 0; bit &lt; 8; bit++)
+ 		    {
+ 		      index = ((byte &amp; (0x80 &gt;&gt; bit)) ? 1 : 0);
+-		      ptr[poffset] = cmap[index].r;
+-		      ptr[poffset + 1] = cmap[index].g;
+-		      ptr[poffset + 2] = cmap[index].b;
++		      /* possibly corrupted file? */
++		      if (index &lt; ncolors &amp;&amp; poffset &lt; *w * *h * 3)
++			{
++			  ptr[poffset] = cmap[index].r;
++			  ptr[poffset + 1] = cmap[index].g;
++			  ptr[poffset + 2] = cmap[index].b;
++			}
+ 		      column++;
+ 		    }
+ 		}
+@@ -221,9 +228,13 @@ loader_bmp (FILE *file, int *w, int *h, 
+ 			  index = ((byte &amp; (0xF0 &gt;&gt; nibble * 4)) &gt;&gt; (!nibble * 4));
+ 			  if (index &gt;= 16)
+ 			    index = 15;
+-			  ptr[poffset] = cmap[index].r;
+-			  ptr[poffset + 1] = cmap[index].g;
+-			  ptr[poffset + 2] = cmap[index].b;
++			  /* possibly corrupted file? */
++			  if (index &lt; ncolors &amp;&amp; poffset &lt; *w * *h * 3)
++			    {
++			      ptr[poffset] = cmap[index].r;
++			      ptr[poffset + 1] = cmap[index].g;
++			      ptr[poffset + 2] = cmap[index].b;
++			    }
+ 			  column++;
+ 			}
+ 		    }
+@@ -263,9 +274,13 @@ loader_bmp (FILE *file, int *w, int *h, 
+ 				{
+ 				  linepos++;
+ 				  byte = getc(file);
+-				  ptr[poffset] = cmap[byte].r;
+-				  ptr[poffset + 1] = cmap[byte].g;
+-				  ptr[poffset + 2] = cmap[byte].b;
++				  /* possibly corrupted file? */
++				  if (byte &lt; ncolors &amp;&amp; poffset &lt; *w * *h * 3)
++				    {
++				      ptr[poffset] = cmap[byte].r;
++				      ptr[poffset + 1] = cmap[byte].g;
++				      ptr[poffset + 2] = cmap[byte].b;
++				    }
+ 				  column++;
+ 				}
+ 			      if (absolute &amp; 0x01)
+@@ -276,9 +291,13 @@ loader_bmp (FILE *file, int *w, int *h, 
+ 			{
+ 			  for (i = 0; i &lt; first; i++)
+ 			    {
+-			      ptr[poffset] = cmap[byte].r;
+-			      ptr[poffset + 1] = cmap[byte].g;
+-			      ptr[poffset + 2] = cmap[byte].b;
++			      /* possibly corrupted file? */
++			      if (byte &lt; ncolors &amp;&amp; poffset &lt; *w * *h * 3)
++				{
++				  ptr[poffset] = cmap[byte].r;
++				  ptr[poffset + 1] = cmap[byte].g;
++				  ptr[poffset + 2] = cmap[byte].b;
++				}
+ 			      column++;
+ 			      linepos++;
+ 			    }
+@@ -286,9 +305,13 @@ loader_bmp (FILE *file, int *w, int *h, 
+ 		    }
+ 		  else
+ 		    {
+-		      ptr[poffset] = cmap[byte].r;
+-		      ptr[poffset + 1] = cmap[byte].g;
+-		      ptr[poffset + 2] = cmap[byte].b;
++		      /* possibly corrupted file? */
++		      if (byte &lt; ncolors &amp;&amp; poffset &lt; *w * *h * 3)
++			{
++			  ptr[poffset] = cmap[byte].r;
++			  ptr[poffset + 1] = cmap[byte].g;
++			  ptr[poffset + 2] = cmap[byte].b;
++			}
+ 		      column++;
+ 		      linepos += size;
+ 		    }
+@@ -297,9 +320,13 @@ loader_bmp (FILE *file, int *w, int *h, 
+ 	  else if (bpp == 24)
+ 	    {
+ 	      linepos += fread(&amp;bbuf, 1, 3, file);
+-	      ptr[poffset] = (unsigned char)bbuf[2];
+-	      ptr[poffset + 1] = (unsigned char)bbuf[1];
+-	      ptr[poffset + 2] = (unsigned char)bbuf[0];
++	      /* possibly corrupted file? */
++	      if (poffset &lt; *w * *h * 3)
++		{
++		  ptr[poffset] = (unsigned char)bbuf[2];
++		  ptr[poffset + 1] = (unsigned char)bbuf[1];
++		  ptr[poffset + 2] = (unsigned char)bbuf[0];
++		}
+ 	      column++;
+ 	    }
+ 	  else if (bpp == 16)
+@@ -307,12 +334,16 @@ loader_bmp (FILE *file, int *w, int *h, 
+ 	      unsigned char       temp;
+ 
+ 	      linepos += fread(&amp;word, 2, 1, file);
+-	      temp = (word &amp; rmask) &gt;&gt; rshift;
+-	      ptr[poffset] = temp;
+-	      temp = (word &amp; gmask) &gt;&gt; gshift;
+-	      ptr[poffset + 1] = temp;
+-	      temp = (word &amp; bmask) &gt;&gt; gshift;
+-	      ptr[poffset + 2] = temp;
++	      /* possibly corrupted file? */
++	      if (poffset &lt; *w * *h * 3)
++		{
++		  temp = (word &amp; rmask) &gt;&gt; rshift;
++		  ptr[poffset] = temp;
++		  temp = (word &amp; gmask) &gt;&gt; gshift;
++		  ptr[poffset + 1] = temp;
++		  temp = (word &amp; bmask) &gt;&gt; gshift;
++		  ptr[poffset + 2] = temp;
++		}
+ 	      column++;
+ 	    }
+ 	  else
+@@ -320,12 +351,16 @@ loader_bmp (FILE *file, int *w, int *h, 
+ 	      unsigned char       temp;
+ 
+ 	      linepos += fread(&amp;dword, 4, 1, file);
+-	      temp = (dword &amp; rmask) &gt;&gt; rshift;
+-	      ptr[poffset] = temp;
+-	      temp = (dword &amp; gmask) &gt;&gt; gshift;
+-	      ptr[poffset + 1] = temp;
+-	      temp = (dword &amp; bmask) &gt;&gt; bshift;
+-	      ptr[poffset + 2] = temp;
++	      /* possibly corrupted file? */
++	      if (poffset &lt; *w * *h * 3)
++		{
++		  temp = (dword &amp; rmask) &gt;&gt; rshift;
++		  ptr[poffset] = temp;
++		  temp = (dword &amp; gmask) &gt;&gt; gshift;
++		  ptr[poffset + 1] = temp;
++		  temp = (dword &amp; bmask) &gt;&gt; bshift;
++		  ptr[poffset + 2] = temp;
++		}
+ 	      column++;
+ 	    }
+ 	}
+--- imlib-1.9.10/Imlib/load.c.xx	2004-09-02 10:17:48.738898822 +0200
++++ imlib-1.9.10/Imlib/load.c	2004-09-02 10:18:32.698181227 +0200
+@@ -631,12 +631,12 @@
+   fread(dbuf, 4, 2, file);
+   *w = (int)dbuf[0];
+   *h = (int)dbuf[1];
+-  if (*w &gt; 32767)
++  if ((*w &lt; 0) || (*w &gt; 32767))
+     {
+       fprintf(stderr, &quot;IMLIB ERROR: Image width &gt; 32767 pixels for file\n&quot;);
+       return NULL;
+     }
+-  if (*h &gt; 32767)
++  if ((*h &lt; 0) || (*h &gt; 32767))
+     {
+       fprintf(stderr, &quot;IMLIB ERROR: Image height &gt; 32767 pixels for file\n&quot;);
+       return NULL;
+@@ -661,6 +661,9 @@
+   ncolors = (int)dbuf[0];
+   if (ncolors == 0)
+     ncolors = 1 &lt;&lt; bpp;
++  if ((ncolors &lt; 0) || (ncolors &gt; (1 &lt;&lt; bpp)))
++    ncolors = 1 &lt;&lt; bpp;
++
+   /* some more sanity checks */
+   if (((comp == BI_RLE4) &amp;&amp; (bpp != 4)) || ((comp == BI_RLE8) &amp;&amp; (bpp != 8)) || ((comp == BI_BITFIELDS) &amp;&amp; (bpp != 16 &amp;&amp; bpp != 32)))
+     {
+@@ -786,9 +789,13 @@
+ 		  for (bit = 0; bit &lt; 8; bit++)
+ 		    {
+ 		      index = ((byte &amp; (0x80 &gt;&gt; bit)) ? 1 : 0);
++		      /* possibly corrupted file? */
++		      if (index &lt; ncolors &amp;&amp; poffset &lt; *w * *h * 3)
++			{
+ 		      ptr[poffset] = cmap[index].r;
+ 		      ptr[poffset + 1] = cmap[index].g;
+ 		      ptr[poffset + 2] = cmap[index].b;
++			}
+ 		      column++;
+ 		    }
+ 		}
+@@ -810,9 +817,13 @@
+ 			  index = ((byte &amp; (0xF0 &gt;&gt; nibble * 4)) &gt;&gt; (!nibble * 4));
+ 			  if (index &gt;= 16)
+ 			    index = 15;
++			  /* possibly corrupted file? */
++			  if (index &lt; ncolors &amp;&amp; poffset &lt; *w * *h * 3)
++			    {
+ 			  ptr[poffset] = cmap[index].r;
+ 			  ptr[poffset + 1] = cmap[index].g;
+ 			  ptr[poffset + 2] = cmap[index].b;
++			    }
+ 			  column++;
+ 			}
+ 		    }
+@@ -851,9 +862,13 @@
+ 				{
+ 				  linepos++;
+ 				  byte = getc(file);
++				  /* possibly corrupted file? */
++				  if (byte &lt; ncolors &amp;&amp; poffset &lt; *w * *h * 3)
++				    {
+ 				  ptr[poffset] = cmap[byte].r;
+ 				  ptr[poffset + 1] = cmap[byte].g;
+ 				  ptr[poffset + 2] = cmap[byte].b;
++				    }
+ 				  column++;
+ 				}
+ 			      if (absolute &amp; 0x01)
+@@ -864,9 +879,13 @@
+ 			{
+ 			  for (i = 0; i &lt; first; i++)
+ 			    {
++			      /* possibly corrupted file? */
++			      if (byte &lt; ncolors &amp;&amp; poffset &lt; *w * *h * 3)
++				{
+ 			      ptr[poffset] = cmap[byte].r;
+ 			      ptr[poffset + 1] = cmap[byte].g;
+ 			      ptr[poffset + 2] = cmap[byte].b;
++				}
+ 			      column++;
+ 			      linepos++;
+ 			    }
+@@ -874,9 +893,13 @@
+ 		    }
+ 		  else
+ 		    {
++		      /* possibly corrupted file? */
++		      if (byte &lt; ncolors &amp;&amp; poffset &lt; *w * *h * 3)
++			{
+ 		      ptr[poffset] = cmap[byte].r;
+ 		      ptr[poffset + 1] = cmap[byte].g;
+ 		      ptr[poffset + 2] = cmap[byte].b;
++			}
+ 		      column++;
+ 		    }
+ 		}
+@@ -884,9 +907,12 @@
+ 	  else if (bpp == 24)
+ 	    {
+ 	      linepos += fread(bbuf, 1, 3, file);
++	      if (poffset&lt; *w * *h * 3)
++		{
+ 	      ptr[poffset] = (unsigned char)bbuf[2];
+ 	      ptr[poffset + 1] = (unsigned char)bbuf[1];
+ 	      ptr[poffset + 2] = (unsigned char)bbuf[0];
++		}
+ 	      column++;
+ 	    }
+ 	  else if (bpp == 16)
+@@ -894,12 +920,16 @@
+ 	      unsigned char       temp;
+ 
+ 	      linepos += fread(&amp;word, 2, 1, file);
++	      /* possibly corrupted file? */
++	      if (poffset &lt; *w * *h * 3)
++		{
+ 	      temp = (word &amp; rmask) &gt;&gt; rshift;
+ 	      ptr[poffset] = temp;
+ 	      temp = (word &amp; gmask) &gt;&gt; gshift;
+ 	      ptr[poffset + 1] = temp;
+ 	      temp = (word &amp; bmask) &gt;&gt; gshift;
+ 	      ptr[poffset + 2] = temp;
++		}
+ 	      column++;
+ 	    }
+ 	  else
+@@ -907,12 +937,16 @@
+ 	      unsigned char       temp;
+ 
+ 	      linepos += fread(&amp;dword, 4, 1, file);
++	      /* possibly corrupted file? */
++	      if (poffset &lt; *w * *h * 3)
++		{
+ 	      temp = (dword &amp; rmask) &gt;&gt; rshift;
+ 	      ptr[poffset] = temp;
+ 	      temp = (dword &amp; gmask) &gt;&gt; gshift;
+ 	      ptr[poffset + 1] = temp;
+ 	      temp = (dword &amp; bmask) &gt;&gt; bshift;
+ 	      ptr[poffset + 2] = temp;
++		}
+ 	      column++;
+ 	    }
+ 	}

Added: trunk/rpms/imlib/imlib.spec
===================================================================
--- trunk/rpms/imlib/imlib.spec	                        (rev 0)
+++ trunk/rpms/imlib/imlib.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -0,0 +1,120 @@
+# $Id$
+# Authority: dag
+
+# ExcludeDist: el2 rh7 rh9 el3 el4
+
+Summary: Image loading and rendering library for X11R6
+Name: imlib
+Version: 1.9.13
+Release: 1
+Epoch: 1
+License: LGPL
+Group: System Environment/Libraries
+URL: <A HREF="http://www.enlightenment.org/Libraries/Imlib.html">http://www.enlightenment.org/Libraries/Imlib.html</A>
+
+Source: <A HREF="http://ftp.gnome.org/pub/GNOME/sources/imlib/1.9/imlib-%{version">http://ftp.gnome.org/pub/GNOME/sources/imlib/1.9/imlib-%{version</A>}.tar.gz
+Patch2: imlib-1.9.10-ac25.patch
+Patch3: imlib-1.9.10-cppflags.patch
+Patch4: imlib-1.9.13-gmodulehack.patch
+Patch5: imlib-1.9.13-waitpid.patch
+Patch6: imlib-1.9.13-underquoted.patch
+Patch7: imlib-1.9.14-bounds.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: zlib-devel, libX11-devel, gtk+-devel, libungif-devel
+BuildRequires: libpng-devel &gt;= 1.2.2, libtiff-devel, libjpeg-devel
+
+Requires: gtk+ &gt;= 1:1.2
+
+Obsoletes: imlib-cfgeditor &lt;= %{version}-%{release}
+Provides: imlib-cfgeditor = %{version}-%{release}
+
+Obsoletes: Imlib &lt;= %{version}-%{release}
+Provides: Imlib = %{version}-%{release}
+
+%description
+Imlib is a display depth independent image loading and rendering
+library. Imlib is designed to simplify and speed up the process of
+loading images and obtaining X Window System drawables. Imlib
+provides many simple manipulation routines which can be used for
+common operations.
+
+The imlib package also contains the imlib_config program, which
+you can use to configure the Imlib image loading and rendering
+library. Imlib_config can be used to control how Imlib uses color and
+handles gamma corrections, etc.
+
+Install imlib if you need an image loading and rendering library for
+X11R6, or if you are installing GNOME. 
+
+%package devel
+Summary: Header files, libraries and development documentation for %{name}.
+Group: Development/Libraries
+Requires: %{name} = %{epoch}:%{version}-%{release}
+Requires: libtiff-devel, libjpeg-devel
+Requires: zlib-devel, gtk+-devel
+
+Obsoletes: Imlib-devel &lt;= %{version}-%{release}
+Provides: Imlib-devel = %{version}-%{release}
+
+%description devel
+This package contains the header files, static libraries and development
+documentation for %{name}. If you like to develop programs using %{name},
+you will need to install %{name}-devel.
+
+%prep
+%setup
+%patch2 -p1 -b .ac25
+%patch3 -p1 -b .cppflags
+%patch4 -p1 -b .gmodulehack
+%patch5 -p1 -b .waitpid
+%patch6 -p1 -b .underquoted
+%patch7 -p1 -b .bounds
+
+%build
+%configure
+%{__make}
+
+###########################################################################
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
+
+%files
+%defattr(-, root, root, 0755)
+%doc AUTHORS ChangeLog COPYING.LIB README
+%config(noreplace) %{_sysconfdir}/im_palette*.pal
+%config(noreplace) %{_sysconfdir}/imrc
+%{_bindir}/imlib_config
+%{_libdir}/libgdk_imlib.so.*
+%{_libdir}/libImlib.so.*
+%{_libdir}/libimlib-*.so
+
+%files devel
+%defattr(-, root, root, 0755)
+%doc doc/*.gif doc/*.html
+%doc %{_datadir}/man/man*/*
+%{_bindir}/imlib-config
+%{_includedir}/Imlib*.h
+%{_includedir}/gdk_imlib*.h
+%{_datadir}/aclocal/imlib.m4
+%exclude %{_libdir}/libgdk_imlib.a
+%exclude %{_libdir}/libgdk_imlib.la
+%{_libdir}/libgdk_imlib.so
+%exclude %{_libdir}/libImlib.a
+%exclude %{_libdir}/libImlib.la
+%{_libdir}/libImlib.so
+%exclude %{_libdir}/libimlib-*.a
+%exclude %{_libdir}/libimlib-*.la
+%{_libdir}/pkgconfig/*
+
+%changelog
+* Mon Mar 26 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; 1:1.9.13-1
+- Initial package. (using DAR)


Property changes on: trunk/rpms/imlib/imlib.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Modified: trunk/rpms/iodine/iodine.spec
===================================================================
--- trunk/rpms/iodine/iodine.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/iodine/iodine.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -4,7 +4,7 @@
 
 Summary: Tunnel IPv4 data through a DNS server
 Name: iodine
-Version: 0.3.4
+Version: 0.4.0
 Release: 1
 License: GPL
 Group: Applications/Internet
@@ -26,19 +26,22 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -Dp -m0755 iodine %{buildroot}%{_bindir}/iodine
-%{__install} -Dp -m0755 iodined %{buildroot}%{_bindir}/iodined
+%{__install} -Dp -m0755 bin/iodine %{buildroot}%{_bindir}/iodine
+%{__install} -Dp -m0755 bin/iodined %{buildroot}%{_bindir}/iodined
 
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
-%doc CHANGELOG README
+%doc CHANGELOG README TODO
 %{_bindir}/iodine
 %{_bindir}/iodined
 
 %changelog
+* Sun Mar 25 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.4.0-1
+- Updated to release 0.4.0.
+
 * Thu Nov 09 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.3.4-1
 - Updated to release 0.3.4.
 

Modified: trunk/rpms/iptstate/iptstate.spec
===================================================================
--- trunk/rpms/iptstate/iptstate.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/iptstate/iptstate.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -1,12 +1,14 @@
 # $Id$
 # Authority: dag
 
-# ExcludeDist: el4
+### EL4 ships with iptstate 1.3-4
+### EL5 ships with iptstate 1.4-1.1.2.2
+# ExclusiveDist: el2 rh7 rh9 el3
 
 Summary: Display IP Tables state table information in a &quot;top&quot;-like interface
 Name: iptstate
-Version: 1.4
-Release: 1.2
+Version: 2.2.0
+Release: 1
 License: zlib License
 Group: Applications/System
 URL: <A HREF="http://www.phildev.net/iptstate/">http://www.phildev.net/iptstate/</A>

Modified: trunk/rpms/libdnsres/libdnsres.spec
===================================================================
--- trunk/rpms/libdnsres/libdnsres.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/libdnsres/libdnsres.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -6,7 +6,7 @@
 Summary: Non-blocking DNS resolver library
 Name: libdnsres
 Version: 0.1a
-Release: 3
+Release: 4
 License: BSD-like
 Group: System Environment/Libraries
 URL: <A HREF="http://www.monkey.org/~provos/libdnsres/">http://www.monkey.org/~provos/libdnsres/</A>
@@ -60,6 +60,9 @@
 %{_libdir}/libdnsres.so
 
 %changelog
+* Sun Mar 25 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.2-5
+- Rebuild against libevent-1.1a on EL5.
+
 * Wed Mar 07 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.2-4
 - Rebuild against libevent-1.3b.
 

Modified: trunk/rpms/libevent/libevent.spec
===================================================================
--- trunk/rpms/libevent/libevent.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/libevent/libevent.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -2,6 +2,9 @@
 # Authority: dag
 # Upstream: Niels Provos &lt;provos$citi,umich,edu&gt;
 
+### EL5 ships with libevent 1.1a-3.2.1
+# ExclusiveDist: el2 rh7 rh9 el3 el4
+
 Summary: Abstract asynchronous event notification library
 Name: libevent
 Version: 1.3b

Modified: trunk/rpms/memcached/memcached-1.1.spec
===================================================================
--- trunk/rpms/memcached/memcached-1.1.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/memcached/memcached-1.1.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -5,7 +5,7 @@
 Summary: Distributed memory object caching system
 Name: memcached
 Version: 1.1.13
-Release: 4
+Release: 5
 License: BSD
 Group: System Environment/Daemons
 URL: <A HREF="http://www.danga.com/memcached/">http://www.danga.com/memcached/</A>
@@ -165,6 +165,9 @@
 %{_bindir}/memcached-debug
 
 %changelog
+* Sun Mar 25 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.1.13-5
+- Rebuild against libevent-1.1a on EL5.
+
 * Wed Mar 07 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.1.13-4
 - Rebuild against libevent-1.3b.
 

Modified: trunk/rpms/memcached/memcached.spec
===================================================================
--- trunk/rpms/memcached/memcached.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/memcached/memcached.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -5,7 +5,7 @@
 Summary: Distributed memory object caching system
 Name: memcached
 Version: 1.2.1
-Release: 3
+Release: 4
 License: BSD
 Group: System Environment/Daemons
 URL: <A HREF="http://www.danga.com/memcached/">http://www.danga.com/memcached/</A>
@@ -165,6 +165,9 @@
 %{_bindir}/memcached-debug
 
 %changelog
+* Sun Mar 25 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.2.1-4
+- Rebuild against libevent-1.1a on EL5.
+
 * Wed Mar 07 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.2.1-3
 - Rebuild against libevent-1.3b.
 

Modified: trunk/rpms/nttlscan/nttlscan.spec
===================================================================
--- trunk/rpms/nttlscan/nttlscan.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/nttlscan/nttlscan.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -12,7 +12,7 @@
 Summary: Quick network topology scanner
 Name: nttlscan
 Version: 0.1
-Release: 3
+Release: 4
 License: GPL
 Group: Applications/Internet
 URL: <A HREF="http://www.honeyd.org/tools.php">http://www.honeyd.org/tools.php</A>
@@ -50,6 +50,9 @@
 %{_bindir}/nttlscan
 
 %changelog
+* Sun Mar 25 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.1-4
+- Rebuild against libevent-1.1a on EL5.
+
 * Wed Mar 07 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.1-3
 - Rebuild against libevent-1.3b.
 

Modified: trunk/rpms/pcsc-lite/pcsc-lite.spec
===================================================================
--- trunk/rpms/pcsc-lite/pcsc-lite.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/pcsc-lite/pcsc-lite.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -1,6 +1,9 @@
 # $Id$
 # Authority: dag
 
+### EL5 ships with pcsc-lite 1.3.1-7
+# ExclusiveDist: el2 rh7 rh9 el3 el4
+
 Summary: PC/SC Lite smart card framework and applications
 Name: pcsc-lite
 Version: 1.3.3

Modified: trunk/rpms/python-elementtree/python-elementtree.spec
===================================================================
--- trunk/rpms/python-elementtree/python-elementtree.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/python-elementtree/python-elementtree.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -1,6 +1,9 @@
 # $Id$
 # Authority: dag
 
+### EL5 ships with python-elementtree 1.2.6-5
+# ExclusiveDist: el2 rh7 rh9 el3 el4
+
 #define python_abi %(%{__python} -c 'import sys; print &quot;.&quot;.join(sys.version.split(&quot;.&quot;)[:2])')
 %define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
 %define python_sitelib %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib()')

Modified: trunk/rpms/sharedance/sharedance.spec
===================================================================
--- trunk/rpms/sharedance/sharedance.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/sharedance/sharedance.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -4,7 +4,7 @@
 Summary: Ephemeral key/data pair storing daemon
 Name: sharedance
 Version: 0.6
-Release: 3
+Release: 4
 License: GPL
 Group: System Environment/Daemons
 URL: <A HREF="http://sharedance.pureftpd.org/">http://sharedance.pureftpd.org/</A>
@@ -86,6 +86,9 @@
 
 
 %changelog
+* Sun Mar 25 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.6-4
+- Rebuild against libevent-1.1a on EL5.
+
 * Wed Mar 07 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.6-3
 - Rebuild against libevent-1.3b.
 

Modified: trunk/rpms/skystreets/skystreets.spec
===================================================================
--- trunk/rpms/skystreets/skystreets.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/skystreets/skystreets.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -9,14 +9,11 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
+%{!?dist:%define _with_modxorg 1}
+%{?fc7:  %define _with_modxorg 1}
+%{?el5:  %define _with_modxorg 1}
+%{?fc6:  %define _with_modxorg 1}
+%{?fc5:  %define _with_modxorg 1}
 
 Summary: Clone of skyroads, jump and speed along platforms to reach the goal
 Name: skystreets
@@ -30,8 +27,8 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: imlib-devel, imlib, gcc-c++, SDL-devel, SDL_image-devel
 BuildRequires: libtiff-devel, libtiff, libjpeg, zlib
-%{?_without_xorg:BuildRequires: XFree86-Mesa-libGLU, XFree86-Mesa-libGL }
-%{!?_without_xorg:BuildRequires: xorg-x11-Mesa-libGLU, xorg-x11-Mesa-libGL}
+%{?_with_modxorg:BuildRequires: libX11-devel, mesa-libGL, mesa-libGLU}
+%{!?_with_modxorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU, XFree86-Mesa-libGL}
 Requires: SDL, SDL_image, libtiff, imlib
 
 %description

Modified: trunk/rpms/tor/tor.spec
===================================================================
--- trunk/rpms/tor/tor.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/tor/tor.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -9,7 +9,7 @@
 Summary: Send network traffic through virtual tunnels to improve your privacy
 Name: tor
 Version: 0.1.1.26
-Release: 3
+Release: 4
 License: BSD
 Group: Applications/Internet
 URL: <A HREF="http://tor.eff.org/">http://tor.eff.org/</A>
@@ -98,6 +98,9 @@
 %dir %{_localstatedir}/log/tor
 
 %changelog
+* Sun Mar 25 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.1.1.26-4
+- Rebuild against libevent-1.1a on EL5.
+
 * Wed Mar 07 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.1.1.26-3
 - Rebuild against libevent-1.3b.
 

Modified: trunk/rpms/trickle/trickle.spec
===================================================================
--- trunk/rpms/trickle/trickle.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/trickle/trickle.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -7,7 +7,7 @@
 Summary: portable lightweight userspace bandwidth shaper
 Name: trickle
 Version: 1.06
-Release: 2
+Release: 3
 License: BSD
 Group: Applications/Internet
 URL: <A HREF="http://www.monkey.org/~marius/trickle/">http://www.monkey.org/~marius/trickle/</A>
@@ -54,6 +54,9 @@
 %{_libdir}/trickle/
 
 %changelog
+* Sun Mar 25 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.06-3
+- Rebuild against libevent-1.1a on EL5.
+
 * Wed Mar 07 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.06-2
 - Rebuild against libevent-1.3b.
 

Modified: trunk/rpms/udpcast/udpcast.spec
===================================================================
--- trunk/rpms/udpcast/udpcast.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/udpcast/udpcast.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -4,8 +4,8 @@
 
 Summary: UDP broadcast installation
 Name: udpcast
-%define real_version 20070306
-Version: 0.0.20070306
+%define real_version 20070323
+Version: 0.0.20070323
 Release: 1
 License: GPL or BSD
 Group: Applications/System
@@ -44,6 +44,9 @@
 %{_sbindir}/udp-sender
 
 %changelog
+* Sun Mar 25 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.0.20070323-1
+- Updated to release 20070323.
+
 * Mon Mar 12 2007 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.0.20070306-1
 - Updated to release 20070306.
 

Modified: trunk/rpms/vomit/vomit.spec
===================================================================
--- trunk/rpms/vomit/vomit.spec	2007-03-25 20:32:19 UTC (rev 5241)
+++ trunk/rpms/vomit/vomit.spec	2007-03-25 23:09:36 UTC (rev 5242)
@@ -12,7 +12,7 @@
 Summary: Decodes VoIP audio from tcpdump captures
 Name: vomit
 Version: 0.2c
-Release: 3
+Release: 4
 License: GPL
 Group: Applications/Internet
 URL: <A HREF="http://vomit.xtdnet.nl/">http://vomit.xtdnet.nl/</A>
@@ -52,6 +52,9 @@
 %{_bindir}/vomit
 
 %changelog
+* Sun Mar 25 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.2c-4
+- Rebuild against libevent-1.1a on EL5.
+
 * Wed Mar 07 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.2c-3
 - Rebuild against libevent-1.3b.
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004040.html">[svn] r5241 - in trunk/rpms: . cairo directfb gstreamer-plugins-bad	gstreamer-plugins-extras gstreamer-plugins-ugly inkscape js	liboil nsc soundtouch swfdec
</A></li>
	<LI>Next message: <A HREF="004042.html">[svn] r5243 - trunk/rpms/dvdrip
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4041">[ date ]</a>
              <a href="thread.html#4041">[ thread ]</a>
              <a href="subject.html#4041">[ subject ]</a>
              <a href="author.html#4041">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
