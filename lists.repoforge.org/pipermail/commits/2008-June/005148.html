<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r6349 - in branches/rpms/brian: . LBRC dkms-golden	dkms-linuxdvb dkms-openafs-kernel dkms-qc-usb dkms-sundance	dkms-truecrypt dkms-wis-go7007-linux dvb-apps libdvb novi	nozomi opencv player pybluez python-json stage thinkfinger	tsrpm vdr vdr-analogtv vdr-burn vdr-clock vdr-dvd vdr-femon	vdr-ffnetdev vdr-freecell vdr-mp3 vdr-osdteletext	vdr-reelchannelscan vdr-remote vdr-screenshot vdr-skinelchi	vdr-skinreel vdr-skins vdr-skinsoppalusikka vdr-softdevice	vdr-streamdev vdr-subtitles vdr-sudoku vdr-text2skin	vdr-timeline vdr-vdrrip vdr-wapd vdr-weather vdr-xine	vdradmin-am vdrsync xine xine-lib xournal
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r6349%20-%20in%20branches/rpms/brian%3A%20.%20LBRC%20dkms-golden%0A%09dkms-linuxdvb%20dkms-openafs-kernel%20dkms-qc-usb%20dkms-sundance%0A%09dkms-truecrypt%20dkms-wis-go7007-linux%20dvb-apps%20libdvb%20novi%0A%09nozomi%20opencv%20player%20pybluez%20python-json%20stage%20thinkfinger%0A%09tsrpm%20vdr%20vdr-analogtv%20vdr-burn%20vdr-clock%20vdr-dvd%20vdr-femon%0A%09vdr-ffnetdev%20vdr-freecell%20vdr-mp3%20vdr-osdteletext%0A%09vdr-reelchannelscan%20vdr-remote%20vdr-screenshot%20vdr-skinelchi%0A%09vdr-skinreel%20vdr-skins%20vdr-skinsoppalusikka%20vdr-softdevice%0A%09vdr-streamdev%20vdr-subtitles%20vdr-sudoku%20vdr-text2skin%0A%09vdr-timeline%20vdr-vdrrip%20vdr-wapd%20vdr-weather%20vdr-xine%0A%09vdradmin-am%20vdrsync%20xine%20xine-lib%20xournal&In-Reply-To=%3C200806092304.m59N49b8017017%40surya.karan.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005147.html">
   <LINK REL="Next"  HREF="005149.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r6349 - in branches/rpms/brian: . LBRC dkms-golden	dkms-linuxdvb dkms-openafs-kernel dkms-qc-usb dkms-sundance	dkms-truecrypt dkms-wis-go7007-linux dvb-apps libdvb novi	nozomi opencv player pybluez python-json stage thinkfinger	tsrpm vdr vdr-analogtv vdr-burn vdr-clock vdr-dvd vdr-femon	vdr-ffnetdev vdr-freecell vdr-mp3 vdr-osdteletext	vdr-reelchannelscan vdr-remote vdr-screenshot vdr-skinelchi	vdr-skinreel vdr-skins vdr-skinsoppalusikka vdr-softdevice	vdr-streamdev vdr-subtitles vdr-sudoku vdr-text2skin	vdr-timeline vdr-vdrrip vdr-wapd vdr-weather vdr-xine	vdradmin-am vdrsync xine xine-lib xournal</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r6349%20-%20in%20branches/rpms/brian%3A%20.%20LBRC%20dkms-golden%0A%09dkms-linuxdvb%20dkms-openafs-kernel%20dkms-qc-usb%20dkms-sundance%0A%09dkms-truecrypt%20dkms-wis-go7007-linux%20dvb-apps%20libdvb%20novi%0A%09nozomi%20opencv%20player%20pybluez%20python-json%20stage%20thinkfinger%0A%09tsrpm%20vdr%20vdr-analogtv%20vdr-burn%20vdr-clock%20vdr-dvd%20vdr-femon%0A%09vdr-ffnetdev%20vdr-freecell%20vdr-mp3%20vdr-osdteletext%0A%09vdr-reelchannelscan%20vdr-remote%20vdr-screenshot%20vdr-skinelchi%0A%09vdr-skinreel%20vdr-skins%20vdr-skinsoppalusikka%20vdr-softdevice%0A%09vdr-streamdev%20vdr-subtitles%20vdr-sudoku%20vdr-text2skin%0A%09vdr-timeline%20vdr-vdrrip%20vdr-wapd%20vdr-weather%20vdr-xine%0A%09vdradmin-am%20vdrsync%20xine%20xine-lib%20xournal&In-Reply-To=%3C200806092304.m59N49b8017017%40surya.karan.org%3E"
       TITLE="[svn] r6349 - in branches/rpms/brian: . LBRC dkms-golden	dkms-linuxdvb dkms-openafs-kernel dkms-qc-usb dkms-sundance	dkms-truecrypt dkms-wis-go7007-linux dvb-apps libdvb novi	nozomi opencv player pybluez python-json stage thinkfinger	tsrpm vdr vdr-analogtv vdr-burn vdr-clock vdr-dvd vdr-femon	vdr-ffnetdev vdr-freecell vdr-mp3 vdr-osdteletext	vdr-reelchannelscan vdr-remote vdr-screenshot vdr-skinelchi	vdr-skinreel vdr-skins vdr-skinsoppalusikka vdr-softdevice	vdr-streamdev vdr-subtitles vdr-sudoku vdr-text2skin	vdr-timeline vdr-vdrrip vdr-wapd vdr-weather vdr-xine	vdradmin-am vdrsync xine xine-lib xournal">packagers at lists.rpmforge.net
       </A><BR>
    <I>Tue Jun 10 01:04:09 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="005147.html">[svn] r6348 - branches/rpms
</A></li>
        <LI>Next message: <A HREF="005149.html">[svn] r6350 - in branches/rpms/brian: . i386-pc-minix-binutils	i386-pc-minix-gcc-static noarch-novendor-nosystem-binutils	noarch-novendor-nosystem-gcc noarch-novendor-nosystem-glibc	noarch-novendor-nosystem-linux-kernel-headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5148">[ date ]</a>
              <a href="thread.html#5148">[ thread ]</a>
              <a href="subject.html#5148">[ subject ]</a>
              <a href="author.html#5148">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: bschueler
Date: 2008-06-10 00:04:09 +0100 (Tue, 10 Jun 2008)
New Revision: 6349

Added:
   branches/rpms/brian/LBRC/
   branches/rpms/brian/LBRC/lbrc.spec
   branches/rpms/brian/dkms-golden/
   branches/rpms/brian/dkms-golden/dkms-golden.spec
   branches/rpms/brian/dkms-linuxdvb/
   branches/rpms/brian/dkms-linuxdvb/dkms-linuxdvb.spec
   branches/rpms/brian/dkms-openafs-kernel/
   branches/rpms/brian/dkms-openafs-kernel/dkms-openafs-kernel.spec
   branches/rpms/brian/dkms-qc-usb/
   branches/rpms/brian/dkms-qc-usb/dkms-qc-usb.spec
   branches/rpms/brian/dkms-sundance/
   branches/rpms/brian/dkms-sundance/dkms-sundance.spec
   branches/rpms/brian/dkms-truecrypt/
   branches/rpms/brian/dkms-truecrypt/dkms-truecrypt.spec
   branches/rpms/brian/dkms-truecrypt/dm.h.patch
   branches/rpms/brian/dkms-truecrypt/truecrypt-4.3b-kernel-2.6.23.patch
   branches/rpms/brian/dkms-wis-go7007-linux/
   branches/rpms/brian/dkms-wis-go7007-linux/go7007-update.patch
   branches/rpms/brian/dkms-wis-go7007-linux/wis-go7007-linux-0.9.8-makefile.patch
   branches/rpms/brian/dkms-wis-go7007-linux/wis-go7007-linux.spec
   branches/rpms/brian/dkms-wis-go7007-linux/wis-go7007_0.9.8_2.6.21.patch
   branches/rpms/brian/dvb-apps/
   branches/rpms/brian/dvb-apps/COPYING
   branches/rpms/brian/dvb-apps/dvb-apps-optflags.patch
   branches/rpms/brian/dvb-apps/dvb-apps-paths.patch
   branches/rpms/brian/dvb-apps/dvb-apps-tuningfiles-snapshot.sh
   branches/rpms/brian/dvb-apps/dvb-apps.spec
   branches/rpms/brian/libdvb/
   branches/rpms/brian/libdvb/errno.patch
   branches/rpms/brian/libdvb/libdvb-0.5.5-gentoo.patch
   branches/rpms/brian/libdvb/libdvb.spec
   branches/rpms/brian/novi/
   branches/rpms/brian/novi/novi.spec
   branches/rpms/brian/nozomi/
   branches/rpms/brian/nozomi/chap-secrets
   branches/rpms/brian/nozomi/ifcfg-umts
   branches/rpms/brian/nozomi/nozomi.spec
   branches/rpms/brian/nozomi/umts
   branches/rpms/brian/nozomi/umts-interface
   branches/rpms/brian/nozomi/wvdial-umts.conf
   branches/rpms/brian/opencv/
   branches/rpms/brian/opencv/opencv-1.0.0-autotools.diff
   branches/rpms/brian/opencv/opencv-1.0.0-configure.in.diff
   branches/rpms/brian/opencv/opencv-1.0.0-pythondir.diff
   branches/rpms/brian/opencv/opencv-samples-Makefile
   branches/rpms/brian/opencv/opencv.spec
   branches/rpms/brian/player/
   branches/rpms/brian/player/player-2.spec
   branches/rpms/brian/pybluez/
   branches/rpms/brian/pybluez/pybluez.spec
   branches/rpms/brian/python-json/
   branches/rpms/brian/python-json/python-json.spec
   branches/rpms/brian/stage/
   branches/rpms/brian/stage/stage-2.spec
   branches/rpms/brian/thinkfinger/
   branches/rpms/brian/thinkfinger/README.thinkfinger
   branches/rpms/brian/thinkfinger/thinkfinger-0.3-birdir.patch
   branches/rpms/brian/thinkfinger/thinkfinger.spec
   branches/rpms/brian/tsrpm/
   branches/rpms/brian/tsrpm/cygwin.tshint
   branches/rpms/brian/tsrpm/tsrpm.spec
   branches/rpms/brian/vdr-analogtv/
   branches/rpms/brian/vdr-analogtv/cpu_accel.c.patch
   branches/rpms/brian/vdr-analogtv/cpuinfo.c.patch
   branches/rpms/brian/vdr-analogtv/player-analogtv.c.patch
   branches/rpms/brian/vdr-analogtv/vdr-analogtv.spec
   branches/rpms/brian/vdr-burn/
   branches/rpms/brian/vdr-burn/vdr-burn-0.1.0-pre21-config.patch
   branches/rpms/brian/vdr-burn/vdr-burn-0.1.0-pre21-finnish.patch
   branches/rpms/brian/vdr-burn/vdr-burn-cvs-subpicture-id.diff.gz
   branches/rpms/brian/vdr-burn/vdr-burn.conf
   branches/rpms/brian/vdr-burn/vdr-burn.spec
   branches/rpms/brian/vdr-clock/
   branches/rpms/brian/vdr-clock/vdr-clock.spec
   branches/rpms/brian/vdr-dvd/
   branches/rpms/brian/vdr-dvd/vdr-dvd.conf
   branches/rpms/brian/vdr-dvd/vdr-dvd.spec
   branches/rpms/brian/vdr-femon/
   branches/rpms/brian/vdr-femon/vdr-femon.conf
   branches/rpms/brian/vdr-femon/vdr-femon.spec
   branches/rpms/brian/vdr-ffnetdev/
   branches/rpms/brian/vdr-ffnetdev/vdr-ffnetdev.conf
   branches/rpms/brian/vdr-ffnetdev/vdr-ffnetdev.spec
   branches/rpms/brian/vdr-freecell/
   branches/rpms/brian/vdr-freecell/vdr-freecell.conf
   branches/rpms/brian/vdr-freecell/vdr-freecell.spec
   branches/rpms/brian/vdr-freecell/vdr-plugin-freecell_0.0.2-24.diff.gz
   branches/rpms/brian/vdr-mp3/
   branches/rpms/brian/vdr-mp3/vdr-mp3-0.9.15-lastdir.patch
   branches/rpms/brian/vdr-mp3/vdr-mp3-mediasources.sh
   branches/rpms/brian/vdr-mp3/vdr-mp3-mp3.conf
   branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer-minimal.sh
   branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.conf
   branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-0.8.7-defaults.patch
   branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-0.8.7-lircrc.patch
   branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-framedrop.patch
   branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-identify.patch
   branches/rpms/brian/vdr-mp3/vdr-mp3.spec
   branches/rpms/brian/vdr-osdteletext/
   branches/rpms/brian/vdr-osdteletext/vdr-osdteletext-0.5.1-i18n.patch
   branches/rpms/brian/vdr-osdteletext/vdr-osdteletext.conf
   branches/rpms/brian/vdr-osdteletext/vdr-osdteletext.spec
   branches/rpms/brian/vdr-reelchannelscan/
   branches/rpms/brian/vdr-reelchannelscan/04_reelchannelscan-0.3.0-configdir.dpatch
   branches/rpms/brian/vdr-reelchannelscan/vdr-reelchannelscan.spec
   branches/rpms/brian/vdr-remote/
   branches/rpms/brian/vdr-remote/vdr-plugin-remote_0.3.8-2.ds.diff.gz
   branches/rpms/brian/vdr-remote/vdr-remote.conf
   branches/rpms/brian/vdr-remote/vdr-remote.spec
   branches/rpms/brian/vdr-screenshot/
   branches/rpms/brian/vdr-screenshot/vdr-screenshot.spec
   branches/rpms/brian/vdr-skinelchi/
   branches/rpms/brian/vdr-skinelchi/vdr-skinelchi.spec
   branches/rpms/brian/vdr-skinreel/
   branches/rpms/brian/vdr-skinreel/vdr-skinreel.spec
   branches/rpms/brian/vdr-skins/
   branches/rpms/brian/vdr-skins/sttng-blue.theme
   branches/rpms/brian/vdr-skins/vdr-skins-aluminium-i18n.patch
   branches/rpms/brian/vdr-skins/vdr-skins-egalsimple-i18n.patch
   branches/rpms/brian/vdr-skins/vdr-skins-izegrey16-i18n.patch
   branches/rpms/brian/vdr-skins/vdr-skins-prepare-tarballs.sh
   branches/rpms/brian/vdr-skins/vdr-skins.spec
   branches/rpms/brian/vdr-skinsoppalusikka/
   branches/rpms/brian/vdr-skinsoppalusikka/vdr-skinsoppalusikka.spec
   branches/rpms/brian/vdr-softdevice/
   branches/rpms/brian/vdr-softdevice/vdr-softdevice.conf
   branches/rpms/brian/vdr-softdevice/vdr-softdevice.spec
   branches/rpms/brian/vdr-streamdev/
   branches/rpms/brian/vdr-streamdev/vdr-streamdev.conf
   branches/rpms/brian/vdr-streamdev/vdr-streamdev.spec
   branches/rpms/brian/vdr-subtitles/
   branches/rpms/brian/vdr-subtitles/vdr-plugin-subtitles_0.4.0-1.ds.diff.gz
   branches/rpms/brian/vdr-subtitles/vdr-subtitles.conf
   branches/rpms/brian/vdr-subtitles/vdr-subtitles.spec
   branches/rpms/brian/vdr-sudoku/
   branches/rpms/brian/vdr-sudoku/vdr-sudoku.conf
   branches/rpms/brian/vdr-sudoku/vdr-sudoku.spec
   branches/rpms/brian/vdr-text2skin/
   branches/rpms/brian/vdr-text2skin/vdr-text2skin-1.1cvs-cvsfixes.patch
   branches/rpms/brian/vdr-text2skin/vdr-text2skin-1.1cvs-freetype22.patch
   branches/rpms/brian/vdr-text2skin/vdr-text2skin-1.1cvs-skindir.patch
   branches/rpms/brian/vdr-text2skin/vdr-text2skin.conf
   branches/rpms/brian/vdr-text2skin/vdr-text2skin.spec
   branches/rpms/brian/vdr-timeline/
   branches/rpms/brian/vdr-timeline/vdr-timeline.spec
   branches/rpms/brian/vdr-vdrrip/
   branches/rpms/brian/vdr-vdrrip/02_maketempdir.dpatch
   branches/rpms/brian/vdr-vdrrip/03_greppid2.dpatch
   branches/rpms/brian/vdr-vdrrip/05_fix-dvdparameter.dpatch
   branches/rpms/brian/vdr-vdrrip/06_fix-ogm-ac3-vdrsync-dev.dpatch
   branches/rpms/brian/vdr-vdrrip/07_preserve-queue-owner.dpatch
   branches/rpms/brian/vdr-vdrrip/11_fix-identify-aspect.dpatch
   branches/rpms/brian/vdr-vdrrip/91_vdrrip+dvd-0.3.0-1.3.7.dpatch
   branches/rpms/brian/vdr-vdrrip/vdr-vdrrip.spec
   branches/rpms/brian/vdr-vdrrip/vdrrip-0.3.0-paths.patch
   branches/rpms/brian/vdr-vdrrip/vdrrip-0.3.0-queue-bg.patch
   branches/rpms/brian/vdr-vdrrip/vdrrip-dvdnav2dvdread.patch
   branches/rpms/brian/vdr-vdrrip/vdrrip-dvdread-inttypes.patch
   branches/rpms/brian/vdr-vdrrip/vdrrip.init
   branches/rpms/brian/vdr-vdrrip/vdrrip.sysconfig
   branches/rpms/brian/vdr-vdrrip/vdrripsplit.sh
   branches/rpms/brian/vdr-wapd/
   branches/rpms/brian/vdr-wapd/vdr-wapd-0.8-1338i18n.patch
   branches/rpms/brian/vdr-wapd/vdr-wapd-0.8-1341.patch
   branches/rpms/brian/vdr-wapd/vdr-wapd-proxy.conf
   branches/rpms/brian/vdr-wapd/vdr-wapd-wapaccess
   branches/rpms/brian/vdr-wapd/vdr-wapd-waphosts
   branches/rpms/brian/vdr-wapd/vdr-wapd.conf
   branches/rpms/brian/vdr-wapd/vdr-wapd.spec
   branches/rpms/brian/vdr-weather/
   branches/rpms/brian/vdr-weather/vdr-weather.spec
   branches/rpms/brian/vdr-weather/weather-02_vdr_1.3-fix.dpatch
   branches/rpms/brian/vdr-weather/weather-03_g++4.1-fix.dpatch
   branches/rpms/brian/vdr-weather/weather-04_ftp-location.dpatch
   branches/rpms/brian/vdr-xine/
   branches/rpms/brian/vdr-xine/vdr-xine.conf
   branches/rpms/brian/vdr-xine/vdr-xine2.spec
   branches/rpms/brian/vdr/
   branches/rpms/brian/vdr/channelscan-vdr.patch
   branches/rpms/brian/vdr/vdr-1.4.1-dumpable.patch
   branches/rpms/brian/vdr/vdr-1.4.1-paths.patch
   branches/rpms/brian/vdr/vdr-1.4.5-1.diff
   branches/rpms/brian/vdr/vdr-1.4.5-2.diff
   branches/rpms/brian/vdr/vdr-1.4.5-liemikuutio-1.13.diff.gz
   branches/rpms/brian/vdr/vdr-README.package
   branches/rpms/brian/vdr/vdr-channel+epg.patch
   branches/rpms/brian/vdr/vdr-commands.conf
   branches/rpms/brian/vdr/vdr-config.sh
   branches/rpms/brian/vdr/vdr-reccmds.conf
   branches/rpms/brian/vdr/vdr-runvdr.sh
   branches/rpms/brian/vdr/vdr-shutdown.sh
   branches/rpms/brian/vdr/vdr-skincurses.conf
   branches/rpms/brian/vdr/vdr-sky.conf
   branches/rpms/brian/vdr/vdr-timercmds.conf
   branches/rpms/brian/vdr/vdr-udev.rules
   branches/rpms/brian/vdr/vdr.consoleperms
   branches/rpms/brian/vdr/vdr.init
   branches/rpms/brian/vdr/vdr.spec
   branches/rpms/brian/vdr/vdr.sysconfig
   branches/rpms/brian/vdr/vdr_1.4.5-1.ds.diff.gz
   branches/rpms/brian/vdradmin-am/
   branches/rpms/brian/vdradmin-am/vdradmin-am-3.4.5a-proctitle.patch
   branches/rpms/brian/vdradmin-am/vdradmin-am-3.5.3-config.patch
   branches/rpms/brian/vdradmin-am/vdradmin-am-httpd.conf
   branches/rpms/brian/vdradmin-am/vdradmin-am.init
   branches/rpms/brian/vdradmin-am/vdradmin-am.rwtab
   branches/rpms/brian/vdradmin-am/vdradmin-am.spec
   branches/rpms/brian/vdrsync/
   branches/rpms/brian/vdrsync/vdrsync-recpath.patch
   branches/rpms/brian/vdrsync/vdrsync.spec
   branches/rpms/brian/xine-lib/
   branches/rpms/brian/xine-lib/xine-lib.patch
   branches/rpms/brian/xine-lib/xine-lib.spec
   branches/rpms/brian/xine/
   branches/rpms/brian/xine/xine-ui.patch
   branches/rpms/brian/xine/xine.spec
   branches/rpms/brian/xournal/
   branches/rpms/brian/xournal/x-xoj.desktop
   branches/rpms/brian/xournal/xournal-configure.in-freetype.patch
   branches/rpms/brian/xournal/xournal.desktop
   branches/rpms/brian/xournal/xournal.spec
   branches/rpms/brian/xournal/xournal.xml
Log:
Added specs for dkms, vdr and some other stuff. A lot of non-URL-sources to be fixed (until enough webspace is provided by my supplier). Initial version for pre-check in rpmforge-like build environment.

Added: branches/rpms/brian/LBRC/lbrc.spec
===================================================================
--- branches/rpms/brian/LBRC/lbrc.spec	                        (rev 0)
+++ branches/rpms/brian/LBRC/lbrc.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,63 @@
+%{!?python_sitelib: %define python_sitelib %(%{__python} -c &quot;from distutils.sysconfig import get_python_lib; print get_python_lib()&quot;)}
+
+Name:           LBRC
+Version:        0.4 
+Release:        1%{?dist}
+Summary:        Linux Bluetooth Remote Control (LBRC)
+
+Group:          Applications/System 
+License:        GPL
+URL:            <A HREF="http://lbrc.berlios.de/">http://lbrc.berlios.de/</A>
+Source0:        <A HREF="http://download.berlios.de/lbrc/%{name">http://download.berlios.de/lbrc/%{name</A>}-%{version}.tgz
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildArch:	noarch
+BuildRequires:  python-devel
+Requires:       pygobject2, pybluez
+Requires:	python-json, dbus-python
+Requires:	notify-python, gnome-python2-extras
+
+%description
+LBRC allows you to control you Linux Computer with a Java capable phone.
+ 
+Linux Bluetooth Remote Control (LBRC) is a remote control program that
+allows a Linux computer to be controlled by a J2ME device via Bluetooth.
+It is divided into a server part that runs on the computer and reacts
+to input events and a client part that runs on the J2ME device.
+The J2ME client sends the device's keycodes, which are translated
+to keystrokes, mouse movements, mouse clicks, or other input events
+on the controlled computer.
+
+%prep
+%setup -q
+
+
+%build
+python setup.py build
+
+%install
+rm -rf $RPM_BUILD_ROOT
+python setup.py install --skip-build --root $RPM_BUILD_ROOT
+
+rm -rf $RPM_BUILD_ROOT%{_docdir}/python-lbrc
+
+%find_lang %{name}
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files -f %{name}.lang
+%defattr(-,root,root,-)
+%doc doc/* README CHANGELOG
+%{_bindir}/*
+/usr/lib/debug/usr/bin/uinputbridge.debug
+%{_datadir}/lbrc
+%{_datadir}/dbus-1/services/%{name}dbus.service
+%{python_sitelib}/%{name}
+%{python_sitelib}/%{name}_gtk_gui
+
+%changelog
+* Mon May 14 2007 Xavier Lamien &lt; lxtnow[at]gmail.com &gt; - 0.4-1
+- Initial RPM Release.
+

Added: branches/rpms/brian/dkms-golden/dkms-golden.spec
===================================================================
--- branches/rpms/brian/dkms-golden/dkms-golden.spec	                        (rev 0)
+++ branches/rpms/brian/dkms-golden/dkms-golden.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,64 @@
+%define module_name golden
+%define version 1.08
+
+Name:		dkms-%{module_name}
+Version:	%version
+Release:	1.omb%{?dist}
+Summary:	DKMS-ready driver for SUNIX Serial Universal PCI 4037T
+License:	GPL
+Source:         %{module_name}-%{version}.tar.gz
+Group:		Development/Kernel
+Requires(pre):	dkms
+Requires(post): dkms
+BuildRequires:	ncurses-devel
+BuildArch:	noarch
+Buildroot:	%{_tmppath}/%{name}-%{version}-root
+Obsoletes:	%{module_name}-dkms
+Provides:	%{module_name}-dkms
+
+%description
+This driver kit contains Linux drivers for the SUNIX Golden I/O Serial
+Universal PCI Card 4037T.
+
+%prep
+%setup -q -n %{module_name}-%{version}
+
+
+%build
+# empty. dkms makes and installs
+
+%install
+rm -rf %{buildroot}
+mkdir -p %{buildroot}%{_usrsrc}/%{module_name}-%{version}-%{release}
+cp -rf * %{buildroot}/usr/src/%{module_name}-%{version}-%{release}
+make clean
+%{__cat} &gt; %{buildroot}%{_usrsrc}/%{module_name}-%{version}-%{release}/dkms.conf &lt;&lt; 'EOF'
+# Items below here should not have to change with each driver version
+PACKAGE_NAME=&quot;%{module_name}&quot;
+PACKAGE_VERSION=&quot;%{version}-%{release}&quot;
+CLEAN=&quot;make clean&quot;
+MAKE[0]=&quot;make&quot;
+BUILT_MODULE_LOCATION[0]=driver		# location of driver
+BUILT_MODULE_NAME[0]=snx_golden
+DEST_MODULE_LOCATION[0]=/kernel/drivers/char
+AUTOINSTALL=&quot;YES&quot;
+EOF
+
+%post
+  dkms add -m %{module_name} -v %{version}-%{release} --rpm_safe_upgrade
+  dkms build -m %{module_name} -v %{version}-%{release} --rpm_safe_upgrade
+  dkms install -m %{module_name} -v %{version}-%{release} --rpm_safe_upgrade
+
+%preun
+  dkms remove -m %{module_name} -v %{version}-%{release} --rpm_safe_upgrade --all
+	
+%clean
+rm -rf %{buildroot}
+
+%files
+%defattr(-,root,root)
+%{_usrsrc}/%{module_name}-%{version}-%{release}
+
+%changelog
+* Sat May  24 2008 omb
+initial version

Added: branches/rpms/brian/dkms-linuxdvb/dkms-linuxdvb.spec
===================================================================
--- branches/rpms/brian/dkms-linuxdvb/dkms-linuxdvb.spec	                        (rev 0)
+++ branches/rpms/brian/dkms-linuxdvb/dkms-linuxdvb.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,95 @@
+Summary: Linux DVB kernel drivers
+Name: dkms-linuxdvb
+Version: 0.5.14
+Release: 2.bs%{?dist}
+License: GPL
+Group: System Environment/Kernel
+URL: <A HREF="http://www.linuxtv.org/">http://www.linuxtv.org/</A>
+Packager: Brian Schueler &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">brian.schueler at gmx.de</A>&gt;
+Vendor: LinuxTV, <A HREF="http://www.linuxtv.org">http://www.linuxtv.org</A>
+
+Source: %{name}-%{version}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+BuildArch: noarch
+Requires: gcc, make
+Requires(post): dkms
+Requires(preun): dkms
+Provides: linuxdvb = %{version}-%{release}
+
+%description
+linuxdvb is a set of linux DVB drivers from the official Linux TV project
+for receiving TV streams from terristrial, satellite and cable DVB
+(Digital Video Broadcast) equipment.
+
+
+
+%prep
+%setup
+
+
+%build
+
+%install
+%{__rm} -rf %{buildroot}
+
+%define dkms_name linuxdvb
+%define dkms_vers %{version}-%{release}
+%define quiet -q
+
+# Kernel module sources install for dkms
+%{__mkdir_p} %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/
+%{__cp} -a linux-dvb %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/
+
+# Configuration for dkms
+%{__cat} &gt; %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/dkms.conf &lt;&lt; 'EOF'
+PACKAGE_NAME=%{dkms_name}
+PACKAGE_VERSION=%{dkms_vers}
+MAKE[0]=&quot;cd linux-dvb &amp;&amp; make distclean &amp;&amp; make &amp;&amp; make install &amp;&amp; /sbin/depmod -a&quot;
+CLEAN=&quot;cd linux-dvb &amp;&amp; make distclean&quot;
+AUTOINSTALL=yes
+BUILT_MODULE_NAME[0]=&quot;dvb-ttpci&quot;
+BUILT_MODULE_LOCATION[0]=&quot;linux-dvb/v4l&quot;
+DEST_MODULE_NAME[0]=&quot;dvb-ttpci&quot;
+DEST_MODULE_LOCATION[0]=&quot;/kernel/drivers/media/dvb/ttpci&quot;
+EOF
+
+# Firmware installation
+%{__mkdir_p} %{buildroot}/lib/firmware/
+%{__cp} -a firmware/* %{buildroot}/lib/firmware/
+
+%clean
+%{__rm} -rf %{buildroot}
+
+
+%post
+# Add to DKMS registry
+dkms add -m %{dkms_name} -v %{dkms_vers} %{?quiet} || :
+# Rebuild and make available for the currenty running kernel
+dkms build -m %{dkms_name} -v %{dkms_vers} %{?quiet} || :
+dkms install -m %{dkms_name} -v %{dkms_vers} %{?quiet} --force || :
+
+%preun
+# Remove all versions from DKMS registry
+dkms remove -m %{dkms_name} -v %{dkms_vers} %{?quiet} --all || :
+
+
+%files
+%defattr(-, root, root, 0755)
+%{_usrsrc}/%{dkms_name}-%{dkms_vers}/
+/lib/firmware/
+
+
+%changelog
+* Wed Mar 12 2008 Brian Schueler 0.5.14-1
+- Hauppauge HVR4000 tuner switch without reloading driver
+
+* Mon Dec 10 2007 Brian Schueler 0.5.13-1
+- Updated to 2.5.13
+- Add support for Hauppauge HVR4000
+
+* Sat Sep 29 2007 Brian Schueler 0.5.12-1
+- Updated to 2.5.12
+
+* Mon May  28 2007 Brian Schueler 0.5.11-1
+- Initial RPM release.
+

Added: branches/rpms/brian/dkms-openafs-kernel/dkms-openafs-kernel.spec
===================================================================
--- branches/rpms/brian/dkms-openafs-kernel/dkms-openafs-kernel.spec	                        (rev 0)
+++ branches/rpms/brian/dkms-openafs-kernel/dkms-openafs-kernel.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,78 @@
+
+Summary: OpenAFS Kernel Module
+Name: dkms-openafs-kernel
+Version: 1.4.4
+Release: bs
+License: IBM Public License
+Group: System Environment/Kernel
+URL: <A HREF="http://www.openafs.org">http://www.openafs.org</A>
+Packager: Brian Schueler &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">brian.schueler at gmx.de</A>&gt;
+Vendor: BS Repository
+
+Source: openafs-kernel-%{version}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+BuildArch: noarch
+Requires: gcc
+Requires(post): dkms
+Requires(preun): dkms
+
+%description
+OpenAFS filesystem kernel module for the machine to act as an AFS client with caching support
+
+
+%prep
+%setup -n openafs-kernel-%{version}
+
+
+%build
+
+
+%install
+%{__rm} -rf %{buildroot}
+
+%define dkms_name openafs-kernel
+%define dkms_vers %{version}-%{release}
+%define quiet -q
+
+# Kernel module sources install for dkms
+%{__mkdir_p} %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/
+%{__cp} -a . %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/.
+
+# Configuration for dkms
+%{__cat} &gt; %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/dkms.conf &lt;&lt; 'EOF'
+MAKE[0]=&quot;cd src &amp;&amp; make clean ; ./configure &amp;&amp; make &amp;&amp; cd src/libafs &amp;&amp; rm -f MODLOAD &amp;&amp; ln -s MODLOAD-`uname -r`* MODLOAD &amp;&amp; cd ../../../&quot;
+PACKAGE_NAME=%{dkms_name}
+PACKAGE_VERSION=%{dkms_vers}
+BUILT_MODULE_NAME[0]=openafs
+BUILT_MODULE_LOCATION[0]=src/src/libafs/MODLOAD
+DEST_MODULE_LOCATION[0]=/kernel/fs/openafs
+AUTOINSTALL=&quot;YES&quot;
+EOF
+
+
+%clean
+%{__rm} -rf %{buildroot}
+
+
+%post
+# Add to DKMS registry
+dkms add -m %{dkms_name} -v %{dkms_vers} %{?quiet} || :
+# Rebuild and make available for the currenty running kernel
+dkms build -m %{dkms_name} -v %{dkms_vers} %{?quiet} || :
+dkms install -m %{dkms_name} -v %{dkms_vers} %{?quiet} --force || :
+
+%preun
+# Remove all versions from DKMS registry
+dkms remove -m %{dkms_name} -v %{dkms_vers} %{?quiet} --all || :
+
+
+%files
+%defattr(-, root, root, 0755)
+%doc README
+%{_usrsrc}/%{dkms_name}-%{dkms_vers}/
+
+
+%changelog
+* Tue Dec 11 2007 Brian Schueler &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">brian.schueler at gmx.de</A>&gt; 1.4.4
+- Initial RPM release.
+

Added: branches/rpms/brian/dkms-qc-usb/dkms-qc-usb.spec
===================================================================
--- branches/rpms/brian/dkms-qc-usb/dkms-qc-usb.spec	                        (rev 0)
+++ branches/rpms/brian/dkms-qc-usb/dkms-qc-usb.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,78 @@
+%define module_name qc-usb
+%define version 0.6.6
+
+Name:		dkms-%{module_name}
+Version:	%version
+Release:	1.bs
+Summary:	DKMS-ready driver for the QuickCam-compatible USB web cameras
+License:	GPL
+Source:		<A HREF="http://qce-ga.sourceforge.net/%{module_name">http://qce-ga.sourceforge.net/%{module_name</A>}-%{version}.tar.gz
+Group:		Development/Kernel
+Requires(pre):	dkms
+Requires(post): dkms
+Buildroot:	%{_tmppath}/%{name}-%{version}-root
+Buildarch:	noarch
+Obsoletes:	%{module_name}-dkms
+Provides:	%{module_name}-dkms
+
+%description
+This package contains a DKMS-ready linux driver for the QuickCam Express
+and other QuickCam-related and QuickCam-compatible USB web cameras.
+
+The qc-usb driver is known to work with the following webcams:
+
+    * Dexxa Webcam
+    * Labtec Webcam (old model)
+    * LegoCam
+    * Logitech QuickCam Express (old model)
+    * Logitech QuickCam Notebook (some models)
+    * Logitech QuickCam Web
+
+Generally, any USB camera with a USB vendor ID of 0x46d and a USB product ID of
+0x840, 0x850, or 0x870 (so, 0x46d:0x840, for example), should work. You can see
+the USB ID using operating system utilities such as lsusb in Linux.
+
+%prep
+%setup -q -c -n %{module_name}-%{version}
+chmod -R go=u-w .
+
+%build
+
+%install
+rm -rf %{buildroot}
+mkdir -p %{buildroot}/usr/src/
+cp -rf * %{buildroot}/usr/src/%{module_name}-%{version}-%{release}
+cat &gt; %{buildroot}/usr/src/%{module_name}-%{version}-%{release}/dkms.conf &lt;&lt;EOF
+
+PACKAGE_VERSION=&quot;%{version}-%{release}&quot;
+
+# Items below here should not have to change with each driver version
+PACKAGE_NAME=&quot;%{module_name}&quot;
+MAKE[0]=&quot;make quickcam.ko&quot;
+CLEAN=&quot;make clean&quot;
+BUILT_MODULE_NAME[0]=&quot;quickcam&quot;
+DEST_MODULE_LOCATION[0]=&quot;/kernel/3rdparty/qc-usb/&quot;
+DEST_MODULE_NAME[0]=&quot;quickcam&quot;
+AUTOINSTALL=yes
+EOF
+
+%post
+  dkms add -m %{module_name} -v %{version}-%{release} --rpm_safe_upgrade
+  dkms build -m %{module_name} -v %{version}-%{release} --rpm_safe_upgrade
+  dkms install -m %{module_name} -v %{version}-%{release} --rpm_safe_upgrade
+
+%preun
+  dkms remove -m %{module_name} -v %{version}-%{release} --rpm_safe_upgrade --all
+	
+%clean
+rm -rf %{buildroot}
+
+%files
+%defattr(-,root,root)
+/usr/src/%{module_name}-%{version}-%{release}
+
+%changelog
+* Thu Nov 15 2007 Brian Schueler &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">brian.schueler at gmx.de</A>&gt; rebuild for RHEL5/FC6
+* Tue Apr 17 2007 ocilent1 &lt;ocilent1 at gmail dot com&gt; 0.6.6-1pclos2007
+- Build for PCLinuxOS 2007
+

Added: branches/rpms/brian/dkms-sundance/dkms-sundance.spec
===================================================================
--- branches/rpms/brian/dkms-sundance/dkms-sundance.spec	                        (rev 0)
+++ branches/rpms/brian/dkms-sundance/dkms-sundance.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,79 @@
+
+Summary: Driver for D-Link DFE-580TX 4-Port Ethernet controllers
+Name: dkms-sundance
+Version: 0.1
+Release: 0.bs%{?dist}
+License: GPL
+Group: System Environment/Kernel
+URL: <A HREF="http://www.d-link.de/">http://www.d-link.de/</A>
+Packager: Brian Schueler &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">brian.schueler at gmx.de</A>&gt;
+Vendor: Dag Apt Repository, <A HREF="http://dag.wieers.com/apt/">http://dag.wieers.com/apt/</A>
+
+#Source: <A HREF="ftp://ftp.dlink.de/dfe/dfe-580tx/driver_software/DFE-580tx_drv_revALL_linux24_ALL_en_021107.zip">ftp://ftp.dlink.de/dfe/dfe-580tx/driver_software/DFE-580tx_drv_revALL_linux24_ALL_en_021107.zip</A>
+Source: sundance-%{version}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+BuildArch: noarch
+Requires: gcc
+Requires(post): dkms
+Requires(preun): dkms
+
+%description
+Driver (Linux kernel module) for D-Link DFE-580TX 4-Port Ethernet controllers.
+
+
+%prep
+%setup -n sundance-%{version}
+
+
+%build
+
+
+%install
+%{__rm} -rf %{buildroot}
+
+%define dkms_name sundance
+%define dkms_vers %{version}-%{release}
+%define quiet -q
+
+# Kernel module sources install for dkms
+%{__mkdir_p} %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/
+%{__cp} -a 2.[46] Makefile %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/
+
+# Configuration for dkms
+%{__cat} &gt; %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/dkms.conf &lt;&lt; 'EOF'
+MAKE[0]=&quot;make dkms&quot;
+PACKAGE_NAME=%{dkms_name}
+PACKAGE_VERSION=%{dkms_vers}
+BUILT_MODULE_NAME[0]=%{dkms_name}
+BUILT_MODULE_LOCATION[0]=build
+DEST_MODULE_LOCATION[0]=/kernel/drivers/net
+AUTOINSTALL=&quot;YES&quot;
+EOF
+
+
+%clean
+%{__rm} -rf %{buildroot}
+
+
+%post
+# Add to DKMS registry
+dkms add -m %{dkms_name} -v %{dkms_vers} %{?quiet} || :
+# Rebuild and make available for the currenty running kernel
+dkms build -m %{dkms_name} -v %{dkms_vers} %{?quiet} || :
+dkms install -m %{dkms_name} -v %{dkms_vers} %{?quiet} --force || :
+
+%preun
+# Remove all versions from DKMS registry
+dkms remove -m %{dkms_name} -v %{dkms_vers} %{?quiet} --all || :
+
+
+%files
+%defattr(-, root, root, 0755)
+%doc README
+%{_usrsrc}/%{dkms_name}-%{dkms_vers}/
+
+
+%changelog
+* Wed Aug 15 2007 Brian Schueler &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">brian.schueler at gmx.de</A>&gt; 0.0.1 
+- Initial RPM release.
+

Added: branches/rpms/brian/dkms-truecrypt/dkms-truecrypt.spec
===================================================================
--- branches/rpms/brian/dkms-truecrypt/dkms-truecrypt.spec	                        (rev 0)
+++ branches/rpms/brian/dkms-truecrypt/dkms-truecrypt.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,95 @@
+%define dkms_name truecrypt
+%define dkms_vers %{version}-%{release}
+%define quiet -q
+
+Summary: Free open-source disk encryption software
+Name: dkms-truecrypt
+Version: 4.3b
+Release: 3.am%{?dist}
+License: GPLv2
+Group: System Environment/Kernel
+URL: <A HREF="http://www.truecrypt.org/">http://www.truecrypt.org/</A>
+Source: truecrypt-%{version}-source-code.tar.gz
+Patch1: dm.h.patch
+Patch2:	truecrypt-%{version}-kernel-2.6.23.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+Requires: gcc, make
+Requires(post): dkms
+Requires(preun): dkms
+Provides: truecrypt = %{version}-%{release}
+ExclusiveArch: i386 x86_64
+
+%description
+Manages encrypted TrueCrypt volumes, which can be mapped as virtual block
+devices and used as any other standard block device. All data being read from
+a mapped TrueCrypt volume is transparently decrypted and all data
+being written to it is transparently encrypted. 
+
+%prep
+%setup -n truecrypt-%{version}-source-code
+%patch1 -p1
+%patch2 -p1
+mkdir dkms
+cp -a Common Crypto Linux dkms
+
+%build
+cd Linux/Cli
+%{__make} NO_WARNINGS=1
+cd ../../
+
+%install
+%{__rm} -rf %{buildroot}
+
+%{__install} -D -m 0755 Linux/Cli/truecrypt %{buildroot}%{_bindir}/truecrypt
+%{__install} -D -m 0644 Linux/Cli/Man/truecrypt.1 %{buildroot}%{_mandir}/man1/truecrypt.1
+
+# Kernel module sources install for dkms
+%{__mkdir_p} %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/
+%{__cp} -a dkms/* %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/
+
+# Configuration for dkms
+%{__cat} &gt; %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/dkms.conf &lt;&lt; 'EOF'
+PACKAGE_NAME=%{dkms_name}
+PACKAGE_VERSION=%{dkms_vers}
+MAKE[0]=&quot;cd Linux/Kernel ; make KERNEL_SRC=${kernel_source_dir}&quot;
+CLEAN[0]=&quot;cd Linux/Kernel ; make clean KERNEL_SRC=${kernel_source_dir}&quot;
+BUILT_MODULE_NAME[0]=truecrypt
+BUILT_MODULE_LOCATION[0]=&quot;Linux/Kernel&quot;
+DEST_MODULE_LOCATION[0]=/kernel/extra/truecrypt
+AUTOINSTALL=&quot;YES&quot;
+EOF
+
+%clean
+%{__rm} -rf %{buildroot}
+
+
+%post
+# Add to DKMS registry
+dkms add -m %{dkms_name} -v %{dkms_vers} %{?quiet} || :
+# Rebuild and make available for the currenty running kernel
+dkms build -m %{dkms_name} -v %{dkms_vers} %{?quiet} || :
+dkms install -m %{dkms_name} -v %{dkms_vers} %{?quiet} --force || :
+
+
+%preun
+# Remove all versions from DKMS registry
+dkms remove -m %{dkms_name} -v %{dkms_vers} %{?quiet} --all || :
+
+
+%files
+%defattr(-,root,root,-)
+%doc License.txt Readme.txt
+%{_usrsrc}/%{dkms_name}-%{dkms_vers}/
+%{_bindir}/truecrypt
+%{_mandir}/man1/truecrypt.1*
+
+
+%changelog
+* Fri Nov 30 2007 Adam Miller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">kirov.sama at gmail.com</A>&gt; 4.3a-3
+- Fix inclusion of binaries in dkms source
+
+* Fri Nov 30 2007 Adam Miller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">kirov.sama at gmail.com</A>&gt; 4.3a-2
+- Narrow the parts of truecrypt source dkms needs
+
+* Thu Nov 29 2007 Adam Miller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">kirov.sama at gmail.com</A>&gt; 4.3a-1
+- Initial spec

Added: branches/rpms/brian/dkms-truecrypt/dm.h.patch
===================================================================
--- branches/rpms/brian/dkms-truecrypt/dm.h.patch	                        (rev 0)
+++ branches/rpms/brian/dkms-truecrypt/dm.h.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,134 @@
+diff -Naur truecrypt-4.3b-orig/Common/dm.h truecrypt-4.3b-new/Common/dm.h
+--- truecrypt-4.3b-orig/Common/dm.h	1969-12-31 16:00:00.000000000 -0800
++++ truecrypt-4.3b-new/Common/dm.h	2007-11-29 21:37:34.000000000 -0800
+@@ -0,0 +1,130 @@
++/*
++ * Internal header file for device mapper
++ *
++ * Copyright (C) 2001, 2002 Sistina Software
++ * Copyright (C) 2004-2006 Red Hat, Inc. All rights reserved.
++ *
++ * This file is released under the LGPL.
++ */
++
++#ifndef DM_INTERNAL_H
++#define DM_INTERNAL_H
++
++#include &lt;linux/fs.h&gt;
++#include &lt;linux/device-mapper.h&gt;
++#include &lt;linux/list.h&gt;
++#include &lt;linux/blkdev.h&gt;
++#include &lt;linux/hdreg.h&gt;
++
++#define DM_NAME &quot;device-mapper&quot;
++
++#define DMERR(f, arg...) printk(KERN_ERR DM_NAME &quot;: &quot; DM_MSG_PREFIX &quot;: &quot; f &quot;\n&quot;, ## arg)
++#define DMWARN(f, arg...) printk(KERN_WARNING DM_NAME &quot;: &quot; DM_MSG_PREFIX &quot;: &quot; f &quot;\n&quot;, ## arg)
++#define DMINFO(f, arg...) printk(KERN_INFO DM_NAME &quot;: &quot; DM_MSG_PREFIX &quot;: &quot; f &quot;\n&quot;, ## arg)
++
++#define DMEMIT(x...) sz += ((sz &gt;= maxlen) ? \
++			  0 : scnprintf(result + sz, maxlen - sz, x))
++
++#define SECTOR_SHIFT 9
++
++/*
++ * List of devices that a metadevice uses and should open/close.
++ */
++struct dm_dev {
++	struct list_head list;
++
++	atomic_t count;
++	int mode;
++	struct block_device *bdev;
++	char name[16];
++};
++
++struct dm_table;
++
++/*-----------------------------------------------------------------
++ * Internal table functions.
++ *---------------------------------------------------------------*/
++void dm_table_event_callback(struct dm_table *t,
++			     void (*fn)(void *), void *context);
++struct dm_target *dm_table_get_target(struct dm_table *t, unsigned int index);
++struct dm_target *dm_table_find_target(struct dm_table *t, sector_t sector);
++void dm_table_set_restrictions(struct dm_table *t, struct request_queue *q);
++struct list_head *dm_table_get_devices(struct dm_table *t);
++void dm_table_presuspend_targets(struct dm_table *t);
++void dm_table_postsuspend_targets(struct dm_table *t);
++void dm_table_resume_targets(struct dm_table *t);
++int dm_table_any_congested(struct dm_table *t, int bdi_bits);
++void dm_table_unplug_all(struct dm_table *t);
++int dm_table_flush_all(struct dm_table *t);
++
++/*-----------------------------------------------------------------
++ * A registry of target types.
++ *---------------------------------------------------------------*/
++int dm_target_init(void);
++void dm_target_exit(void);
++struct target_type *dm_get_target_type(const char *name);
++void dm_put_target_type(struct target_type *t);
++int dm_target_iterate(void (*iter_func)(struct target_type *tt,
++					void *param), void *param);
++
++/*-----------------------------------------------------------------
++ * Useful inlines.
++ *---------------------------------------------------------------*/
++static inline int array_too_big(unsigned long fixed, unsigned long obj,
++				unsigned long num)
++{
++	return (num &gt; (ULONG_MAX - fixed) / obj);
++}
++
++/*
++ * Ceiling(n / sz)
++ */
++#define dm_div_up(n, sz) (((n) + (sz) - 1) / (sz))
++
++#define dm_sector_div_up(n, sz) ( \
++{ \
++	sector_t _r = ((n) + (sz) - 1); \
++	sector_div(_r, (sz)); \
++	_r; \
++} \
++)
++
++/*
++ * ceiling(n / size) * size
++ */
++#define dm_round_up(n, sz) (dm_div_up((n), (sz)) * (sz))
++
++static inline sector_t to_sector(unsigned long n)
++{
++	return (n &gt;&gt; 9);
++}
++
++static inline unsigned long to_bytes(sector_t n)
++{
++	return (n &lt;&lt; 9);
++}
++
++int dm_split_args(int *argc, char ***argvp, char *input);
++
++/*
++ * The device-mapper can be driven through one of two interfaces;
++ * ioctl or filesystem, depending which patch you have applied.
++ */
++int dm_interface_init(void);
++void dm_interface_exit(void);
++
++/*
++ * Targets for linear and striped mappings
++ */
++int dm_linear_init(void);
++void dm_linear_exit(void);
++
++int dm_stripe_init(void);
++void dm_stripe_exit(void);
++
++void *dm_vcalloc(unsigned long nmemb, unsigned long elem_size);
++union map_info *dm_get_mapinfo(struct bio *bio);
++int dm_open_count(struct mapped_device *md);
++int dm_lock_for_deletion(struct mapped_device *md);
++
++#endif

Added: branches/rpms/brian/dkms-truecrypt/truecrypt-4.3b-kernel-2.6.23.patch
===================================================================
--- branches/rpms/brian/dkms-truecrypt/truecrypt-4.3b-kernel-2.6.23.patch	                        (rev 0)
+++ branches/rpms/brian/dkms-truecrypt/truecrypt-4.3b-kernel-2.6.23.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,15 @@
+diff -up ./Linux/Kernel/Dm-target.c.lfarkas ./Linux/Kernel/Dm-target.c
+--- ./Linux/Kernel/Dm-target.c.lfarkas	2007-10-31 23:05:41.000000000 +0100
++++ ./Linux/Kernel/Dm-target.c	2007-10-31 23:07:33.000000000 +0100
+@@ -656,7 +656,11 @@ int __init dm_truecrypt_init(void)
+ 		goto err;
+ 	}
+ 
++#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,23)
+ 	bio_ctx_cache = kmem_cache_create (&quot;truecrypt-bioctx&quot;, sizeof (struct bio_ctx), 0, 0, NULL, NULL);
++#else
++	bio_ctx_cache = kmem_cache_create (&quot;truecrypt-bioctx&quot;, sizeof (struct bio_ctx), 0, 0, NULL);
++#endif
+ 	if (!bio_ctx_cache)
+ 	{
+ 		error (&quot;kmem_cache_create failed&quot;);

Added: branches/rpms/brian/dkms-wis-go7007-linux/go7007-update.patch
===================================================================
--- branches/rpms/brian/dkms-wis-go7007-linux/go7007-update.patch	                        (rev 0)
+++ branches/rpms/brian/dkms-wis-go7007-linux/go7007-update.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,273 @@
+Only in wis-go7007-linux-0.9.8-new/apps: gorecord
+Only in wis-go7007-linux-0.9.8-new/apps: modet
+Only in wis-go7007-linux-0.9.8-new/hotplug: wis-ezusb
+diff -ru wis-go7007-linux-0.9.8/kernel/go7007-driver.c wis-go7007-linux-0.9.8-new/kernel/go7007-driver.c
+--- wis-go7007-linux-0.9.8/kernel/go7007-driver.c	2006-04-02 00:35:48.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/go7007-driver.c	2006-08-19 10:55:47.000000000 +0200
+@@ -18,7 +18,9 @@
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/init.h&gt;
++#if LINUX_VERSION_CODE &lt;= KERNEL_VERSION(2,6,17)
+ #include &lt;linux/config.h&gt;
++#endif
+ #include &lt;linux/delay.h&gt;
+ #include &lt;linux/sched.h&gt;
+ #include &lt;linux/spinlock.h&gt;
+Only in wis-go7007-linux-0.9.8-new/kernel: go7007-driver.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .go7007-driver.o.cmd
+diff -ru wis-go7007-linux-0.9.8/kernel/go7007-fw.c wis-go7007-linux-0.9.8-new/kernel/go7007-fw.c
+--- wis-go7007-linux-0.9.8/kernel/go7007-fw.c	2006-04-02 00:35:55.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/go7007-fw.c	2006-08-19 11:01:51.000000000 +0200
+@@ -26,7 +26,10 @@
+ 
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
++#include &lt;linux/version.h&gt;
++#if LINUX_VERSION_CODE &lt;= KERNEL_VERSION(2,6,17)
+ #include &lt;linux/config.h&gt;
++#endif
+ #include &lt;linux/time.h&gt;
+ #include &lt;linux/mm.h&gt;
+ #include &lt;linux/device.h&gt;
+Only in wis-go7007-linux-0.9.8-new/kernel: go7007-fw.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .go7007-fw.o.cmd
+diff -ru wis-go7007-linux-0.9.8/kernel/go7007-i2c.c wis-go7007-linux-0.9.8-new/kernel/go7007-i2c.c
+--- wis-go7007-linux-0.9.8/kernel/go7007-i2c.c	2006-04-02 00:36:00.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/go7007-i2c.c	2006-08-19 11:01:28.000000000 +0200
+@@ -15,9 +15,11 @@
+  * Inc., 59 Temple Place - Suite 330, Boston MA 02111-1307, USA.
+  */
+ 
++#include &lt;linux/version.h&gt;
++#if LINUX_VERSION_CODE &lt;= KERNEL_VERSION(2,6,17)
+ #include &lt;linux/config.h&gt;
++#endif
+ #include &lt;linux/module.h&gt;
+-#include &lt;linux/version.h&gt;
+ #include &lt;linux/init.h&gt;
+ #include &lt;linux/delay.h&gt;
+ #include &lt;linux/sched.h&gt;
+Only in wis-go7007-linux-0.9.8-new/kernel: go7007-i2c.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .go7007-i2c.o.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: go7007.ko
+Only in wis-go7007-linux-0.9.8-new/kernel: .go7007.ko.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: go7007.mod.c
+Only in wis-go7007-linux-0.9.8-new/kernel: go7007.mod.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .go7007.mod.o.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: go7007.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .go7007.o.cmd
+diff -ru wis-go7007-linux-0.9.8/kernel/go7007-usb.c wis-go7007-linux-0.9.8-new/kernel/go7007-usb.c
+--- wis-go7007-linux-0.9.8/kernel/go7007-usb.c	2006-04-02 00:57:04.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/go7007-usb.c	2006-04-03 12:58:44.000000000 +0200
+@@ -27,7 +27,7 @@
+ #include &lt;linux/usb.h&gt;
+ #include &lt;linux/i2c.h&gt;
+ #include &lt;asm/byteorder.h&gt;
+-#include &lt;media/audiochip.h&gt;
++#include &lt;media/tvaudio.h&gt;
+ 
+ #include &quot;go7007-priv.h&quot;
+ #include &quot;wis-i2c.h&quot;
+@@ -225,17 +225,17 @@
+ 		.inputs 	 = {
+ 			{
+ 				.video_input	= 1,
+-				.audio_input	= AUDIO_EXTERN,
++                .audio_input	= TVAUDIO_INPUT_EXTERN,
+ 				.name		= &quot;Composite&quot;,
+ 			},
+ 			{
+ 				.video_input	= 8,
+-				.audio_input	= AUDIO_EXTERN,
++				.audio_input	= TVAUDIO_INPUT_EXTERN,
+ 				.name		= &quot;S-Video&quot;,
+ 			},
+ 			{
+ 				.video_input	= 3,
+-				.audio_input	= AUDIO_TUNER,
++				.audio_input	= TVAUDIO_INPUT_TUNER,
+ 				.name		= &quot;Tuner&quot;,
+ 			},
+ 		},
+Only in wis-go7007-linux-0.9.8-new/kernel: go7007-usb.ko
+Only in wis-go7007-linux-0.9.8-new/kernel: .go7007-usb.ko.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: go7007-usb.mod.c
+Only in wis-go7007-linux-0.9.8-new/kernel: go7007-usb.mod.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .go7007-usb.mod.o.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: go7007-usb.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .go7007-usb.o.cmd
+diff -ru wis-go7007-linux-0.9.8/kernel/go7007-v4l2.c wis-go7007-linux-0.9.8-new/kernel/go7007-v4l2.c
+--- wis-go7007-linux-0.9.8/kernel/go7007-v4l2.c	2006-04-02 01:22:03.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/go7007-v4l2.c	2006-08-19 11:01:14.000000000 +0200
+@@ -17,8 +17,10 @@
+ 
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
++#if LINUX_VERSION_CODE &lt;= KERNEL_VERSION(2,6,17)
++#include &lt;linux/config.h&gt;
++#endif
+ #include &lt;linux/delay.h&gt;
+ #include &lt;linux/sched.h&gt;
+ #include &lt;linux/spinlock.h&gt;
+@@ -939,7 +941,7 @@
+ 		if (go-&gt;i2c_adapter_online) {
+ 			i2c_clients_command(&amp;go-&gt;i2c_adapter, DECODER_SET_INPUT,
+ 				&amp;go-&gt;board_info-&gt;inputs[*input].video_input);
+-			i2c_clients_command(&amp;go-&gt;i2c_adapter, AUDC_SET_INPUT,
++			i2c_clients_command(&amp;go-&gt;i2c_adapter, VIDIOC_S_AUDIO,
+ 				&amp;go-&gt;board_info-&gt;inputs[*input].audio_input);
+ 		}
+ 		return 0;
+Only in wis-go7007-linux-0.9.8-new/kernel: go7007-v4l2.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .go7007-v4l2.o.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: Modules.symvers
+Only in wis-go7007-linux-0.9.8-new/kernel: Module.symvers
+diff -ru wis-go7007-linux-0.9.8/kernel/snd-go7007.c wis-go7007-linux-0.9.8-new/kernel/snd-go7007.c
+--- wis-go7007-linux-0.9.8/kernel/snd-go7007.c	2006-04-02 00:36:38.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/snd-go7007.c	2006-08-19 10:57:31.000000000 +0200
+@@ -20,7 +20,9 @@
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/moduleparam.h&gt;
+ #include &lt;linux/init.h&gt;
++#if LINUX_VERSION_CODE &lt;= KERNEL_VERSION(2,6,17)
+ #include &lt;linux/config.h&gt;
++#endif
+ #include &lt;linux/delay.h&gt;
+ #include &lt;linux/sched.h&gt;
+ #include &lt;linux/vmalloc.h&gt;
+Only in wis-go7007-linux-0.9.8-new/kernel: snd-go7007.ko
+Only in wis-go7007-linux-0.9.8-new/kernel: .snd-go7007.ko.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: snd-go7007.mod.c
+Only in wis-go7007-linux-0.9.8-new/kernel: snd-go7007.mod.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .snd-go7007.mod.o.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: snd-go7007.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .snd-go7007.o.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: .tmp_versions
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-ov7640.ko
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-ov7640.ko.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-ov7640.mod.c
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-ov7640.mod.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-ov7640.mod.o.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-ov7640.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-ov7640.o.cmd
+diff -ru wis-go7007-linux-0.9.8/kernel/wis-saa7113.c wis-go7007-linux-0.9.8-new/kernel/wis-saa7113.c
+--- wis-go7007-linux-0.9.8/kernel/wis-saa7113.c	2006-04-02 00:37:06.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/wis-saa7113.c	2006-08-19 11:03:04.000000000 +0200
+@@ -21,6 +21,7 @@
+ #include &lt;linux/i2c.h&gt;
+ #include &lt;linux/videodev.h&gt;
+ #include &lt;linux/video_decoder.h&gt;
++#include &lt;linux/ioctl.h&gt;
+ 
+ #include &quot;wis-i2c.h&quot;
+ 
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-saa7113.ko
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-saa7113.ko.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-saa7113.mod.c
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-saa7113.mod.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-saa7113.mod.o.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-saa7113.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-saa7113.o.cmd
+diff -ru wis-go7007-linux-0.9.8/kernel/wis-saa7115.c wis-go7007-linux-0.9.8-new/kernel/wis-saa7115.c
+--- wis-go7007-linux-0.9.8/kernel/wis-saa7115.c	2006-04-02 00:37:12.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/wis-saa7115.c	2006-08-19 11:02:28.000000000 +0200
+@@ -21,6 +21,7 @@
+ #include &lt;linux/i2c.h&gt;
+ #include &lt;linux/videodev.h&gt;
+ #include &lt;linux/video_decoder.h&gt;
++#include &lt;linux/ioctl.h&gt;
+ 
+ #include &quot;wis-i2c.h&quot;
+ 
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-saa7115.ko
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-saa7115.ko.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-saa7115.mod.c
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-saa7115.mod.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-saa7115.mod.o.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-saa7115.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-saa7115.o.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-sony-tuner.ko
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-sony-tuner.ko.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-sony-tuner.mod.c
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-sony-tuner.mod.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-sony-tuner.mod.o.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-sony-tuner.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-sony-tuner.o.cmd
+diff -ru wis-go7007-linux-0.9.8/kernel/wis-tw2804.c wis-go7007-linux-0.9.8-new/kernel/wis-tw2804.c
+--- wis-go7007-linux-0.9.8/kernel/wis-tw2804.c	2006-04-02 00:37:22.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/wis-tw2804.c	2006-08-19 11:02:43.000000000 +0200
+@@ -21,6 +21,7 @@
+ #include &lt;linux/i2c.h&gt;
+ #include &lt;linux/videodev.h&gt;
+ #include &lt;linux/video_decoder.h&gt;
++#include &lt;linux/ioctl.h&gt;
+ 
+ #include &quot;wis-i2c.h&quot;
+ 
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-tw2804.ko
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-tw2804.ko.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-tw2804.mod.c
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-tw2804.mod.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-tw2804.mod.o.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-tw2804.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-tw2804.o.cmd
+diff -ru wis-go7007-linux-0.9.8/kernel/wis-tw9903.c wis-go7007-linux-0.9.8-new/kernel/wis-tw9903.c
+--- wis-go7007-linux-0.9.8/kernel/wis-tw9903.c	2006-04-02 00:37:28.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/wis-tw9903.c	2006-08-19 11:02:47.000000000 +0200
+@@ -21,6 +21,7 @@
+ #include &lt;linux/i2c.h&gt;
+ #include &lt;linux/videodev.h&gt;
+ #include &lt;linux/video_decoder.h&gt;
++#include &lt;linux/ioctl.h&gt;
+ 
+ #include &quot;wis-i2c.h&quot;
+ 
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-tw9903.ko
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-tw9903.ko.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-tw9903.mod.c
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-tw9903.mod.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-tw9903.mod.o.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-tw9903.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-tw9903.o.cmd
+diff -ru wis-go7007-linux-0.9.8/kernel/wis-uda1342.c wis-go7007-linux-0.9.8-new/kernel/wis-uda1342.c
+--- wis-go7007-linux-0.9.8/kernel/wis-uda1342.c	2006-04-02 00:37:32.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/wis-uda1342.c	2006-04-03 13:07:04.000000000 +0200
+@@ -20,7 +20,7 @@
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/i2c.h&gt;
+ #include &lt;linux/videodev.h&gt;
+-#include &lt;media/audiochip.h&gt;
++#include &lt;media/tvaudio.h&gt;
+ #if LINUX_VERSION_CODE &gt;= KERNEL_VERSION(2,6,16)
+ #include &lt;media/v4l2-common.h&gt;
+ #endif
+@@ -38,15 +38,15 @@
+ 				unsigned int cmd, void *arg)
+ {
+ 	switch (cmd) {
+-	case AUDC_SET_INPUT:
++	case VIDIOC_S_AUDIO:
+ 	{
+ 		int *inp = arg;
+ 
+ 		switch (*inp) {
+-		case AUDIO_TUNER:
++		case TVAUDIO_INPUT_TUNER:
+ 			write_reg(client, 0x00, 0x1441); /* select input 2 */
+ 			break;
+-		case AUDIO_EXTERN:
++		case TVAUDIO_INPUT_EXTERN:
+ 			write_reg(client, 0x00, 0x1241); /* select input 1 */
+ 			break;
+ 		default:
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-uda1342.ko
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-uda1342.ko.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-uda1342.mod.c
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-uda1342.mod.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-uda1342.mod.o.cmd
+Only in wis-go7007-linux-0.9.8-new/kernel: wis-uda1342.o
+Only in wis-go7007-linux-0.9.8-new/kernel: .wis-uda1342.o.cmd
+Only in wis-go7007-linux-0.9.8-new/udev: wis-ezusb.rules

Added: branches/rpms/brian/dkms-wis-go7007-linux/wis-go7007-linux-0.9.8-makefile.patch
===================================================================
--- branches/rpms/brian/dkms-wis-go7007-linux/wis-go7007-linux-0.9.8-makefile.patch	                        (rev 0)
+++ branches/rpms/brian/dkms-wis-go7007-linux/wis-go7007-linux-0.9.8-makefile.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,37 @@
+--- wis-go7007-linux-0.9.8/Makefile~	2005-11-05 18:58:07.000000000 +0100
++++ wis-go7007-linux-0.9.8/Makefile	2006-04-04 00:47:27.000000000 +0200
+@@ -44,11 +44,15 @@
+ 	@false
+ endif
+ 
+-all:
++all: all_kmdl all_non_kmdl
++
++all_kmdl:
+ 	@echo
+ 	@echo '*****' Using kernel source in $(KSRC) '*****'
+ 	@echo
+ 	$(MAKE) modules -C $(KSRC) M=$(shell pwd)/kernel
++
++all_non_kmdl:
+ 	sed -e s/@FIRMWARE_DIR@/$(FIRMWARE_DIR_ESCAPED)/ \
+ 			-e s/@FXLOAD@/$(FXLOAD_ESCAPED)/ \
+ 		&lt;hotplug/wis-ezusb.in &gt;hotplug/wis-ezusb
+@@ -57,12 +61,16 @@
+ 		&lt;udev/wis-ezusb.rules.in &gt;udev/wis-ezusb.rules
+ 	$(MAKE) -C apps CFLAGS=&quot;-I$(KSRC)/include -I../include&quot;
+ 
+-install:
++install: install_kmdl install_non_kmdl
++
++install_kmdl:
+ 	$(MAKE) modules_install INSTALL_MOD_PATH=$(DESTDIR) \
+ 		-C $(KSRC) M=$(shell pwd)/kernel
+ ifeq ($(SKIP_DEPMOD),)
+ 	/sbin/depmod -a
+ endif
++
++install_non_kmdl:
+ 	@echo
+ 	@echo &quot;Installing include files into $(KSRC)/include/linux&quot;
+ 	@echo

Added: branches/rpms/brian/dkms-wis-go7007-linux/wis-go7007-linux.spec
===================================================================
--- branches/rpms/brian/dkms-wis-go7007-linux/wis-go7007-linux.spec	                        (rev 0)
+++ branches/rpms/brian/dkms-wis-go7007-linux/wis-go7007-linux.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,108 @@
+%define module_name wis-go7007-linux
+%define version 0.9.8
+
+Name:		dkms-%{module_name}
+Version:	%version
+Release:	1.bs%{?dist}
+Summary:	DKMS-ready driver for WIS go7007 frame grabbers
+License:	GPL
+Source:		<A HREF="http://oss.wischip.com/%{module_name">http://oss.wischip.com/%{module_name</A>}-%{version}.tar.bz2
+Patch0:		wis-go7007-linux-0.9.8-makefile.patch
+Patch1:		<A HREF="http://bart.ulyssis.org/go7007-update.patch">http://bart.ulyssis.org/go7007-update.patch</A>
+Patch2:		wis-go7007_0.9.8_2.6.21.patch
+Group:		Development/Kernel
+Requires(pre):	dkms
+Requires(post): dkms
+#BuildArch:	noarch
+Buildroot:	%{_tmppath}/%{name}-%{version}-root
+Obsoletes:	%{module_name}-dkms
+Provides:	%{module_name}-dkms
+
+%description
+This driver kit contains Linux drivers for the WIS GO7007SB multi-format
+video encoder.  Only kernel version 2.6.x is supported.  The video stream
+is available through the Video4Linux2 API and the audio stream is available
+through the ALSA API (or the OSS emulation layer of the ALSA system).
+
+%prep
+%setup -q -n %{module_name}-%{version}
+#%patch1 -p1
+%patch0 -p1
+%patch2 -p1
+# too late in the game
+#perl -pi -e's,(-I\$\(shell pwd\)),-I%{_includedir}/v4l -I%{_includedir}/alsa-driver -H $1,' kernel/Makefile
+perl -pi -e's,(-I\$\(shell pwd\)),-H $1,' kernel/Makefile
+
+
+%build
+make
+
+%install
+rm -rf %{buildroot}
+mkdir -p %{buildroot}%{_usrsrc}/%{module_name}-%{version}-%{release}
+mkdir -p %{buildroot}/lib/firmware
+mkdir -p %{buildroot}/usr/bin
+cp -rvi firmware/* %{buildroot}/lib/firmware
+cp -rvi apps/gorecord apps/modet %{buildroot}/usr/bin/
+cp -rf * %{buildroot}/usr/src/%{module_name}-%{version}-%{release}
+make clean
+%{__cat} &gt; %{buildroot}%{_usrsrc}/%{module_name}-%{version}-%{release}/dkms.conf &lt;&lt; 'EOF'
+# Items below here should not have to change with each driver version
+PACKAGE_NAME=&quot;%{module_name}&quot;
+PACKAGE_VERSION=&quot;%{version}-%{release}&quot;
+CLEAN=&quot;make clean&quot;
+MAKE[0]=&quot;make KERNELSRC=${kernel_source_dir}&quot;
+BUILT_MODULE_LOCATION[0]=kernel
+BUILT_MODULE_LOCATION[1]=kernel
+BUILT_MODULE_LOCATION[2]=kernel
+BUILT_MODULE_LOCATION[3]=kernel
+BUILT_MODULE_LOCATION[4]=kernel
+BUILT_MODULE_LOCATION[5]=kernel
+BUILT_MODULE_LOCATION[6]=kernel
+BUILT_MODULE_LOCATION[7]=kernel
+BUILT_MODULE_LOCATION[8]=kernel
+BUILT_MODULE_LOCATION[9]=kernel
+BUILT_MODULE_NAME[0]=go7007
+BUILT_MODULE_NAME[1]=wis-saa7113
+BUILT_MODULE_NAME[2]=wis-tw9903
+BUILT_MODULE_NAME[3]=go7007-usb
+BUILT_MODULE_NAME[4]=wis-saa7115
+BUILT_MODULE_NAME[5]=wis-uda1342
+BUILT_MODULE_NAME[6]=snd-go7007
+BUILT_MODULE_NAME[7]=wis-sony-tuner
+BUILT_MODULE_NAME[8]=wis-ov7640
+BUILT_MODULE_NAME[9]=wis-tw2804
+DEST_MODULE_LOCATION[0]=/kernel/extra
+DEST_MODULE_LOCATION[1]=/kernel/extra
+DEST_MODULE_LOCATION[2]=/kernel/extra
+DEST_MODULE_LOCATION[3]=/kernel/extra
+DEST_MODULE_LOCATION[4]=/kernel/extra
+DEST_MODULE_LOCATION[5]=/kernel/extra
+DEST_MODULE_LOCATION[6]=/kernel/extra
+DEST_MODULE_LOCATION[7]=/kernel/extra
+DEST_MODULE_LOCATION[8]=/kernel/extra
+DEST_MODULE_LOCATION[9]=/kernel/extra
+AUTOINSTALL=&quot;YES&quot;
+EOF
+
+%post
+  dkms add -m %{module_name} -v %{version}-%{release} --rpm_safe_upgrade
+  dkms build -m %{module_name} -v %{version}-%{release} --rpm_safe_upgrade
+  dkms install -m %{module_name} -v %{version}-%{release} --rpm_safe_upgrade
+
+%preun
+  dkms remove -m %{module_name} -v %{version}-%{release} --rpm_safe_upgrade --all
+	
+%clean
+rm -rf %{buildroot}
+
+%files
+%defattr(-,root,root)
+%{_usrsrc}/%{module_name}-%{version}-%{release}
+/lib/firmware
+%{_bindir}
+
+%changelog
+* Fri May  2 2008 Brian Schueler &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">brian.schueler at gmx.de</A>&gt;
+initial version
+

Added: branches/rpms/brian/dkms-wis-go7007-linux/wis-go7007_0.9.8_2.6.21.patch
===================================================================
--- branches/rpms/brian/dkms-wis-go7007-linux/wis-go7007_0.9.8_2.6.21.patch	                        (rev 0)
+++ branches/rpms/brian/dkms-wis-go7007-linux/wis-go7007_0.9.8_2.6.21.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,773 @@
+diff -ur wis-go7007-linux-0.9.8/kernel/go7007-driver.c wis-go7007-linux-0.9.8-new/kernel/go7007-driver.c
+--- wis-go7007-linux-0.9.8/kernel/go7007-driver.c	2006-04-02 00:35:48.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/go7007-driver.c	2007-02-18 23:30:59.000000000 +0100
+@@ -18,7 +18,6 @@
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/init.h&gt;
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/delay.h&gt;
+ #include &lt;linux/sched.h&gt;
+ #include &lt;linux/spinlock.h&gt;
+@@ -34,9 +33,7 @@
+ #include &lt;asm/system.h&gt;
+ #include &lt;linux/videodev.h&gt;
+ #include &lt;media/tuner.h&gt;
+-#if LINUX_VERSION_CODE &gt;= KERNEL_VERSION(2,6,16)
+ #include &lt;media/v4l2-common.h&gt;
+-#endif
+ 
+ #include &quot;go7007-priv.h&quot;
+ #include &quot;wis-i2c.h&quot;
+diff -ur wis-go7007-linux-0.9.8/kernel/go7007-fw.c wis-go7007-linux-0.9.8-new/kernel/go7007-fw.c
+--- wis-go7007-linux-0.9.8/kernel/go7007-fw.c	2006-04-02 00:35:55.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/go7007-fw.c	2007-02-18 23:31:34.000000000 +0100
+@@ -26,7 +26,7 @@
+ 
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
+-#include &lt;linux/config.h&gt;
++#include &lt;linux/version.h&gt;
+ #include &lt;linux/time.h&gt;
+ #include &lt;linux/mm.h&gt;
+ #include &lt;linux/device.h&gt;
+diff -ur wis-go7007-linux-0.9.8/kernel/go7007-i2c.c wis-go7007-linux-0.9.8-new/kernel/go7007-i2c.c
+--- wis-go7007-linux-0.9.8/kernel/go7007-i2c.c	2006-04-02 00:36:00.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/go7007-i2c.c	2007-02-18 23:34:41.000000000 +0100
+@@ -15,9 +15,8 @@
+  * Inc., 59 Temple Place - Suite 330, Boston MA 02111-1307, USA.
+  */
+ 
+-#include &lt;linux/config.h&gt;
+-#include &lt;linux/module.h&gt;
+ #include &lt;linux/version.h&gt;
++#include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
+ #include &lt;linux/delay.h&gt;
+ #include &lt;linux/sched.h&gt;
+@@ -288,10 +287,6 @@
+ }
+ 
+ static struct i2c_algorithm go7007_algo = {
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,14)
+-	.name		= &quot;go7007&quot;,
+-	.id		= I2C_ALGO_GO7007,
+-#endif
+ 	.smbus_xfer	= go7007_smbus_xfer,
+ 	.master_xfer	= go7007_i2c_master_xfer,
+ 	.algo_control	= go7007_algo_control,
+diff -ur wis-go7007-linux-0.9.8/kernel/go7007-usb.c wis-go7007-linux-0.9.8-new/kernel/go7007-usb.c
+--- wis-go7007-linux-0.9.8/kernel/go7007-usb.c	2006-04-02 00:57:04.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/go7007-usb.c	2007-02-18 23:34:20.000000000 +0100
+@@ -27,7 +27,7 @@
+ #include &lt;linux/usb.h&gt;
+ #include &lt;linux/i2c.h&gt;
+ #include &lt;asm/byteorder.h&gt;
+-#include &lt;media/audiochip.h&gt;
++#include &lt;media/tvaudio.h&gt;
+ 
+ #include &quot;go7007-priv.h&quot;
+ #include &quot;wis-i2c.h&quot;
+@@ -225,17 +225,17 @@
+ 		.inputs 	 = {
+ 			{
+ 				.video_input	= 1,
+-				.audio_input	= AUDIO_EXTERN,
++                .audio_input	= TVAUDIO_INPUT_EXTERN,
+ 				.name		= &quot;Composite&quot;,
+ 			},
+ 			{
+ 				.video_input	= 8,
+-				.audio_input	= AUDIO_EXTERN,
++				.audio_input	= TVAUDIO_INPUT_EXTERN,
+ 				.name		= &quot;S-Video&quot;,
+ 			},
+ 			{
+ 				.video_input	= 3,
+-				.audio_input	= AUDIO_TUNER,
++				.audio_input	= TVAUDIO_INPUT_TUNER,
+ 				.name		= &quot;Tuner&quot;,
+ 			},
+ 		},
+@@ -502,11 +502,7 @@
+ 		int value, int index, void *transfer_buffer, int length, int in)
+ {
+ 	struct go7007_usb *usb = go-&gt;hpi_context;
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-	int timeout = 5 * HZ;
+-#else
+ 	int timeout = 5000;
+-#endif
+ 
+ 	if (in) {
+ 		return usb_control_msg(usb-&gt;usbdev, 
+@@ -562,11 +558,7 @@
+ 	struct go7007_usb *usb = go-&gt;hpi_context;
+ 	int i, r;
+ 	u16 status_reg;
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-	int timeout = HZ / 2;
+-#else
+ 	int timeout = 500;
+-#endif
+ 
+ #ifdef GO7007_USB_DEBUG
+ 	printk(KERN_DEBUG
+@@ -615,11 +607,7 @@
+ 	struct go7007_usb *usb = go-&gt;hpi_context;
+ 	u8 *tbuf;
+ 	int r;
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-	int timeout = HZ / 2;
+-#else
+ 	int timeout = 500;
+-#endif
+ 
+ #ifdef GO7007_USB_DEBUG
+ 	printk(KERN_DEBUG
+@@ -645,8 +633,7 @@
+ 	return 0;
+ }
+ 
+-static void go7007_usb_readinterrupt_complete(struct urb *urb,
+-		struct pt_regs *pt_regs)
++static void go7007_usb_readinterrupt_complete(struct urb *urb)
+ {
+ 	struct go7007 *go = (struct go7007 *)urb-&gt;context;
+ 	u16 *regs = (u16 *)urb-&gt;transfer_buffer;
+@@ -690,8 +677,7 @@
+ 	return 0;
+ }
+ 
+-static void go7007_usb_read_video_pipe_complete(struct urb *urb,
+-		struct pt_regs *pt_regs)
++static void go7007_usb_read_video_pipe_complete(struct urb *urb)
+ {
+ 	struct go7007 *go = (struct go7007 *)urb-&gt;context;
+ 	int r;
+@@ -715,8 +701,7 @@
+ 		printk(KERN_ERR &quot;go7007-usb: error in video pipe: %d\n&quot;, r);
+ }
+ 
+-static void go7007_usb_read_audio_pipe_complete(struct urb *urb,
+-		struct pt_regs *pt_regs)
++static void go7007_usb_read_audio_pipe_complete(struct urb *urb)
+ {
+ 	struct go7007 *go = (struct go7007 *)urb-&gt;context;
+ 	int r;
+@@ -793,11 +778,7 @@
+ {
+ 	struct go7007_usb *usb = go-&gt;hpi_context;
+ 	int transferred, pipe;
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-	int timeout = HZ / 2;
+-#else
+ 	int timeout = 500;
+-#endif
+ 
+ #ifdef GO7007_USB_DEBUG
+ 	printk(KERN_DEBUG &quot;go7007-usb: DownloadBuffer sending %d bytes\n&quot;, len);
+@@ -920,10 +901,6 @@
+ }
+ 
+ static struct i2c_algorithm go7007_usb_algo = {
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,14)
+-	.name		= &quot;go7007-usb&quot;,
+-	.id		= I2C_ALGO_GO7007,
+-#endif
+ 	.master_xfer	= go7007_usb_i2c_master_xfer,
+ 	.algo_control	= go7007_usb_algo_control,
+ 	.functionality	= go7007_usb_functionality,
+@@ -1237,9 +1214,6 @@
+ }
+ 
+ static struct usb_driver go7007_usb_driver = {
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.owner		= THIS_MODULE,
+-#endif
+ 	.name		= &quot;go7007&quot;,
+ 	.probe		= go7007_usb_probe,
+ 	.disconnect	= go7007_usb_disconnect,
+diff -ur wis-go7007-linux-0.9.8/kernel/go7007-v4l2.c wis-go7007-linux-0.9.8-new/kernel/go7007-v4l2.c
+--- wis-go7007-linux-0.9.8/kernel/go7007-v4l2.c	2006-04-02 01:22:03.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/go7007-v4l2.c	2007-02-18 23:34:28.000000000 +0100
+@@ -17,7 +17,6 @@
+ 
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/delay.h&gt;
+ #include &lt;linux/sched.h&gt;
+@@ -29,11 +28,7 @@
+ #include &lt;linux/pagemap.h&gt;
+ #include &lt;linux/videodev.h&gt;
+ #include &lt;linux/video_decoder.h&gt;
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-#include &lt;media/audiochip.h&gt;
+-#else
+ #include &lt;media/v4l2-common.h&gt;
+-#endif
+ #include &lt;linux/i2c.h&gt;
+ #include &lt;asm/uaccess.h&gt;
+ #include &lt;asm/semaphore.h&gt;
+@@ -939,7 +934,7 @@
+ 		if (go-&gt;i2c_adapter_online) {
+ 			i2c_clients_command(&amp;go-&gt;i2c_adapter, DECODER_SET_INPUT,
+ 				&amp;go-&gt;board_info-&gt;inputs[*input].video_input);
+-			i2c_clients_command(&amp;go-&gt;i2c_adapter, AUDC_SET_INPUT,
++			i2c_clients_command(&amp;go-&gt;i2c_adapter, VIDIOC_S_AUDIO,
+ 				&amp;go-&gt;board_info-&gt;inputs[*input].audio_input);
+ 		}
+ 		return 0;
+Only in wis-go7007-linux-0.9.8-new/kernel: Module.symvers
+diff -ur wis-go7007-linux-0.9.8/kernel/snd-go7007.c wis-go7007-linux-0.9.8-new/kernel/snd-go7007.c
+--- wis-go7007-linux-0.9.8/kernel/snd-go7007.c	2006-04-02 00:36:38.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/snd-go7007.c	2007-02-18 23:41:31.000000000 +0100
+@@ -20,7 +20,6 @@
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/moduleparam.h&gt;
+ #include &lt;linux/init.h&gt;
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/delay.h&gt;
+ #include &lt;linux/sched.h&gt;
+ #include &lt;linux/vmalloc.h&gt;
+@@ -41,24 +40,17 @@
+ static char *id[SNDRV_CARDS] = SNDRV_DEFAULT_STR;
+ static int enable[SNDRV_CARDS] = SNDRV_DEFAULT_ENABLE_PNP;
+ 
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,10)
+-static int index_num, id_num, enable_num;
+-module_param_array(index, int, index_num, 0444);
+-module_param_array(id, charp, id_num, 0444);
+-module_param_array(enable, bool, enable_num, 0444);
+-#else
+ module_param_array(index, int, NULL, 0444);
+ module_param_array(id, charp, NULL, 0444);
+ module_param_array(enable, bool, NULL, 0444);
+-#endif
+ MODULE_PARM_DESC(index, &quot;Index value for the go7007 audio driver&quot;);
+ MODULE_PARM_DESC(index, &quot;ID string for the go7007 audio driver&quot;);
+ MODULE_PARM_DESC(index, &quot;Enable for the go7007 audio driver&quot;);
+ 
+ struct go7007_snd {
+-	snd_card_t *card;
+-	snd_pcm_t *pcm;
+-	snd_pcm_substream_t *substream;
++	struct snd_card *card;
++	struct snd_pcm *pcm;
++	struct snd_pcm_substream *substream;
+ 	spinlock_t lock;
+ 	int w_idx;
+ 	int hw_ptr;
+@@ -66,7 +58,7 @@
+ 	int capturing;
+ };
+ 
+-static snd_pcm_hardware_t go7007_snd_capture_hw = {
++static struct snd_pcm_hardware go7007_snd_capture_hw = {
+ 	.info			= (SNDRV_PCM_INFO_MMAP |
+ 					SNDRV_PCM_INFO_INTERLEAVED |
+ 					SNDRV_PCM_INFO_BLOCK_TRANSFER |
+@@ -87,7 +79,7 @@
+ static void parse_audio_stream_data(struct go7007 *go, u8 *buf, int length)
+ {
+ 	struct go7007_snd *gosnd = go-&gt;snd_context;
+-	snd_pcm_runtime_t *runtime = gosnd-&gt;substream-&gt;runtime;
++	struct snd_pcm_runtime *runtime = gosnd-&gt;substream-&gt;runtime;
+ 	int frames = bytes_to_frames(runtime, length);
+ 
+ 	spin_lock(&amp;gosnd-&gt;lock);
+@@ -117,8 +109,8 @@
+ 		snd_pcm_period_elapsed(gosnd-&gt;substream);
+ }
+ 
+-static int go7007_snd_hw_params(snd_pcm_substream_t *substream,
+-				snd_pcm_hw_params_t *hw_params)
++static int go7007_snd_hw_params(struct snd_pcm_substream *substream,
++				struct snd_pcm_hw_params *hw_params)
+ {
+ 	struct go7007 *go = snd_pcm_substream_chip(substream);
+ 	unsigned int bytes;
+@@ -135,7 +127,7 @@
+ 	return 0;
+ }
+ 
+-static int go7007_snd_hw_free(snd_pcm_substream_t *substream)
++static int go7007_snd_hw_free(struct snd_pcm_substream *substream)
+ {
+ 	struct go7007 *go = snd_pcm_substream_chip(substream);
+ 
+@@ -146,7 +138,7 @@
+ 	return 0;
+ }
+ 
+-static int go7007_snd_capture_open(snd_pcm_substream_t *substream)
++static int go7007_snd_capture_open(struct snd_pcm_substream *substream)
+ {
+ 	struct go7007 *go = snd_pcm_substream_chip(substream);
+ 	struct go7007_snd *gosnd = go-&gt;snd_context;
+@@ -164,7 +156,7 @@
+ 	return r;
+ }
+ 
+-static int go7007_snd_capture_close(snd_pcm_substream_t *substream)
++static int go7007_snd_capture_close(struct snd_pcm_substream *substream)
+ {
+ 	struct go7007 *go = snd_pcm_substream_chip(substream);
+ 	struct go7007_snd *gosnd = go-&gt;snd_context;
+@@ -173,12 +165,12 @@
+ 	return 0;
+ }
+ 
+-static int go7007_snd_pcm_prepare(snd_pcm_substream_t *substream)
++static int go7007_snd_pcm_prepare(struct snd_pcm_substream *substream)
+ {
+ 	return 0;
+ }
+ 
+-static int go7007_snd_pcm_trigger(snd_pcm_substream_t *substream, int cmd)
++static int go7007_snd_pcm_trigger(struct snd_pcm_substream *substream, int cmd)
+ {
+ 	struct go7007 *go = snd_pcm_substream_chip(substream);
+ 	struct go7007_snd *gosnd = go-&gt;snd_context;
+@@ -198,7 +190,7 @@
+ 	}
+ }
+ 
+-static snd_pcm_uframes_t go7007_snd_pcm_pointer(snd_pcm_substream_t *substream)
++static snd_pcm_uframes_t go7007_snd_pcm_pointer(struct snd_pcm_substream *substream)
+ {
+ 	struct go7007 *go = snd_pcm_substream_chip(substream);
+ 	struct go7007_snd *gosnd = go-&gt;snd_context;
+@@ -206,13 +198,13 @@
+ 	return gosnd-&gt;hw_ptr;
+ }
+ 
+-static struct page *go7007_snd_pcm_page(snd_pcm_substream_t *substream,
++static struct page *go7007_snd_pcm_page(struct snd_pcm_substream *substream,
+ 					unsigned long offset)
+ {
+ 	return vmalloc_to_page(substream-&gt;runtime-&gt;dma_area + offset);
+ }
+ 
+-static snd_pcm_ops_t go7007_snd_capture_ops = {
++static struct snd_pcm_ops go7007_snd_capture_ops = {
+ 	.open		= go7007_snd_capture_open,
+ 	.close		= go7007_snd_capture_close,
+ 	.ioctl		= snd_pcm_lib_ioctl,
+@@ -224,7 +216,7 @@
+ 	.page		= go7007_snd_pcm_page,
+ };
+ 
+-static int go7007_snd_free(snd_device_t *device)
++static int go7007_snd_free(struct snd_device *device)
+ {
+ 	struct go7007 *go = device-&gt;device_data;
+ 
+@@ -235,7 +227,7 @@
+ 	return 0;
+ }
+ 
+-static snd_device_ops_t go7007_snd_device_ops = {
++static struct snd_device_ops go7007_snd_device_ops = {
+ 	.dev_free	= go7007_snd_free,
+ };
+ 
+@@ -305,7 +297,7 @@
+ 	struct go7007_snd *gosnd = go-&gt;snd_context;
+ 
+ 	snd_card_disconnect(gosnd-&gt;card);
+-	snd_card_free_in_thread(gosnd-&gt;card);
++    snd_card_free_when_closed(gosnd-&gt;card);
+ 	return 0;
+ }
+ EXPORT_SYMBOL(go7007_snd_remove);
+diff -ur wis-go7007-linux-0.9.8/kernel/wis-ov7640.c wis-go7007-linux-0.9.8-new/kernel/wis-ov7640.c
+--- wis-go7007-linux-0.9.8/kernel/wis-ov7640.c	2006-04-02 00:36:59.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/wis-ov7640.c	2007-02-18 23:36:11.000000000 +0100
+@@ -52,16 +52,10 @@
+ 	return 0;
+ }
+ 
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-static int wis_ov7640_i2c_id = 0;
+-#endif
+ static struct i2c_driver wis_ov7640_driver;
+ 
+ static struct i2c_client wis_ov7640_client_templ = {
+ 	.name		= &quot;OV7640 (WIS)&quot;,
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.flags		= I2C_CLIENT_ALLOW_USE,
+-#endif
+ 	.driver		= &amp;wis_ov7640_driver,
+ };
+ 
+@@ -80,9 +74,6 @@
+ 	client-&gt;adapter = adapter;
+ 	client-&gt;addr = addr;
+ 	client-&gt;flags = I2C_CLIENT_SCCB;
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-	client-&gt;id = wis_ov7640_i2c_id++;
+-#endif
+ 
+ 	printk(KERN_DEBUG
+ 		&quot;wis-ov7640: initializing OV7640 at address %d on %s\n&quot;,
+@@ -112,14 +103,9 @@
+ }
+ 
+ static struct i2c_driver wis_ov7640_driver = {
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.owner		= THIS_MODULE,
+-	.name		= &quot;WIS OV7640 I2C driver&quot;,
+-#else
+ 	.driver = {
+ 		.name	= &quot;WIS OV7640 I2C driver&quot;,
+ 	},
+-#endif
+ 	.id		= I2C_DRIVERID_WIS_OV7640,
+ 	.detach_client	= wis_ov7640_detach,
+ };
+diff -ur wis-go7007-linux-0.9.8/kernel/wis-saa7113.c wis-go7007-linux-0.9.8-new/kernel/wis-saa7113.c
+--- wis-go7007-linux-0.9.8/kernel/wis-saa7113.c	2006-04-02 00:37:06.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/wis-saa7113.c	2007-02-18 23:37:16.000000000 +0100
+@@ -21,6 +21,7 @@
+ #include &lt;linux/i2c.h&gt;
+ #include &lt;linux/videodev.h&gt;
+ #include &lt;linux/video_decoder.h&gt;
++#include &lt;linux/ioctl.h&gt;
+ 
+ #include &quot;wis-i2c.h&quot;
+ 
+@@ -266,16 +267,10 @@
+ 	return 0;
+ }
+ 
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-static int wis_saa7113_i2c_id = 0;
+-#endif
+ static struct i2c_driver wis_saa7113_driver;
+ 
+ static struct i2c_client wis_saa7113_client_templ = {
+ 	.name		= &quot;SAA7113 (WIS)&quot;,
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.flags		= I2C_CLIENT_ALLOW_USE,
+-#endif
+ 	.driver		= &amp;wis_saa7113_driver,
+ };
+ 
+@@ -294,9 +289,6 @@
+ 			sizeof(wis_saa7113_client_templ));
+ 	client-&gt;adapter = adapter;
+ 	client-&gt;addr = addr;
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-	client-&gt;id = wis_saa7113_i2c_id++;
+-#endif
+ 
+ 	dec = kmalloc(sizeof(struct wis_saa7113), GFP_KERNEL);
+ 	if (dec == NULL) {
+@@ -342,14 +334,9 @@
+ }
+ 
+ static struct i2c_driver wis_saa7113_driver = {
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.owner		= THIS_MODULE,
+-	.name		= &quot;WIS SAA7113 I2C driver&quot;,
+-#else
+ 	.driver = {
+ 		.name	= &quot;WIS SAA7113 I2C driver&quot;,
+ 	},
+-#endif
+ 	.id		= I2C_DRIVERID_WIS_SAA7113,
+ 	.detach_client	= wis_saa7113_detach,
+ 	.command	= wis_saa7113_command,
+diff -ur wis-go7007-linux-0.9.8/kernel/wis-saa7115.c wis-go7007-linux-0.9.8-new/kernel/wis-saa7115.c
+--- wis-go7007-linux-0.9.8/kernel/wis-saa7115.c	2006-04-02 00:37:12.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/wis-saa7115.c	2007-02-18 23:37:40.000000000 +0100
+@@ -21,6 +21,7 @@
+ #include &lt;linux/i2c.h&gt;
+ #include &lt;linux/videodev.h&gt;
+ #include &lt;linux/video_decoder.h&gt;
++#include &lt;linux/ioctl.h&gt;
+ 
+ #include &quot;wis-i2c.h&quot;
+ 
+@@ -395,16 +396,10 @@
+ 	return 0;
+ }
+ 
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-static int wis_saa7115_i2c_id = 0;
+-#endif
+ static struct i2c_driver wis_saa7115_driver;
+ 
+ static struct i2c_client wis_saa7115_client_templ = {
+ 	.name		= &quot;SAA7115 (WIS)&quot;,
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.flags		= I2C_CLIENT_ALLOW_USE,
+-#endif
+ 	.driver		= &amp;wis_saa7115_driver,
+ };
+ 
+@@ -423,9 +418,6 @@
+ 			sizeof(wis_saa7115_client_templ));
+ 	client-&gt;adapter = adapter;
+ 	client-&gt;addr = addr;
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-	client-&gt;id = wis_saa7115_i2c_id++;
+-#endif
+ 
+ 	dec = kmalloc(sizeof(struct wis_saa7115), GFP_KERNEL);
+ 	if (dec == NULL) {
+@@ -471,14 +463,9 @@
+ }
+ 
+ static struct i2c_driver wis_saa7115_driver = {
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.owner		= THIS_MODULE,
+-	.name		= &quot;WIS SAA7115 I2C driver&quot;,
+-#else
+ 	.driver = {
+ 		.name	= &quot;WIS SAA7115 I2C driver&quot;,
+ 	},
+-#endif
+ 	.id		= I2C_DRIVERID_WIS_SAA7115,
+ 	.detach_client	= wis_saa7115_detach,
+ 	.command	= wis_saa7115_command,
+diff -ur wis-go7007-linux-0.9.8/kernel/wis-sony-tuner.c wis-go7007-linux-0.9.8-new/kernel/wis-sony-tuner.c
+--- wis-go7007-linux-0.9.8/kernel/wis-sony-tuner.c	2006-04-02 00:37:18.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/wis-sony-tuner.c	2007-02-18 23:35:22.000000000 +0100
+@@ -21,9 +21,7 @@
+ #include &lt;linux/i2c.h&gt;
+ #include &lt;linux/videodev.h&gt;
+ #include &lt;media/tuner.h&gt;
+-#if LINUX_VERSION_CODE &gt;= KERNEL_VERSION(2,6,16)
+ #include &lt;media/v4l2-common.h&gt;
+-#endif
+ 
+ #include &quot;wis-i2c.h&quot;
+ 
+@@ -653,16 +651,10 @@
+ 	return 0;
+ }
+ 
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-static int wis_sony_tuner_i2c_id = 0;
+-#endif
+ static struct i2c_driver wis_sony_tuner_driver;
+ 
+ static struct i2c_client wis_sony_tuner_client_templ = {
+ 	.name		= &quot;Sony TV Tuner (WIS)&quot;,
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.flags		= I2C_CLIENT_ALLOW_USE,
+-#endif
+ 	.driver		= &amp;wis_sony_tuner_driver,
+ };
+ 
+@@ -682,9 +674,6 @@
+ 			sizeof(wis_sony_tuner_client_templ));
+ 	client-&gt;adapter = adapter;
+ 	client-&gt;addr = addr;
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-	client-&gt;id = wis_sony_tuner_i2c_id++;
+-#endif
+ 
+ 	t = kmalloc(sizeof(struct wis_sony_tuner), GFP_KERNEL);
+ 	if (t == NULL) {
+@@ -721,14 +710,9 @@
+ }
+ 
+ static struct i2c_driver wis_sony_tuner_driver = {
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.owner		= THIS_MODULE,
+-	.name		= &quot;WIS Sony TV Tuner I2C driver&quot;,
+-#else
+ 	.driver = {
+ 		.name	= &quot;WIS Sony TV Tuner I2C driver&quot;,
+ 	},
+-#endif
+ 	.id		= I2C_DRIVERID_WIS_SONY_TUNER,
+ 	.detach_client	= wis_sony_tuner_detach,
+ 	.command	= tuner_command,
+diff -ur wis-go7007-linux-0.9.8/kernel/wis-tw2804.c wis-go7007-linux-0.9.8-new/kernel/wis-tw2804.c
+--- wis-go7007-linux-0.9.8/kernel/wis-tw2804.c	2006-04-02 00:37:22.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/wis-tw2804.c	2007-02-18 23:38:08.000000000 +0100
+@@ -21,6 +21,7 @@
+ #include &lt;linux/i2c.h&gt;
+ #include &lt;linux/videodev.h&gt;
+ #include &lt;linux/video_decoder.h&gt;
++#include &lt;linux/ioctl.h&gt;
+ 
+ #include &quot;wis-i2c.h&quot;
+ 
+@@ -294,16 +295,10 @@
+ 	return 0;
+ }
+ 
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-static int wis_tw2804_i2c_id = 0;
+-#endif
+ static struct i2c_driver wis_tw2804_driver;
+ 
+ static struct i2c_client wis_tw2804_client_templ = {
+ 	.name		= &quot;TW2804 (WIS)&quot;,
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.flags		= I2C_CLIENT_ALLOW_USE,
+-#endif
+ 	.driver		= &amp;wis_tw2804_driver,
+ };
+ 
+@@ -322,9 +317,6 @@
+ 			sizeof(wis_tw2804_client_templ));
+ 	client-&gt;adapter = adapter;
+ 	client-&gt;addr = addr;
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-	client-&gt;id = wis_tw2804_i2c_id++;
+-#endif
+ 
+ 	dec = kmalloc(sizeof(struct wis_tw2804), GFP_KERNEL);
+ 	if (dec == NULL) {
+@@ -361,14 +353,9 @@
+ }
+ 
+ static struct i2c_driver wis_tw2804_driver = {
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.owner		= THIS_MODULE,
+-	.name		= &quot;WIS TW2804 I2C driver&quot;,
+-#else
+ 	.driver = {
+ 		.name	= &quot;WIS TW2804 I2C driver&quot;,
+ 	},
+-#endif
+ 	.id		= I2C_DRIVERID_WIS_TW2804,
+ 	.detach_client	= wis_tw2804_detach,
+ 	.command	= wis_tw2804_command,
+diff -ur wis-go7007-linux-0.9.8/kernel/wis-tw9903.c wis-go7007-linux-0.9.8-new/kernel/wis-tw9903.c
+--- wis-go7007-linux-0.9.8/kernel/wis-tw9903.c	2006-04-02 00:37:28.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/wis-tw9903.c	2007-02-18 23:36:37.000000000 +0100
+@@ -21,6 +21,7 @@
+ #include &lt;linux/i2c.h&gt;
+ #include &lt;linux/videodev.h&gt;
+ #include &lt;linux/video_decoder.h&gt;
++#include &lt;linux/ioctl.h&gt;
+ 
+ #include &quot;wis-i2c.h&quot;
+ 
+@@ -268,16 +269,10 @@
+ 	return 0;
+ }
+ 
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-static int wis_tw9903_i2c_id = 0;
+-#endif
+ static struct i2c_driver wis_tw9903_driver;
+ 
+ static struct i2c_client wis_tw9903_client_templ = {
+ 	.name		= &quot;TW9903 (WIS)&quot;,
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.flags		= I2C_CLIENT_ALLOW_USE,
+-#endif
+ 	.driver		= &amp;wis_tw9903_driver,
+ };
+ 
+@@ -296,9 +291,6 @@
+ 			sizeof(wis_tw9903_client_templ));
+ 	client-&gt;adapter = adapter;
+ 	client-&gt;addr = addr;
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-	client-&gt;id = wis_tw9903_i2c_id++;
+-#endif
+ 
+ 	dec = kmalloc(sizeof(struct wis_tw9903), GFP_KERNEL);
+ 	if (dec == NULL) {
+@@ -342,14 +334,9 @@
+ }
+ 
+ static struct i2c_driver wis_tw9903_driver = {
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.owner		= THIS_MODULE,
+-	.name		= &quot;WIS TW9903 I2C driver&quot;,
+-#else
+ 	.driver = {
+ 		.name	= &quot;WIS TW9903 I2C driver&quot;,
+ 	},
+-#endif
+ 	.id		= I2C_DRIVERID_WIS_TW9903,
+ 	.detach_client	= wis_tw9903_detach,
+ 	.command	= wis_tw9903_command,
+diff -ur wis-go7007-linux-0.9.8/kernel/wis-uda1342.c wis-go7007-linux-0.9.8-new/kernel/wis-uda1342.c
+--- wis-go7007-linux-0.9.8/kernel/wis-uda1342.c	2006-04-02 00:37:32.000000000 +0200
++++ wis-go7007-linux-0.9.8-new/kernel/wis-uda1342.c	2007-02-18 23:35:55.000000000 +0100
+@@ -20,10 +20,8 @@
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/i2c.h&gt;
+ #include &lt;linux/videodev.h&gt;
+-#include &lt;media/audiochip.h&gt;
+-#if LINUX_VERSION_CODE &gt;= KERNEL_VERSION(2,6,16)
++#include &lt;media/tvaudio.h&gt;
+ #include &lt;media/v4l2-common.h&gt;
+-#endif
+ 
+ #include &quot;wis-i2c.h&quot;
+ 
+@@ -38,15 +36,15 @@
+ 				unsigned int cmd, void *arg)
+ {
+ 	switch (cmd) {
+-	case AUDC_SET_INPUT:
++	case VIDIOC_S_AUDIO:
+ 	{
+ 		int *inp = arg;
+ 
+ 		switch (*inp) {
+-		case AUDIO_TUNER:
++		case TVAUDIO_INPUT_TUNER:
+ 			write_reg(client, 0x00, 0x1441); /* select input 2 */
+ 			break;
+-		case AUDIO_EXTERN:
++		case TVAUDIO_INPUT_EXTERN:
+ 			write_reg(client, 0x00, 0x1241); /* select input 1 */
+ 			break;
+ 		default:
+@@ -62,16 +60,10 @@
+ 	return 0;
+ }
+ 
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-static int wis_uda1342_i2c_id = 0;
+-#endif
+ static struct i2c_driver wis_uda1342_driver;
+ 
+ static struct i2c_client wis_uda1342_client_templ = {
+ 	.name		= &quot;UDA1342 (WIS)&quot;,
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.flags		= I2C_CLIENT_ALLOW_USE,
+-#endif
+ 	.driver		= &amp;wis_uda1342_driver,
+ };
+ 
+@@ -89,9 +81,6 @@
+ 			sizeof(wis_uda1342_client_templ));
+ 	client-&gt;adapter = adapter;
+ 	client-&gt;addr = addr;
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,12)
+-	client-&gt;id = wis_uda1342_i2c_id++;
+-#endif
+ 
+ 	printk(KERN_DEBUG
+ 		&quot;wis-uda1342: initializing UDA1342 at address %d on %s\n&quot;,
+@@ -117,14 +106,9 @@
+ }
+ 
+ static struct i2c_driver wis_uda1342_driver = {
+-#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,6,16)
+-	.owner		= THIS_MODULE,
+-	.name		= &quot;WIS UDA1342 I2C driver&quot;,
+-#else
+ 	.driver = {
+ 		.name	= &quot;WIS UDA1342 I2C driver&quot;,
+ 	},
+-#endif
+ 	.id		= I2C_DRIVERID_WIS_UDA1342,
+ 	.detach_client	= wis_uda1342_detach,
+ 	.command	= wis_uda1342_command,

Added: branches/rpms/brian/dvb-apps/COPYING
===================================================================
--- branches/rpms/brian/dvb-apps/COPYING	                        (rev 0)
+++ branches/rpms/brian/dvb-apps/COPYING	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,340 @@
+		    GNU GENERAL PUBLIC LICENSE
+		       Version 2, June 1991
+
+ Copyright (C) 1989, 1991 Free Software Foundation, Inc.
+                       51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+ Everyone is permitted to copy and distribute verbatim copies
+ of this license document, but changing it is not allowed.
+
+			    Preamble
+
+  The licenses for most software are designed to take away your
+freedom to share and change it.  By contrast, the GNU General Public
+License is intended to guarantee your freedom to share and change free
+software--to make sure the software is free for all its users.  This
+General Public License applies to most of the Free Software
+Foundation's software and to any other program whose authors commit to
+using it.  (Some other Free Software Foundation software is covered by
+the GNU Library General Public License instead.)  You can apply it to
+your programs, too.
+
+  When we speak of free software, we are referring to freedom, not
+price.  Our General Public Licenses are designed to make sure that you
+have the freedom to distribute copies of free software (and charge for
+this service if you wish), that you receive source code or can get it
+if you want it, that you can change the software or use pieces of it
+in new free programs; and that you know you can do these things.
+
+  To protect your rights, we need to make restrictions that forbid
+anyone to deny you these rights or to ask you to surrender the rights.
+These restrictions translate to certain responsibilities for you if you
+distribute copies of the software, or if you modify it.
+
+  For example, if you distribute copies of such a program, whether
+gratis or for a fee, you must give the recipients all the rights that
+you have.  You must make sure that they, too, receive or can get the
+source code.  And you must show them these terms so they know their
+rights.
+
+  We protect your rights with two steps: (1) copyright the software, and
+(2) offer you this license which gives you legal permission to copy,
+distribute and/or modify the software.
+
+  Also, for each author's protection and ours, we want to make certain
+that everyone understands that there is no warranty for this free
+software.  If the software is modified by someone else and passed on, we
+want its recipients to know that what they have is not the original, so
+that any problems introduced by others will not reflect on the original
+authors' reputations.
+
+  Finally, any free program is threatened constantly by software
+patents.  We wish to avoid the danger that redistributors of a free
+program will individually obtain patent licenses, in effect making the
+program proprietary.  To prevent this, we have made it clear that any
+patent must be licensed for everyone's free use or not licensed at all.
+
+  The precise terms and conditions for copying, distribution and
+modification follow.
+
+		    GNU GENERAL PUBLIC LICENSE
+   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION
+
+  0. This License applies to any program or other work which contains
+a notice placed by the copyright holder saying it may be distributed
+under the terms of this General Public License.  The &quot;Program&quot;, below,
+refers to any such program or work, and a &quot;work based on the Program&quot;
+means either the Program or any derivative work under copyright law:
+that is to say, a work containing the Program or a portion of it,
+either verbatim or with modifications and/or translated into another
+language.  (Hereinafter, translation is included without limitation in
+the term &quot;modification&quot;.)  Each licensee is addressed as &quot;you&quot;.
+
+Activities other than copying, distribution and modification are not
+covered by this License; they are outside its scope.  The act of
+running the Program is not restricted, and the output from the Program
+is covered only if its contents constitute a work based on the
+Program (independent of having been made by running the Program).
+Whether that is true depends on what the Program does.
+
+  1. You may copy and distribute verbatim copies of the Program's
+source code as you receive it, in any medium, provided that you
+conspicuously and appropriately publish on each copy an appropriate
+copyright notice and disclaimer of warranty; keep intact all the
+notices that refer to this License and to the absence of any warranty;
+and give any other recipients of the Program a copy of this License
+along with the Program.
+
+You may charge a fee for the physical act of transferring a copy, and
+you may at your option offer warranty protection in exchange for a fee.
+
+  2. You may modify your copy or copies of the Program or any portion
+of it, thus forming a work based on the Program, and copy and
+distribute such modifications or work under the terms of Section 1
+above, provided that you also meet all of these conditions:
+
+    a) You must cause the modified files to carry prominent notices
+    stating that you changed the files and the date of any change.
+
+    b) You must cause any work that you distribute or publish, that in
+    whole or in part contains or is derived from the Program or any
+    part thereof, to be licensed as a whole at no charge to all third
+    parties under the terms of this License.
+
+    c) If the modified program normally reads commands interactively
+    when run, you must cause it, when started running for such
+    interactive use in the most ordinary way, to print or display an
+    announcement including an appropriate copyright notice and a
+    notice that there is no warranty (or else, saying that you provide
+    a warranty) and that users may redistribute the program under
+    these conditions, and telling the user how to view a copy of this
+    License.  (Exception: if the Program itself is interactive but
+    does not normally print such an announcement, your work based on
+    the Program is not required to print an announcement.)
+
+These requirements apply to the modified work as a whole.  If
+identifiable sections of that work are not derived from the Program,
+and can be reasonably considered independent and separate works in
+themselves, then this License, and its terms, do not apply to those
+sections when you distribute them as separate works.  But when you
+distribute the same sections as part of a whole which is a work based
+on the Program, the distribution of the whole must be on the terms of
+this License, whose permissions for other licensees extend to the
+entire whole, and thus to each and every part regardless of who wrote it.
+
+Thus, it is not the intent of this section to claim rights or contest
+your rights to work written entirely by you; rather, the intent is to
+exercise the right to control the distribution of derivative or
+collective works based on the Program.
+
+In addition, mere aggregation of another work not based on the Program
+with the Program (or with a work based on the Program) on a volume of
+a storage or distribution medium does not bring the other work under
+the scope of this License.
+
+  3. You may copy and distribute the Program (or a work based on it,
+under Section 2) in object code or executable form under the terms of
+Sections 1 and 2 above provided that you also do one of the following:
+
+    a) Accompany it with the complete corresponding machine-readable
+    source code, which must be distributed under the terms of Sections
+    1 and 2 above on a medium customarily used for software interchange; or,
+
+    b) Accompany it with a written offer, valid for at least three
+    years, to give any third party, for a charge no more than your
+    cost of physically performing source distribution, a complete
+    machine-readable copy of the corresponding source code, to be
+    distributed under the terms of Sections 1 and 2 above on a medium
+    customarily used for software interchange; or,
+
+    c) Accompany it with the information you received as to the offer
+    to distribute corresponding source code.  (This alternative is
+    allowed only for noncommercial distribution and only if you
+    received the program in object code or executable form with such
+    an offer, in accord with Subsection b above.)
+
+The source code for a work means the preferred form of the work for
+making modifications to it.  For an executable work, complete source
+code means all the source code for all modules it contains, plus any
+associated interface definition files, plus the scripts used to
+control compilation and installation of the executable.  However, as a
+special exception, the source code distributed need not include
+anything that is normally distributed (in either source or binary
+form) with the major components (compiler, kernel, and so on) of the
+operating system on which the executable runs, unless that component
+itself accompanies the executable.
+
+If distribution of executable or object code is made by offering
+access to copy from a designated place, then offering equivalent
+access to copy the source code from the same place counts as
+distribution of the source code, even though third parties are not
+compelled to copy the source along with the object code.
+
+  4. You may not copy, modify, sublicense, or distribute the Program
+except as expressly provided under this License.  Any attempt
+otherwise to copy, modify, sublicense or distribute the Program is
+void, and will automatically terminate your rights under this License.
+However, parties who have received copies, or rights, from you under
+this License will not have their licenses terminated so long as such
+parties remain in full compliance.
+
+  5. You are not required to accept this License, since you have not
+signed it.  However, nothing else grants you permission to modify or
+distribute the Program or its derivative works.  These actions are
+prohibited by law if you do not accept this License.  Therefore, by
+modifying or distributing the Program (or any work based on the
+Program), you indicate your acceptance of this License to do so, and
+all its terms and conditions for copying, distributing or modifying
+the Program or works based on it.
+
+  6. Each time you redistribute the Program (or any work based on the
+Program), the recipient automatically receives a license from the
+original licensor to copy, distribute or modify the Program subject to
+these terms and conditions.  You may not impose any further
+restrictions on the recipients' exercise of the rights granted herein.
+You are not responsible for enforcing compliance by third parties to
+this License.
+
+  7. If, as a consequence of a court judgment or allegation of patent
+infringement or for any other reason (not limited to patent issues),
+conditions are imposed on you (whether by court order, agreement or
+otherwise) that contradict the conditions of this License, they do not
+excuse you from the conditions of this License.  If you cannot
+distribute so as to satisfy simultaneously your obligations under this
+License and any other pertinent obligations, then as a consequence you
+may not distribute the Program at all.  For example, if a patent
+license would not permit royalty-free redistribution of the Program by
+all those who receive copies directly or indirectly through you, then
+the only way you could satisfy both it and this License would be to
+refrain entirely from distribution of the Program.
+
+If any portion of this section is held invalid or unenforceable under
+any particular circumstance, the balance of the section is intended to
+apply and the section as a whole is intended to apply in other
+circumstances.
+
+It is not the purpose of this section to induce you to infringe any
+patents or other property right claims or to contest validity of any
+such claims; this section has the sole purpose of protecting the
+integrity of the free software distribution system, which is
+implemented by public license practices.  Many people have made
+generous contributions to the wide range of software distributed
+through that system in reliance on consistent application of that
+system; it is up to the author/donor to decide if he or she is willing
+to distribute software through any other system and a licensee cannot
+impose that choice.
+
+This section is intended to make thoroughly clear what is believed to
+be a consequence of the rest of this License.
+
+  8. If the distribution and/or use of the Program is restricted in
+certain countries either by patents or by copyrighted interfaces, the
+original copyright holder who places the Program under this License
+may add an explicit geographical distribution limitation excluding
+those countries, so that distribution is permitted only in or among
+countries not thus excluded.  In such case, this License incorporates
+the limitation as if written in the body of this License.
+
+  9. The Free Software Foundation may publish revised and/or new versions
+of the General Public License from time to time.  Such new versions will
+be similar in spirit to the present version, but may differ in detail to
+address new problems or concerns.
+
+Each version is given a distinguishing version number.  If the Program
+specifies a version number of this License which applies to it and &quot;any
+later version&quot;, you have the option of following the terms and conditions
+either of that version or of any later version published by the Free
+Software Foundation.  If the Program does not specify a version number of
+this License, you may choose any version ever published by the Free Software
+Foundation.
+
+  10. If you wish to incorporate parts of the Program into other free
+programs whose distribution conditions are different, write to the author
+to ask for permission.  For software which is copyrighted by the Free
+Software Foundation, write to the Free Software Foundation; we sometimes
+make exceptions for this.  Our decision will be guided by the two goals
+of preserving the free status of all derivatives of our free software and
+of promoting the sharing and reuse of software generally.
+
+			    NO WARRANTY
+
+  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
+FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
+OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
+PROVIDE THE PROGRAM &quot;AS IS&quot; WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
+OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
+MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
+TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
+PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
+REPAIR OR CORRECTION.
+
+  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
+WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
+REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
+INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
+OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
+TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
+YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
+PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
+POSSIBILITY OF SUCH DAMAGES.
+
+		     END OF TERMS AND CONDITIONS
+
+	    How to Apply These Terms to Your New Programs
+
+  If you develop a new program, and you want it to be of the greatest
+possible use to the public, the best way to achieve this is to make it
+free software which everyone can redistribute and change under these terms.
+
+  To do so, attach the following notices to the program.  It is safest
+to attach them to the start of each source file to most effectively
+convey the exclusion of warranty; and each file should have at least
+the &quot;copyright&quot; line and a pointer to where the full notice is found.
+
+    &lt;one line to give the program's name and a brief idea of what it does.&gt;
+    Copyright (C) &lt;year&gt;  &lt;name of author&gt;
+
+    This program is free software; you can redistribute it and/or modify
+    it under the terms of the GNU General Public License as published by
+    the Free Software Foundation; either version 2 of the License, or
+    (at your option) any later version.
+
+    This program is distributed in the hope that it will be useful,
+    but WITHOUT ANY WARRANTY; without even the implied warranty of
+    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+    GNU General Public License for more details.
+
+    You should have received a copy of the GNU General Public License
+    along with this program; if not, write to the Free Software
+    Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
+
+
+Also add information on how to contact you by electronic and paper mail.
+
+If the program is interactive, make it output a short notice like this
+when it starts in an interactive mode:
+
+    Gnomovision version 69, Copyright (C) year name of author
+    Gnomovision comes with ABSOLUTELY NO WARRANTY; for details type `show w'.
+    This is free software, and you are welcome to redistribute it
+    under certain conditions; type `show c' for details.
+
+The hypothetical commands `show w' and `show c' should show the appropriate
+parts of the General Public License.  Of course, the commands you use may
+be called something other than `show w' and `show c'; they could even be
+mouse-clicks or menu items--whatever suits your program.
+
+You should also get your employer (if you work as a programmer) or your
+school, if any, to sign a &quot;copyright disclaimer&quot; for the program, if
+necessary.  Here is a sample; alter the names:
+
+  Yoyodyne, Inc., hereby disclaims all copyright interest in the program
+  `Gnomovision' (which makes passes at compilers) written by James Hacker.
+
+  &lt;signature of Ty Coon&gt;, 1 April 1989
+  Ty Coon, President of Vice
+
+This General Public License does not permit incorporating your program into
+proprietary programs.  If your program is a subroutine library, you may
+consider it more useful to permit linking proprietary applications with the
+library.  If this is what you want to do, use the GNU Library General
+Public License instead of this License.

Added: branches/rpms/brian/dvb-apps/dvb-apps-optflags.patch
===================================================================
--- branches/rpms/brian/dvb-apps/dvb-apps-optflags.patch	                        (rev 0)
+++ branches/rpms/brian/dvb-apps/dvb-apps-optflags.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,99 @@
+diff -Naru linuxtv-dvb-apps-1.1.0.orig/test/Makefile linuxtv-dvb-apps-1.1.0/test/Makefile
+--- linuxtv-dvb-apps-1.1.0.orig/test/Makefile	2004-01-17 18:59:46.000000000 +0200
++++ linuxtv-dvb-apps-1.1.0/test/Makefile	2004-10-04 23:32:18.377000638 +0300
+@@ -1,7 +1,7 @@
+ # Makefile for Linux DVB API Version 3 test programs
+ 
+ CC = gcc
+-CFLAGS = -g -O2 -W -Wall -I../include
++CFLAGS = $(RPM_OPT_FLAGS) -W -Wall -I../include
+ 
+ TARGETS = \
+ 	diseqc		\
+diff -Naru linuxtv-dvb-apps-1.1.0.orig/util/av7110_loadkeys/Makefile linuxtv-dvb-apps-1.1.0/util/av7110_loadkeys/Makefile
+--- linuxtv-dvb-apps-1.1.0.orig/util/av7110_loadkeys/Makefile	2004-01-17 18:59:46.000000000 +0200
++++ linuxtv-dvb-apps-1.1.0/util/av7110_loadkeys/Makefile	2004-10-04 23:32:10.787375858 +0300
+@@ -1,5 +1,5 @@
+ CC = gcc
+-CFLAGS = -g -Wall -O2
++CFLAGS = $(RPM_OPT_FLAGS) -Wall
+ 
+ all: av7110_loadkeys evtest
+ 
+diff -Naru linuxtv-dvb-apps-1.1.0.orig/util/dvbdate/Makefile linuxtv-dvb-apps-1.1.0/util/dvbdate/Makefile
+--- linuxtv-dvb-apps-1.1.0.orig/util/dvbdate/Makefile	2004-01-17 18:59:46.000000000 +0200
++++ linuxtv-dvb-apps-1.1.0/util/dvbdate/Makefile	2004-10-04 23:31:58.835116342 +0300
+@@ -1,6 +1,6 @@
+ 
+ CC      = gcc
+-CFLAGS  = -g -O2 -MD -Wall -I. -I../../include
++CFLAGS  = $(RPM_OPT_FLAGS) -MD -Wall -I. -I../../include
+ LFLAGS  =
+ 
+ OBJS    = dvbdate.o
+diff -Naru linuxtv-dvb-apps-1.1.0.orig/util/dvbnet/Makefile linuxtv-dvb-apps-1.1.0/util/dvbnet/Makefile
+--- linuxtv-dvb-apps-1.1.0.orig/util/dvbnet/Makefile	2004-01-17 18:59:46.000000000 +0200
++++ linuxtv-dvb-apps-1.1.0/util/dvbnet/Makefile	2004-10-04 23:31:48.830247341 +0300
+@@ -1,6 +1,6 @@
+ 
+ CC      = gcc
+-CFLAGS  = -g -O2 -MD -Wall -I. -I../../include
++CFLAGS  = $(RPM_OPT_FLAGS) -MD -Wall -I. -I../../include
+ LFLAGS  =
+ 
+ OBJS    = dvbnet.o
+diff -Naru linuxtv-dvb-apps-1.1.0.orig/util/dvbtraffic/Makefile linuxtv-dvb-apps-1.1.0/util/dvbtraffic/Makefile
+--- linuxtv-dvb-apps-1.1.0.orig/util/dvbtraffic/Makefile	2004-01-19 19:10:16.000000000 +0200
++++ linuxtv-dvb-apps-1.1.0/util/dvbtraffic/Makefile	2004-10-04 23:31:37.418818469 +0300
+@@ -1,6 +1,6 @@
+ 
+ dvbtraffic: dvbtraffic.c
+-	gcc -MD -g -O2 -Wall -I../../include $&lt; -o $@
++	$(CC) -MD -Wall $(RPM_OPT_FLAGS) -I../../include $&lt; -o $@
+ 
+ clean:
+ 	rm -f *.o *.d dvbtraffic
+diff -Naru linuxtv-dvb-apps-1.1.0.orig/util/lib/Makefile linuxtv-dvb-apps-1.1.0/util/lib/Makefile
+--- linuxtv-dvb-apps-1.1.0.orig/util/lib/Makefile	2004-01-17 18:59:46.000000000 +0200
++++ linuxtv-dvb-apps-1.1.0/util/lib/Makefile	2004-10-04 23:31:08.152976759 +0300
+@@ -1,6 +1,6 @@
+ 
+ CC = gcc
+-CFLAGS = -MD -g -Wall -O2 -I../../include -I.
++CFLAGS = -MD -Wall $(RPM_OPT_FLAGS) -I../../include -I.
+ LFLAGS = -g -Wall
+ 
+ OBJS = lnb.o
+diff -Naru linuxtv-dvb-apps-1.1.0.orig/util/scan/Makefile linuxtv-dvb-apps-1.1.0/util/scan/Makefile
+--- linuxtv-dvb-apps-1.1.0.orig/util/scan/Makefile	2004-01-17 18:59:46.000000000 +0200
++++ linuxtv-dvb-apps-1.1.0/util/scan/Makefile	2004-10-04 23:30:50.443518484 +0300
+@@ -1,5 +1,5 @@
+ 
+ CC = gcc
+-CFLAGS = -MD -g -Wall -O2 -I../../include
++CFLAGS = -MD -Wall $(RPM_OPT_FLAGS) -I../../include
+ LFLAGS = -g -Wall
+ 
+diff -Naru linuxtv-dvb-apps-1.1.0.orig/util/szap/Makefile linuxtv-dvb-apps-1.1.0/util/szap/Makefile
+--- linuxtv-dvb-apps-1.1.0.orig/util/szap/Makefile	2004-01-17 18:59:46.000000000 +0200
++++ linuxtv-dvb-apps-1.1.0/util/szap/Makefile	2004-10-04 23:32:41.668711208 +0300
+@@ -1,6 +1,6 @@
+ CC = gcc
+-CFLAGS = -MD -Wall -g -O2 -I../../include -I../lib
+-LFLAGS = -Wall -g -O2
++CFLAGS = -MD -Wall $(RPM_OPT_FLAGS) -I../../include -I../lib
++LFLAGS = -Wall $(RPM_OPT_FLAGS)
+ RM = rm -f
+ 
+ TARGETS = szap tzap czap femon
+diff -Naru linuxtv-dvb-apps-1.1.0.orig/util/ttusb_dec_reset/Makefile linuxtv-dvb-apps-1.1.0/util/ttusb_dec_reset/Makefile
+--- linuxtv-dvb-apps-1.1.0.orig/util/ttusb_dec_reset/Makefile	2004-01-22 00:13:45.000000000 +0200
++++ linuxtv-dvb-apps-1.1.0/util/ttusb_dec_reset/Makefile	2004-10-04 23:30:34.373547057 +0300
+@@ -1,6 +1,6 @@
+ CC	= gcc
+ RM	= rm -f
+-CFLAGS	= -g -Wall -O2
++CFLAGS	= -Wall $(RPM_OPT_FLAGS)
+ LFLAGS	= -g -Wall
+ LDFLAGS = -lusb
+ 

Added: branches/rpms/brian/dvb-apps/dvb-apps-paths.patch
===================================================================
--- branches/rpms/brian/dvb-apps/dvb-apps-paths.patch	                        (rev 0)
+++ branches/rpms/brian/dvb-apps/dvb-apps-paths.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,80 @@
+diff -NarU1 linuxtv-dvb-apps-1.1.0.orig/util/av7110_loadkeys/README linuxtv-dvb-apps-1.1.0/util/av7110_loadkeys/README
+--- linuxtv-dvb-apps-1.1.0.orig/util/av7110_loadkeys/README	2004-01-17 18:59:46.000000000 +0200
++++ linuxtv-dvb-apps-1.1.0/util/av7110_loadkeys/README	2004-10-05 00:12:40.031659603 +0300
+@@ -7,3 +7,3 @@
+ 
+-   # ./av7110_loadkeys [-i|--invert] [-a|--address &lt;num&gt;] keymapname.(rc5|rcmm) &gt; /proc/av7110_ir
++   # av7110_loadkeys [-i|--invert] [-a|--address &lt;num&gt;] keymapname.(rc5|rcmm) &gt; /proc/av7110_ir
+ 
+@@ -17,6 +17,6 @@
+ Listen to *any* IR transmitter with uses the RC5 protocol:
+-# ./av7110_loadkeys hauppauge.rc5 &gt; /proc/av7110_ir
++# av7110_loadkeys /usr/share/dvb-apps/hauppauge.rc5 &gt; /proc/av7110_ir
+ 
+ Listen to RC5 transmitter with address 2:
+-# ./av7110_loadkeys -a 2 hauppauge.rc5 &gt; /proc/av7110_ir
++# av7110_loadkeys -a 2 /usr/share/dvb-apps/hauppauge.rc5 &gt; /proc/av7110_ir
+ 
+@@ -25,5 +25,5 @@
+ 
+-Now you can test your hardware setup using evtest
++Now you can test your hardware setup using av7110_evtest
+ 
+-   # ./evtest /dev/input/eventX
++   # av7110_evtest /dev/input/eventX
+ 
+diff -NarU1 linuxtv-dvb-apps-1.1.0.orig/util/dvbnet/net_start.pl linuxtv-dvb-apps-1.1.0/util/dvbnet/net_start.pl
+--- linuxtv-dvb-apps-1.1.0.orig/util/dvbnet/net_start.pl	2004-01-17 18:59:46.000000000 +0200
++++ linuxtv-dvb-apps-1.1.0/util/dvbnet/net_start.pl	2004-10-05 00:12:32.412917780 +0300
+@@ -14,3 +14,3 @@
+ 
+-  $DEV_NAME = `./dvbnet -a $ADAPTER -n $NETDEV -p $PID | grep created`;
++  $DEV_NAME = `dvbnet -a $ADAPTER -n $NETDEV -p $PID | grep created`;
+   chop($DEV_NAME);
+diff -NarU1 linuxtv-dvb-apps-1.1.0.orig/util/dvbnet/net_start.sh linuxtv-dvb-apps-1.1.0/util/dvbnet/net_start.sh
+--- linuxtv-dvb-apps-1.1.0.orig/util/dvbnet/net_start.sh	2004-01-17 18:59:46.000000000 +0200
++++ linuxtv-dvb-apps-1.1.0/util/dvbnet/net_start.sh	2004-10-05 00:13:40.047815421 +0300
+@@ -6,3 +6,3 @@
+ 
+-./dvbnet -p $PID
++dvbnet -p $PID
+ 
+diff -NarU1 linuxtv-dvb-apps-1.1.0.orig/util/scan/README linuxtv-dvb-apps-1.1.0/util/scan/README
+--- linuxtv-dvb-apps-1.1.0.orig/util/scan/README	2004-01-17 18:59:46.000000000 +0200
++++ linuxtv-dvb-apps-1.1.0/util/scan/README	2004-10-05 00:12:40.032659359 +0300
+@@ -9,8 +9,9 @@
+ 
+-Basic usage: ./scan dvb-s/Astra-19.2E | tee mychannels.conf
++Basic usage:
++scandvb /usr/share/dvb-apps/dvb-s/Astra-19.2E | tee mychannels.conf
+ 
+ If you want it to check a specific frequency, tune to that frequency 
+-(e.g. using szap/tzap/czap) and then use './scan -c'.
++(e.g. using szap/tzap/czap) and then use 'scandvb -c'.
+ 
+-For more scan options see ./scan -h.
++For more scandvb options see 'scandvb -h'.
+ 
+diff -NarU1 linuxtv-dvb-apps-1.1.0.orig/util/szap/README linuxtv-dvb-apps-1.1.0/util/szap/README
+--- linuxtv-dvb-apps-1.1.0.orig/util/szap/README	2004-01-25 21:23:39.000000000 +0200
++++ linuxtv-dvb-apps-1.1.0/util/szap/README	2004-10-05 00:12:40.033659116 +0300
+@@ -7,3 +7,3 @@
+ 
+-$ ./szap -c channels.conf-dvbs-astra n24
++$ szap -c /usr/share/doc/dvb-apps-*/channels.conf-dvbs-astra n24
+ 
+@@ -11,3 +11,3 @@
+ 
+-$ ./czap -c channels.conf-dvbc-berlin Arte
++$ czap -c /usr/share/doc/dvb-apps-*/channels.conf-dvbc-berlin Arte
+ 
+@@ -15,3 +15,3 @@
+ 
+-$ ./czap -c channels.conf-dvbt-berlin phoenix
++$ tzap -c /usr/share/doc/dvb-apps-*/channels.conf-dvbt-berlin phoenix
+ 
+@@ -21,3 +21,3 @@
+ 
+-$ ./czap -c channels.conf-dvbt-berlin phoenix -r
++$ czap -c /usr/share/doc/dvb-apps-*/channels.conf-dvbt-berlin phoenix -r
+ [keep it running in one console]

Added: branches/rpms/brian/dvb-apps/dvb-apps-tuningfiles-snapshot.sh
===================================================================
--- branches/rpms/brian/dvb-apps/dvb-apps-tuningfiles-snapshot.sh	                        (rev 0)
+++ branches/rpms/brian/dvb-apps/dvb-apps-tuningfiles-snapshot.sh	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,22 @@
+#!/bin/bash
+
+set -e
+
+tmp=$(mktemp -d)
+
+trap cleanup EXIT
+cleanup() {
+    set +e
+    [ -z &quot;$tmp&quot; -o ! -d &quot;$tmp&quot; ] || rm -rf &quot;$tmp&quot;
+}
+
+unset CDPATH
+pwd=$(pwd)
+now=$(date +%Y%m%d)
+
+cd &quot;$tmp&quot;
+hg clone <A HREF="http://linuxtv.org/hg/dvb-apps">http://linuxtv.org/hg/dvb-apps</A>
+cd dvb-apps
+tar jcf &quot;$pwd&quot;/dvb-apps-tuningfiles-$now.tar.bz2 util/scan/{atsc,dvb-?}
+cd ..
+cd - &gt;/dev/null


Property changes on: branches/rpms/brian/dvb-apps/dvb-apps-tuningfiles-snapshot.sh
___________________________________________________________________
Name: svn:executable
   + *

Added: branches/rpms/brian/dvb-apps/dvb-apps.spec
===================================================================
--- branches/rpms/brian/dvb-apps/dvb-apps.spec	                        (rev 0)
+++ branches/rpms/brian/dvb-apps/dvb-apps.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,122 @@
+Name:           dvb-apps
+Version:        1.1.1
+Release:        7%{?dist}
+Summary:        Utility, demo and test applications using the Linux DVB API
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.linuxtv.org/wiki/index.php/LinuxTV_dvb-apps">http://www.linuxtv.org/wiki/index.php/LinuxTV_dvb-apps</A>
+Source0:        <A HREF="http://www.linuxtv.org/downloads/linuxtv-dvb-apps-%{version">http://www.linuxtv.org/downloads/linuxtv-dvb-apps-%{version</A>}.tar.bz2
+# Source1 created with Source99
+Source1:        %{name}-tuningfiles-20060923.tar.bz2
+Source2:        <A HREF="http://www.gnu.org/licenses/COPYING">http://www.gnu.org/licenses/COPYING</A>
+Source99:       %{name}-tuningfiles-snapshot.sh
+Patch0:         %{name}-optflags.patch
+Patch1:         %{name}-paths.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  libusb-devel
+BuildRequires:  kernel-headers &gt;= 2.6.16
+
+%description
+%{summary}.
+
+
+%prep
+%setup -q -n linuxtv-%{name}-%{version} -a 1
+%patch0 -p1
+%patch1 -p1
+cd util
+install -pm 644 av7110_loadkeys/README ../README.av7110_loadkeys
+install -pm 644 scan/README ../README.scandvb
+install -pm 644 szap/README ../README.szap
+install -pm 644 ttusb_dec_reset/README ../README.ttusb_dec_reset
+chmod 644 dvbnet/net_start.* scan/{atsc,dvb-?}/*
+mv scan/dvb-t/fr-Alen?on scan/dvb-t/fr-Alen&#195;&#167;on
+mv scan/dvb-t/fr-Besan?on scan/dvb-t/fr-Besan&#195;&#167;on
+for f in scan/{atsc,dvb-?}/* ; do
+    file $f | grep -q CRLF &amp;&amp; sed -i -e 's/\r//' $f
+    file $f | grep -q ISO-8859 &amp;&amp; \
+        iconv -f iso-8859-1 -t utf-8 $f &gt; $f.utf8 &amp;&amp; mv $f.utf8 $f
+done
+cd ..
+rm -rf include
+install -pm 644 %{SOURCE2} COPYING
+
+
+%build
+make CC=&quot;%{__cc}&quot; # %{?_smp_mflags}
+make %{?_smp_mflags} CC=&quot;%{__cc}&quot; -C util/ttusb_dec_reset
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+cd util
+install -dm 755 $RPM_BUILD_ROOT%{_bindir}
+install -pm 755 av7110_loadkeys/av7110_loadkeys $RPM_BUILD_ROOT%{_bindir}
+install -pm 755 av7110_loadkeys/evtest $RPM_BUILD_ROOT%{_bindir}/av7110_evtest
+install -pm 755 dvbdate/dvbdate $RPM_BUILD_ROOT%{_bindir}
+install -pm 755 dvbnet/dvbnet $RPM_BUILD_ROOT%{_bindir}
+install -pm 755 dvbtraffic/dvbtraffic $RPM_BUILD_ROOT%{_bindir}
+install -pm 755 scan/scan $RPM_BUILD_ROOT%{_bindir}/scandvb
+install -pm 755 szap/?zap $RPM_BUILD_ROOT%{_bindir}
+install -pm 755 szap/femon $RPM_BUILD_ROOT%{_bindir}
+install -pm 755 ttusb_dec_reset/ttusb_dec_reset $RPM_BUILD_ROOT%{_bindir}
+install -dm 755 $RPM_BUILD_ROOT%{_datadir}/dvb-apps
+cp -pR scan/dvb-? scan/atsc av7110_loadkeys/*.rc{5,mm} \
+    $RPM_BUILD_ROOT%{_datadir}/dvb-apps
+cd ..
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING README* TODO util/dvbnet/net_start.* util/szap/channels.conf-dvb*
+%{_bindir}/*
+%{_datadir}/dvb-apps/
+
+
+%changelog
+* Mon Oct  2 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1.1-7
+- Rebuild.
+
+* Sat Sep 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1.1-6
+- Include updated set of initial tuning data files from upstream hg (#203328).
+
+* Tue Aug 29 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1.1-5
+- Rebuild.
+
+* Thu May 18 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1.1-4
+- Include ATSC initial tuning data files.
+
+* Thu May 18 2006 David Woodhouse &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dwmw2 at infradead.org</A>&gt; - 1.1.1-2
+- Rebuild (to unfix kernel-headers on older distros)
+
+* Thu May 18 2006 David Woodhouse &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dwmw2 at infradead.org</A>&gt; - 1.1.1-1
+- Update to dvb-apps 1.1.1 (add ATSC functionality)
+- Fix kernel-headers BR
+
+* Tue Feb 21 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1.0-2
+- Rebuild.
+
+* Sun Jul 17 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1.0-1
+- Include a copy of the GPL.
+
+* Thu Jun 30 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1.0-0.4
+- Update URL.
+
+* Sun May 29 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1.0-0.3
+- Rebuild for FC4.
+
+* Wed Apr 20 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1.0-0.2
+- Switch to recent glibc-kernheaders which includes userspace DVB headers.
+
+* Sun Dec 26 2004 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0:1.1.0-0.1
+- Remove unnecessary Epochs.
+
+* Mon Oct  4 2004 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0:1.1.0-0.scop.1
+- First build, loosely based on Mandrake's 1.1.0-4mdk.
+

Added: branches/rpms/brian/libdvb/errno.patch
===================================================================
--- branches/rpms/brian/libdvb/errno.patch	                        (rev 0)
+++ branches/rpms/brian/libdvb/errno.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,8 @@
+--- libdvb/DVB.cc	2004-09-15 20:56:21.000000000 +0200
++++ libdvb-korr/DVB.cc	2004-12-23 21:07:54.329614000 +0100
+@@ -1,4 +1,5 @@
+ #include &lt;DVB.hh&gt;
++#include &lt;errno.h&gt;
+ 
+ static const fe_code_rate_t ftab [8] = {
+         FEC_AUTO, FEC_1_2, FEC_2_3, FEC_3_4,

Added: branches/rpms/brian/libdvb/libdvb-0.5.5-gentoo.patch
===================================================================
--- branches/rpms/brian/libdvb/libdvb-0.5.5-gentoo.patch	                        (rev 0)
+++ branches/rpms/brian/libdvb/libdvb-0.5.5-gentoo.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,33 @@
+--- Makefile_orig	2004-12-06 17:04:49.186749080 +0000
++++ Makefile	2004-12-06 17:10:31.217752464 +0000
+@@ -11,7 +11,7 @@
+ 
+ 
+ 
+-main: $(DVB_LIBS) $(TEST_PROGS) $(DVB-MPEGTOOLS)
++main: $(DVB_LIBS) $(DVB-MPEGTOOLS)
+ 
+ install: $(DVB_LIBS) $(HEADERS)
+ 	mkdir -p $(DESTDIR)$(PREFIX)/lib
+--- config.mk_orig	2004-12-06 17:12:20.200184616 +0000
++++ config.mk	2004-12-06 17:12:29.086833640 +0000
+@@ -1,7 +1,7 @@
+ # -*- makefile -*-
+ #
+ 
+-PREFIX = /usr/local
++PREFIX = /usr
+ VERSION = 0.5.5
+ CFLAGS=-O2 -Wall -g
+ INCLUDES=-I. -I../include -I../../include
+--- dvb-mpegtools/Makefile_orig	2004-12-06 17:19:58.700481976 +0000
++++ dvb-mpegtools/Makefile	2004-12-06 17:21:30.398541752 +0000
+@@ -62,7 +62,7 @@
+ 	install -m 755 dvb-mpegtools_main $(DESTDIR)$(PREFIX)/bin/
+ 	install -m 755 dvbaudio $(DESTDIR)$(PREFIX)/bin/
+ 	install -m 755 show_dvb_image $(DESTDIR)$(PREFIX)/bin/
+-	install -m 755 dia $(DESTDIR)$(PREFIX)/bin/
++	install -m 755 dia $(DESTDIR)$(PREFIX)/bin/dia_dvb
+ 	for f in $(LINKS); do\
+ 		(cd $(DESTDIR)$(PREFIX)/bin &amp;&amp; ln -s -f dvb-mpegtools_main $$f) ;\
+ 	done

Added: branches/rpms/brian/libdvb/libdvb.spec
===================================================================
--- branches/rpms/brian/libdvb/libdvb.spec	                        (rev 0)
+++ branches/rpms/brian/libdvb/libdvb.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,65 @@
+Distribution:   CCux
+Packager:	Stefan Gottwald &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">gotti at ccux-linux.de</A>&gt;
+
+Summary:	libdvb package with added CAM library and libdvbmpegtools as well as dvb-mpegtools.
+Name:		libdvb
+Version:	0.5.5
+Release:	2
+Provides:	%{name}
+License:	GPL
+URL:		<A HREF="http://www.metzlerbros.org/dvb">http://www.metzlerbros.org/dvb</A>
+Group:		System/Libraries
+Source0:	%{name}-%{version}.tar.gz
+Patch0:		libdvb-0.5.5-gentoo.patch 
+Patch1:		errno.patch
+BuildRoot:	%{_tmppath}/%{name}-buildroot
+Requires:	linuxdvb
+
+%description
+libdvb package with added CAM library and libdvbmpegtools as well as dvb-mpegtools
+
+%package devel
+Summary: 	%{name} development headers.
+Group: 		%{group}            
+Requires: 	%{name} = %{version}-%{release}
+
+%description devel
+Header and include files for developing applications with %{name}.
+
+%prep
+%setup -n %{name}-%{version}
+%patch0
+%patch1
+sed -i &quot;s#-I../../include#-I../../include\ -I/lib/modules/`uname -r`/build/include#&quot; config.mk
+
+%build
+make
+
+%install
+rm -rf $RPM_BUILD_ROOT
+make DESTDIR=$RPM_BUILD_ROOT PREFIX=%_prefix install
+mkdir -p %{buildroot}/%{_datadir}/doc/%{name}-doc-%{version}/{sample_progs,samplerc}
+cp sample_progs/* %{buildroot}/%{_datadir}/doc/%{name}-doc-%{version}/sample_progs/
+cp samplerc/* %{buildroot}/%{_datadir}/doc/%{name}-doc-%{version}/samplerc/
+cp README %{buildroot}/%{_datadir}/doc/%{name}-doc-%{version}/README
+find %{buildroot} -type f \
+-exec /usr/bin/strip --strip-debug '{}' ';' 
+
+%files
+%defattr(-,root,root)
+%{_datadir}/doc/%{name}-doc-%{version}
+%_bindir/*
+
+%files devel
+%defattr(-,root,root)
+%_includedir
+%_libdir/*.a
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+%changelog
+* Sun Jul 25 2005 Christian Metzen &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">metzench at ccux-linux.de</A>&gt; 0.5.5-2
+- Tweaked specfile, removed doc package
+* Sat Jun 18 2005 Stefan Gottwald &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">gotti at ccux-linux.de</A>&gt; 0.5.5-1
+- Initial Release

Added: branches/rpms/brian/novi/novi.spec
===================================================================
--- branches/rpms/brian/novi/novi.spec	                        (rev 0)
+++ branches/rpms/brian/novi/novi.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,144 @@
+## ------------------------------------------------------------
+## stub RPM spec file for novi.
+## There's a chicken-and-egg scenario concerning spec files and
+## autoconf; this file is generated by autoconf and the maintainer
+## (manually) copies it over to novi.spec for automated rebuilding
+## via &quot;rpmbuild -t.&quot;  
+## We use autoconf to generate this file as a convenience, to make
+## sure the version numbers and such are (automatically) updated
+## with every release.
+## ------------------------------------------------------------
+
+%define	product_name			novi
+%define	product_version			1.1.7
+%define rpm_release				1
+
+%define	product_nameversion		%{product_name}-%{product_version}
+%define	product_source_dir		%{product_nameversion}
+%define	product_tarball			%{product_nameversion}.tar.bz2
+
+## CUSTOM RPM BUILDERS: change this macro to move novi's install path.
+%define	install_prefix			/usr
+%define doc_dir					%{install_prefix}/share/doc/%{product_nameversion}
+
+BuildRoot:						%{_tmppath}/%{product_nameversion}-build-root-xxxxx
+
+BuildRequires: beecrypt-devel
+BuildRequires: elfutils-devel
+BuildRequires: elfutils-libelf-devel
+BuildRequires: expat-devel
+BuildRequires: libselinux-devel
+BuildRequires: popt
+BuildRequires: rpm-devel
+BuildRequires: rpm-libs
+BuildRequires: zlib-devel
+
+## ------------------------------------------------------------
+
+Name: %{product_name}
+Version: %{product_version}
+Release: %{rpm_release}
+License: Apache 2.0
+URL: <A HREF="http://www.ExMachinaTech.net">http://www.ExMachinaTech.net</A>
+Vendor: Ethan McCallum, ExMachinaTech.net
+Source0: %{product_tarball}
+
+Group: Utilities
+
+Summary: find the latest-version RPMs in a tree
+
+%description
+
+novi searches directories for the latest-version RPMs of each product.
+
+In turn, this data can be used to:
+
+- see what are the latest RPMs on your system
+
+- fold the latest RPMs into a Kickstart tree, such that you can
+  build systems with the updates already applied
+
+This process is described in much greater (and better) detail in the
+following article on the O'Reilly Network:
+
+&quot;Pre-Patched Kickstart Installs&quot;
+<A HREF="http://www.linuxdevcenter.com/pub/a/linux/2005/02/17/kickstart_updates.html">http://www.linuxdevcenter.com/pub/a/linux/2005/02/17/kickstart_updates.html</A>
+
+## ------------------------------------------------------------
+
+%prep
+
+umask 022
+cd ${RPM_BUILD_DIR}
+rm -rf ${RPM_BUILD_DIR}/%{product_nameversion}
+tar jxf ${RPM_SOURCE_DIR}/%{product_tarball}
+
+cd %{product_source_dir}
+
+./configure --prefix=%{install_prefix}
+
+
+## ------------------------------------------------------------
+
+%build
+umask 022
+
+cd ${RPM_BUILD_DIR}/%{product_source_dir}
+
+make
+
+## ------------------------------------------------------------
+
+%install
+umask 022
+
+## RPM_BUILD_ROOT is created for us by RPM.
+## if it already exists, the build process will fail
+rm -rf ${RPM_BUILD_ROOT}
+
+cd ${RPM_BUILD_DIR}/%{product_source_dir}
+
+make install ALT_ROOT_DIR=${RPM_BUILD_ROOT}
+
+mkdir -p ${RPM_BUILD_ROOT}/%{doc_dir}
+
+for FILE in EXAMPLES.TXT FAQ.TXT INSTALL.TXT LICENSE README.TXT WISHLIST.TXT doc/novi.1.html doc/novi_examples.1.html ; do
+	cp ${FILE} ${RPM_BUILD_ROOT}/%{doc_dir}
+done
+
+## ------------------------------------------------------------
+
+%clean
+rm -rf ${RPM_BUILD_ROOT}
+
+## ------------------------------------------------------------
+
+%files
+
+%defattr( 0444 , root , root )
+
+%dir  %attr( -    , root , root ) %{install_prefix}
+
+%dir  %attr( -    , root , root ) %{install_prefix}/bin
+      %attr( 0555 , root , root ) %{install_prefix}/bin/novi
+
+%dir  %attr( -    , root , root ) %{install_prefix}/man
+
+%dir  %attr( -    , root , root ) %{install_prefix}/man/man1
+      %attr( 0444 , root , root ) %{install_prefix}/man/man1/novi.1.gz
+      %attr( 0444 , root , root ) %{install_prefix}/man/man1/novi_examples.1.gz
+
+%dir  %attr( 0555 , root , root ) %{doc_dir}
+      %attr( 0444 , root , root ) %{doc_dir}/EXAMPLES.TXT
+      %attr( 0444 , root , root ) %{doc_dir}/FAQ.TXT
+      %attr( 0444 , root , root ) %{doc_dir}/INSTALL.TXT
+      %attr( 0444 , root , root ) %{doc_dir}/LICENSE
+      %attr( 0444 , root , root ) %{doc_dir}/README.TXT
+      %attr( 0444 , root , root ) %{doc_dir}/WISHLIST.TXT
+      %attr( 0444 , root , root ) %{doc_dir}/novi.1.html
+      %attr( 0444 , root , root ) %{doc_dir}/novi_examples.1.html
+
+
+## ------------------------------------------------------------
+
+## EOF novi.spec

Added: branches/rpms/brian/nozomi/chap-secrets
===================================================================
--- branches/rpms/brian/nozomi/chap-secrets	                        (rev 0)
+++ branches/rpms/brian/nozomi/chap-secrets	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1 @@
+&quot;BASE&quot;	*	&quot;internet&quot;

Added: branches/rpms/brian/nozomi/ifcfg-umts
===================================================================
--- branches/rpms/brian/nozomi/ifcfg-umts	                        (rev 0)
+++ branches/rpms/brian/nozomi/ifcfg-umts	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,23 @@
+IPV6INIT=no
+ONBOOT=no
+USERCTL=yes
+PEERDNS=yes
+TYPE=Modem
+DEVICE=ppp0
+BOOTPROTO=dialup
+LINESPEED=460800
+MODEMPORT=/dev/noz0
+IDLETIMEOUT=600
+PROVIDER=umts
+DEFROUTE=yes
+PERSIST=no
+WVDIALSECT=umts
+MODEMNAME=ModemUMTS
+DEMAND=no
+PAPNAME=BASE
+AC=off
+BSDCOMP=off
+VJCCOMP=off
+CCP=off
+PC=off
+VJ=off

Added: branches/rpms/brian/nozomi/nozomi.spec
===================================================================
--- branches/rpms/brian/nozomi/nozomi.spec	                        (rev 0)
+++ branches/rpms/brian/nozomi/nozomi.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,83 @@
+Summary: Nozomi 3G PCMCIA driver
+Name: nozomi
+Version: 2.2
+Release: 1.bs%{?dist}
+Epoch: 1
+License: GPL
+Group: System Environment/Kernel
+Packager: Brian Schueler &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">brian.schueler at gmx.de</A>&gt;
+URL: <A HREF="http://www.pharscape.org">http://www.pharscape.org</A>
+
+Source0: <A HREF="http://unspecified/nozomi-%{version">http://unspecified/nozomi-%{version</A>}.tar.gz
+Source1: umts
+Source2: wvdial-umts.conf
+Source3: ifcfg-umts
+Source4: umts-interface
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+BuildArch: noarch
+Requires: dkms gcc make wvdial kernel-devel &gt;= 2.6.9
+BuildRequires(post): dkms gcc make
+BuildRequires(preun): dkms gcc make
+
+%description
+This Package includes a driver for UMTS 3G PCMCIA cards sold by Option
+
+%prep
+%setup %{Source0}
+
+%build
+
+%install
+%{__install} -D -m 0600 %{SOURCE1} %{buildroot}/%{_sysconfdir}/ppp/peers/umts
+%{__install} -D -m 0600 %{SOURCE2} %{buildroot}/%{_sysconfdir}/wvdial-umts.conf
+%{__install} -D -m 0755 %{SOURCE3} %{buildroot}/%{_sysconfdir}/sysconfig/network-scripts/ifcfg-umts
+%{__install} -D -m 0755 %{SOURCE4} %{buildroot}/%{_sysconfdir}/rc.d/init.d/umts-interface
+
+
+%define dkms_name nozomi
+%define dkms_vers %{version}-%{release}
+%define quiet -q
+
+# Kernel module sources install for dkms
+%{__mkdir_p} %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/
+%{__cp} -a ../%{dkms_name}-%{version}/* %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/
+
+# Configuration for dkms
+%{__cat} &gt; %{buildroot}%{_usrsrc}/%{dkms_name}-%{dkms_vers}/dkms.conf &lt;&lt; 'EOF'
+MAKE[0]=&quot;make clean &amp;&amp; make&quot;
+PACKAGE_NAME=%{dkms_name}
+PACKAGE_VERSION=%{dkms_vers}
+BUILT_MODULE_NAME[0]=%{dkms_name}
+BUILT_MODULE_LOCATION[0]=.
+DEST_MODULE_LOCATION[0]=/kernel/drivers/net
+AUTOINSTALL=&quot;YES&quot;
+EOF
+
+### Clean up buildroot
+%clean
+%{__rm} -rf %{buildroot}
+
+
+%post
+# Add to DKMS registry
+dkms add -m %{dkms_name} -v %{dkms_vers} %{?quiet} || :
+# Rebuild and make available for the currenty running kernel
+dkms build -m %{dkms_name} -v %{dkms_vers} %{?quiet} || :
+dkms install -m %{dkms_name} -v %{dkms_vers} %{?quiet} --force || :
+
+%preun
+# Remove all versions from DKMS registry
+dkms remove -m %{dkms_name} -v %{dkms_vers} %{?quiet} --all || :
+
+
+%files
+%defattr(-, root, root, 0755)
+%config(noreplace) %{_sysconfdir}/ppp/peers/umts
+%config(noreplace) %{_sysconfdir}/wvdial-umts.conf
+%{_usrsrc}/%{dkms_name}-%{dkms_vers}/
+%{_sysconfdir}/sysconfig/network-scripts/ifcfg-umts
+%{_sysconfdir}/rc.d/init.d/umts-interface
+
+%changelog
+* Thu Aug 27 2007 Brian Schueler &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">brian.schueler at gmx.de</A>&gt; - 2.2.1-1
+- Initial package.

Added: branches/rpms/brian/nozomi/umts
===================================================================
--- branches/rpms/brian/nozomi/umts	                        (rev 0)
+++ branches/rpms/brian/nozomi/umts	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1 @@
+connect &quot;/usr/bin/wvdial --config /etc/wvdial-umts.conf --remotename umts --chat 'umts'&quot;

Added: branches/rpms/brian/nozomi/umts-interface
===================================================================
--- branches/rpms/brian/nozomi/umts-interface	                        (rev 0)
+++ branches/rpms/brian/nozomi/umts-interface	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,53 @@
+#!/bin/bash
+#
+# umts-pin      This shell script takes care of starting
+#               UMTS SIM cards
+#
+# chkconfig: - 5 24
+# description:  Script for initializing a SIM card in an UMTS phone
+#
+
+# Source function library.
+. /etc/rc.d/init.d/functions
+
+MYNAME=&quot;${0##*/}&quot;
+LINK=&quot;${MYNAME#*[SK][0-9][0-9]}&quot;
+
+prog=${LINK}
+WVDIAL=/usr/bin/wvdial
+CONFIG=/etc/wvdial-umts.conf
+IFDOWN=/sbin/ifdown
+IFUP=/sbin/ifup
+
+start() {
+        echo -n $&quot;Starting $prog: &quot;
+	${WVDIAL} --config ${CONFIG} &gt; /dev/null 2&gt;&amp;1
+echo $?
+	sleep 5
+	${IFUP} umts
+echo $?
+	success
+        echo
+}
+
+stop() {
+        # Stop service.
+        echo -n $&quot;Shutting down $prog: &quot;
+        echo
+	${IFDOWN} umts
+}
+
+# See how we were called.
+case &quot;$1&quot; in
+  start)
+	start
+        ;;
+  stop)
+	stop
+        ;;
+  *)
+        echo $&quot;Usage: $0 {start|stop}&quot;
+        exit 1
+esac
+
+exit 0


Property changes on: branches/rpms/brian/nozomi/umts-interface
___________________________________________________________________
Name: svn:executable
   + *

Added: branches/rpms/brian/nozomi/wvdial-umts.conf
===================================================================
--- branches/rpms/brian/nozomi/wvdial-umts.conf	                        (rev 0)
+++ branches/rpms/brian/nozomi/wvdial-umts.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,29 @@
+[ModemUMTS]
+Modem = /dev/noz0
+Baud = 460800
+SetVolume = 0
+Dial Command = ATDT
+Init1 = ATZ
+Init2 = ATM0
+FlowControl = NOFLOW
+
+[Dialer umts]
+Username = BASE
+Password = internet
+Phone = *99***1#
+Stupid Mode = 1
+Init3 = AT+CGDCONT=1,&quot;IP&quot;,&quot;internet.eplus.de&quot;
+Dial Attempts = 3
+Inherits = ModemUMTS
+
+[Dialer Defaults]
+Modem = /dev/noz0
+Baud = 460800
+SetVolume = 0
+Dial Command = ATDT
+FlowControl = NOFLOW
+Init1 = ATZ
+Init2 = ATM0
+Init3 = AT+CPIN=&quot;1007&quot;
+
+

Added: branches/rpms/brian/opencv/opencv-1.0.0-autotools.diff
===================================================================
--- branches/rpms/brian/opencv/opencv-1.0.0-autotools.diff	                        (rev 0)
+++ branches/rpms/brian/opencv/opencv-1.0.0-autotools.diff	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,1301 @@
+diff -ur opencv-1.0.0.orig/aclocal.m4 opencv-1.0.0/aclocal.m4
+--- opencv-1.0.0.orig/aclocal.m4	2006-11-03 16:54:43.000000000 +0100
++++ opencv-1.0.0/aclocal.m4	2007-03-22 04:08:41.000000000 +0100
+@@ -1578,10 +1578,27 @@
+   # before this can be enabled.
+   hardcode_into_libs=yes
+ 
++  # find out which ABI we are using
++  libsuff=
++  case &quot;$host_cpu&quot; in
++  x86_64*|s390x*|powerpc64*)
++    echo '[#]line __oline__ &quot;configure&quot;' &gt; conftest.$ac_ext
++    if AC_TRY_EVAL(ac_compile); then
++      case `/usr/bin/file conftest.$ac_objext` in
++      *64-bit*)
++        libsuff=64
++        sys_lib_search_path_spec=&quot;/lib${libsuff} /usr/lib${libsuff} /usr/local/lib${libsuff}&quot;
++        ;;
++      esac
++    fi
++    rm -rf conftest*
++    ;;
++  esac
++
+   # Append ld.so.conf contents to the search path
+   if test -f /etc/ld.so.conf; then
+-    lt_ld_extra=`awk '/^include / { system(sprintf(&quot;cd /etc; cat %s&quot;, \[$]2)); skip = 1; } { if (!skip) print \[$]0; skip = 0; }' &lt; /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+-    sys_lib_dlsearch_path_spec=&quot;/lib /usr/lib $lt_ld_extra&quot;
++    lt_ld_extra=`awk '/^include / { system(sprintf(&quot;cd /etc; cat %s 2&gt;/dev/null&quot;, \[$]2)); skip = 1; } { if (!skip) print \[$]0; skip = 0; }' &lt; /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
++    sys_lib_dlsearch_path_spec=&quot;/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra&quot;
+   fi
+ 
+   # We used to test for /lib/ld.so.1 and disable shared libraries on
+@@ -4288,6 +4305,9 @@
+ # Is the compiler the GNU C compiler?
+ with_gcc=$_LT_AC_TAGVAR(GCC, $1)
+ 
++gcc_dir=\`gcc -print-file-name=. | $SED 's,/\.$,,'\`
++gcc_ver=\`gcc -dumpversion\`
++
+ # An ERE matcher.
+ EGREP=$lt_EGREP
+ 
+@@ -4421,11 +4441,11 @@
+ 
+ # Dependencies to place before the objects being linked to create a
+ # shared library.
+-predep_objects=$lt_[]_LT_AC_TAGVAR(predep_objects, $1)
++predep_objects=\`echo $lt_[]_LT_AC_TAGVAR(predep_objects, $1) | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Dependencies to place after the objects being linked to create a
+ # shared library.
+-postdep_objects=$lt_[]_LT_AC_TAGVAR(postdep_objects, $1)
++postdep_objects=\`echo $lt_[]_LT_AC_TAGVAR(postdep_objects, $1) | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Dependencies to place before the objects being linked to create a
+ # shared library.
+@@ -4437,7 +4457,7 @@
+ 
+ # The library search path used internally by the compiler when linking
+ # a shared library.
+-compiler_lib_search_path=$lt_[]_LT_AC_TAGVAR(compiler_lib_search_path, $1)
++compiler_lib_search_path=\`echo $lt_[]_LT_AC_TAGVAR(compiler_lib_search_path, $1) | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Method to check whether dependent libraries are shared objects.
+ deplibs_check_method=$lt_deplibs_check_method
+@@ -4517,7 +4537,7 @@
+ link_all_deplibs=$_LT_AC_TAGVAR(link_all_deplibs, $1)
+ 
+ # Compile-time system search path for libraries
+-sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
++sys_lib_search_path_spec=\`echo $lt_sys_lib_search_path_spec | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Run-time system search path for libraries
+ sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+@@ -6353,6 +6373,7 @@
+     done
+   done
+ done
++IFS=$as_save_IFS
+ lt_ac_max=0
+ lt_ac_count=0
+ # Add /usr/xpg4/bin/sed as it is typically found on Solaris
+@@ -6385,6 +6406,7 @@
+ done
+ ])
+ SED=$lt_cv_path_SED
++AC_SUBST([SED])
+ AC_MSG_RESULT([$SED])
+ ])
+ 
+diff -ur opencv-1.0.0.orig/apps/haartraining/include/Makefile.in opencv-1.0.0/apps/haartraining/include/Makefile.in
+--- opencv-1.0.0.orig/apps/haartraining/include/Makefile.in	2006-11-03 16:54:52.000000000 +0100
++++ opencv-1.0.0/apps/haartraining/include/Makefile.in	2007-03-22 04:08:54.000000000 +0100
+@@ -160,6 +160,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/apps/haartraining/Makefile.in opencv-1.0.0/apps/haartraining/Makefile.in
+--- opencv-1.0.0.orig/apps/haartraining/Makefile.in	2006-11-03 16:54:52.000000000 +0100
++++ opencv-1.0.0/apps/haartraining/Makefile.in	2007-03-22 04:08:53.000000000 +0100
+@@ -156,6 +156,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/apps/haartraining/src/Makefile.in opencv-1.0.0/apps/haartraining/src/Makefile.in
+--- opencv-1.0.0.orig/apps/haartraining/src/Makefile.in	2006-11-03 16:54:52.000000000 +0100
++++ opencv-1.0.0/apps/haartraining/src/Makefile.in	2007-03-22 04:08:54.000000000 +0100
+@@ -202,6 +202,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/apps/Makefile.in opencv-1.0.0/apps/Makefile.in
+--- opencv-1.0.0.orig/apps/Makefile.in	2006-11-03 16:54:51.000000000 +0100
++++ opencv-1.0.0/apps/Makefile.in	2007-03-22 04:08:53.000000000 +0100
+@@ -156,6 +156,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/configure opencv-1.0.0/configure
+--- opencv-1.0.0.orig/configure	2006-11-03 16:54:49.000000000 +0100
++++ opencv-1.0.0/configure	2007-03-22 04:08:47.000000000 +0100
+@@ -466,7 +466,7 @@
+ # include &lt;unistd.h&gt;
+ #endif&quot;
+ 
+-ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar MMAJOR MMINOR MSUBMINOR LT_VERSION CXX CXXFLAGS LDFLAGS CPPFLAGS ac_ct_CXX EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE CC CFLAGS ac_ct_CC CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CPP EGREP LN_S ECHO AR ac!
 _ct_AR RANLIB ac_ct_RANLIB DLLTOOL ac_ct_DLLTOOL AS ac_ct_AS OBJDUMP ac_ct_OBJDUMP CXXCPP F77 FFLAGS ac_ct_F77 LIBTOOL BUILD_APPS_TRUE BUILD_APPS_FALSE ALLOCA CARBON_CFLAGS CARBON_LIBS BUILD_CARBON_TRUE BUILD_CARBON_FALSE PKG_CONFIG GTK_CFLAGS GTK_LIBS GTHREAD_CFLAGS GTHREAD_LIBS BUILD_GTK_TRUE BUILD_GTK_FALSE QUICKTIME_CFLAGS QUICKTIME_LIBS BUILD_QUICKTIME_TRUE BUILD_QUICKTIME_FALSE XINE_LIBS BUILD_XINE_TRUE BUILD_XINE_FALSE FFMPEGLIBS BUILD_FFMPEG_TRUE BUILD_FFMPEG_FALSE IEEE1394LIBS BUILD_DC1394_TRUE BUILD_DC1394_FALSE BUILD_V4L_TRUE BUILD_V4L_FALSE IMAGELIBS PYTHON PYTHON_VERSION PYTHON_PREFIX PYTHON_EXEC_PREFIX PYTHON_PLATFORM pythondir pkgpythondir pyexecdir pkgpyexecdir PYTHON_CSPEC PYTHON_LSPEC BUILD_PYTHON_WRAPPERS_TRUE BUILD_PYTHON_WRAPPERS_FALSE SWIG SWIG_VERSION SWIG_RUNTIME_LIBS_DIR SWIG_PYTHON_OPT SWIG_PYTHON_LIBS UPDATE_SWIG_WRAPPERS_TRUE UPDATE_SWIG_WRAPPERS_FALSE DEBUG LIBOBJS LTLIBOBJS'
++ac_subst_vars='SHELL PATH_SEPARATOR PACKAGE_NAME PACKAGE_TARNAME PACKAGE_VERSION PACKAGE_STRING PACKAGE_BUGREPORT exec_prefix prefix program_transform_name bindir sbindir libexecdir datadir sysconfdir sharedstatedir localstatedir libdir includedir oldincludedir infodir mandir build_alias host_alias target_alias DEFS ECHO_C ECHO_N ECHO_T LIBS build build_cpu build_vendor build_os host host_cpu host_vendor host_os target target_cpu target_vendor target_os INSTALL_PROGRAM INSTALL_SCRIPT INSTALL_DATA CYGPATH_W PACKAGE VERSION ACLOCAL AUTOCONF AUTOMAKE AUTOHEADER MAKEINFO install_sh STRIP ac_ct_STRIP INSTALL_STRIP_PROGRAM mkdir_p AWK SET_MAKE am__leading_dot AMTAR am__tar am__untar MMAJOR MMINOR MSUBMINOR LT_VERSION CXX CXXFLAGS LDFLAGS CPPFLAGS ac_ct_CXX EXEEXT OBJEXT DEPDIR am__include am__quote AMDEP_TRUE AMDEP_FALSE AMDEPBACKSLASH CXXDEPMODE am__fastdepCXX_TRUE am__fastdepCXX_FALSE CC CFLAGS ac_ct_CC CCDEPMODE am__fastdepCC_TRUE am__fastdepCC_FALSE CPP SED EGREP LN_S ECHO A!
 R ac_ct_AR RANLIB ac_ct_RANLIB DLLTOOL ac_ct_DLLTOOL AS ac_ct_AS OBJDUMP ac_ct_OBJDUMP CXXCPP F77 FFLAGS ac_ct_F77 LIBTOOL BUILD_APPS_TRUE BUILD_APPS_FALSE ALLOCA CARBON_CFLAGS CARBON_LIBS BUILD_CARBON_TRUE BUILD_CARBON_FALSE PKG_CONFIG GTK_CFLAGS GTK_LIBS GTHREAD_CFLAGS GTHREAD_LIBS BUILD_GTK_TRUE BUILD_GTK_FALSE QUICKTIME_CFLAGS QUICKTIME_LIBS BUILD_QUICKTIME_TRUE BUILD_QUICKTIME_FALSE XINE_LIBS BUILD_XINE_TRUE BUILD_XINE_FALSE FFMPEGLIBS BUILD_FFMPEG_TRUE BUILD_FFMPEG_FALSE IEEE1394LIBS BUILD_DC1394_TRUE BUILD_DC1394_FALSE BUILD_V4L_TRUE BUILD_V4L_FALSE IMAGELIBS PYTHON PYTHON_VERSION PYTHON_PREFIX PYTHON_EXEC_PREFIX PYTHON_PLATFORM pythondir pkgpythondir pyexecdir pkgpyexecdir PYTHON_CSPEC PYTHON_LSPEC BUILD_PYTHON_WRAPPERS_TRUE BUILD_PYTHON_WRAPPERS_FALSE SWIG SWIG_VERSION SWIG_RUNTIME_LIBS_DIR SWIG_PYTHON_OPT SWIG_PYTHON_LIBS UPDATE_SWIG_WRAPPERS_TRUE UPDATE_SWIG_WRAPPERS_FALSE DEBUG LIBOBJS LTLIBOBJS'
+ ac_subst_files=''
+ 
+ # Initialize some variables set by options.
+@@ -4034,6 +4034,7 @@
+     done
+   done
+ done
++IFS=$as_save_IFS
+ lt_ac_max=0
+ lt_ac_count=0
+ # Add /usr/xpg4/bin/sed as it is typically found on Solaris
+@@ -4068,6 +4069,7 @@
+ fi
+ 
+ SED=$lt_cv_path_SED
++
+ echo &quot;$as_me:$LINENO: result: $SED&quot; &gt;&amp;5
+ echo &quot;${ECHO_T}$SED&quot; &gt;&amp;6
+ 
+@@ -4508,7 +4510,7 @@
+   ;;
+ *-*-irix6*)
+   # Find out which ABI we are using.
+-  echo '#line 4511 &quot;configure&quot;' &gt; conftest.$ac_ext
++  echo '#line 4513 &quot;configure&quot;' &gt; conftest.$ac_ext
+   if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+   (eval $ac_compile) 2&gt;&amp;5
+   ac_status=$?
+@@ -5651,7 +5653,7 @@
+ 
+ 
+ # Provide some information about the compiler.
+-echo &quot;$as_me:5654:&quot; \
++echo &quot;$as_me:5656:&quot; \
+      &quot;checking for Fortran 77 compiler version&quot; &gt;&amp;5
+ ac_compiler=`set X $ac_compile; echo $2`
+ { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compiler --version &lt;/dev/null &gt;&amp;5\&quot;&quot;) &gt;&amp;5
+@@ -6714,11 +6716,11 @@
+    -e 's:.*FLAGS}\{0,1\} :&amp;$lt_compiler_flag :; t' \
+    -e 's: [^ ]*conftest\.: $lt_compiler_flag&amp;:; t' \
+    -e 's:$: $lt_compiler_flag:'`
+-   (eval echo &quot;\&quot;\$as_me:6717: $lt_compile\&quot;&quot; &gt;&amp;5)
++   (eval echo &quot;\&quot;\$as_me:6719: $lt_compile\&quot;&quot; &gt;&amp;5)
+    (eval &quot;$lt_compile&quot; 2&gt;conftest.err)
+    ac_status=$?
+    cat conftest.err &gt;&amp;5
+-   echo &quot;$as_me:6721: \$? = $ac_status&quot; &gt;&amp;5
++   echo &quot;$as_me:6723: \$? = $ac_status&quot; &gt;&amp;5
+    if (exit $ac_status) &amp;&amp; test -s &quot;$ac_outfile&quot;; then
+      # The compiler can only warn and ignore the option if not recognized
+      # So say no if there are warnings other than the usual output.
+@@ -6982,11 +6984,11 @@
+    -e 's:.*FLAGS}\{0,1\} :&amp;$lt_compiler_flag :; t' \
+    -e 's: [^ ]*conftest\.: $lt_compiler_flag&amp;:; t' \
+    -e 's:$: $lt_compiler_flag:'`
+-   (eval echo &quot;\&quot;\$as_me:6985: $lt_compile\&quot;&quot; &gt;&amp;5)
++   (eval echo &quot;\&quot;\$as_me:6987: $lt_compile\&quot;&quot; &gt;&amp;5)
+    (eval &quot;$lt_compile&quot; 2&gt;conftest.err)
+    ac_status=$?
+    cat conftest.err &gt;&amp;5
+-   echo &quot;$as_me:6989: \$? = $ac_status&quot; &gt;&amp;5
++   echo &quot;$as_me:6991: \$? = $ac_status&quot; &gt;&amp;5
+    if (exit $ac_status) &amp;&amp; test -s &quot;$ac_outfile&quot;; then
+      # The compiler can only warn and ignore the option if not recognized
+      # So say no if there are warnings other than the usual output.
+@@ -7086,11 +7088,11 @@
+    -e 's:.*FLAGS}\{0,1\} :&amp;$lt_compiler_flag :; t' \
+    -e 's: [^ ]*conftest\.: $lt_compiler_flag&amp;:; t' \
+    -e 's:$: $lt_compiler_flag:'`
+-   (eval echo &quot;\&quot;\$as_me:7089: $lt_compile\&quot;&quot; &gt;&amp;5)
++   (eval echo &quot;\&quot;\$as_me:7091: $lt_compile\&quot;&quot; &gt;&amp;5)
+    (eval &quot;$lt_compile&quot; 2&gt;out/conftest.err)
+    ac_status=$?
+    cat out/conftest.err &gt;&amp;5
+-   echo &quot;$as_me:7093: \$? = $ac_status&quot; &gt;&amp;5
++   echo &quot;$as_me:7095: \$? = $ac_status&quot; &gt;&amp;5
+    if (exit $ac_status) &amp;&amp; test -s out/conftest2.$ac_objext
+    then
+      # The compiler can only warn and ignore the option if not recognized
+@@ -8551,10 +8553,31 @@
+   # before this can be enabled.
+   hardcode_into_libs=yes
+ 
++  # find out which ABI we are using
++  libsuff=
++  case &quot;$host_cpu&quot; in
++  x86_64*|s390x*|powerpc64*)
++    echo '#line 8560 &quot;configure&quot;' &gt; conftest.$ac_ext
++    if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
++  (eval $ac_compile) 2&gt;&amp;5
++  ac_status=$?
++  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
++  (exit $ac_status); }; then
++      case `/usr/bin/file conftest.$ac_objext` in
++      *64-bit*)
++        libsuff=64
++        sys_lib_search_path_spec=&quot;/lib${libsuff} /usr/lib${libsuff} /usr/local/lib${libsuff}&quot;
++        ;;
++      esac
++    fi
++    rm -rf conftest*
++    ;;
++  esac
++
+   # Append ld.so.conf contents to the search path
+   if test -f /etc/ld.so.conf; then
+-    lt_ld_extra=`awk '/^include / { system(sprintf(&quot;cd /etc; cat %s&quot;, \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' &lt; /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+-    sys_lib_dlsearch_path_spec=&quot;/lib /usr/lib $lt_ld_extra&quot;
++    lt_ld_extra=`awk '/^include / { system(sprintf(&quot;cd /etc; cat %s 2&gt;/dev/null&quot;, \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' &lt; /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
++    sys_lib_dlsearch_path_spec=&quot;/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra&quot;
+   fi
+ 
+   # We used to test for /lib/ld.so.1 and disable shared libraries on
+@@ -9431,7 +9454,7 @@
+   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
+   lt_status=$lt_dlunknown
+   cat &gt; conftest.$ac_ext &lt;&lt;EOF
+-#line 9434 &quot;configure&quot;
++#line 9457 &quot;configure&quot;
+ #include &quot;confdefs.h&quot;
+ 
+ #if HAVE_DLFCN_H
+@@ -9531,7 +9554,7 @@
+   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
+   lt_status=$lt_dlunknown
+   cat &gt; conftest.$ac_ext &lt;&lt;EOF
+-#line 9534 &quot;configure&quot;
++#line 9557 &quot;configure&quot;
+ #include &quot;confdefs.h&quot;
+ 
+ #if HAVE_DLFCN_H
+@@ -9862,6 +9885,9 @@
+ # Is the compiler the GNU C compiler?
+ with_gcc=$GCC
+ 
++gcc_dir=\`gcc -print-file-name=. | $SED 's,/\.$,,'\`
++gcc_ver=\`gcc -dumpversion\`
++
+ # An ERE matcher.
+ EGREP=$lt_EGREP
+ 
+@@ -9995,11 +10021,11 @@
+ 
+ # Dependencies to place before the objects being linked to create a
+ # shared library.
+-predep_objects=$lt_predep_objects
++predep_objects=\`echo $lt_predep_objects | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Dependencies to place after the objects being linked to create a
+ # shared library.
+-postdep_objects=$lt_postdep_objects
++postdep_objects=\`echo $lt_postdep_objects | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Dependencies to place before the objects being linked to create a
+ # shared library.
+@@ -10011,7 +10037,7 @@
+ 
+ # The library search path used internally by the compiler when linking
+ # a shared library.
+-compiler_lib_search_path=$lt_compiler_lib_search_path
++compiler_lib_search_path=\`echo $lt_compiler_lib_search_path | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Method to check whether dependent libraries are shared objects.
+ deplibs_check_method=$lt_deplibs_check_method
+@@ -10091,7 +10117,7 @@
+ link_all_deplibs=$link_all_deplibs
+ 
+ # Compile-time system search path for libraries
+-sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
++sys_lib_search_path_spec=\`echo $lt_sys_lib_search_path_spec | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Run-time system search path for libraries
+ sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+@@ -11871,11 +11897,11 @@
+    -e 's:.*FLAGS}\{0,1\} :&amp;$lt_compiler_flag :; t' \
+    -e 's: [^ ]*conftest\.: $lt_compiler_flag&amp;:; t' \
+    -e 's:$: $lt_compiler_flag:'`
+-   (eval echo &quot;\&quot;\$as_me:11874: $lt_compile\&quot;&quot; &gt;&amp;5)
++   (eval echo &quot;\&quot;\$as_me:11900: $lt_compile\&quot;&quot; &gt;&amp;5)
+    (eval &quot;$lt_compile&quot; 2&gt;conftest.err)
+    ac_status=$?
+    cat conftest.err &gt;&amp;5
+-   echo &quot;$as_me:11878: \$? = $ac_status&quot; &gt;&amp;5
++   echo &quot;$as_me:11904: \$? = $ac_status&quot; &gt;&amp;5
+    if (exit $ac_status) &amp;&amp; test -s &quot;$ac_outfile&quot;; then
+      # The compiler can only warn and ignore the option if not recognized
+      # So say no if there are warnings other than the usual output.
+@@ -11975,11 +12001,11 @@
+    -e 's:.*FLAGS}\{0,1\} :&amp;$lt_compiler_flag :; t' \
+    -e 's: [^ ]*conftest\.: $lt_compiler_flag&amp;:; t' \
+    -e 's:$: $lt_compiler_flag:'`
+-   (eval echo &quot;\&quot;\$as_me:11978: $lt_compile\&quot;&quot; &gt;&amp;5)
++   (eval echo &quot;\&quot;\$as_me:12004: $lt_compile\&quot;&quot; &gt;&amp;5)
+    (eval &quot;$lt_compile&quot; 2&gt;out/conftest.err)
+    ac_status=$?
+    cat out/conftest.err &gt;&amp;5
+-   echo &quot;$as_me:11982: \$? = $ac_status&quot; &gt;&amp;5
++   echo &quot;$as_me:12008: \$? = $ac_status&quot; &gt;&amp;5
+    if (exit $ac_status) &amp;&amp; test -s out/conftest2.$ac_objext
+    then
+      # The compiler can only warn and ignore the option if not recognized
+@@ -12507,10 +12533,31 @@
+   # before this can be enabled.
+   hardcode_into_libs=yes
+ 
++  # find out which ABI we are using
++  libsuff=
++  case &quot;$host_cpu&quot; in
++  x86_64*|s390x*|powerpc64*)
++    echo '#line 12540 &quot;configure&quot;' &gt; conftest.$ac_ext
++    if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
++  (eval $ac_compile) 2&gt;&amp;5
++  ac_status=$?
++  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
++  (exit $ac_status); }; then
++      case `/usr/bin/file conftest.$ac_objext` in
++      *64-bit*)
++        libsuff=64
++        sys_lib_search_path_spec=&quot;/lib${libsuff} /usr/lib${libsuff} /usr/local/lib${libsuff}&quot;
++        ;;
++      esac
++    fi
++    rm -rf conftest*
++    ;;
++  esac
++
+   # Append ld.so.conf contents to the search path
+   if test -f /etc/ld.so.conf; then
+-    lt_ld_extra=`awk '/^include / { system(sprintf(&quot;cd /etc; cat %s&quot;, \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' &lt; /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+-    sys_lib_dlsearch_path_spec=&quot;/lib /usr/lib $lt_ld_extra&quot;
++    lt_ld_extra=`awk '/^include / { system(sprintf(&quot;cd /etc; cat %s 2&gt;/dev/null&quot;, \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' &lt; /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
++    sys_lib_dlsearch_path_spec=&quot;/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra&quot;
+   fi
+ 
+   # We used to test for /lib/ld.so.1 and disable shared libraries on
+@@ -12894,6 +12941,9 @@
+ # Is the compiler the GNU C compiler?
+ with_gcc=$GCC_CXX
+ 
++gcc_dir=\`gcc -print-file-name=. | $SED 's,/\.$,,'\`
++gcc_ver=\`gcc -dumpversion\`
++
+ # An ERE matcher.
+ EGREP=$lt_EGREP
+ 
+@@ -13027,11 +13077,11 @@
+ 
+ # Dependencies to place before the objects being linked to create a
+ # shared library.
+-predep_objects=$lt_predep_objects_CXX
++predep_objects=\`echo $lt_predep_objects_CXX | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Dependencies to place after the objects being linked to create a
+ # shared library.
+-postdep_objects=$lt_postdep_objects_CXX
++postdep_objects=\`echo $lt_postdep_objects_CXX | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Dependencies to place before the objects being linked to create a
+ # shared library.
+@@ -13043,7 +13093,7 @@
+ 
+ # The library search path used internally by the compiler when linking
+ # a shared library.
+-compiler_lib_search_path=$lt_compiler_lib_search_path_CXX
++compiler_lib_search_path=\`echo $lt_compiler_lib_search_path_CXX | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Method to check whether dependent libraries are shared objects.
+ deplibs_check_method=$lt_deplibs_check_method
+@@ -13123,7 +13173,7 @@
+ link_all_deplibs=$link_all_deplibs_CXX
+ 
+ # Compile-time system search path for libraries
+-sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
++sys_lib_search_path_spec=\`echo $lt_sys_lib_search_path_spec | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Run-time system search path for libraries
+ sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+@@ -13545,11 +13595,11 @@
+    -e 's:.*FLAGS}\{0,1\} :&amp;$lt_compiler_flag :; t' \
+    -e 's: [^ ]*conftest\.: $lt_compiler_flag&amp;:; t' \
+    -e 's:$: $lt_compiler_flag:'`
+-   (eval echo &quot;\&quot;\$as_me:13548: $lt_compile\&quot;&quot; &gt;&amp;5)
++   (eval echo &quot;\&quot;\$as_me:13598: $lt_compile\&quot;&quot; &gt;&amp;5)
+    (eval &quot;$lt_compile&quot; 2&gt;conftest.err)
+    ac_status=$?
+    cat conftest.err &gt;&amp;5
+-   echo &quot;$as_me:13552: \$? = $ac_status&quot; &gt;&amp;5
++   echo &quot;$as_me:13602: \$? = $ac_status&quot; &gt;&amp;5
+    if (exit $ac_status) &amp;&amp; test -s &quot;$ac_outfile&quot;; then
+      # The compiler can only warn and ignore the option if not recognized
+      # So say no if there are warnings other than the usual output.
+@@ -13649,11 +13699,11 @@
+    -e 's:.*FLAGS}\{0,1\} :&amp;$lt_compiler_flag :; t' \
+    -e 's: [^ ]*conftest\.: $lt_compiler_flag&amp;:; t' \
+    -e 's:$: $lt_compiler_flag:'`
+-   (eval echo &quot;\&quot;\$as_me:13652: $lt_compile\&quot;&quot; &gt;&amp;5)
++   (eval echo &quot;\&quot;\$as_me:13702: $lt_compile\&quot;&quot; &gt;&amp;5)
+    (eval &quot;$lt_compile&quot; 2&gt;out/conftest.err)
+    ac_status=$?
+    cat out/conftest.err &gt;&amp;5
+-   echo &quot;$as_me:13656: \$? = $ac_status&quot; &gt;&amp;5
++   echo &quot;$as_me:13706: \$? = $ac_status&quot; &gt;&amp;5
+    if (exit $ac_status) &amp;&amp; test -s out/conftest2.$ac_objext
+    then
+      # The compiler can only warn and ignore the option if not recognized
+@@ -15094,10 +15144,31 @@
+   # before this can be enabled.
+   hardcode_into_libs=yes
+ 
++  # find out which ABI we are using
++  libsuff=
++  case &quot;$host_cpu&quot; in
++  x86_64*|s390x*|powerpc64*)
++    echo '#line 15151 &quot;configure&quot;' &gt; conftest.$ac_ext
++    if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
++  (eval $ac_compile) 2&gt;&amp;5
++  ac_status=$?
++  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
++  (exit $ac_status); }; then
++      case `/usr/bin/file conftest.$ac_objext` in
++      *64-bit*)
++        libsuff=64
++        sys_lib_search_path_spec=&quot;/lib${libsuff} /usr/lib${libsuff} /usr/local/lib${libsuff}&quot;
++        ;;
++      esac
++    fi
++    rm -rf conftest*
++    ;;
++  esac
++
+   # Append ld.so.conf contents to the search path
+   if test -f /etc/ld.so.conf; then
+-    lt_ld_extra=`awk '/^include / { system(sprintf(&quot;cd /etc; cat %s&quot;, \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' &lt; /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+-    sys_lib_dlsearch_path_spec=&quot;/lib /usr/lib $lt_ld_extra&quot;
++    lt_ld_extra=`awk '/^include / { system(sprintf(&quot;cd /etc; cat %s 2&gt;/dev/null&quot;, \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' &lt; /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
++    sys_lib_dlsearch_path_spec=&quot;/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra&quot;
+   fi
+ 
+   # We used to test for /lib/ld.so.1 and disable shared libraries on
+@@ -15481,6 +15552,9 @@
+ # Is the compiler the GNU C compiler?
+ with_gcc=$GCC_F77
+ 
++gcc_dir=\`gcc -print-file-name=. | $SED 's,/\.$,,'\`
++gcc_ver=\`gcc -dumpversion\`
++
+ # An ERE matcher.
+ EGREP=$lt_EGREP
+ 
+@@ -15614,11 +15688,11 @@
+ 
+ # Dependencies to place before the objects being linked to create a
+ # shared library.
+-predep_objects=$lt_predep_objects_F77
++predep_objects=\`echo $lt_predep_objects_F77 | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Dependencies to place after the objects being linked to create a
+ # shared library.
+-postdep_objects=$lt_postdep_objects_F77
++postdep_objects=\`echo $lt_postdep_objects_F77 | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Dependencies to place before the objects being linked to create a
+ # shared library.
+@@ -15630,7 +15704,7 @@
+ 
+ # The library search path used internally by the compiler when linking
+ # a shared library.
+-compiler_lib_search_path=$lt_compiler_lib_search_path_F77
++compiler_lib_search_path=\`echo $lt_compiler_lib_search_path_F77 | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Method to check whether dependent libraries are shared objects.
+ deplibs_check_method=$lt_deplibs_check_method
+@@ -15710,7 +15784,7 @@
+ link_all_deplibs=$link_all_deplibs_F77
+ 
+ # Compile-time system search path for libraries
+-sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
++sys_lib_search_path_spec=\`echo $lt_sys_lib_search_path_spec | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Run-time system search path for libraries
+ sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+@@ -15852,11 +15926,11 @@
+    -e 's:.*FLAGS}\{0,1\} :&amp;$lt_compiler_flag :; t' \
+    -e 's: [^ ]*conftest\.: $lt_compiler_flag&amp;:; t' \
+    -e 's:$: $lt_compiler_flag:'`
+-   (eval echo &quot;\&quot;\$as_me:15855: $lt_compile\&quot;&quot; &gt;&amp;5)
++   (eval echo &quot;\&quot;\$as_me:15929: $lt_compile\&quot;&quot; &gt;&amp;5)
+    (eval &quot;$lt_compile&quot; 2&gt;conftest.err)
+    ac_status=$?
+    cat conftest.err &gt;&amp;5
+-   echo &quot;$as_me:15859: \$? = $ac_status&quot; &gt;&amp;5
++   echo &quot;$as_me:15933: \$? = $ac_status&quot; &gt;&amp;5
+    if (exit $ac_status) &amp;&amp; test -s &quot;$ac_outfile&quot;; then
+      # The compiler can only warn and ignore the option if not recognized
+      # So say no if there are warnings other than the usual output.
+@@ -16120,11 +16194,11 @@
+    -e 's:.*FLAGS}\{0,1\} :&amp;$lt_compiler_flag :; t' \
+    -e 's: [^ ]*conftest\.: $lt_compiler_flag&amp;:; t' \
+    -e 's:$: $lt_compiler_flag:'`
+-   (eval echo &quot;\&quot;\$as_me:16123: $lt_compile\&quot;&quot; &gt;&amp;5)
++   (eval echo &quot;\&quot;\$as_me:16197: $lt_compile\&quot;&quot; &gt;&amp;5)
+    (eval &quot;$lt_compile&quot; 2&gt;conftest.err)
+    ac_status=$?
+    cat conftest.err &gt;&amp;5
+-   echo &quot;$as_me:16127: \$? = $ac_status&quot; &gt;&amp;5
++   echo &quot;$as_me:16201: \$? = $ac_status&quot; &gt;&amp;5
+    if (exit $ac_status) &amp;&amp; test -s &quot;$ac_outfile&quot;; then
+      # The compiler can only warn and ignore the option if not recognized
+      # So say no if there are warnings other than the usual output.
+@@ -16224,11 +16298,11 @@
+    -e 's:.*FLAGS}\{0,1\} :&amp;$lt_compiler_flag :; t' \
+    -e 's: [^ ]*conftest\.: $lt_compiler_flag&amp;:; t' \
+    -e 's:$: $lt_compiler_flag:'`
+-   (eval echo &quot;\&quot;\$as_me:16227: $lt_compile\&quot;&quot; &gt;&amp;5)
++   (eval echo &quot;\&quot;\$as_me:16301: $lt_compile\&quot;&quot; &gt;&amp;5)
+    (eval &quot;$lt_compile&quot; 2&gt;out/conftest.err)
+    ac_status=$?
+    cat out/conftest.err &gt;&amp;5
+-   echo &quot;$as_me:16231: \$? = $ac_status&quot; &gt;&amp;5
++   echo &quot;$as_me:16305: \$? = $ac_status&quot; &gt;&amp;5
+    if (exit $ac_status) &amp;&amp; test -s out/conftest2.$ac_objext
+    then
+      # The compiler can only warn and ignore the option if not recognized
+@@ -17689,10 +17763,31 @@
+   # before this can be enabled.
+   hardcode_into_libs=yes
+ 
++  # find out which ABI we are using
++  libsuff=
++  case &quot;$host_cpu&quot; in
++  x86_64*|s390x*|powerpc64*)
++    echo '#line 17770 &quot;configure&quot;' &gt; conftest.$ac_ext
++    if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
++  (eval $ac_compile) 2&gt;&amp;5
++  ac_status=$?
++  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
++  (exit $ac_status); }; then
++      case `/usr/bin/file conftest.$ac_objext` in
++      *64-bit*)
++        libsuff=64
++        sys_lib_search_path_spec=&quot;/lib${libsuff} /usr/lib${libsuff} /usr/local/lib${libsuff}&quot;
++        ;;
++      esac
++    fi
++    rm -rf conftest*
++    ;;
++  esac
++
+   # Append ld.so.conf contents to the search path
+   if test -f /etc/ld.so.conf; then
+-    lt_ld_extra=`awk '/^include / { system(sprintf(&quot;cd /etc; cat %s&quot;, \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' &lt; /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
+-    sys_lib_dlsearch_path_spec=&quot;/lib /usr/lib $lt_ld_extra&quot;
++    lt_ld_extra=`awk '/^include / { system(sprintf(&quot;cd /etc; cat %s 2&gt;/dev/null&quot;, \$2)); skip = 1; } { if (!skip) print \$0; skip = 0; }' &lt; /etc/ld.so.conf | $SED -e 's/#.*//;s/[:,	]/ /g;s/=[^=]*$//;s/=[^= ]* / /g;/^$/d' | tr '\n' ' '`
++    sys_lib_dlsearch_path_spec=&quot;/lib${libsuff} /usr/lib${libsuff} $lt_ld_extra&quot;
+   fi
+ 
+   # We used to test for /lib/ld.so.1 and disable shared libraries on
+@@ -18076,6 +18171,9 @@
+ # Is the compiler the GNU C compiler?
+ with_gcc=$GCC_GCJ
+ 
++gcc_dir=\`gcc -print-file-name=. | $SED 's,/\.$,,'\`
++gcc_ver=\`gcc -dumpversion\`
++
+ # An ERE matcher.
+ EGREP=$lt_EGREP
+ 
+@@ -18209,11 +18307,11 @@
+ 
+ # Dependencies to place before the objects being linked to create a
+ # shared library.
+-predep_objects=$lt_predep_objects_GCJ
++predep_objects=\`echo $lt_predep_objects_GCJ | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Dependencies to place after the objects being linked to create a
+ # shared library.
+-postdep_objects=$lt_postdep_objects_GCJ
++postdep_objects=\`echo $lt_postdep_objects_GCJ | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Dependencies to place before the objects being linked to create a
+ # shared library.
+@@ -18225,7 +18323,7 @@
+ 
+ # The library search path used internally by the compiler when linking
+ # a shared library.
+-compiler_lib_search_path=$lt_compiler_lib_search_path_GCJ
++compiler_lib_search_path=\`echo $lt_compiler_lib_search_path_GCJ | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Method to check whether dependent libraries are shared objects.
+ deplibs_check_method=$lt_deplibs_check_method
+@@ -18305,7 +18403,7 @@
+ link_all_deplibs=$link_all_deplibs_GCJ
+ 
+ # Compile-time system search path for libraries
+-sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
++sys_lib_search_path_spec=\`echo $lt_sys_lib_search_path_spec | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Run-time system search path for libraries
+ sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+@@ -18557,6 +18655,9 @@
+ # Is the compiler the GNU C compiler?
+ with_gcc=$GCC_RC
+ 
++gcc_dir=\`gcc -print-file-name=. | $SED 's,/\.$,,'\`
++gcc_ver=\`gcc -dumpversion\`
++
+ # An ERE matcher.
+ EGREP=$lt_EGREP
+ 
+@@ -18690,11 +18791,11 @@
+ 
+ # Dependencies to place before the objects being linked to create a
+ # shared library.
+-predep_objects=$lt_predep_objects_RC
++predep_objects=\`echo $lt_predep_objects_RC | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Dependencies to place after the objects being linked to create a
+ # shared library.
+-postdep_objects=$lt_postdep_objects_RC
++postdep_objects=\`echo $lt_postdep_objects_RC | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Dependencies to place before the objects being linked to create a
+ # shared library.
+@@ -18706,7 +18807,7 @@
+ 
+ # The library search path used internally by the compiler when linking
+ # a shared library.
+-compiler_lib_search_path=$lt_compiler_lib_search_path_RC
++compiler_lib_search_path=\`echo $lt_compiler_lib_search_path_RC | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Method to check whether dependent libraries are shared objects.
+ deplibs_check_method=$lt_deplibs_check_method
+@@ -18786,7 +18887,7 @@
+ link_all_deplibs=$link_all_deplibs_RC
+ 
+ # Compile-time system search path for libraries
+-sys_lib_search_path_spec=$lt_sys_lib_search_path_spec
++sys_lib_search_path_spec=\`echo $lt_sys_lib_search_path_spec | \$SED -e &quot;s@\${gcc_dir}@\\\${gcc_dir}@g;s@\${gcc_ver}@\\\${gcc_ver}@g&quot;\`
+ 
+ # Run-time system search path for libraries
+ sys_lib_dlsearch_path_spec=$lt_sys_lib_dlsearch_path_spec
+@@ -19079,28 +19180,28 @@
+     i686-*-*)
+         if test x&quot;$ac_cv_c_compiler_gnu&quot; = &quot;xyes&quot;; then
+           # default to i686/pentiumpro -- people can override this
+-          CXXFLAGS=&quot;-g -march=i686 -ffast-math -fomit-frame-pointer $CXXFLAGS&quot;
++:          CXXFLAGS=&quot;-g -march=i686 -ffast-math -fomit-frame-pointer $CXXFLAGS&quot;
+         fi
+         ;;
+     powerpc-*-*)
+         if test x&quot;$ac_cv_c_compiler_gnu&quot; = &quot;xyes&quot;; then
+             # default to G3 processors -- people can override this
+-            CXXFLAGS=&quot;-g -mcpu=G3 -mtune=G5 -fomit-frame-pointer $CXXFLAGS&quot;
++:            CXXFLAGS=&quot;-g -mcpu=G3 -mtune=G5 -fomit-frame-pointer $CXXFLAGS&quot;
+         fi
+         ;;
+     *-*-*)
+         if test x&quot;$ac_cv_c_compiler_gnu&quot; = &quot;xyes&quot;; then
+-            CXXFLAGS=&quot;-fomit-frame-pointer $CXXFLAGS&quot;
++:            CXXFLAGS=&quot;-fomit-frame-pointer $CXXFLAGS&quot;
+         fi
+         ;;
+     esac
+ 
+     CPPFLAGS=&quot;-DNDEBUG $CPPFLAGS&quot;
+-    CXXFLAGS=&quot;-O3 $CXXFLAGS&quot;
++:    CXXFLAGS=&quot;-O3 $CXXFLAGS&quot;
+ fi
+ 
+ if test x&quot;$ac_cv_c_compiler_gnu&quot; = &quot;xyes&quot;; then
+-    CXXFLAGS=&quot;-Wall -fno-rtti -pipe $CXXFLAGS&quot;
++:    CXXFLAGS=&quot;-Wall -fno-rtti -pipe $CXXFLAGS&quot;
+ fi
+ 
+ # add libm because it is used by several libraries and OpenCV itself
+@@ -25580,6 +25681,7 @@
+ <A HREF="http://lists.repoforge.org/mailman/listinfo/commits">s, at am__fastdepCC_TRUE</A>@,$am__fastdepCC_TRUE,;t t
+ <A HREF="http://lists.repoforge.org/mailman/listinfo/commits">s, at am__fastdepCC_FALSE</A>@,$am__fastdepCC_FALSE,;t t
+ <A HREF="http://lists.repoforge.org/mailman/listinfo/commits">s, at CPP</A>@,$CPP,;t t
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">++s, at SED</A>@,$SED,;t t
+ <A HREF="http://lists.repoforge.org/mailman/listinfo/commits">s, at EGREP</A>@,$EGREP,;t t
+ <A HREF="http://lists.repoforge.org/mailman/listinfo/commits">s, at LN_S</A>@,$LN_S,;t t
+ <A HREF="http://lists.repoforge.org/mailman/listinfo/commits">s, at ECHO</A>@,$ECHO,;t t
+diff -ur opencv-1.0.0.orig/cv/include/Makefile.in opencv-1.0.0/cv/include/Makefile.in
+--- opencv-1.0.0.orig/cv/include/Makefile.in	2006-11-03 16:54:52.000000000 +0100
++++ opencv-1.0.0/cv/include/Makefile.in	2007-03-22 04:08:55.000000000 +0100
+@@ -160,6 +160,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/cv/Makefile.in opencv-1.0.0/cv/Makefile.in
+--- opencv-1.0.0.orig/cv/Makefile.in	2006-11-03 16:54:52.000000000 +0100
++++ opencv-1.0.0/cv/Makefile.in	2007-03-22 04:08:54.000000000 +0100
+@@ -156,6 +156,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/cv/src/Makefile.in opencv-1.0.0/cv/src/Makefile.in
+--- opencv-1.0.0.orig/cv/src/Makefile.in	2006-11-03 16:54:53.000000000 +0100
++++ opencv-1.0.0/cv/src/Makefile.in	2007-03-22 04:08:55.000000000 +0100
+@@ -203,6 +203,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/cvaux/include/Makefile.in opencv-1.0.0/cvaux/include/Makefile.in
+--- opencv-1.0.0.orig/cvaux/include/Makefile.in	2006-11-03 16:54:53.000000000 +0100
++++ opencv-1.0.0/cvaux/include/Makefile.in	2007-03-22 04:08:56.000000000 +0100
+@@ -160,6 +160,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/cvaux/Makefile.in opencv-1.0.0/cvaux/Makefile.in
+--- opencv-1.0.0.orig/cvaux/Makefile.in	2006-11-03 16:54:53.000000000 +0100
++++ opencv-1.0.0/cvaux/Makefile.in	2007-03-22 04:08:55.000000000 +0100
+@@ -156,6 +156,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/cvaux/src/Makefile.in opencv-1.0.0/cvaux/src/Makefile.in
+--- opencv-1.0.0.orig/cvaux/src/Makefile.in	2006-11-03 16:54:53.000000000 +0100
++++ opencv-1.0.0/cvaux/src/Makefile.in	2007-03-22 04:08:57.000000000 +0100
+@@ -209,6 +209,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/cxcore/include/Makefile.in opencv-1.0.0/cxcore/include/Makefile.in
+--- opencv-1.0.0.orig/cxcore/include/Makefile.in	2006-11-03 16:54:54.000000000 +0100
++++ opencv-1.0.0/cxcore/include/Makefile.in	2007-03-22 04:08:57.000000000 +0100
+@@ -160,6 +160,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/cxcore/Makefile.in opencv-1.0.0/cxcore/Makefile.in
+--- opencv-1.0.0.orig/cxcore/Makefile.in	2006-11-03 16:54:53.000000000 +0100
++++ opencv-1.0.0/cxcore/Makefile.in	2007-03-22 04:08:57.000000000 +0100
+@@ -156,6 +156,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/cxcore/src/Makefile.in opencv-1.0.0/cxcore/src/Makefile.in
+--- opencv-1.0.0.orig/cxcore/src/Makefile.in	2006-11-03 16:54:54.000000000 +0100
++++ opencv-1.0.0/cxcore/src/Makefile.in	2007-03-22 04:08:58.000000000 +0100
+@@ -193,6 +193,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/data/Makefile.in opencv-1.0.0/data/Makefile.in
+--- opencv-1.0.0.orig/data/Makefile.in	2006-11-03 16:54:54.000000000 +0100
++++ opencv-1.0.0/data/Makefile.in	2007-03-22 04:08:58.000000000 +0100
+@@ -158,6 +158,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/docs/Makefile.in opencv-1.0.0/docs/Makefile.in
+--- opencv-1.0.0.orig/docs/Makefile.in	2006-11-03 16:54:54.000000000 +0100
++++ opencv-1.0.0/docs/Makefile.in	2007-03-22 04:08:58.000000000 +0100
+@@ -158,6 +158,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/interfaces/Makefile.in opencv-1.0.0/interfaces/Makefile.in
+--- opencv-1.0.0.orig/interfaces/Makefile.in	2006-11-03 16:54:54.000000000 +0100
++++ opencv-1.0.0/interfaces/Makefile.in	2007-03-22 04:08:59.000000000 +0100
+@@ -164,6 +164,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/interfaces/swig/filtered/Makefile.in opencv-1.0.0/interfaces/swig/filtered/Makefile.in
+--- opencv-1.0.0.orig/interfaces/swig/filtered/Makefile.in	2006-11-03 16:54:55.000000000 +0100
++++ opencv-1.0.0/interfaces/swig/filtered/Makefile.in	2007-03-22 04:08:59.000000000 +0100
+@@ -158,6 +158,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/interfaces/swig/general/Makefile.in opencv-1.0.0/interfaces/swig/general/Makefile.in
+--- opencv-1.0.0.orig/interfaces/swig/general/Makefile.in	2006-11-03 16:54:55.000000000 +0100
++++ opencv-1.0.0/interfaces/swig/general/Makefile.in	2007-03-22 04:09:00.000000000 +0100
+@@ -150,6 +150,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/interfaces/swig/Makefile.in opencv-1.0.0/interfaces/swig/Makefile.in
+--- opencv-1.0.0.orig/interfaces/swig/Makefile.in	2006-11-03 16:54:55.000000000 +0100
++++ opencv-1.0.0/interfaces/swig/Makefile.in	2007-03-22 04:08:59.000000000 +0100
+@@ -162,6 +162,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/interfaces/swig/python/Makefile.in opencv-1.0.0/interfaces/swig/python/Makefile.in
+--- opencv-1.0.0.orig/interfaces/swig/python/Makefile.in	2006-11-03 16:54:55.000000000 +0100
++++ opencv-1.0.0/interfaces/swig/python/Makefile.in	2007-03-22 04:09:00.000000000 +0100
+@@ -44,7 +44,7 @@
+ host_triplet = @host@
+ target_triplet = @target@
+ subdir = interfaces/swig/python
+-DIST_COMMON = $(am__pkgpython_PYTHON_DIST) $(noinst_PYTHON) \
++DIST_COMMON = $(am__pkgpyexec_PYTHON_DIST) $(noinst_PYTHON) \
+ 	$(srcdir)/Makefile.am $(srcdir)/Makefile.in
+ ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
+ am__aclocal_m4_deps = $(top_srcdir)/autotools/aclocal/az_python.m4 \
+@@ -63,10 +63,10 @@
+     *) f=$$p;; \
+   esac;
+ am__strip_dir = `echo $$p | sed -e 's|^.*/||'`;
+-am__installdirs = &quot;$(DESTDIR)$(pkgpythondir)&quot; \
+-	&quot;$(DESTDIR)$(pkgpythondir)&quot;
+-pkgpythonLTLIBRARIES_INSTALL = $(INSTALL)
+-LTLIBRARIES = $(pkgpython_LTLIBRARIES)
++am__installdirs = &quot;$(DESTDIR)$(pkgpyexecdir)&quot; \
++	&quot;$(DESTDIR)$(pkgpyexecdir)&quot;
++pkgpyexecLTLIBRARIES_INSTALL = $(INSTALL)
++LTLIBRARIES = $(pkgpyexec_LTLIBRARIES)
+ @<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">BUILD_PYTHON_WRAPPERS_TRUE at _cv_la_DEPENDENCIES</A> =  \
+ @BUILD_PYTHON_WRAPPERS_TRUE@	$(top_builddir)/cv/src/libcv.la
+ am___cv_la_SOURCES_DIST = _cv.cpp error.cpp error.h pyhelpers.cpp \
+@@ -77,7 +77,7 @@
+ @BUILD_PYTHON_WRAPPERS_TRUE@	_cv_la-pyhelpers.lo \
+ @BUILD_PYTHON_WRAPPERS_TRUE@	_cv_la-cvshadow.lo
+ _cv_la_OBJECTS = $(am__cv_la_OBJECTS)
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+- at BUILD_PYTHON_WRAPPERS_TRUE</A>@am__cv_la_rpath = -rpath $(pkgpythondir)
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">++ at BUILD_PYTHON_WRAPPERS_TRUE</A>@am__cv_la_rpath = -rpath $(pkgpyexecdir)
+ @<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">BUILD_PYTHON_WRAPPERS_TRUE at _highgui_la_DEPENDENCIES</A> = $(top_builddir)/otherlibs/highgui/libhighgui.la
+ am___highgui_la_SOURCES_DIST = _highgui.cpp pyhelpers.cpp pyhelpers.h \
+ 	highgui.i
+@@ -86,7 +86,7 @@
+ @BUILD_PYTHON_WRAPPERS_TRUE@	_highgui_la-pyhelpers.lo
+ _highgui_la_OBJECTS = $(am__highgui_la_OBJECTS)
+ @<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">BUILD_PYTHON_WRAPPERS_TRUE at am__highgui_la_rpath</A> = -rpath \
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+- at BUILD_PYTHON_WRAPPERS_TRUE</A>@	$(pkgpythondir)
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">++ at BUILD_PYTHON_WRAPPERS_TRUE</A>@	$(pkgpyexecdir)
+ DEFAULT_INCLUDES = -I. -I$(srcdir) -I$(top_builddir)
+ depcomp = $(SHELL) $(top_srcdir)/autotools/depcomp
+ am__depfiles_maybe = depfiles
+@@ -109,9 +109,9 @@
+ SOURCES = $(_cv_la_SOURCES) $(_highgui_la_SOURCES)
+ DIST_SOURCES = $(am___cv_la_SOURCES_DIST) \
+ 	$(am___highgui_la_SOURCES_DIST)
+-am__pkgpython_PYTHON_DIST = __init__.py cv.py adaptors.py highgui.py \
++am__pkgpyexec_PYTHON_DIST = __init__.py cv.py adaptors.py highgui.py \
+ 	matlab_syntax.py
+-pkgpythonPYTHON_INSTALL = $(INSTALL_DATA)
++pkgpyexecPYTHON_INSTALL = $(INSTALL_DATA)
+ py_compile = $(top_srcdir)/autotools/py-compile
+ ETAGS = etags
+ CTAGS = ctags
+@@ -211,6 +211,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+@@ -324,8 +325,8 @@
+ 
+ 
+ # Conditional targets #######################################################
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+- at BUILD_PYTHON_WRAPPERS_TRUE</A>@pkgpython_LTLIBRARIES = _cv.la _highgui.la
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+- at BUILD_PYTHON_WRAPPERS_TRUE</A>@pkgpython_PYTHON = \
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">++ at BUILD_PYTHON_WRAPPERS_TRUE</A>@pkgpyexec_LTLIBRARIES = _cv.la _highgui.la
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">++ at BUILD_PYTHON_WRAPPERS_TRUE</A>@pkgpyexec_PYTHON = \
+ @BUILD_PYTHON_WRAPPERS_TRUE@  __init__.py    \
+ @BUILD_PYTHON_WRAPPERS_TRUE@  cv.py          \
+ @BUILD_PYTHON_WRAPPERS_TRUE@  adaptors.py    \
+@@ -382,28 +383,28 @@
+ 	cd $(top_builddir) &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) am--refresh
+ $(ACLOCAL_M4):  $(am__aclocal_m4_deps)
+ 	cd $(top_builddir) &amp;&amp; $(MAKE) $(AM_MAKEFLAGS) am--refresh
+-install-pkgpythonLTLIBRARIES: $(pkgpython_LTLIBRARIES)
++install-pkgpyexecLTLIBRARIES: $(pkgpyexec_LTLIBRARIES)
+ 	@$(NORMAL_INSTALL)
+-	test -z &quot;$(pkgpythondir)&quot; || $(mkdir_p) &quot;$(DESTDIR)$(pkgpythondir)&quot;
+-	@list='$(pkgpython_LTLIBRARIES)'; for p in $$list; do \
++	test -z &quot;$(pkgpyexecdir)&quot; || $(mkdir_p) &quot;$(DESTDIR)$(pkgpyexecdir)&quot;
++	@list='$(pkgpyexec_LTLIBRARIES)'; for p in $$list; do \
+ 	  if test -f $$p; then \
+ 	    f=$(am__strip_dir) \
+-	    echo &quot; $(LIBTOOL) --mode=install $(pkgpythonLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(pkgpythondir)/$$f'&quot;; \
+-	    $(LIBTOOL) --mode=install $(pkgpythonLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) &quot;$$p&quot; &quot;$(DESTDIR)$(pkgpythondir)/$$f&quot;; \
++	    echo &quot; $(LIBTOOL) --mode=install $(pkgpyexecLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) '$$p' '$(DESTDIR)$(pkgpyexecdir)/$$f'&quot;; \
++	    $(LIBTOOL) --mode=install $(pkgpyexecLTLIBRARIES_INSTALL) $(INSTALL_STRIP_FLAG) &quot;$$p&quot; &quot;$(DESTDIR)$(pkgpyexecdir)/$$f&quot;; \
+ 	  else :; fi; \
+ 	done
+ 
+-uninstall-pkgpythonLTLIBRARIES:
++uninstall-pkgpyexecLTLIBRARIES:
+ 	@$(NORMAL_UNINSTALL)
+-	@set -x; list='$(pkgpython_LTLIBRARIES)'; for p in $$list; do \
++	@set -x; list='$(pkgpyexec_LTLIBRARIES)'; for p in $$list; do \
+ 	  p=$(am__strip_dir) \
+-	  echo &quot; $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(pkgpythondir)/$$p'&quot;; \
+-	  $(LIBTOOL) --mode=uninstall rm -f &quot;$(DESTDIR)$(pkgpythondir)/$$p&quot;; \
++	  echo &quot; $(LIBTOOL) --mode=uninstall rm -f '$(DESTDIR)$(pkgpyexecdir)/$$p'&quot;; \
++	  $(LIBTOOL) --mode=uninstall rm -f &quot;$(DESTDIR)$(pkgpyexecdir)/$$p&quot;; \
+ 	done
+ 
+-clean-pkgpythonLTLIBRARIES:
+-	-test -z &quot;$(pkgpython_LTLIBRARIES)&quot; || rm -f $(pkgpython_LTLIBRARIES)
+-	@list='$(pkgpython_LTLIBRARIES)'; for p in $$list; do \
++clean-pkgpyexecLTLIBRARIES:
++	-test -z &quot;$(pkgpyexec_LTLIBRARIES)&quot; || rm -f $(pkgpyexec_LTLIBRARIES)
++	@list='$(pkgpyexec_LTLIBRARIES)'; for p in $$list; do \
+ 	  dir=&quot;`echo $$p | sed -e 's|/[^/]*$$||'`&quot;; \
+ 	  test &quot;$$dir&quot; != &quot;$$p&quot; || dir=.; \
+ 	  echo &quot;rm -f \&quot;$${dir}/so_locations\&quot;&quot;; \
+@@ -499,33 +500,33 @@
+ distclean-libtool:
+ 	-rm -f libtool
+ uninstall-info-am:
+-install-pkgpythonPYTHON: $(pkgpython_PYTHON)
++install-pkgpyexecPYTHON: $(pkgpyexec_PYTHON)
+ 	@$(NORMAL_INSTALL)
+-	test -z &quot;$(pkgpythondir)&quot; || $(mkdir_p) &quot;$(DESTDIR)$(pkgpythondir)&quot;
+-	@list='$(pkgpython_PYTHON)'; dlist=''; for p in $$list; do\
++	test -z &quot;$(pkgpyexecdir)&quot; || $(mkdir_p) &quot;$(DESTDIR)$(pkgpyexecdir)&quot;
++	@list='$(pkgpyexec_PYTHON)'; dlist=''; for p in $$list; do\
+ 	  if test -f &quot;$$p&quot;; then b=; else b=&quot;$(srcdir)/&quot;; fi; \
+ 	  if test -f $$b$$p; then \
+ 	    f=$(am__strip_dir) \
+ 	    dlist=&quot;$$dlist $$f&quot;; \
+-	    echo &quot; $(pkgpythonPYTHON_INSTALL) '$$b$$p' '$(DESTDIR)$(pkgpythondir)/$$f'&quot;; \
+-	    $(pkgpythonPYTHON_INSTALL) &quot;$$b$$p&quot; &quot;$(DESTDIR)$(pkgpythondir)/$$f&quot;; \
++	    echo &quot; $(pkgpyexecPYTHON_INSTALL) '$$b$$p' '$(DESTDIR)$(pkgpyexecdir)/$$f'&quot;; \
++	    $(pkgpyexecPYTHON_INSTALL) &quot;$$b$$p&quot; &quot;$(DESTDIR)$(pkgpyexecdir)/$$f&quot;; \
+ 	  else :; fi; \
+ 	done; \
+ 	if test -n &quot;$$dlist&quot;; then \
+ 	  if test -z &quot;$(DESTDIR)&quot;; then \
+-	    PYTHON=$(PYTHON) $(py_compile) --basedir &quot;$(pkgpythondir)&quot; $$dlist; \
++	    PYTHON=$(PYTHON) $(py_compile) --basedir &quot;$(pkgpyexecdir)&quot; $$dlist; \
+ 	  else \
+-	    PYTHON=$(PYTHON) $(py_compile) --destdir &quot;$(DESTDIR)&quot; --basedir &quot;$(pkgpythondir)&quot; $$dlist; \
++	    PYTHON=$(PYTHON) $(py_compile) --destdir &quot;$(DESTDIR)&quot; --basedir &quot;$(pkgpyexecdir)&quot; $$dlist; \
+ 	  fi; \
+ 	else :; fi
+ 
+-uninstall-pkgpythonPYTHON:
++uninstall-pkgpyexecPYTHON:
+ 	@$(NORMAL_UNINSTALL)
+-	@list='$(pkgpython_PYTHON)'; dlist=''; for p in $$list; do\
++	@list='$(pkgpyexec_PYTHON)'; dlist=''; for p in $$list; do\
+ 	  f=$(am__strip_dir) \
+-	  rm -f &quot;$(DESTDIR)$(pkgpythondir)/$$f&quot;; \
+-	  rm -f &quot;$(DESTDIR)$(pkgpythondir)/$${f}c&quot;; \
+-	  rm -f &quot;$(DESTDIR)$(pkgpythondir)/$${f}o&quot;; \
++	  rm -f &quot;$(DESTDIR)$(pkgpyexecdir)/$$f&quot;; \
++	  rm -f &quot;$(DESTDIR)$(pkgpyexecdir)/$${f}c&quot;; \
++	  rm -f &quot;$(DESTDIR)$(pkgpyexecdir)/$${f}o&quot;; \
+ 	done
+ 
+ ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
+@@ -607,7 +608,7 @@
+ check: check-am
+ all-am: Makefile $(LTLIBRARIES)
+ installdirs:
+-	for dir in &quot;$(DESTDIR)$(pkgpythondir)&quot; &quot;$(DESTDIR)$(pkgpythondir)&quot;; do \
++	for dir in &quot;$(DESTDIR)$(pkgpyexecdir)&quot; &quot;$(DESTDIR)$(pkgpyexecdir)&quot;; do \
+ 	  test -z &quot;$$dir&quot; || $(mkdir_p) &quot;$$dir&quot;; \
+ 	done
+ install: install-am
+@@ -636,7 +637,7 @@
+ 	@echo &quot;it deletes files that may require special tools to rebuild.&quot;
+ clean: clean-am
+ 
+-clean-am: clean-generic clean-libtool clean-pkgpythonLTLIBRARIES \
++clean-am: clean-generic clean-libtool clean-pkgpyexecLTLIBRARIES \
+ 	mostlyclean-am
+ 
+ distclean: distclean-am
+@@ -655,9 +656,9 @@
+ 
+ info-am:
+ 
+-install-data-am: install-pkgpythonLTLIBRARIES install-pkgpythonPYTHON
++install-data-am:
+ 
+-install-exec-am:
++install-exec-am: install-pkgpyexecLTLIBRARIES install-pkgpyexecPYTHON
+ 
+ install-info: install-info-am
+ 
+@@ -683,22 +684,22 @@
+ 
+ ps-am:
+ 
+-uninstall-am: uninstall-info-am uninstall-pkgpythonLTLIBRARIES \
+-	uninstall-pkgpythonPYTHON
++uninstall-am: uninstall-info-am uninstall-pkgpyexecLTLIBRARIES \
++	uninstall-pkgpyexecPYTHON
+ 
+ .PHONY: CTAGS GTAGS all all-am check check-am clean clean-generic \
+-	clean-libtool clean-pkgpythonLTLIBRARIES ctags distclean \
++	clean-libtool clean-pkgpyexecLTLIBRARIES ctags distclean \
+ 	distclean-compile distclean-generic distclean-libtool \
+ 	distclean-tags distdir dvi dvi-am html html-am info info-am \
+ 	install install-am install-data install-data-am install-exec \
+ 	install-exec-am install-info install-info-am install-man \
+-	install-pkgpythonLTLIBRARIES install-pkgpythonPYTHON \
++	install-pkgpyexecLTLIBRARIES install-pkgpyexecPYTHON \
+ 	install-strip installcheck installcheck-am installdirs \
+ 	maintainer-clean maintainer-clean-generic mostlyclean \
+ 	mostlyclean-compile mostlyclean-generic mostlyclean-libtool \
+ 	pdf pdf-am ps ps-am tags uninstall uninstall-am \
+-	uninstall-info-am uninstall-pkgpythonLTLIBRARIES \
+-	uninstall-pkgpythonPYTHON
++	uninstall-info-am uninstall-pkgpyexecLTLIBRARIES \
++	uninstall-pkgpyexecPYTHON
+ 
+ 
+ # SWIG #######################################################################
+diff -ur opencv-1.0.0.orig/Makefile.in opencv-1.0.0/Makefile.in
+--- opencv-1.0.0.orig/Makefile.in	2006-11-03 16:54:59.000000000 +0100
++++ opencv-1.0.0/Makefile.in	2007-03-22 04:09:06.000000000 +0100
+@@ -192,6 +192,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/ml/include/Makefile.in opencv-1.0.0/ml/include/Makefile.in
+--- opencv-1.0.0.orig/ml/include/Makefile.in	2006-11-03 16:54:56.000000000 +0100
++++ opencv-1.0.0/ml/include/Makefile.in	2007-03-22 04:09:01.000000000 +0100
+@@ -160,6 +160,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/ml/Makefile.in opencv-1.0.0/ml/Makefile.in
+--- opencv-1.0.0.orig/ml/Makefile.in	2006-11-03 16:54:55.000000000 +0100
++++ opencv-1.0.0/ml/Makefile.in	2007-03-22 04:09:00.000000000 +0100
+@@ -156,6 +156,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/ml/src/Makefile.in opencv-1.0.0/ml/src/Makefile.in
+--- opencv-1.0.0.orig/ml/src/Makefile.in	2006-11-03 16:54:56.000000000 +0100
++++ opencv-1.0.0/ml/src/Makefile.in	2007-03-22 04:09:01.000000000 +0100
+@@ -190,6 +190,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/otherlibs/highgui/Makefile.in opencv-1.0.0/otherlibs/highgui/Makefile.in
+--- opencv-1.0.0.orig/otherlibs/highgui/Makefile.in	2006-11-03 16:54:56.000000000 +0100
++++ opencv-1.0.0/otherlibs/highgui/Makefile.in	2007-03-22 04:09:02.000000000 +0100
+@@ -212,6 +212,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/otherlibs/Makefile.in opencv-1.0.0/otherlibs/Makefile.in
+--- opencv-1.0.0.orig/otherlibs/Makefile.in	2006-11-03 16:54:56.000000000 +0100
++++ opencv-1.0.0/otherlibs/Makefile.in	2007-03-22 04:09:02.000000000 +0100
+@@ -156,6 +156,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/samples/c/Makefile.in opencv-1.0.0/samples/c/Makefile.in
+--- opencv-1.0.0.orig/samples/c/Makefile.in	2006-11-03 16:54:57.000000000 +0100
++++ opencv-1.0.0/samples/c/Makefile.in	2007-03-22 04:09:03.000000000 +0100
+@@ -158,6 +158,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/samples/Makefile.in opencv-1.0.0/samples/Makefile.in
+--- opencv-1.0.0.orig/samples/Makefile.in	2006-11-03 16:54:56.000000000 +0100
++++ opencv-1.0.0/samples/Makefile.in	2007-03-22 04:09:02.000000000 +0100
+@@ -156,6 +156,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/samples/python/Makefile.in opencv-1.0.0/samples/python/Makefile.in
+--- opencv-1.0.0.orig/samples/python/Makefile.in	2006-11-03 16:54:57.000000000 +0100
++++ opencv-1.0.0/samples/python/Makefile.in	2007-03-22 04:09:03.000000000 +0100
+@@ -152,6 +152,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/tests/cv/Makefile.in opencv-1.0.0/tests/cv/Makefile.in
+--- opencv-1.0.0.orig/tests/cv/Makefile.in	2006-11-03 16:54:57.000000000 +0100
++++ opencv-1.0.0/tests/cv/Makefile.in	2007-03-22 04:09:04.000000000 +0100
+@@ -156,6 +156,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/tests/cv/src/Makefile.in opencv-1.0.0/tests/cv/src/Makefile.in
+--- opencv-1.0.0.orig/tests/cv/src/Makefile.in	2006-11-03 16:54:57.000000000 +0100
++++ opencv-1.0.0/tests/cv/src/Makefile.in	2007-03-22 04:09:04.000000000 +0100
+@@ -188,6 +188,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/tests/cxcore/Makefile.in opencv-1.0.0/tests/cxcore/Makefile.in
+--- opencv-1.0.0.orig/tests/cxcore/Makefile.in	2006-11-03 16:54:58.000000000 +0100
++++ opencv-1.0.0/tests/cxcore/Makefile.in	2007-03-22 04:09:04.000000000 +0100
+@@ -156,6 +156,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/tests/cxcore/src/Makefile.in opencv-1.0.0/tests/cxcore/src/Makefile.in
+--- opencv-1.0.0.orig/tests/cxcore/src/Makefile.in	2006-11-03 16:54:58.000000000 +0100
++++ opencv-1.0.0/tests/cxcore/src/Makefile.in	2007-03-22 04:09:05.000000000 +0100
+@@ -174,6 +174,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/tests/cxts/Makefile.in opencv-1.0.0/tests/cxts/Makefile.in
+--- opencv-1.0.0.orig/tests/cxts/Makefile.in	2006-11-03 16:54:58.000000000 +0100
++++ opencv-1.0.0/tests/cxts/Makefile.in	2007-03-22 04:09:05.000000000 +0100
+@@ -171,6 +171,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/tests/Makefile.in opencv-1.0.0/tests/Makefile.in
+--- opencv-1.0.0.orig/tests/Makefile.in	2006-11-03 16:54:57.000000000 +0100
++++ opencv-1.0.0/tests/Makefile.in	2007-03-22 04:09:03.000000000 +0100
+@@ -156,6 +156,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/tests/python/Makefile.in opencv-1.0.0/tests/python/Makefile.in
+--- opencv-1.0.0.orig/tests/python/Makefile.in	2006-11-03 16:54:58.000000000 +0100
++++ opencv-1.0.0/tests/python/Makefile.in	2007-03-22 04:09:05.000000000 +0100
+@@ -152,6 +152,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@
+diff -ur opencv-1.0.0.orig/utils/Makefile.in opencv-1.0.0/utils/Makefile.in
+--- opencv-1.0.0.orig/utils/Makefile.in	2006-11-03 16:54:58.000000000 +0100
++++ opencv-1.0.0/utils/Makefile.in	2007-03-22 04:09:06.000000000 +0100
+@@ -151,6 +151,7 @@
+ QUICKTIME_CFLAGS = @QUICKTIME_CFLAGS@
+ QUICKTIME_LIBS = @QUICKTIME_LIBS@
+ RANLIB = @RANLIB@
++SED = @SED@
+ SET_MAKE = @SET_MAKE@
+ SHELL = @SHELL@
+ STRIP = @STRIP@

Added: branches/rpms/brian/opencv/opencv-1.0.0-configure.in.diff
===================================================================
--- branches/rpms/brian/opencv/opencv-1.0.0-configure.in.diff	                        (rev 0)
+++ branches/rpms/brian/opencv/opencv-1.0.0-configure.in.diff	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,36 @@
+--- opencv-1.0.0.orig/configure.in	2006-11-03 16:54:33.000000000 +0100
++++ opencv-1.0.0/configure.in	2006-12-11 11:43:06.000000000 +0100
+@@ -202,28 +202,28 @@
+     i686-*-*)
+         if test x&quot;$ac_cv_c_compiler_gnu&quot; = &quot;xyes&quot;; then
+           # default to i686/pentiumpro -- people can override this
+-          CXXFLAGS=&quot;-g -march=i686 -ffast-math -fomit-frame-pointer $CXXFLAGS&quot;
++:          CXXFLAGS=&quot;-g -march=i686 -ffast-math -fomit-frame-pointer $CXXFLAGS&quot;
+         fi
+         ;;
+     powerpc-*-*)
+         if test x&quot;$ac_cv_c_compiler_gnu&quot; = &quot;xyes&quot;; then
+             # default to G3 processors -- people can override this
+-            CXXFLAGS=&quot;-g -mcpu=G3 -mtune=G5 -fomit-frame-pointer $CXXFLAGS&quot;
++:            CXXFLAGS=&quot;-g -mcpu=G3 -mtune=G5 -fomit-frame-pointer $CXXFLAGS&quot;
+         fi
+         ;;
+     *-*-*)
+         if test x&quot;$ac_cv_c_compiler_gnu&quot; = &quot;xyes&quot;; then
+-            CXXFLAGS=&quot;-fomit-frame-pointer $CXXFLAGS&quot;
++:            CXXFLAGS=&quot;-fomit-frame-pointer $CXXFLAGS&quot;
+         fi
+         ;;
+     esac
+     
+     CPPFLAGS=&quot;-DNDEBUG $CPPFLAGS&quot;
+-    CXXFLAGS=&quot;-O3 $CXXFLAGS&quot;
++:    CXXFLAGS=&quot;-O3 $CXXFLAGS&quot;
+ fi
+ 
+ if test x&quot;$ac_cv_c_compiler_gnu&quot; = &quot;xyes&quot;; then
+-    CXXFLAGS=&quot;-Wall -fno-rtti -pipe $CXXFLAGS&quot;
++:    CXXFLAGS=&quot;-Wall -fno-rtti -pipe $CXXFLAGS&quot;
+ fi
+ 
+ # add libm because it is used by several libraries and OpenCV itself 

Added: branches/rpms/brian/opencv/opencv-1.0.0-pythondir.diff
===================================================================
--- branches/rpms/brian/opencv/opencv-1.0.0-pythondir.diff	                        (rev 0)
+++ branches/rpms/brian/opencv/opencv-1.0.0-pythondir.diff	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,14 @@
+--- opencv-1.0.0.orig/interfaces/swig/python/Makefile.am	2006-08-10 15:29:20.000000000 +0200
++++ opencv-1.0.0/interfaces/swig/python/Makefile.am	2007-03-22 04:04:45.000000000 +0100
+@@ -92,9 +92,9 @@
+ 
+ if BUILD_PYTHON_WRAPPERS
+ 
+-pkgpython_LTLIBRARIES = _cv.la _highgui.la
++pkgpyexec_LTLIBRARIES = _cv.la _highgui.la
+ 
+-pkgpython_PYTHON = \
++pkgpyexec_PYTHON = \
+   __init__.py    \
+   cv.py          \
+   adaptors.py    \

Added: branches/rpms/brian/opencv/opencv-samples-Makefile
===================================================================
--- branches/rpms/brian/opencv/opencv-samples-Makefile	                        (rev 0)
+++ branches/rpms/brian/opencv/opencv-samples-Makefile	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,4 @@
+CFLAGS := `pkg-config --cflags opencv` $(CFLAGS)
+LDFLAGS := `pkg-config --libs opencv` $(LDFLAGS)
+
+all: $(patsubst %.c,%,$(wildcard *.c))

Added: branches/rpms/brian/opencv/opencv.spec
===================================================================
--- branches/rpms/brian/opencv/opencv.spec	                        (rev 0)
+++ branches/rpms/brian/opencv/opencv.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,214 @@
+%define with_ffmpeg 0
+
+%define pythondir %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib()')
+%define pyexecdir %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
+
+Name:           opencv
+Version:        1.0.0
+Release:        3%{?dist}
+Summary:        Collection of algorithms for computer vision
+
+Group:          Development/Libraries
+License:        Intel Open Source License
+URL:            <A HREF="http://www.intel.com/technology/computing/opencv/index.htm">http://www.intel.com/technology/computing/opencv/index.htm</A>
+Source0:        <A HREF="http://prdownloads.sourceforge.net/opencvlibrary/opencv-%{version">http://prdownloads.sourceforge.net/opencvlibrary/opencv-%{version</A>}.tar.gz
+Source1:        opencv-samples-Makefile
+Patch0:         opencv-1.0.0-pythondir.diff
+Patch1:		opencv-1.0.0-configure.in.diff
+Patch2:         opencv-1.0.0-autotools.diff
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  gtk2-devel, libpng-devel, libjpeg-devel, libtiff-devel
+BuildRequires:  swig &gt;= 1.3.24, zlib-devel, pkgconfig
+BuildRequires:  python-devel
+%if %{with_ffmpeg}
+BuildRequires:  ffmpeg-devel &gt;= 0.4.9
+%endif
+
+%description
+OpenCV means Intel&#194;&#174; Open Source Computer Vision Library. It is a collection of
+C functions and a few C++ classes that implement some popular Image Processing
+and Computer Vision algorithms.
+
+
+%package devel
+Summary:        Development files for using the OpenCV library
+Group:          Development/Libraries
+Requires:       opencv = %{version}-%{release}
+Requires:	pkgconfig
+
+%description devel
+This package contains the OpenCV C/C++ library and header files, as well as
+documentation. It should be installed if you want to develop programs that
+will use the OpenCV library.
+
+
+%package python
+Summary:        Python bindings for apps which use OpenCV
+Group:          Development/Libraries
+Requires:       opencv = %{version}-%{release}
+
+%description python
+This package contains Python bindings for the OpenCV library.
+
+
+%prep
+%setup -q
+%patch0 -p1
+%patch1 -p1
+%patch2 -p1
+%{__sed} -i 's/\r//' interfaces/swig/python/*.py \
+                     samples/python/*.py
+%{__sed} -i 's/^#!.*//' interfaces/swig/python/adaptors.py \
+                        interfaces/swig/python/__init__.py
+# Adjust timestamp on cvconfig.h.in
+touch -r configure.in cvconfig.h.in
+
+%build
+%configure --disable-static --enable-python --enable-apps
+make %{?_smp_mflags}
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+make install DESTDIR=$RPM_BUILD_ROOT
+rm -f $RPM_BUILD_ROOT%{_libdir}/*.la \
+      $RPM_BUILD_ROOT%{pyexecdir}/opencv/*.la \
+      $RPM_BUILD_ROOT%{_datadir}/opencv/samples/c/build_all.sh \
+      $RPM_BUILD_ROOT%{_datadir}/opencv/samples/c/cvsample.dsp \
+      $RPM_BUILD_ROOT%{_datadir}/opencv/samples/c/cvsample.vcproj \
+      $RPM_BUILD_ROOT%{_datadir}/opencv/samples/c/facedetect.cmd \
+      $RPM_BUILD_ROOT%{_datadir}/opencv/samples/c/makefile.gcc \
+      $RPM_BUILD_ROOT%{_datadir}/opencv/samples/c/makefile.gen
+install -m644 %{SOURCE1} $RPM_BUILD_ROOT%{_datadir}/opencv/samples/c/GNUmakefile
+
+
+%check
+make check
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
+
+
+%post python -p /sbin/ldconfig
+%postun python -p /sbin/ldconfig
+
+
+%files
+%defattr(-,root,root,-)
+%doc AUTHORS ChangeLog COPYING THANKS TODO
+%{_bindir}/opencv-*
+%{_libdir}/lib*.so.*
+%dir %{_datadir}/opencv
+%{_datadir}/opencv/haarcascades
+%{_datadir}/opencv/readme.txt
+
+
+%files devel
+%defattr(-,root,root,-)
+%{_includedir}/opencv
+%{_libdir}/lib*.so
+%{_libdir}/lib*.a
+%{_libdir}/pkgconfig/opencv.pc
+%doc %{_datadir}/opencv/doc
+%doc %dir %{_datadir}/opencv/samples
+%doc %{_datadir}/opencv/samples/c
+
+
+%files python
+%{pyexecdir}/opencv
+%doc %dir %{_datadir}/opencv/samples
+%doc %{_datadir}/opencv/samples/python
+
+
+%changelog
+* Thu Mar 22 2007 Ralf Cors&#195;&#169;pius &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rc040203 at freenet.de</A>&gt; - 1.0.0-3
+- Fix %%{_datadir}/opencv/samples ownership.
+- Adjust timestamp of cvconfig.h.in to avoid re-running autoheader.
+
+* Thu Mar 22 2007 Ralf Cors&#195;&#169;pius &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rc040203 at freenet.de</A>&gt; - 1.0.0-2
+- Move all of the python module to pyexecdir (BZ 233128).
+- Activate the testsuite.
+
+* Mon Dec 11 2006 Ralf Cors&#195;&#169;pius &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rc040203 at freenet.de</A>&gt; - 1.0.0-1
+- Upstream update.
+
+* Mon Dec 11 2006 Ralf Cors&#195;&#169;pius &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rc040203 at freenet.de</A>&gt; - 0.9.9-4
+- Remove python-abi.
+
+* Thu Oct 05 2006 Christian Iseli &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">Christian.Iseli at licr.org</A>&gt; 0.9.9-3
+- rebuilt for unwind info generation, broken in gcc-4.1.1-21
+
+* Thu Sep 21 2006 Ralf Cors&#195;&#169;pius &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rc040203 at freenet.de</A>&gt; - 0.9.9-2
+- Stop configure.in from hacking CXXFLAGS.
+- Activate testsuite.
+- Let *-devel require pkgconfig.
+
+* Thu Sep 21 2006 Ralf Cors&#195;&#169;pius &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rc040203 at freenet.de</A>&gt; - 0.9.9-1
+- Upstream update.
+- Don't BR: autotools.
+- Install samples' Makefile as GNUmakefile.
+
+* Thu Sep 21 2006 Ralf Cors&#195;&#169;pius &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rc040203 at freenet.de</A>&gt; - 0.9.7-18
+- Un'%%ghost *.pyo.
+- Separate %%{pythondir} from %%{pyexecdir}.
+
+* Thu Sep 21 2006 Ralf Cors&#195;&#169;pius &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rc040203 at freenet.de</A>&gt; - 0.9.7-17
+- Rebuild for FC6.
+- BR: libtool.
+
+* Fri Mar 17 2006 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-16
+- Rebuild.
+
+* Wed Mar  8 2006 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-15
+- Force a re-run of Autotools by calling autoreconf.
+
+* Wed Mar  8 2006 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-14
+- Added build dependency on Autotools.
+
+* Tue Mar  7 2006 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-13
+- Changed intrinsics patch so that it matches upstream.
+
+* Tue Mar  7 2006 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-12
+- More intrinsics patch fixing.
+
+* Tue Mar  7 2006 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-11
+- Don't do &quot;make check&quot; because it doesn't run any tests anyway.
+- Back to main intrinsics patch.
+
+* Tue Mar  7 2006 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-10
+- Using simple intrinsincs patch.
+
+* Tue Mar  7 2006 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-9
+- Still more fixing of intrinsics patch for Python bindings on x86_64.
+
+* Tue Mar  7 2006 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-8
+- Again fixed intrinsics patch so that Python modules build on x86_64.
+
+* Tue Mar  7 2006 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-7
+- Fixed intrinsics patch so that it works.
+
+* Tue Mar  7 2006 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-6
+- Fixed Python bindings location on x86_64.
+
+* Mon Mar  6 2006 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-5
+- SSE2 support on x86_64.
+
+* Mon Mar  6 2006 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-4
+- Rebuild
+
+* Sun Oct 16 2005 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-3
+- Removed useless sample compilation makefiles/project files and replaced them
+  with one that works on Fedora Core.
+- Removed shellbang from Python modules.
+
+* Mon Oct 10 2005 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-2
+- Made FFMPEG dependency optional (needs to be disabled for inclusion in FE).
+
+* Mon Oct 10 2005 Simon Perreault &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nomis80 at nomis80.org</A>&gt; - 0.9.7-1
+- Initial package.

Added: branches/rpms/brian/player/player-2.spec
===================================================================
--- branches/rpms/brian/player/player-2.spec	                        (rev 0)
+++ branches/rpms/brian/player/player-2.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,124 @@
+%define pythonver %(%{__python} -c 'import sys; print sys.version[:3]' || echo 2.4)
+%define pythondir %(%{__python} -c 'import sys; print [x for x in sys.path if x[-13:] == &quot;site-packages&quot;][0]')
+
+Summary: robotics protocols
+Name: player
+Version: 2.1.0rc2
+Release: 2.bs%{?dist}
+License: GPL
+Group: Development/Libraries
+URL: <A HREF="http://playerstage.sf.net/">http://playerstage.sf.net/</A>
+Packager: Brian Schueler
+Obsoletes: player &lt; %{version}
+Provides: player = %{version}-%{release}
+Source0: %{name}-%{version}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+BuildRequires: libtool-ltdl-devel gsl opencv
+
+%description
+Player robot protocols
+
+%prep
+%setup -q 
+
+%build
+#ln -b -s /usr/lib/libltdl.so.3 /usr/lib/libltdl.so
+mkdir -p /usr/X11R6/lib/X11
+./bootstrap || echo no bootstrap... continuing
+%configure 
+
+%install
+[ &quot;%{buildroot}&quot; != &quot;/&quot; ] &amp;&amp; rm -rf %{buildroot}
+mkdir -p %{buildroot}
+LIBDIR=&quot;`echo %{buildroot}%{_libdir} | sed \&quot;s/\\\//\\\\\\\\\//g\&quot;`&quot;
+DESTLIBDIR=&quot;`echo %{_libdir} | sed \&quot;s/\\\//\\\\\\\\\//g\&quot;`&quot;
+%makeinstall
+mv %{buildroot}%{_includedir}/player-2.1/* %{buildroot}%{_includedir}
+rm -fr %{buildroot}%{_includedir}/player-2.1
+TMPFILE=%{buildroot}/tmp-`basename $0`-$$
+pushd %{buildroot}%{_libdir}
+ls *.la | while read MYFILE; do
+  cp $MYFILE $TMPFILE
+  echo processing: $MYFILE
+  cat $TMPFILE | sed &quot;s/${LIBDIR}/${DESTLIBDIR}/g&quot; &gt; $MYFILE
+done
+popd
+rm ${TMPFILE}
+mkdir -p %{buildroot}/usr/X11R6/lib/X11
+ln -b -s /usr/share/X11/rgb.txt %{buildroot}/usr/X11R6/lib/X11/rgb.txt
+
+# make prefix=%{buildroot}/usr install
+# DESTDIR=%{buildroot}
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+%files
+%defattr(-,root,root)
+%{_libdir}/libplayercore.so
+%{_libdir}/libplayercore.so.2*
+%{_libdir}/libplayerc.so
+%{_libdir}/libplayerc++.so
+%{_libdir}/libplayerc.so.2*
+%{_libdir}/libplayerc++.so.2*
+%{_libdir}/libplayerdrivers.so
+%{_libdir}/libplayerdrivers.so.2*
+%{_libdir}/libplayererror.so
+%{_libdir}/libplayererror.so.2*
+%{_libdir}/libplayerjpeg.so
+%{_libdir}/libplayerjpeg.so.2*
+%{_libdir}/libplayertcp.so
+%{_libdir}/libplayertcp.so.2*
+%{_libdir}/libplayerxdr.so
+%{_libdir}/libplayerxdr.so.2*
+%{_libdir}/python%{pythonver}/site-packages/playerc.py
+%{_libdir}/python%{pythonver}/site-packages/playerc.pyc
+%{_libdir}/python%{pythonver}/site-packages/playerc.pyo
+%{_libdir}/python%{pythonver}/site-packages/_playerc.so
+%{_includedir}/
+%{_datadir}/player/
+%{_libdir}
+%{_libdir}/libplayerc.a
+%{_libdir}/libplayerc++.a
+%{_libdir}/libplayerc.la
+%{_libdir}/libplayerc++.la
+%{_libdir}/libplayercore.a
+%{_libdir}/libplayercore.la
+%{_libdir}/libplayerdrivers.a
+%{_libdir}/libplayerdrivers.la
+%{_libdir}/libplayererror.a
+%{_libdir}/libplayererror.la
+%{_libdir}/libplayerjpeg.a
+%{_libdir}/libplayerjpeg.la
+%{_libdir}/libplayertcp.a
+%{_libdir}/libplayertcp.la
+%{_libdir}/libplayerxdr.a
+%{_libdir}/libplayerxdr.la
+%{_libdir}/pkgconfig/playercore.pc
+%{_libdir}/pkgconfig/playerc.pc
+%{_libdir}/pkgconfig/playerc++.pc
+%{_libdir}/pkgconfig/playerdrivers.pc
+%{_libdir}/pkgconfig/playererror.pc
+%{_libdir}/pkgconfig/playertcp.pc
+%{_libdir}/pkgconfig/playerxdr.pc
+%{_bindir}
+%{_bindir}/player
+%{_bindir}/playercam
+%{_bindir}/playerjoy
+%{_bindir}/playernav
+%{_bindir}/playerprint
+%{_bindir}/playerv
+%{_bindir}/playervcr
+%{_bindir}/playerwritemap
+%{_bindir}/playerxdrgen.py
+%{_bindir}/playerxdrgen.pyc
+%{_bindir}/playerxdrgen.pyo
+/usr/X11R6/lib/X11/rgb.txt
+
+%changelog
+* Tue May 13 2008 Brian Schueler &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">brian.schueler at gmx.de</A>&gt; - 2.1.0rc2.2
+- Libdir/Plugin fixes
+
+* Mon May 15 2006 Douglas S. Blank &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dblank at brynmawr.edu</A>&gt; - 2-1
+- Initial build.
+

Added: branches/rpms/brian/pybluez/pybluez.spec
===================================================================
--- branches/rpms/brian/pybluez/pybluez.spec	                        (rev 0)
+++ branches/rpms/brian/pybluez/pybluez.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,54 @@
+%{!?python_sitearch: %define python_sitearch %(%{__python} -c &quot;from distutils.sysconfig import get_python_lib; print get_python_lib(1)&quot;)}
+
+Name:           pybluez
+Version:        0.9.1
+Release:        3%{?dist}
+Summary:        Python API for the BlueZ bluetooth stack 
+
+Group:          Development/Languages
+License:        GPL
+URL:            <A HREF="http://org.csail.mit.edu/pybluez">http://org.csail.mit.edu/pybluez</A>
+Source0:        <A HREF="http://org.csail.mit.edu/pybluez/release/pybluez-src-0.9.1.tar.gz">http://org.csail.mit.edu/pybluez/release/pybluez-src-0.9.1.tar.gz</A>    
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+                   
+BuildRequires:      python-devel bluez-libs-devel
+                   
+%description
+PyBluez is an effort to create python wrappers around system Bluetooth
+resources to allow Python developers to easily and quickly create Bluetooth
+applications.
+
+%prep
+%setup -q
+
+
+%build
+CFLAGS=&quot;$RPM_OPT_FLAGS&quot; %{__python} setup.py build
+doc/gendoc
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+# This file shouldn't be executable - it's going into %doc
+chmod a-x examples/bluezchat/bluezchat.py
+%{__python} setup.py install -O1 --skip-build --root $RPM_BUILD_ROOT
+
+ 
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc doc/*.html README CHANGELOG COPYING examples
+%{python_sitearch}/*
+
+%changelog
+* Fri Dec 29 2006 - Will Woods &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">wwoods at redhat.com</A>&gt; - 0.9.1-3
+- Clean up spec file some more after further comments in bug #218678
+
+* Fri Dec 15 2006 - Will Woods &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">wwoods at redhat.com</A>&gt; - 0.9.1-2
+- Clean up spec file according to comments in bug #218678
+
+* Wed Dec 6 2006 - Will Woods &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">wwoods at redhat.com</A>&gt; - 0.9.1-1
+- Initial packaging attempt.

Added: branches/rpms/brian/python-json/python-json.spec
===================================================================
--- branches/rpms/brian/python-json/python-json.spec	                        (rev 0)
+++ branches/rpms/brian/python-json/python-json.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,54 @@
+%{!?python_sitelib: %define python_sitelib %(%{__python} -c &quot;from distutils.sysconfig import get_python_lib; print get_python_lib()&quot;)}
+%{!?python_sitearch: %define python_sitearch %(%{__python} -c &quot;from distutils.sysconfig import get_python_lib; print get_python_lib(1)&quot;)}
+%{!?pydir: %define pydir %(%{__python} -c &quot;from distutils.sysconfig import get_config_vars; print get_config_vars()['LIBDEST']&quot;)}
+
+Name:           python-json
+Version:        3.4
+%define version_munge %(sed 's/\\./_/g' &lt;&lt;&lt; %{version})
+Release:        3%{?dist}
+Summary:        A JSON reader and writer for Python
+
+Group:          Development/Languages
+License:        LGPL
+URL:            <A HREF="https://sourceforge.net/projects/json-py/">https://sourceforge.net/projects/json-py/</A>
+Source0:        <A HREF="http://dl.sourceforge.net/json-py/json-py-%{version_munge">http://dl.sourceforge.net/json-py/json-py-%{version_munge</A>}.zip
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildArch:      noarch
+BuildRequires:  python-devel
+
+%description
+json.py is an implementation of a JSON (<A HREF="http://json.org">http://json.org</A>) reader and writer in
+Python.
+
+%prep
+%setup -q -c
+chmod a-x *
+
+%build
+
+%install
+rm -rf $RPM_BUILD_ROOT
+mkdir -p $RPM_BUILD_ROOT%{python_sitelib}
+install -p -m 0644 json.py minjson.py $RPM_BUILD_ROOT%{python_sitelib}
+%{__python} %{pydir}/compileall.py $RPM_BUILD_ROOT%{python_sitelib}
+%{__python} -O %{pydir}/compileall.py $RPM_BUILD_ROOT%{python_sitelib}
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+%files
+%defattr(-,root,root,-)
+%doc changes.txt jsontest.py license.txt readme.txt
+%{python_sitelib}/*.py
+%{python_sitelib}/*.py[co]
+
+%changelog
+* Sat Dec  9 2006 Luke Macken &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">lmacken at redhat.com</A>&gt; 3.4-3
+- Rebuild for python 2.5
+
+* Fri Sep  8 2006 Luke Macken &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">lmacken at redhat.com</A>&gt; 3.4-2
+- Rebuild for FC6
+
+* Fri Dec 30 2005 Ignacio Vazquez-Abrams &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">ivazquez at ivazquez.net</A>&gt; 3.4-1
+- Initial RPM release

Added: branches/rpms/brian/stage/stage-2.spec
===================================================================
--- branches/rpms/brian/stage/stage-2.spec	                        (rev 0)
+++ branches/rpms/brian/stage/stage-2.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,69 @@
+%define pythonver %(%{__python} -c 'import sys; print sys.version[:3]' || echo 2.4)
+%define pythondir %(%{__python} -c 'import sys; print [x for x in sys.path if x[-13:] == &quot;site-packages&quot;][0]')
+
+Summary: 2d robotics simulator
+Name: stage
+Version: 2.1.0rc2
+Release: 2.bs%{?dist}
+License: GPL
+Group: Development/Libraries
+URL: <A HREF="http://playerstage.sf.net/">http://playerstage.sf.net/</A>
+Packager: Brian Schueler
+Obsoletes: stage &lt; %{version}
+Provides: stage = %{version}-%{release}
+Requires: player
+Source0: %{name}-%{version}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+%description
+Stage robot simulator
+
+%prep
+%setup -q 
+./bootstrap || echo no boostrap... continuing
+
+%build
+%configure
+
+%install
+rm -rf $RPM_BUILD_ROOT
+[ &quot;%{buildroot}&quot; != &quot;/&quot; ] &amp;&amp; rm -rf %{buildroot}
+mkdir -p %{buildroot}
+LIBDIR=&quot;`echo %{buildroot}%{_libdir} | sed \&quot;s/\\\//\\\\\\\\\//g\&quot;`&quot;
+DESTLIBDIR=&quot;`echo %{_libdir} | sed \&quot;s/\\\//\\\\\\\\\//g\&quot;`&quot;
+%makeinstall
+mv %{buildroot}%{_includedir}/stage-2.1/* %{buildroot}%{_includedir}
+rm -fr %{buildroot}%{_includedir}/stage-2.1
+TMPFILE=%{buildroot}/tmp-`basename $0`-$$
+pushd %{buildroot}%{_libdir}
+ls *.la | while read MYFILE; do
+  cp $MYFILE $TMPFILE
+  cat $TMPFILE | sed &quot;s/${LIBDIR}/${DESTLIBDIR}/g&quot; &gt; $MYFILE
+done
+popd
+rm ${TMPFILE}
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+%files
+%defattr(-,root,root,-)
+%{_bindir}/audio
+%{_bindir}/ptest
+%{_bindir}/stest
+%{_includedir}/stage.h
+%{_libdir}/libstage.a
+%{_libdir}/libstage.la
+%{_libdir}/libstage.so
+%{_libdir}/libstage.so.2*
+%{_libdir}/libstageplugin.a
+%{_libdir}/libstageplugin.la
+%{_libdir}/libstageplugin.so
+%{_libdir}/libstageplugin.so.1*
+%{_libdir}/pkgconfig/stage.pc
+%{_datadir}/stage/worlds/
+
+%changelog
+* Tue May 13 2008 Brian Schueler &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">brian.schueler at gmx.de</A>&gt; - 2.1.0rc2.2
+- Libdir/Plugin fixes
+

Added: branches/rpms/brian/thinkfinger/README.thinkfinger
===================================================================
--- branches/rpms/brian/thinkfinger/README.thinkfinger	                        (rev 0)
+++ branches/rpms/brian/thinkfinger/README.thinkfinger	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,41 @@
+ThinkFinger 0.3 : Fedora specific notes.
+===============================================================================
+
+OK this README is meant for users using the Fedora distribution.
+The installation is almost the same, there are just some bits I wanted
+you to take into consideration.
+
+Installation Instructions
+=========================
+
+Please check the INSTALL and INSTALL.fedora files.
+
+General Fedora specific notes
+=============================
+
+- Where are the user bir files ?
+
+  These are located in /etc/security/pam_thinkfinger
+  In the default installs these are in /etc/pam_thinkfinger
+
+- There are some other differences we still need to clarify here.
+
+Example of a Fedora setup
+=========================
+
+'/etc/pam.d/system-auth'
+#%PAM-1.0
+# This file is auto-generated.
+# User changes will be destroyed the next time authconfig is run.
+auth        required      pam_env.so
+auth        sufficient    pam_thinkfinger.so debug
+auth        sufficient    pam_unix.so nullok try_first_pass
+auth        requisite     pam_succeed_if.so uid &gt;= 500 quiet
+auth        required      pam_deny.so
+
+[...]
+
+Any questions?
+==============
+
+Please e-mail me at : Jose Plans &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jplans at redhat.com</A>&gt;

Added: branches/rpms/brian/thinkfinger/thinkfinger-0.3-birdir.patch
===================================================================
--- branches/rpms/brian/thinkfinger/thinkfinger-0.3-birdir.patch	                        (rev 0)
+++ branches/rpms/brian/thinkfinger/thinkfinger-0.3-birdir.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,40 @@
+--- thinkfinger-0.3/docs/tf-tool.1.fedora	2007-04-25 15:36:23.000000000 +0100
++++ thinkfinger-0.3/docs/tf-tool.1	2007-04-25 15:37:55.000000000 +0100
+@@ -34,15 +34,15 @@ swiped.
+ .TP
+ .BI \--add-user\ &quot;login&quot;
+ Acquire a fingerprint for the user identified by login.  If this user
+-or the bir folder \fI/etc/pam_thinkfinger\fP do not exist, \fBtf-tool\fP
++or the bir folder \fI/etc/security/pam_thinkfinger\fP do not exist, \fBtf-tool\fP
+ exits with an error.  If the acquiring process is successful, the fingerprint
+-is stored in the bir folder as \fI/etc/pam_thinkfinger/login.bir\fP.
++is stored in the bir folder as \fI/etc/security/pam_thinkfinger/login.bir\fP.
+ This option is available only when ThinkFinger has been compiled with
+ PAM support.
+ .TP
+ .BI \--verify-user\ &quot;login&quot;
+ Verify a fingerprint for the user identified by login.  If this user
+-or the bir folder \fI/etc/pam_thinkfinger\fP do not exist, \fBtf-tool\fP exits
++or the bir folder \fI/etc/security/am_thinkfinger\fP do not exist, \fBtf-tool\fP exits
+ with an error.
+ This option is available only when ThinkFinger has been compiled with
+ PAM support.
+@@ -53,7 +53,7 @@ Add more output messages.
+ .SH FILES
+ .PD 0
+ .TP
+-.I /etc/pam_thinkfinger
++.I /etc/security/pam_thinkfinger
+ The default folder where the fingerprint for login users are stored
+ .TP
+ .I /tmp/tmp.bir
+@@ -73,6 +73,9 @@ ThinkFinger was written by Timo Hoenig &lt;
+ Machek &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pavel at suse.cz</A>&gt; and is licensed under the terms of the GNU
+ General Public License (GPL).
+ 
++.SH ADDITIONS
++Fedora changes by Jose Plans &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jplans at redhat.com</A>&gt;
++
+ This manual page was written by Luca Capello &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">luca at pca.it</A>&gt;.
+ Permission is granted to copy, distribute and/or modify this document
+ under the terms of the GNU General Public License (GPL).

Added: branches/rpms/brian/thinkfinger/thinkfinger.spec
===================================================================
--- branches/rpms/brian/thinkfinger/thinkfinger.spec	                        (rev 0)
+++ branches/rpms/brian/thinkfinger/thinkfinger.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,134 @@
+Name:           thinkfinger
+Version:        0.3
+Release:        2%{?dist}
+Summary:        A driver for the UPEK/SGS Thomson Microelectronics fingerprint reader
+Group:          System Environment/Base
+License:        GPL
+URL:            <A HREF="http://thinkfinger.sourceforge.net">http://thinkfinger.sourceforge.net</A>
+Source0:        <A HREF="http://downloads.sourceforge.net/%{name">http://downloads.sourceforge.net/%{name</A>}/%{name}-%{version}.tar.gz
+Source1:        README.thinkfinger
+Patch0:         thinkfinger-0.3-birdir.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+BuildRequires:  libusb-devel &gt;= 0.1.11
+BuildRequires:  pam-devel
+BuildRequires:  doxygen
+
+%description
+ThinkFinger is a driver for the UPEK/SGS Thomson Microelectronics fingerprint
+reader (USB ID 0483:2016). The device is being found either as a standalone USB
+device, built into USB keyboards or built into laptops.  The following laptop
+vendors are using the device:
+
+- Dell
+- IBM/Lenovo
+- Toshiba
+
+Toshiba is shipping their laptops either with the UPEK/SGS Thomson
+Microelectronics fingerprint reader or with a fingerprint reader built by
+AuthenTec. The AuthenTec fingerprint reader is *not* supported by ThinkFinger.
+
+SONY laptops with the UPEK/SGS Thomson Microelectronics fingerprint reader are
+not supported.
+
+%package        devel
+Summary:        Development package for %{name}
+Group:          Development/Libraries
+Requires:       %{name} = %{version}-%{release}
+Requires:       libusb-devel
+Requires:       pkgconfig
+
+%description    devel
+ThinkFinger is a driver for the UPEK/SGS Thomson Microelectronics fingerprint
+reader (USB ID 0483:2016). The device is being found either as a standalone USB
+device, built into USB keyboards or built into laptops.  The following laptop
+vendors are using the device:
+
+- Dell
+- IBM/Lenovo
+- Toshiba
+
+Toshiba is shipping their laptops either with the UPEK/SGS Thomson
+Microelectronics fingerprint reader or with a fingerprint reader built by
+AuthenTec. The AuthenTec fingerprint reader is *not* supported by ThinkFinger.
+
+SONY laptops with the UPEK/SGS Thomson Microelectronics fingerprint reader are
+not supported. This package contains development files for %{name}.
+
+%prep
+%setup -q
+#%patch0 -p1 -b .securitydir
+%{__install} -pm 644 %{SOURCE1} README.Fedora
+
+
+%build
+%configure --disable-static\
+           --with-securedir=/%{_lib}/security
+sed -i 's|^hardcode_libdir_flag_spec=.*|hardcode_libdir_flag_spec=&quot;&quot;|g' libtool
+sed -i 's|^runpath_var=LD_RUN_PATH|runpath_var=DIE_RPATH_DIE|g' libtool
+make %{?_smp_mflags}
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+make install DESTDIR=$RPM_BUILD_ROOT
+
+#kill libtool archives
+rm -f $RPM_BUILD_ROOT%{_libdir}/libthinkfinger.la
+
+#create folder where fingerprints will be stored
+%{__mkdir} -p $RPM_BUILD_ROOT%{_sysconfdir}/pam_thinkfinger
+
+#load uinput module automatically
+mkdir -p $RPM_BUILD_ROOT/etc/sysconfig/modules
+cat &gt;$RPM_BUILD_ROOT/etc/sysconfig/modules/thinkfinger.modules &lt;&lt;EOF
+#!/bin/sh
+modprobe uinput &gt;/dev/null 2&gt;&amp;1
+EOF
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+%post -p /sbin/ldconfig
+
+%postun -p /sbin/ldconfig
+
+%files
+%defattr(-,root,root,-)
+%doc AUTHORS ChangeLog COPYING INSTALL NEWS README README.Fedora
+%{_libdir}/libthinkfinger.so.*
+/%{_lib}/security/pam_thinkfinger.so
+%{_sbindir}/tf-tool
+%{_mandir}/man1/tf-tool.1.gz
+%{_mandir}/man8/pam_thinkfinger.8.gz
+%{_sysconfdir}/pam_thinkfinger
+%config %attr(0755,root,root)/etc/sysconfig/modules/thinkfinger.modules 
+
+%files devel
+%defattr(-,root,root,-)
+%doc docs/autodocs/html/*
+%{_includedir}/libthinkfinger.h
+%{_libdir}/libthinkfinger.so
+%{_libdir}/pkgconfig/libthinkfinger.pc
+
+
+
+%changelog
+* Fri May 18 2007 Julian Sikorski &lt;belegdol[at]gmail[dot]com&gt; - 0.3-2
+- Merged Jose Plans' changes (RH #237817)
+
+* Fri Apr 13 2007 Julian Sikorski &lt;belegdol[at]gmail[dot]com&gt; - 0.3-1
+- Updated to 0.3
+- Added uinput loading snippet
+
+* Tue Feb 20 2007 Julian Sikorski &lt;belegdol[at]gmail[dot]com&gt; - 0.2.2-4
+- Fixed Source0 URL
+
+* Mon Feb 19 2007 Julian Sikorski &lt;belegdol[at]gmail[dot]com&gt; - 0.2.2-3
+- Added libusb-devel to -devel subpackage Requires
+
+* Mon Feb 19 2007 Julian Sikorski &lt;belegdol[at]gmail[dot]com&gt; - 0.2.2-2
+- Fixed stripping problem properly
+
+* Mon Feb 19 2007 Julian Sikorski &lt;belegdol[at]gmail[dot]com&gt; - 0.2.2-1
+- Initial RPM release

Added: branches/rpms/brian/tsrpm/cygwin.tshint
===================================================================
--- branches/rpms/brian/tsrpm/cygwin.tshint	                        (rev 0)
+++ branches/rpms/brian/tsrpm/cygwin.tshint	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,6 @@
+if ispgm perpackage; then
+    editspec \
+	's/\.so/\.dll/g' \
+	'isfiles &quot;devel&quot; and s!\%{_libdir}/(lib\S*\.dll)!\%{_libdir}/$1.a!' \
+	'zap /ln -s.*\.dll/'
+fi

Added: branches/rpms/brian/tsrpm/tsrpm.spec
===================================================================
--- branches/rpms/brian/tsrpm/tsrpm.spec	                        (rev 0)
+++ branches/rpms/brian/tsrpm/tsrpm.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,47 @@
+# --- TSRPM HINT: /here/prefetch/tsrpm/etc/cygwin.tshint
+# Copyright (C) 2004, 2005, 2006 TimeSys, Inc.
+#
+# This file is part of tsrpm.
+#
+# This software is a copyrighted work licensed under the terms of the
+# GNU General Public License.  See <A HREF="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</A>
+# for details.
+#
+Summary: A RPM front-end for building cross packages from standard source rpms.
+Name: tsrpm
+Version: 1.31
+Release: 1
+License: GPL
+Group: System
+Source: %{name}-%{version}.tar.bz2
+Source50: cygwin.tshint
+Buildroot: %{_tmppath}/%{name}-root
+Prefix: %{_prefix}
+Requires: rpm &gt;= 4.1
+
+%description
+tsrpm is used to manipulate source and binary RPMs for a cross-build
+environment.  It controls the extraction of source rpms for manipulation,
+the building of packages from source rpms or spec files, the installation of
+packages in a separate target root filesystem, and the extraction of library
+and header files to a cross compiler environment.
+
+%prep
+
+%setup -q
+
+%build
+%{__make} files= rpm_files=
+
+%install
+rm -rf $RPM_BUILD_ROOT
+%makeinstall files= rpm_files= man1dir=$RPM_BUILD_ROOT/usr/share/man/man1 man5dir=$RPM_BUILD_ROOT/usr/share/man/man5
+
+%files
+%defattr(-,root,root, 0755)
+%dir %{_prefix}/lib
+%{_prefix}/lib/tsrpm
+%{_prefix}/bin
+%dir /usr/share/man/man1
+%dir /usr/share/man/man5
+/usr/share/man/man*/*

Added: branches/rpms/brian/vdr/channelscan-vdr.patch
===================================================================
--- branches/rpms/brian/vdr/channelscan-vdr.patch	                        (rev 0)
+++ branches/rpms/brian/vdr/channelscan-vdr.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,43 @@
+diff -Nu vdr-1.4.5/device.c vdr-1.4.5-channelscan/device.c
+--- vdr-1.4.5/device.c	2006-09-03 12:13:25.000000000 +0200
++++ vdr-1.4.5-channelscan/device.c	2007-03-13 14:58:43.000000000 +0100
+@@ -19,6 +19,11 @@
+ #include &quot;status.h&quot;
+ #include &quot;transfer.h&quot;
+ 
++
++// reel-channelscan
++bool scanning_on_receiving_device = false; 
++
++               
+ // --- cPesAssembler ---------------------------------------------------------
+ 
+ class cPesAssembler {
+diff -Nu vdr-1.4.5/device.h vdr-1.4.5-channelscan/device.h
+--- vdr-1.4.5/device.h	2006-06-15 11:32:48.000000000 +0200
++++ vdr-1.4.5-channelscan/device.h	2007-03-13 14:58:43.000000000 +0100
+@@ -33,6 +33,9 @@
+ #define TS_SYNC_BYTE     0x47
+ #define PID_MASK_HI      0x1F
+ 
++
++extern bool scanning_on_receiving_device;
++
+ enum eSetChannelResult { scrOk, scrNotAvailable, scrNoTransfer, scrFailed };
+ 
+ enum ePlayMode { pmNone,           // audio/video from decoder
+Gemeinsame Unterverzeichnisse: vdr-1.4.5/libsi und vdr-1.4.5-channelscan/libsi.
+Gemeinsame Unterverzeichnisse: vdr-1.4.5/PLUGINS und vdr-1.4.5-channelscan/PLUGINS.
+Gemeinsame Unterverzeichnisse: vdr-1.4.5/symbols und vdr-1.4.5-channelscan/symbols.
+diff -Nu vdr-1.4.5/vdr.c vdr-1.4.5-channelscan/vdr.c
+--- vdr-1.4.5/vdr.c	2006-12-02 17:22:12.000000000 +0100
++++ vdr-1.4.5-channelscan/vdr.c	2007-03-13 14:58:43.000000000 +0100
+@@ -685,7 +685,7 @@
+         // Make sure we have a visible programme in case device usage has changed:
+         if (!EITScanner.Active() &amp;&amp; cDevice::PrimaryDevice()-&gt;HasDecoder() &amp;&amp; !cDevice::PrimaryDevice()-&gt;HasProgramme()) {
+            static time_t lastTime = 0;
+-           if (time(NULL) - lastTime &gt; MINCHANNELWAIT) {
++           if (!scanning_on_receiving_device &amp;&amp; time(NULL) - lastTime &gt; MINCHANNELWAIT) {
+               cChannel *Channel = Channels.GetByNumber(cDevice::CurrentChannel());
+               if (Channel &amp;&amp; (Channel-&gt;Vpid() || Channel-&gt;Apid(0))) {
+                  if (!Channels.SwitchTo(cDevice::CurrentChannel()) // try to switch to the original channel...

Added: branches/rpms/brian/vdr/vdr-1.4.1-dumpable.patch
===================================================================
--- branches/rpms/brian/vdr/vdr-1.4.1-dumpable.patch	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-1.4.1-dumpable.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,14 @@
+--- vdr-1.4.1/vdr.c~	2006-06-04 12:04:47.000000000 +0300
++++ vdr-1.4.1/vdr.c	2006-07-16 18:15:11.000000000 +0300
+@@ -102,9 +102,9 @@
+         fprintf(stderr, &quot;vdr: cannot set user id %u: %s\n&quot;, (unsigned int)user-&gt;pw_uid, strerror(errno));
+         return false;
+         }
+-     if (prctl(PR_SET_DUMPABLE, 2, 0, 0, 0) &lt; 0) {
++     if (prctl(PR_SET_DUMPABLE, 1, 0, 0, 0) &lt; 0) {
+         fprintf(stderr, &quot;vdr: warning - cannot set dumpable: %s\n&quot;, strerror(errno));
+-        // always non-fatal, and will not work with kernel &lt; 2.6.13
++        // non-fatal
+         }
+      }
+   return true;

Added: branches/rpms/brian/vdr/vdr-1.4.1-paths.patch
===================================================================
--- branches/rpms/brian/vdr/vdr-1.4.1-paths.patch	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-1.4.1-paths.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,97 @@
+--- vdr-1.4.1/epg2html.pl.orig	2006-04-17 15:19:08.000000000 +0300
++++ vdr-1.4.1/epg2html.pl	2006-07-01 13:30:16.000000000 +0300
+@@ -2,12 +2,12 @@
+ 
+ # A simple EPG to HTML converter
+ #
+-# Converts the EPG data written by 'vdr' into the file /video/epg.data
++# Converts the EPG data written by 'vdr' into the file __CACHEDIR__/epg.data
+ # into a simple HTML programme listing, consisting of one file per channel
+ # plus an 'index.htm' file. All output files are written into the current
+ # directory.
+ #
+-# Usage: epg2html.pl &lt; /video/epg.data
++# Usage: epg2html.pl &lt; __CACHEDIR__/epg.data
+ #
+ # See the main source file 'vdr.c' for copyright information and
+ # how to reach the author.
+--- vdr-1.4.1/PLUGINS/src/sky/README.orig	2004-02-15 14:39:19.000000000 +0200
++++ vdr-1.4.1/PLUGINS/src/sky/README	2006-07-01 13:32:17.000000000 +0300
+@@ -33,7 +33,7 @@
+ data for each channel can be found (see below). Copy this file to your
+ plugins config directory, in a subdirectory named 'sky', as in
+ 
+-/video/plugins/sky/channels.conf.sky
++__CONFIGDIR__/plugins/sky/channels.conf.sky
+ 
+ The Sky EPG is available on the Internet at <A HREF="http://www.bleb.org.">http://www.bleb.org.</A>
+ The Perl script getskyepg.pl extracts the EPG data from these pages
+--- vdr-1.4.1/vdr.c.orig	2006-06-04 12:04:47.000000000 +0300
++++ vdr-1.4.1/vdr.c	2006-07-01 13:30:16.000000000 +0300
+@@ -379,7 +379,7 @@
+                &quot;                           there may be several -D options (default: all DVB\n&quot;
+                &quot;                           devices will be used)\n&quot;
+                &quot;  -E FILE,  --epgfile=FILE write the EPG data into the given FILE (default is\n&quot;
+-               &quot;                           '%s' in the video directory)\n&quot;
++               &quot;                           __CACHEDIR__/%s)\n&quot;
+                &quot;                           '-E-' disables this\n&quot;
+                &quot;                           if FILE is a directory, the default EPG file will be\n&quot;
+                &quot;                           created in that directory\n&quot;
+@@ -549,7 +549,7 @@
+         EpgDataFileName = DEFAULTEPGDATAFILENAME;
+         }
+      else if (*EpgDataFileName != '/' &amp;&amp; *EpgDataFileName != '.')
+-        EpgDirectory = VideoDirectory;
++        EpgDirectory = &quot;__CACHEDIR__&quot;;
+      if (EpgDirectory)
+         cSchedules::SetEpgDataFileName(AddDirectory(EpgDirectory, EpgDataFileName));
+      else
+--- vdr-1.4.1/newplugin.orig	2006-04-24 20:18:41.000000000 +0300
++++ vdr-1.4.1/newplugin	2006-07-01 13:30:16.000000000 +0300
+@@ -24,7 +24,7 @@
+ $PLUGIN_DESCRIPTION = &quot;Enter description for '$PLUGIN_NAME' plugin&quot;;
+ $PLUGIN_MAINENTRY = $PLUGIN_CLASS;
+ 
+-$PLUGINS_SRC = &quot;PLUGINS/src&quot;;
++$PLUGINS_SRC = &quot;.&quot;;
+ 
+ $README = qq
+ {This is a &quot;plugin&quot; for the Video Disk Recorder (VDR).
+--- vdr-1.4.1/vdr.1.orig	2006-04-30 11:55:12.000000000 +0300
++++ vdr-1.4.1/vdr.1	2006-07-01 13:30:16.000000000 +0300
+@@ -45,7 +45,7 @@
+ .TP
+ .BI \-c\  dir ,\ \-\-config= dir
+ Read config files from directory \fIdir\fR
+-(default is to read them from the video directory).
++(default is to read them from __CONFIGDIR__).
+ .TP
+ .B \-d, \-\-daemon
+ Run in daemon mode (implies \-\-no\-kbd).
+@@ -56,7 +56,7 @@
+ .TP
+ .BI \-E\  file ,\ \-\-epgfile= file
+ Write the EPG data into the given \fIfile\fR
+-(default is \fI/video/epg.data\fR).
++(default is \fI__CACHEDIR__/epg.data\fR).
+ Use \fB\-E\-\fR to disable this.
+ If \fIfile\fR is a directory, the file \fIepg.data\fR
+ will be created in that directory.
+@@ -80,7 +80,7 @@
+ LOG_USER, add '.n' to LEVEL, as in 3.7 (n=0..7).
+ .TP
+ .BI \-L\  dir ,\ \-\-lib= dir
+-Search for plugins in directory \fIdir\fR (default is ./PLUGINS/lib).
++Search for plugins in directory \fIdir\fR (default is __PLUGINDIR__).
+ There can be several \fB\-L\fR options with different \fIdir\fR values.
+ Each of them will apply to the \fB\-P\fR options following it.
+ .TP
+@@ -139,7 +139,7 @@
+ .TP
+ .BI \-v\  dir ,\ \-\-video= dir
+ Use \fIdir\fR as video directory.
+-The default is \fI/video\fR.
++The default is \fI__VIDEODIR__\fR.
+ .TP
+ .B \-V, \-\-version
+ Print version information and exit.

Added: branches/rpms/brian/vdr/vdr-1.4.5-1.diff
===================================================================
--- branches/rpms/brian/vdr/vdr-1.4.5-1.diff	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-1.4.5-1.diff	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,459 @@
+diff -ruN vdr-1.4.5/CONTRIBUTORS vdr-1.4.5-1/CONTRIBUTORS
+--- vdr-1.4.5/CONTRIBUTORS	2007-01-04 14:38:40.000000000 +0100
++++ vdr-1.4.5-1/CONTRIBUTORS	2007-01-26 15:14:33.000000000 +0100
+@@ -1014,7 +1014,7 @@
+  for reporting a bug in handling a channels.conf that contains a &quot;:@nnn&quot; line as
+  its last entry
+ 
+-Hermann Gausterer &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mrq1 at gmx.net</A>&gt;
++Hermann Gausterer &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">vdr at mrq1.org</A>&gt;
+  for suggesting to switch to the recording channel in case the current channel
+  becomes unavailable
+ 
+@@ -1114,6 +1114,8 @@
+  for changing the behaviour when hitting the end of a recording in fast forward mode
+  for suggesting to give the cRemote::CallPlugin() function a boolean return value
+  for fixing a possible crash in remux.c on 64-bit machines
++ for making cCommand::Execute() use cPipe instead of popen() to avoid problems
++ with open file handles when starting background commands
+ 
+ Richard Robson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">richard_robson at beeb.net</A>&gt;
+  for reporting freezing replay if a timer starts while in Transfer Mode from the
+@@ -1720,6 +1722,7 @@
+  for reporting a bug in the initial setting of the time transponder setup parameter
+  for suggesting to extend the version number reported with the '-V' option to also
+  show the current APIVERSION
++ for fixing i18n characters for the Hungarian texts
+ 
+ David Woodhouse &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dwmw2 at infradead.org</A>&gt;
+  for his help in replacing the get/put_unaligned() macros from asm/unaligned.h with
+diff -ruN vdr-1.4.5/HISTORY vdr-1.4.5-1/HISTORY
+--- vdr-1.4.5/HISTORY	2007-01-07 14:47:19.000000000 +0100
++++ vdr-1.4.5-1/HISTORY	2007-01-28 10:58:12.000000000 +0100
+@@ -5028,3 +5028,10 @@
+ 2007-01-07: Version 1.4.5
+ 
+ - Official release.
++
++2007-01-28: Version 1.4.5-1
++
++- Fixed i18n characters for the Hungarian texts (thanks to Thomas G&#252;nther).
++- Now using cPipe instead of popen() in cCommand::Execute() to avoid problems
++  with open file handles when starting background commands (thanks to Reinhard
++  Nissl).
+diff -ruN vdr-1.4.5/config.c vdr-1.4.5-1/config.c
+--- vdr-1.4.5/config.c	2006-07-22 13:57:51.000000000 +0200
++++ vdr-1.4.5-1/config.c	2007-01-26 14:32:19.000000000 +0100
+@@ -4,7 +4,7 @@
+  * See the main source file 'vdr.c' for copyright information and
+  * how to reach the author.
+  *
+- * $Id: config.c 1.146 2006/07/22 11:57:51 kls Exp $
++ * $Id: config.c 1.147 2007/01/26 13:32:19 kls Exp $
+  */
+ 
+ #include &quot;config.h&quot;
+@@ -67,8 +67,8 @@
+      asprintf(&amp;cmdbuf, &quot;%s %s&quot;, command, Parameters);
+   const char *cmd = cmdbuf ? cmdbuf : command;
+   dsyslog(&quot;executing command '%s'&quot;, cmd);
+-  FILE *p = popen(cmd, &quot;r&quot;);
+-  if (p) {
++  cPipe p;
++  if (p.Open(cmd, &quot;r&quot;)) {
+      int l = 0;
+      int c;
+      while ((c = fgetc(p)) != EOF) {
+@@ -78,7 +78,7 @@
+            }
+      if (result)
+         result[l] = 0;
+-     pclose(p);
++     p.Close();
+      }
+   else
+      esyslog(&quot;ERROR: can't open pipe for command '%s'&quot;, cmd);
+diff -ruN vdr-1.4.5/config.h vdr-1.4.5-1/config.h
+--- vdr-1.4.5/config.h	2007-01-07 14:45:19.000000000 +0100
++++ vdr-1.4.5-1/config.h	2007-01-26 14:14:47.000000000 +0100
+@@ -4,7 +4,7 @@
+  * See the main source file 'vdr.c' for copyright information and
+  * how to reach the author.
+  *
+- * $Id: config.h 1.282 2007/01/07 13:45:19 kls Exp $
++ * $Id: config.h 1.282.1.1 2007/01/26 13:14:47 kls Exp $
+  */
+ 
+ #ifndef __CONFIG_H
+@@ -21,7 +21,7 @@
+ 
+ // VDR's own version number:
+ 
+-#define VDRVERSION  &quot;1.4.5&quot;
++#define VDRVERSION  &quot;1.4.5-1&quot;
+ #define VDRVERSNUM   10405  // Version * 10000 + Major * 100 + Minor
+ 
+ // The plugin API's version number:
+diff -ruN vdr-1.4.5/i18n.c vdr-1.4.5-1/i18n.c
+--- vdr-1.4.5/i18n.c	2006-10-14 11:26:41.000000000 +0200
++++ vdr-1.4.5-1/i18n.c	2007-01-26 14:10:33.000000000 +0100
+@@ -4,7 +4,7 @@
+  * See the main source file 'vdr.c' for copyright information and
+  * how to reach the author.
+  *
+- * $Id: i18n.c 1.285 2006/10/14 09:26:41 kls Exp $
++ * $Id: i18n.c 1.285.1.1 2007/01/26 13:10:33 kls Exp $
+  *
+  * Translations provided by:
+  *
+@@ -119,7 +119,7 @@
+     &quot;iso8859-7&quot;,
+     &quot;iso8859-1&quot;,
+     &quot;iso8859-2&quot;,
+-    &quot;iso8859-1&quot;,
++    &quot;iso8859-2&quot;,
+     &quot;iso8859-1&quot;,
+     &quot;iso8859-5&quot;,
+     &quot;iso8859-2&quot;,
+@@ -231,7 +231,7 @@
+     &quot;&#215;&#241;&#239;&#237;&#239;&#240;&#241;&#239;&#227;&#241;&#225;&#236;&#236;&#225;&#244;&#233;&#243;&#236;&#239;&#223;&quot;,
+     &quot;Timers&quot;,
+     &quot;Timer-e&quot;,
+-    &quot;Id&#246;z&#237;t&#246;&quot;,
++    &quot;Id&#245;z&#237;t&#245;&quot;,
+     &quot;Temporitzadors&quot;,
+     &quot;&#194;&#208;&#217;&#220;&#213;&#224;&#235;&quot;,
+     &quot;Termini&quot;,
+@@ -385,7 +385,7 @@
+     &quot;&#212;&#241;&#239;&#240;&#239;&#240;&#239;&#223;&#231;&#243;&#231; &#247;&#241;&#239;&#237;&#239;&#240;&#241;&#239;&#227;&#241;&#225;&#236;&#236;&#225;&#244;&#233;&#243;&#236;&#239;&#253;&quot;,
+     &quot;&#196;ndra timer&quot;,
+     &quot;Modificare timer&quot;,
+-    &quot;Id&#246;z&#237;t&#246; megv&#225;ltoztat&#225;sa&quot;,
++    &quot;Id&#245;z&#237;t&#245; megv&#225;ltoztat&#225;sa&quot;,
+     &quot;Editar temporitzador&quot;,
+     &quot;&#195;&#225;&#226;&#208;&#221;&#222;&#210;&#218;&#208; &#226;&#208;&#217;&#220;&#213;&#224;&#208;&quot;,
+     &quot;Ure&#240;ivanje termina&quot;,
+@@ -694,7 +694,7 @@
+     &quot;&quot;,// TODO
+     &quot;Timer&quot;,
+     &quot;Timer&quot;,
+-    &quot;Id&#246;z&#237;t&#246;&quot;,
++    &quot;Id&#245;z&#237;t&#245;&quot;,
+     &quot;&quot;,// TODO
+     &quot;&#194;&#208;&#217;&#220;&#213;&#224;&quot;,
+     &quot;&quot;,// TODO
+@@ -936,7 +936,7 @@
+     &quot;&#197;&#240;&#252;&#236;&#229;&#237;&#239;&quot;,
+     &quot;N&#228;sta&quot;,
+     &quot;Urm&#227;tor&quot;,
+-    &quot;K&#246;vetkez&#246;&quot;,
++    &quot;K&#246;vetkez&#245;&quot;,
+     &quot;Seg&#252;ent&quot;,
+     &quot;&#180;&#208;&#219;&#213;&#213;&quot;,
+     &quot;Slijedi&quot;,
+@@ -1157,7 +1157,7 @@
+     &quot;&#196;&#233;&#225;&#227;&#241;&#225;&#246;&#222; &#247;&#241;&#239;&#237;&#239;&#240;&#241;&#239;&#227;&#241;&#225;&#236;&#236;&#225;&#244;&#233;&#243;&#236;&#239;&#253;;?&quot;,
+     &quot;Ta bort timern?&quot;,
+     &quot;&#170;terg timer-ul?&quot;,
+-    &quot;Id&#246;z&#237;t&#246; t&#246;rl&#233;se?&quot;,
++    &quot;Id&#245;z&#237;t&#245; t&#246;rl&#233;se?&quot;,
+     &quot;Esborrar el temporitzador?&quot;,
+     &quot;&#195;&#212;&#208;&#219;&#216;&#226;&#236; &#226;&#208;&#217;&#220;&#213;&#224;?&quot;,
+     &quot;Obrisati termin?&quot;,
+@@ -1377,7 +1377,7 @@
+     &quot;&#193;&#237;&#225;&#236;&#221;&#237;&#229;&#244;&#225;&#233; &#229;&#227;&#227;&#241;&#225;&#246;&#222; &#243;&#221; %ld &#235;&#229;&#240;&#244;&#220; - &#212;&#229;&#235;&#233;&#234;&#220; &#237;&#225; &#244;&#229;&#241;&#236;&#225;&#244;&#233;&#243;&#244;&#229;&#223;?&quot;,
+     &quot;Inspelning startar om %ld minuter, vill du avsluta?&quot;,
+     &quot;&#206;nregistrez peste %ld minute - &#238;nchid, totu&#186;i?&quot;,
+-    &quot;Felv&#233;tel %ld perc mulva kezd&#246;dik - m&#233;gis kikapcsolni?&quot;,
++    &quot;Felv&#233;tel %ld perc mulva kezd&#245;dik - m&#233;gis kikapcsolni?&quot;,
+     &quot;Hi ha una gravaci&#243; en %ld minuts - Apagar de totes maneres?&quot;,
+     &quot;&#199;&#213;&#224;&#213;&#215; %ld &#220;&#216;&#221;&#227;&#226; &#221;&#208;&#231;&#221;&#241;&#226;&#225;&#239; &#215;&#208;&#223;&#216;&#225;&#236; - &#212;&#213;&#217;&#225;&#226;&#210;&#216;&#226;&#213;&#219;&#236;&#221;&#222; &#210;&#235;&#218;&#219;&#238;&#231;&#216;&#226;&#236;?&quot;,
+     &quot;Snimanje za %ld minuta - svejedno isklju&#232;iti?&quot;,
+@@ -2149,7 +2149,7 @@
+     &quot;&#208;&#241;&#254;&#244;&#231; &#236;&#221;&#241;&#225;&quot;,
+     &quot;F&#246;rsta dag&quot;,
+     &quot;Prima zi&quot;,
+-    &quot;Els&#246; nap&quot;,
++    &quot;Els&#245; nap&quot;,
+     &quot;Primer dia&quot;,
+     &quot;&#191;&#213;&#224;&#210;&#235;&#217; &#212;&#213;&#221;&#236;&quot;,
+     &quot;Prvi dan&quot;,
+@@ -2172,7 +2172,7 @@
+     &quot;&#212;&#239; &#234;&#225;&#237;&#220;&#235;&#231; &#247;&#241;&#233;&#243;&#233;&#236;&#239;&#240;&#239;&#233;&#229;&#223;&#244;&#225;&#233; &#225;&#240;&#252; &#247;&#241;&#239;&#237;&#239;&#240;&#241;&#239;&#227;&#241;&#225;&#236;&#236;&#225;&#244;&#233;&#243;&#236;&#252;!&quot;,
+     &quot;Kanalen anv&#228;nds av en timer!&quot;,
+     &quot;Canalul este utilizat de un timer!&quot;,
+-    &quot;Az ad&#243;t az id&#246;z&#237;t&#246; haszn&#225;lja!&quot;,
++    &quot;Az ad&#243;t az id&#245;z&#237;t&#245; haszn&#225;lja!&quot;,
+     &quot;Canal en &#250;s per un temporitzador!&quot;,
+     &quot;&#186;&#208;&#221;&#208;&#219; &#215;&#208;&#221;&#239;&#226; &#226;&#208;&#217;&#220;&#213;&#224;&#222;&#220;!&quot;,
+     &quot;Program je trenutno zauzet terminom za snimanje&quot;,
+@@ -2304,7 +2304,7 @@
+     &quot;&quot;,//TODO
+     &quot;strax VPS inspelning...&quot;,
+     &quot;Urmeaz&#227; o &#238;nregistrare VPS!&quot;,
+-    &quot;VPS-felv&#233;tel r&#246;gt&#246;n kezd&#246;dik!&quot;,
++    &quot;VPS-felv&#233;tel r&#246;gt&#246;n kezd&#245;dik!&quot;,
+     &quot;&quot;,//TODO
+     &quot;VPS-&#183;&#208;&#223;&#216;&#225;&#236; &#225;&#218;&#222;&#224;&#222; &#221;&#208;&#231;&#221;&#213;&#226;&#225;&#239;&quot;,
+     &quot;&quot;,//TODO
+@@ -2348,7 +2348,7 @@
+     &quot;&#212;&#239; &#234;&#225;&#237;&#220;&#235;&#231; &#228;&#221;&#237; &#229;&#223;&#237;&#225;&#233; &#228;&#233;&#225;&#232;&#221;&#243;&#233;&#236;&#239;!&quot;,
+     &quot;Kanalen &#228;r inte tillg&#228;nglig!&quot;,
+     &quot;Canal indisponibil&quot;,
+-    &quot;Az ad&#243; nem el&#233;rhet&#246;&quot;,
++    &quot;Az ad&#243; nem el&#233;rhet&#245;&quot;,
+     &quot;Canal no disponible!&quot;,
+     &quot;&#186;&#208;&#221;&#208;&#219; &#221;&#213;&#212;&#222;&#225;&#226;&#227;&#223;&#213;&#221;!&quot;,
+     &quot;Program nije dostupan!&quot;,
+@@ -2370,7 +2370,7 @@
+     &quot;&#207;&#233; &#241;&#233;&#232;&#236;&#253;&#243;&#229;&#233;&#242; &#244;&#239;&#237; &#234;&#225;&#237;&#225;&#235;&#233;&#254;&#237; &#225;&#235;&#235;&#245;&#235;&#239;&#243;&#245;&#236;&#240;&#223;&#240;&#244;&#239;&#245;&#237;!&quot;,
+     &quot;Kanalinst&#228;llningarna &#228;r ej unika!&quot;,
+     &quot;Parametrii canalului nu sunt univoci!&quot;,
+-    &quot;Az ad&#243;be&#225;ll&#237;t&#225;sok nem egy&#233;rtelm&#252;ek&quot;,
++    &quot;Az ad&#243;be&#225;ll&#237;t&#225;sok nem egy&#233;rtelm&#251;ek&quot;,
+     &quot;Propietats del canal duplicades!&quot;,
+     &quot;&#189;&#208;&#225;&#226;&#224;&#222;&#217;&#218;&#216; &#218;&#208;&#221;&#208;&#219;&#208; &#221;&#213; &#227;&#221;&#216;&#218;&#208;&#219;&#236;&#221;&#235;!&quot;,
+     &quot;Parametri programa nisu jednozna&#232;ni!&quot;,
+@@ -2524,7 +2524,7 @@
+     &quot;&quot;,//TODO
+     &quot;Otillr&#228;cklingt diskutrymme f&#246;r inspelning!&quot;,
+     &quot;Insuficient spa&#254;iul pe disc pentru &#238;nregistrare!&quot;,
+-    &quot;Nincs elegend&#246; hely a felv&#233;telre&quot;,
++    &quot;Nincs elegend&#245; hely a felv&#233;telre&quot;,
+     &quot;&quot;,//TODO
+     &quot;&#189;&#213;&#212;&#222;&#225;&#226;&#208;&#226;&#222;&#231;&#221;&#222; &#220;&#213;&#225;&#226;&#208; &#221;&#208; &#212;&#216;&#225;&#218;&#213; &#212;&#219;&#239; &#221;&#208;&#231;&#208;&#219;&#208; &#215;&#208;&#223;&#216;&#225;&#216;&quot;,
+     &quot;&quot;,//TODO
+@@ -3120,7 +3120,7 @@
+     &quot;&#215;&#241;&#252;&#237;&#239;&#242; &#221;&#237;&#228;&#229;&#233;&#238;&#231;&#242; &#236;&#245;&#237;&#231;&#236;&#220;&#244;&#249;&#237; (&#228;)&quot;,
+     &quot;Tid f&#246;r meddelanden (sek)&quot;,
+     &quot;Timp afi&#186;are mesaje (sec)&quot;,
+-    &quot;Inform&#225;ci&#243; felt&#252;ntet&#233;s&#233;nek id&#246;tartama&quot;,
++    &quot;Inform&#225;ci&#243; felt&#251;ntet&#233;s&#233;nek id&#245;tartama&quot;,
+     &quot;Durada dels missatges (s)&quot;,
+     &quot;&#180;&#219;&#216;&#226;&#213;&#219;&#236;&#221;&#222;&#225;&#226;&#236; &#223;&#222;&#218;&#208;&#215;&#208; &#225;&#222;&#222;&#209;&#233;&#213;&#221;&#216;&#217; (&#225;&#213;&#218;)&quot;,
+     &quot;Vrijeme prikaza poruka (s)&quot;,
+@@ -3142,7 +3142,7 @@
+     &quot;&#215;&#241;&#233;&#243;&#231;&#236;&#239;&#240;&#239;&#223;&#231;&#243;&#231; &#236;&#233;&#234;&#241;&#252;&#237; &#227;&#241;&#225;&#236;&#236;&#225;&#244;&#239;&#243;&#229;&#233;&#241;&#254;&#237;&quot;,
+     &quot;Anv&#228;nd liten font&quot;,
+     &quot;Utilizare fonturi mici&quot;,
+-    &quot;Kisbet&#252;t haszn&#225;lni&quot;,
++    &quot;Kisbet&#251;t haszn&#225;lni&quot;,
+     &quot;&quot;,// TODO
+     &quot;&#184;&#225;&#223;&#222;&#219;&#236;&#215;&#222;&#210;&#208;&#226;&#236; &#220;&#213;&#219;&#218;&#216;&#217; &#232;&#224;&#216;&#228;&#226;&quot;,
+     &quot;Koristi mala slova&quot;,
+@@ -3186,7 +3186,7 @@
+     &quot;&#197;&#238;&#225;&#241;&#244;&#220;&#244;&#229; &#225;&#240;&#252; &#244;&#222;&#237; &#229;&#240;&#233;&#246;&#220;&#237;&#229;&#233;&#225;&quot;,
+     &quot;skin beroende&quot;,
+     &quot;dep. de skin&quot;,
+-    &quot;Men&#252; n&#233;zet&#233;t&#246;l f&#252;gg&#246;en&quot;,
++    &quot;Men&#252; n&#233;zet&#233;t&#245;l f&#252;gg&#245;en&quot;,
+     &quot;&quot;,// TODO
+     &quot;&#225;&#222;&#211;&#219;&#208;&#225;&#221;&#222; &#226;&#213;&#220;&#213;&quot;,
+     &quot;ovisno o povr&#185;ini&quot;,
+@@ -3252,7 +3252,7 @@
+     &quot;&#247;&#241;&#252;&#237;&#239;&#242; &#221;&#237;&#228;&#229;&#233;&#234;&#243;&#231;&#242; &#240;&#235;&#231;&#241;&#239;&#246;&#239;&#241;&#223;&#249;&#237; &#234;&#225;&#237;&#225;&#235;&#233;&#239;&#253; &#243;&#229; (&#228;)&quot;,
+     &quot;Kanal information (s)&quot;,
+     &quot;Durata afi&#186;&#227;rii info-canal (s)&quot;,
+-    &quot;Ad&#225;sinform&#225;ci&#243; felt&#252;ntet&#233;s&#233;nek id&#246;tartama (s)&quot;,
++    &quot;Ad&#225;sinform&#225;ci&#243; felt&#251;ntet&#233;s&#233;nek id&#245;tartama (s)&quot;,
+     &quot;&quot;,// TODO
+     &quot;&#191;&#222;&#218;&#208;&#215; &#216;&#221;&#228;&#222;&#224;&#220;&#208;&#230;&#216;&#216; &#222; &#218;&#208;&#221;&#208;&#219;&#213; (&#225;&#213;&#218;)&quot;,
+     &quot;Vrijeme prikaza informacije o programu (s)&quot;,
+@@ -3406,7 +3406,7 @@
+     &quot;&#215;&#241;&#252;&#237;&#239;&#242; &#228;&#233;&#220;&#241;&#234;&#229;&#233;&#225;&#242; &#229;&#238;&#221;&#244;&#225;&#243;&#231;&#242; EPG &#243;&#229; &#254;&#241;&#229;&#242;&quot;,
+     &quot;EPG s&#246;kning timeout&quot;,
+     &quot;Interval achizi&#254;ie EPG (h)&quot;,
+-    &quot;Fennmaradt id&#246; az EPG-&#250;j&#237;t&#225;sig (h)&quot;,
++    &quot;Fennmaradt id&#245; az EPG-&#250;j&#237;t&#225;sig (h)&quot;,
+     &quot;M&#224;xim d'Hores a cercar per la Guia&quot;,
+     &quot;&#183;&#208;&#212;&#213;&#224;&#214;&#218;&#208; &#225;&#218;&#208;&#221;&#216;&#224;&#222;&#210;&#208;&#221;&#216;&#239; &#226;&#213;&#219;&#213;&#211;&#216;&#212;&#208; (&#231;)&quot;,
+     &quot;Vrijeme do EPG pregleda (h)&quot;,
+@@ -3472,7 +3472,7 @@
+     &quot;&#211;&#245;&#237;&#244;&#239;&#237;&#233;&#243;&#236;&#252;&#242; &#254;&#241;&#225;&#242; &#245;&#240;&#239;&#235;&#239;&#227;&#233;&#243;&#244;&#222;&quot;,
+     &quot;St&#228;ll in systemtid&quot;,
+     &quot;Potrive&#186;te ceasul sistem&quot;,
+-    &quot;Az id&#246; be&#225;ll&#237;t&#225;sa&quot;,
++    &quot;Az id&#245; be&#225;ll&#237;t&#225;sa&quot;,
+     &quot;Ajustar l'hora del sistema&quot;,
+     &quot;&#195;&#225;&#226;&#208;&#221;&#222;&#210;&#216;&#226;&#236; &#225;&#216;&#225;&#226;&#213;&#220;&#221;&#222;&#213; &#210;&#224;&#213;&#220;&#239;&quot;,
+     &quot;Podesi vrijeme sistema&quot;,
+@@ -3494,7 +3494,7 @@
+     &quot;&#193;&#237;&#225;&#236;&#229;&#244;&#225;&#228;&#252;&#244;&#231;&#242; &#243;&#245;&#237;&#244;&#239;&#237;&#233;&#243;&#236;&#239;&#253; &#254;&#241;&#225;&#242;&quot;,
+     &quot;Anv&#228;nd klockan fr&#229;n transponder&quot;,
+     &quot;Preia ora din transponder&quot;,
+-    &quot;Id&#246;h&#246;z tartoz&#243; Transponder&quot;,
++    &quot;Id&#245;h&#246;z tartoz&#243; Transponder&quot;,
+     &quot;Usar el temps del m&#250;ltiplex&quot;,
+     &quot;&#184;&#225;&#223;&#222;&#219;&#236;&#215;&#222;&#210;&#208;&#226;&#236; &#210;&#224;&#213;&#220;&#239; &#226;&#224;&#208;&#221;&#225;&#223;&#222;&#221;&#212;&#213;&#224;&#208;&quot;,
+     &quot;Transponder za pode&#185;avanje sata&quot;,
+@@ -3560,7 +3560,7 @@
+     &quot;&#202;&#253;&#241;&#233;&#225; DVB &#234;&#220;&#241;&#244;&#225;&quot;,
+     &quot;Prim&#228;r DVB enhet&quot;,
+     &quot;Dispozitiv DVB primar&quot;,
+-    &quot;Els&#246; DVB interface&quot;,
++    &quot;Els&#245; DVB interface&quot;,
+     &quot;Tarja DVB prim&#224;ria&quot;,
+     &quot;&#190;&#225;&#221;&#222;&#210;&#221;&#222;&#213; DVB-&#227;&#225;&#226;&#224;&#222;&#217;&#225;&#226;&#210;&#222;&quot;,
+     &quot;Primarni DVB ure&#240;aj&quot;,
+@@ -3934,7 +3934,7 @@
+     &quot;&#162;&#237;&#249; LNB-&#211;&#245;&#247;&#237;&#252;&#244;&#231;&#244;&#225; (MHz)&quot;,
+     &quot;&#214;vre LNB frekvens (MHz)&quot;,
+     &quot;Frecvn&#254;&#227; LNB superioar&#227; (MHz)&quot;,
+-    &quot;Fels&#246; LNB-frekvencia (MHZ)&quot;,
++    &quot;Fels&#245; LNB-frekvencia (MHZ)&quot;,
+     &quot;Freq&#252;&#232;ncia LNB alta (MHz)&quot;,
+     &quot;&#178;&#213;&#224;&#229;&#221;&#239;&#239; &#231;&#208;&#225;&#226;&#222;&#226;&#208; &#218;&#222;&#221;&#210;&#213;&#224;&#226;&#213;&#224;&#208; (&#188;&#179;&#230;)&quot;,
+     &quot;Gornja LNB frekv. (MHz)&quot;,
+@@ -4000,7 +4000,7 @@
+     &quot;&#208;&#241;&#252;&#243;&#232;&#229;&#244;&#239;&#242; &#247;&#241;&#252;&#237;&#239;&#242; &#243;&#244;&#231;&#237; &#225;&#241;&#247;&#222; (&#235;&#229;&#240;&#244;&#220;)&quot;,
+     &quot;Marginal f&#246;r start (min)&quot;,
+     &quot;Marj&#227; la pornire (min)&quot;,
+-    &quot;Id&#246;eltol&#243;d&#225;s a kezd&#233;sn&#233;l (perc)&quot;,
++    &quot;Id&#245;eltol&#243;d&#225;s a kezd&#233;sn&#233;l (perc)&quot;,
+     &quot;Marge d'inici de gravaci&#243; (min)&quot;,
+     &quot;&#190;&#223;&#213;&#224;&#213;&#214;&#213;&#221;&#216;&#213; &#221;&#208;&#231;&#208;&#219;&#208; &#215;&#208;&#223;&#216;&#225;&#216; (&#220;&#216;&#221;)&quot;,
+     &quot;Rezerva na po&#232;etku snimanja (min)&quot;,
+@@ -4022,7 +4022,7 @@
+     &quot;&#208;&#241;&#252;&#243;&#232;&#229;&#244;&#239;&#242; &#247;&#241;&#252;&#237;&#239;&#242; &#243;&#244;&#252; &#244;&#221;&#235;&#239;&#242; (&#235;&#229;&#240;&#244;&#220;)&quot;,
+     &quot;Marginal f&#246;r stopp (min)&quot;,
+     &quot;Marj&#227; la oprire (min)&quot;,
+-    &quot;Id&#246;eltol&#243;d&#225;s a befejez&#233;sn&#233;l (perc)&quot;,
++    &quot;Id&#245;eltol&#243;d&#225;s a befejez&#233;sn&#233;l (perc)&quot;,
+     &quot;Marge de fi de gravaci&#243; (min)&quot;,
+     &quot;&#183;&#208;&#223;&#208;&#215;&#212;&#235;&#210;&#208;&#221;&#216;&#213; &#222;&#225;&#226;&#208;&#221;&#222;&#210;&#218;&#216; &#215;&#208;&#223;&#216;&#225;&#216; (&#220;&#216;&#221;)&quot;,
+     &quot;Rezerva na kraju (min)&quot;,
+@@ -4198,7 +4198,7 @@
+     &quot;&#208;&#229;&#241;&#233;&#232;&#254;&#241;&#233;&#239; VPS (&#228;)&quot;,
+     &quot;VPS marginal (s)&quot;,
+     &quot;Marj&#227; de timp la utilizare VPS (s)&quot;,
+-    &quot;Id&#246;eltol&#243;d&#225;s VPS-n&#233;l (s)&quot;,
++    &quot;Id&#245;eltol&#243;d&#225;s VPS-n&#233;l (s)&quot;,
+     &quot;&quot;,// TODO
+     &quot;&#177;&#227;&#228;&#213;&#224;&#221;&#222;&#213; &#210;&#224;&#213;&#220;&#239; VPS (&#225;&#213;&#218;)&quot;,
+     &quot;Vremenska rezerva kod VPS (s)&quot;,
+@@ -4264,7 +4264,7 @@
+     &quot;&#196;&#233;&#220;&#241;&#234;&#229;&#233;&#225; &#243;&#244;&#227;&#236;&#233;&#225;&#223;&#225;&#242; &#229;&#227;&#227;&#241;&#225;&#246;&#222;&#242; (&#235;&#229;&#240;&#244;&#220;)&quot;,
+     &quot;Direktinspelning l&#228;ngd (min)&quot;,
+     &quot;Timpul de &#238;nregistare imediat&#227; (min)&quot;,
+-    &quot;Felv&#233;tel id&#246;tartama (perc)&quot;,
++    &quot;Felv&#233;tel id&#245;tartama (perc)&quot;,
+     &quot;Temps de gravaci&#243; instant&#224;nia (min)&quot;,
+     &quot;&#180;&#219;&#216;&#226;&#213;&#219;&#236;&#221;&#222;&#225;&#226;&#236; &#224;&#227;&#231;&#221;&#222;&#217; &#215;&#208;&#223;&#216;&#225;&#216; (&#220;&#216;&#221;)&quot;,
+     &quot;Trajanje direktnog snimanja (min)&quot;,
+@@ -4396,7 +4396,7 @@
+     &quot;&#197;&#235;&#220;&#247;&#233;&#243;&#244;&#239;&#242; &#247;&#241;&#220;&#237;&#239;&#242; &#240;&#225;&#241;&#229;&#236;&#226;&#239;&#235;&#222;&#242; (&#235;&#229;&#240;&#244;&#220;)&quot;,
+     &quot;Minsta h&#228;ndelse-pause (min)&quot;,
+     &quot;Durat&#227; minim&#227; emisiuni (min)&quot;,
+-    &quot;Id&#246;zit&#233;sek k&#246;z&#246;tti id&#246;tartam (perc)&quot;,
++    &quot;Id&#245;zit&#233;sek k&#246;z&#246;tti id&#245;tartam (perc)&quot;,
+     &quot;Temps m&#237;nim en pausa (min)&quot;,
+     &quot;&#188;&#216;&#221;. &#210;&#224;&#213;&#220;&#239; &#222;&#214;&#216;&#212;&#208;&#221;&#216;&#239; &#225;&#222;&#209;&#235;&#226;&#216;&#239; (&#220;&#216;&#221;)&quot;,
+     &quot;Minimalno vrijeme pauze&quot;,
+@@ -4506,7 +4506,7 @@
+     &quot;&quot;,// TODO
+     &quot;Ljudstyrka vid uppstart&quot;,
+     &quot;Volumul la pornire&quot;,
+-    &quot;Hanger&#246; a bekapcsol&#225;sn&#225;l&quot;,
++    &quot;Hanger&#245; a bekapcsol&#225;sn&#225;l&quot;,
+     &quot;&quot;,// TODO
+     &quot;&#179;&#224;&#222;&#220;&#218;&#222;&#225;&#226;&#236; &#223;&#224;&#216; &#210;&#218;&#219;&#238;&#231;&#213;&#221;&#216;&#216;&quot;,
+     &quot;&quot;,// TODO
+@@ -4528,7 +4528,7 @@
+     &quot;&quot;,// TODO
+     &quot;som f&#246;rut&quot;,
+     &quot;ca mai &#238;nainte&quot;,
+-    &quot;ahogy az el&#246;bb&quot;,
++    &quot;ahogy az el&#245;bb&quot;,
+     &quot;&quot;,// TODO
+     &quot;&#218;&#208;&#218; &#224;&#208;&#221;&#236;&#232;&#213;&quot;,
+     &quot;&quot;,// TODO
+@@ -4596,7 +4596,7 @@
+     &quot; &#225;&#220;&#226;&#227;&#228;&#229;&#221;&#230;&#231;&#222;&#232;&#233;&#223;&#234;&#235;&#236;&#237;&#238;&#239;&#252;&#240;&#241;&#243;&#242;&#244;&#245;&#253;&#246;&#247;&#248;&#249;&#254;0123456789-.#~,/<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">_ at abcdefghijklmnopqrstuvwxyz</A>&quot;,
+     &quot; abcdefghijklmnopqrstuvwxyz&#229;&#228;&#246;0123456789-.#~,/_@&quot;,
+     &quot; a&#227;&#226;bcdefghi&#238;jklmnopqrs&#186;t&#254;uvwxyz0123456789-.#~,/_@&quot;,
+-    &quot; a&#225;bcde&#233;fghi&#237;jklmno&#243;&#246;&#191;pqrstu&#250;&#252;&#191;vwxyz0123456789-.,#~,/_@&quot;,
++    &quot; a&#225;bcde&#233;fghi&#237;jklmno&#243;&#246;&#245;pqrstu&#250;&#252;&#251;vwxyz0123456789-.,#~,/_@&quot;,
+     &quot; a&#224;bc&#231;de&#233;&#232;fghi&#237;jklmno&#242;pqrstu&#250;vwxyz0123456789-.,#~,/_@&#183;&quot;,
+     &quot; abcdefghijklmnopqrstuvwxyz&#208;&#209;&#210;&#211;&#212;&#213;&#241;&#214;&#215;&#216;&#217;&#218;&#219;&#220;&#221;&#222;&#223;&#224;&#225;&#226;&#227;&#228;&#229;&#230;&#231;&#232;&#233;&#234;&#235;&#236;&#238;&#239;0123456789-.#~,/_@&quot;,
+     &quot; abc&#232;&#230;d&#240;efghijklmnopqrs&#185;tuvwxyz&#190;0123456789-.#~,/_@&quot;, // hrv
+@@ -4619,7 +4619,7 @@
+     &quot;&quot;,//TODO
+     &quot; 0\t-.#~,/<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">_ at 1</A>\tabc&#229;&#228;2\tdef3\tghi4\tjkl5\tmno&#246;6\tpqrs7\ttuv8\twxyz&quot;,
+     &quot; 0\t-.#~,/<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">_ at 1</A>\ta&#227;&#226;bc2\tdef3\tghi&#238;4\tjkl5\tmno6\tpqrs&#186;7\tt&#254;uv8\twxyz9&quot;,
+-    &quot; 0\t-.#~,/<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">_ at 1</A>\ta&#225;bc2\tde&#233;3\tghi&#237;4\tjkl5\tmno&#243;&#246;&#191;6\tpqrs7\ttu&#250;&#252;&#191;v8\twxyz9&quot;,
++    &quot; 0\t-.#~,/<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">_ at 1</A>\ta&#225;bc2\tde&#233;f3\tghi&#237;4\tjkl5\tmno&#243;&#246;&#245;6\tpqrs7\ttu&#250;&#252;&#251;v8\twxyz9&quot;,
+     &quot;&quot;,//TODO
+     &quot;&quot;,//TODO
+     &quot;&quot;,//TODO
+@@ -4664,7 +4664,7 @@
+     &quot;&#214;&#220;&#243;&#231; 1: &#193;&#237;&#223;&#247;&#237;&#229;&#245;&#243;&#231; &#234;&#254;&#228;&#233;&#234;&#225; RC&quot;,
+     &quot;Steg1: identifiering av kod&quot;,
+     &quot;Faza 1: Detec&#254;ia tipului telecomenzii&quot;,
+-    &quot;Els&#246; l&#233;p&#233;s: t&#225;vir&#225;ny&#237;t&#243; k&#243;dj&#225;nak meghat&#225;roz&#225;sa&quot;,
++    &quot;Els&#245; l&#233;p&#233;s: t&#225;vir&#225;ny&#237;t&#243; k&#243;dj&#225;nak meghat&#225;roz&#225;sa&quot;,
+     &quot;Fase 1: Detectant el tipus de receptor&quot;,
+     &quot;&#200;&#208;&#211; 1: &#190;&#223;&#224;&#213;&#212;&#213;&#219;&#213;&#221;&#216;&#213; &#226;&#216;&#223;&#208; &#218;&#222;&#212;&#208; &#223;&#227;&#219;&#236;&#226;&#208;&quot;,
+     &quot;Faza 1: detektiranje k&#244;da daljinskog upravlja&#232;a.&quot;,
+@@ -5303,7 +5303,7 @@
+     &quot;&#208;&#241;&#239;&#254;&#232;&#231;&#243;&#231; &#229;&#236;&#240;&#241;&#252;&#242;&quot;,
+     &quot;Snabbspolning fram&#229;t&quot;,
+     &quot;Derulare &#238;nainte&quot;,
+-    &quot;El&#246;re p&#246;rgetni&quot;,
++    &quot;El&#245;re p&#246;rgetni&quot;,
+     &quot;Endavant r&#224;pidament&quot;,
+     &quot;&#191;&#224;&#222;&#218;&#224;&#227;&#226;&#218;&#208; &#210;&#223;&#213;&#224;&#241;&#212;&quot;,
+     &quot;Naprijed&quot;,
+@@ -5347,7 +5347,7 @@
+     &quot;&quot;,// TODO
+     &quot;N&#228;sta&quot;,
+     &quot;Urm&#227;tor&quot;,
+-    &quot;El&#246;re&quot;,
++    &quot;El&#245;re&quot;,
+     &quot;&quot;,// TODO
+     &quot;&#178;&#223;&#213;&#224;&#213;&#212;&quot;,
+     &quot;&quot;,// TODO
+@@ -5457,7 +5457,7 @@
+     &quot;&quot;,// TODO
+     &quot;F&#246;rra kanalen&quot;,
+     &quot;Canal anterior&quot;,
+-    &quot;Az el&#246;z&#246; ad&#225;s&quot;,
++    &quot;Az el&#245;z&#245; ad&#225;s&quot;,
+     &quot;&quot;,// TODO
+     &quot;&#191;&#224;&#213;&#212;&#235;&#212;&#227;&#233;&#216;&#217; &#218;&#208;&#221;&#208;&#219;&quot;,
+     &quot;&quot;,// TODO
+@@ -5479,7 +5479,7 @@
+     &quot;&#184;&#237;&#244;&#225;&#243;&#231;+&quot;,
+     &quot;Volym+&quot;,
+     &quot;Volum+&quot;,
+-    &quot;Hanger&#246;+&quot;,
++    &quot;Hanger&#245;+&quot;,
+     &quot;Volum +&quot;,
+     &quot;&#179;&#224;&#222;&#220;&#218;&#222;&#225;&#226;&#236; +&quot;,
+     &quot;Glasnije&quot;, // hrv &quot;Glasnocca +&quot;
+@@ -5501,7 +5501,7 @@
+     &quot;&#184;&#237;&#244;&#225;&#243;&#231;-&quot;,
+     &quot;Volym-&quot;,
+     &quot;Volum-&quot;,
+-    &quot;Hanger&#246;-&quot;,
++    &quot;Hanger&#245;-&quot;,
+     &quot;Volum -&quot;,
+     &quot;&#179;&#224;&#222;&#220;&#218;&#222;&#225;&#226;&#236; -&quot;,
+     &quot;Ti&#185;e&quot;, // hrv Glasnocca -&quot;
+@@ -5788,7 +5788,7 @@
+     &quot;&#184;&#237;&#244;&#225;&#243;&#231; &quot;,
+     &quot;Volym &quot;,
+     &quot;Volum &quot;,
+-    &quot;Hanger&#246;&quot;,
++    &quot;Hanger&#245;&quot;,
+     &quot;Volum &quot;,
+     &quot;&#179;&#224;&#222;&#220;&#218;&#222;&#225;&#226;&#236; &quot;,
+     &quot;Glasno&#230;a &quot;,
+@@ -6008,7 +6008,7 @@
+     &quot;&#208;&#220;&#227;&#249;&#236;&#225; &#230;&#249;&#237;&#244;&#225;&#237;&#239;&#253; &#243;&#222;&#236;&#225;&#244;&#239;&#242;&quot;,
+     &quot;Pausar direktinspelningen&quot;,
+     &quot;Trec &#238;n pauz&#227; emisiunea transmis&#227;...&quot;,
+-    &quot;Az &#233;l&#246; ad&#225;s meg&#225;ll&#237;tva...&quot;,
++    &quot;Az &#233;l&#245; ad&#225;s meg&#225;ll&#237;tva...&quot;,
+     &quot;Pausa d'emissi&#243; en directe...&quot;,
+     &quot;&#192;&#213;&#214;&#216;&#220; &#222;&#226;&#219;&#222;&#214;&#213;&#221;&#221;&#222;&#211;&#222; &#223;&#224;&#222;&#225;&#220;&#222;&#226;&#224;&#208;...&quot;,
+     &quot;Zaustavljanje &#190;ivog signala...&quot;,

Added: branches/rpms/brian/vdr/vdr-1.4.5-2.diff
===================================================================
--- branches/rpms/brian/vdr/vdr-1.4.5-2.diff	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-1.4.5-2.diff	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,269 @@
+diff -ruN vdr-1.4.5-1/CONTRIBUTORS vdr-1.4.5-2/CONTRIBUTORS
+--- vdr-1.4.5-1/CONTRIBUTORS	2007-01-26 15:14:33.000000000 +0100
++++ vdr-1.4.5-2/CONTRIBUTORS	2007-02-24 12:13:59.000000000 +0100
+@@ -360,6 +360,7 @@
+ Thilo Wunderlich &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">wunderlich at speedway.org</A>&gt;
+  for his help in keeping 'channels.conf' up to date
+  for reporting a problem with accessing the epg.data file before it is fully written
++ for updating satellite names in 'sources.conf'
+ 
+ Stephan Schreiber &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">stephan at sschreiber.de</A>&gt;
+  for his support in keeping the Premiere World channels up to date in 'channels.conf.cable'
+@@ -1116,6 +1117,7 @@
+  for fixing a possible crash in remux.c on 64-bit machines
+  for making cCommand::Execute() use cPipe instead of popen() to avoid problems
+  with open file handles when starting background commands
++ for fixing handling error status in cDvbTuner::GetFrontendStatus()
+ 
+ Richard Robson &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">richard_robson at beeb.net</A>&gt;
+  for reporting freezing replay if a timer starts while in Transfer Mode from the
+@@ -1389,6 +1391,7 @@
+  replay has been stopped
+  for reporting a problem with displaying the replay mode symbol in case of &quot;Multi
+  speed mode&quot;
++ for removing 'assert(0)' from cDvbSpuDecoder::setTime()
+ 
+ J&#252;rgen Schmitz &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">j.schmitz at web.de</A>&gt;
+  for reporting a bug in displaying the current channel when switching via the SVDRP
+@@ -1694,6 +1697,7 @@
+ Martin Wache &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">M.Wache at gmx.net</A>&gt;
+  for adding a sleep in cDvbPlayer::Action() in case there is no data to send to the
+  device, which avoids a busy loop on very fast machines
++ for fixing a possible crash when loading an invalid XPM file
+ 
+ Matthias Lenk &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">matthias.lenk at amd.com</A>&gt;
+  for reporting an out-of-bounds memory access with audio language ids
+diff -ruN vdr-1.4.5-1/HISTORY vdr-1.4.5-2/HISTORY
+--- vdr-1.4.5-1/HISTORY	2007-01-28 10:58:12.000000000 +0100
++++ vdr-1.4.5-2/HISTORY	2007-02-24 12:13:25.000000000 +0100
+@@ -5035,3 +5035,11 @@
+ - Now using cPipe instead of popen() in cCommand::Execute() to avoid problems
+   with open file handles when starting background commands (thanks to Reinhard
+   Nissl).
++
++2007-02-24: Version 1.4.5-2
++
++- Removed 'assert(0)' from cDvbSpuDecoder::setTime() (thanks to Marco Schl&#252;&#223;ler).
++- Fixed a possible crash when loading an invalid XPM file (thanks to Martin Wache).
++- Updated satellite names in 'sources.conf' (thanks to Thilo Wunderlich).
++- Fixed handling error status in cDvbTuner::GetFrontendStatus() (thanks to
++  Reinhard Nissl).
+diff -ruN vdr-1.4.5-1/config.h vdr-1.4.5-2/config.h
+--- vdr-1.4.5-1/config.h	2007-01-26 14:14:47.000000000 +0100
++++ vdr-1.4.5-2/config.h	2007-02-03 11:14:42.000000000 +0100
+@@ -4,7 +4,7 @@
+  * See the main source file 'vdr.c' for copyright information and
+  * how to reach the author.
+  *
+- * $Id: config.h 1.282.1.1 2007/01/26 13:14:47 kls Exp $
++ * $Id: config.h 1.282.1.2 2007/02/03 10:14:42 kls Exp $
+  */
+ 
+ #ifndef __CONFIG_H
+@@ -21,7 +21,7 @@
+ 
+ // VDR's own version number:
+ 
+-#define VDRVERSION  &quot;1.4.5-1&quot;
++#define VDRVERSION  &quot;1.4.5-2&quot;
+ #define VDRVERSNUM   10405  // Version * 10000 + Major * 100 + Minor
+ 
+ // The plugin API's version number:
+diff -ruN vdr-1.4.5-1/dvbdevice.c vdr-1.4.5-2/dvbdevice.c
+--- vdr-1.4.5-1/dvbdevice.c	2006-08-14 11:38:32.000000000 +0200
++++ vdr-1.4.5-2/dvbdevice.c	2007-02-24 12:10:14.000000000 +0100
+@@ -4,7 +4,7 @@
+  * See the main source file 'vdr.c' for copyright information and
+  * how to reach the author.
+  *
+- * $Id: dvbdevice.c 1.160 2006/08/14 09:38:32 kls Exp $
++ * $Id: dvbdevice.c 1.160.1.1 2007/02/24 11:10:14 kls Exp $
+  */
+ 
+ #include &quot;dvbdevice.h&quot;
+@@ -157,15 +157,14 @@
+               ; // just to clear the event queue - we'll read the actual status below
+         }
+      }
+-  do {
+-     int stat = ioctl(fd_frontend, FE_READ_STATUS, &amp;Status);
+-     if (stat == 0)
+-        return true;
+-     if (stat &lt; 0) {
+-        if (errno == EINTR)
++  while (1) {
++        int stat = ioctl(fd_frontend, FE_READ_STATUS, &amp;Status);
++        if (stat == 0)
++           return true;
++        if (stat &lt; 0 &amp;&amp; errno == EINTR)
+            continue;
++        break;
+         }
+-     } while (0);
+   return false;
+ }
+ 
+diff -ruN vdr-1.4.5-1/dvbspu.c vdr-1.4.5-2/dvbspu.c
+--- vdr-1.4.5-1/dvbspu.c	2006-04-17 14:45:05.000000000 +0200
++++ vdr-1.4.5-2/dvbspu.c	2007-02-03 11:13:18.000000000 +0100
+@@ -8,7 +8,7 @@
+  *
+  * parts of this file are derived from the OMS program.
+  *
+- * $Id: dvbspu.c 1.21 2006/04/17 12:45:05 kls Exp $
++ * $Id: dvbspu.c 1.22 2007/02/03 10:13:18 kls Exp $
+  */
+ 
+ #include &quot;dvbspu.h&quot;
+@@ -504,9 +504,8 @@
+                 default:
+                     esyslog(&quot;invalid sequence in control header (%.2x)&quot;,
+                             spu[i]);
+-                    assert(0);
+-                    i++;
+-                    break;
++                    Empty();
++                    return 0;
+                 }
+             }
+             if (fodd != 0 &amp;&amp; feven != 0) {
+diff -ruN vdr-1.4.5-1/osd.c vdr-1.4.5-2/osd.c
+--- vdr-1.4.5-1/osd.c	2006-02-26 15:31:31.000000000 +0100
++++ vdr-1.4.5-2/osd.c	2007-02-17 17:05:52.000000000 +0100
+@@ -4,7 +4,7 @@
+  * See the main source file 'vdr.c' for copyright information and
+  * how to reach the author.
+  *
+- * $Id: osd.c 1.67 2006/02/26 14:31:31 kls Exp $
++ * $Id: osd.c 1.68 2007/02/17 16:05:52 kls Exp $
+  */
+ 
+ #include &quot;osd.h&quot;
+@@ -218,14 +218,17 @@
+                  int w, h, n, c;
+                  if (4 != sscanf(s, &quot;%d %d %d %d&quot;, &amp;w, &amp;h, &amp;n, &amp;c)) {
+                     esyslog(&quot;ERROR: faulty 'values' line in XPM file '%s'&quot;, FileName);
++                    isXpm = false;
+                     break;
+                     }
+                  lines = h + n + 1;
+                  Xpm = MALLOC(char *, lines);
++                 memset(Xpm, 0, lines * sizeof(char*));
+                  }
+               char *q = strchr(s, '&quot;');
+               if (!q) {
+                  esyslog(&quot;ERROR: missing quotes in XPM file '%s'&quot;, FileName);
++                 isXpm = false;
+                  break;
+                  }
+               *q = 0;
+@@ -233,16 +236,21 @@
+                  Xpm[index++] = strdup(s);
+               else {
+                  esyslog(&quot;ERROR: too many lines in XPM file '%s'&quot;, FileName);
++                 isXpm = false;
+                  break;
+                  }
+               }
+            }
+-     if (index == lines)
+-        Result = SetXpm(Xpm);
+-     else
+-        esyslog(&quot;ERROR: too few lines in XPM file '%s'&quot;, FileName);
+-     for (int i = 0; i &lt; index; i++)
+-         free(Xpm[i]);
++     if (isXpm) {
++        if (index == lines)
++           Result = SetXpm(Xpm);
++        else
++           esyslog(&quot;ERROR: too few lines in XPM file '%s'&quot;, FileName);
++        }
++     if (Xpm) {
++        for (int i = 0; i &lt; index; i++)
++            free(Xpm[i]);
++        }
+      free(Xpm);
+      fclose(f);
+      }
+diff -ruN vdr-1.4.5-1/sources.conf vdr-1.4.5-2/sources.conf
+--- vdr-1.4.5-1/sources.conf	2006-06-15 12:02:28.000000000 +0200
++++ vdr-1.4.5-2/sources.conf	2007-02-17 17:15:13.000000000 +0100
+@@ -38,7 +38,7 @@
+ S39E    Hellas Sat 2
+ S40E    Express AM1
+ S42E    Turksat 1C/2A
+-S45E    PAS 12
++S45E    Intelsat 12
+ S49E    Yamal 202
+ S53E    Express AM 22
+ S55E    Insat 3E &amp; Intelsat 702
+@@ -48,9 +48,9 @@
+ S62E    Intelsat 902
+ S64E    Intelsat 906
+ S66E    Intelsat 704
+-S68.5E  PAS 7/10
++S68.5E  Intelsat 7/10
+ S70.5E  Eutelsat W5
+-S72E    PAS 4
++S72E    Intelsat 4
+ 
+ # Asia
+ 
+@@ -98,8 +98,8 @@
+ S160E   Optus B1
+ S162E   Superbird B2
+ S164E   Optus A3
+-S166E   PAS 8
+-S169E   PAS 2
++S166E   Intelsat 8
++S169E   Intelsat 2
+ S172E   AMC 23
+ S180E   Intelsat 701
+ S177W   NSS 5
+@@ -125,12 +125,12 @@
+ S34.5W  Intelsat 903
+ S37.5W  Telstar 11 &amp; AMC 12
+ S40.5W  NSS 806
+-S43W    PAS 3R/6B
+-S45W    PAS 1R
++S43W    Intelsat 3R/6B
++S45W    Intelsat 1R
+ S50W    Intelsat 705
+ S53W    Intelsat 707
+ S55.5W  Intelsat 805
+-S58W    PAS 9
++S58W    Intelsat 9
+ S61W    Amazonas
+ 
+ # America
+@@ -151,13 +151,13 @@
+ S85W    AMC 2
+ S85.1W  XM 3
+ S87W    AMC3
+-S89W    Intelsat Americas 8
++S89W    Galaxy 28
+ S91W    Galaxy 11 &amp; Nimiq 1
+ S91.5W  DirecTV 2
+ S92W    Brasilsat B4
+-S93W    Intelsat Americas 6
++S93W    Galaxy 26
+ S95W    Galaxy 3C
+-S97W    Intelsat Americas 5
++S97W    Galaxy 25
+ S99W    Galaxy 4R
+ S99.2W  Spaceway 2
+ S101W   DirecTV 1R/4S/8 &amp; AMC4
+@@ -168,11 +168,11 @@
+ S111.1W Anik F2
+ S113W   Solidaridad 2
+ S119W   Echostar 7 &amp; DirecTV 7S
+-S121W   Echostar 9 &amp; Intelsat Americas 13
++S121W   Echostar 9 &amp; Galaxy 23
+ S123W   Galaxy 10R
+ S125W   Galaxy 14
+ S127W   Galaxy 13/Horizons 1
+-S129W   Echostar 5 &amp; Intelsat Americas 7
++S129W   Echostar 5 &amp; Galaxy 27
+ S131W   AMC 11
+ S133W   Galaxy15/1R
+ S135W   AMC 10

Added: branches/rpms/brian/vdr/vdr-1.4.5-liemikuutio-1.13.diff.gz
===================================================================
(Binary files differ)


Property changes on: branches/rpms/brian/vdr/vdr-1.4.5-liemikuutio-1.13.diff.gz
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: branches/rpms/brian/vdr/vdr-README.package
===================================================================
--- branches/rpms/brian/vdr/vdr-README.package	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-README.package	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,90 @@
+This file describes various things about the VDR contained in this
+package.
+
+Installation layout
+-------------------
+
+As usual, &quot;rpm -ql vdr&quot; should give a fairly good picture where things
+are installed.  The goal in this package is to make file locations be
+natural to people who are used to packaged software, which causes
+quite a bit of deviation from the upstream layout as of 1.4.x.  Also,
+as usual, &quot;rpm -qc vdr&quot; lists configuration files.
+
+Configuration
+-------------
+
+First, refer to &quot;man 5 vdr&quot; for general upstream VDR configuration
+stuff.  Then, have a look at /etc/sysconfig/vdr.  The file is fairly
+well documented, and among other things, is where one should specify
+command line options to VDR itself.  The standard &quot;vdr&quot; init script
+invokes /usr/sbin/runvdr, which reads /etc/sysconfig/vdr.
+
+The init script and the runner load per-plugin configuration files
+from the /etc/sysconfig/vdr-plugins.d directory for each found plugin.
+Those files are sourced shell (bash) scripts, named like
+&lt;pluginname&gt;.conf (so eg. for plugin libvdr-foo.*,
+/etc/sysconfig/vdr-plugins.d/foo.conf is loaded).  Configure command
+line options for each plugin in their respective config snippets, in
+the PLUGIN_OPTIONS environment variable.
+
+The vdr user should have access to the majority of needed hardware
+devices out of the package, either directly or through the video
+group.  However some setups may need additional configuration in order
+to allow VDR or some plugins to use for example certain remote
+controllers or optical drives.  See the /etc/udev/rules.d/*-vdr.rules
+and /etc/security/console.perms.d/*-vdr.perms files for some usual
+suspects and examples.
+
+Additional plugins
+------------------
+
+While there's a bunch of pre-packaged plugins available, not
+everything obviously is.  The plugin rpm specfiles are pretty simple
+and very close to each other, so it is recommended to use them as
+examples and roll packages of extra plugins.
+
+If you wish to compile unpackaged local plugins, first make sure that
+the vdr-devel package is installed.  Then, edit the plugin's Makefile
+in the dir you extracted it into, changing VDRDIR to /usr/lib/vdr, or
+/usr/lib64/vdr if you have a 64-bit system.  That's about it, the rest
+should be set up automatically.  &quot;make all&quot; (or &quot;make all
+VDRDIR=/usr/lib*/vdr&quot; if you don't want to edit the Makefile) in the
+same dir will usually build the plugin and try to copy it into VDR's
+plugin directory.  You'll probably need root access for the copy to
+succeed.
+
+If the plugin needs command line options, add them to
+/etc/sysconfig/vdr-plugins.d/&lt;pluginname&gt;.conf into PLUGIN_OPTIONS
+(see previous chapter).
+
+The /usr/lib*/vdr/bin directory is in vdr's $PATH by default;
+additional VDR specific scripts such as those needed by some plugins,
+or things executed from commands.conf or reccmds.conf can be dropped
+there instead of having to pollute the usual system $PATH with them.
+
+Shutdown and ACPI wakeup
+------------------------
+
+A sample shutdown script, vdr-shutdown.sh, is shipped in the
+/usr/lib*/vdr/bin directory.  If enabled, the script writes a time
+slightly before the next configured timer (given by VDR, see the file
+INSTALL) to /var/lib/vdr/acpi-wakeup in a format suitable for catting
+to /proc/acpi/alarm, and shuts down the machine.  See commentary in
+the script for how to enable it and how to grant the required
+permissions to the vdr user so it can carry out these tasks.
+
+To use the ACPI alarm feature present in many recent systems, adding a
+script like this to /sbin/halt.local (remember to make it executable!)
+will cause the system to wake up at the time set by the above
+vdr-shutdown.sh, allowing one to shut down the system without having
+to manually start it for the next timed recording.  /sbin/halt.local,
+if it exists, is automatically executed by the system shutdown/reboot
+scripts at appropriate time.
+
+    #!/bin/bash
+    wakeupfile=/var/lib/vdr/acpi-wakeup
+    trap &quot;rm -f $wakeupfile&quot; EXIT
+    if [ -s $wakeupfile -a -w /proc/acpi/alarm ] ; then
+        echo -n &quot;Setting ACPI wakeup for next VDR timer: &quot; ; cat $wakeupfile
+        cat $wakeupfile &gt; /proc/acpi/alarm
+    fi

Added: branches/rpms/brian/vdr/vdr-channel+epg.patch
===================================================================
--- branches/rpms/brian/vdr/vdr-channel+epg.patch	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-channel+epg.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,26 @@
+--- vdr-1.3.15/menu.c.old	2004-11-19 20:54:29.000000000 +0100
++++ vdr-1.3.15/menu.c	2004-11-19 20:58:47.000000000 +0100
+@@ -368,11 +368,21 @@
+ void cMenuChannelItem::Set(void)
+ {
+   char *buffer = NULL;
++  const cEvent *Event = NULL;
+   if (!channel-&gt;GroupSep()) {
++     cSchedulesLock SchedulesLock;
++     const cSchedules *Schedules = cSchedules::Schedules(SchedulesLock);
++     const cSchedule *Schedule = Schedules-&gt;GetSchedule(channel-&gt;GetChannelID());
++     if (Schedule) {
++       Event = Schedule-&gt;GetPresentEvent();
++     }
++
+      if (sortMode == csmProvider)
+-        asprintf(&amp;buffer, &quot;%d\t%s - %s&quot;, channel-&gt;Number(), channel-&gt;Provider(), channel-&gt;Name());
++        asprintf(&amp;buffer, &quot;%d\t%s - %s %c%s%c&quot;, channel-&gt;Number(), channel-&gt;Provider(), channel-&gt;Name(),
++			  Event ? '(' : ' ',Event ? Event-&gt;Title() : &quot;&quot;, Event ? ')' : ' ');
+      else
+-        asprintf(&amp;buffer, &quot;%d\t%s&quot;, channel-&gt;Number(), channel-&gt;Name());
++        asprintf(&amp;buffer, &quot;%d\t%s %c%s%c&quot;, channel-&gt;Number(), channel-&gt;Name(),
++			  Event ? '(' : ' ',Event ? Event-&gt;Title() : &quot;&quot;, Event ? ')' : ' ');
+      }
+   else
+      asprintf(&amp;buffer, &quot;---\t%s ----------------------------------------------------------------&quot;, channel-&gt;Name());

Added: branches/rpms/brian/vdr/vdr-commands.conf
===================================================================
--- branches/rpms/brian/vdr/vdr-commands.conf	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-commands.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,8 @@
+# Main menu commands for VDR.  See the vdr(5) manual page.
+
+# To rip audio CD's with abcde, uncomment this.  See /etc/abcde.conf (or the
+# -o option) for output format and other settings, and try
+# &quot;env CDDA_TRANSPORT=cooked abcde -Np&quot; instead of just &quot;abcde -Np&quot; in case
+# you experience problems, see <A HREF="https://bugzilla.redhat.com/166141">https://bugzilla.redhat.com/166141</A>
+#
+#Rip audio CD?: cd /srv/audio ; abcde -Np

Added: branches/rpms/brian/vdr/vdr-config.sh
===================================================================
--- branches/rpms/brian/vdr/vdr-config.sh	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-config.sh	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,14 @@
+#!/bin/bash
+
+case &quot;$1&quot; in
+    --version)
+        pkg-config vdr --modversion
+        ;;
+    --*dir|--apiversion|--user|--group)
+        pkg-config vdr --variable=${1#--}
+        ;;
+    *)
+        echo &quot;Error: unknown option '$1'.&quot; &gt;&amp;2
+        exit 1
+        ;;
+esac

Added: branches/rpms/brian/vdr/vdr-reccmds.conf
===================================================================
--- branches/rpms/brian/vdr/vdr-reccmds.conf	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-reccmds.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,2 @@
+# Recording commands for VDR.  See the vdr(5) manual page.
+

Added: branches/rpms/brian/vdr/vdr-runvdr.sh
===================================================================
--- branches/rpms/brian/vdr/vdr-runvdr.sh	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-runvdr.sh	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,100 @@
+#!/bin/bash
+
+# runvdr - VDR launcher
+#
+# runvdr [VDROPTION]...
+
+VDR=/usr/sbin/vdr
+PLUGINDIR=/usr/lib/vdr
+PLUGINVER=VDR_PLUGIN_VERSION
+
+prog=$(basename $0)
+log()
+{
+    [ -x /usr/bin/logger ] &amp;&amp; \
+        /usr/bin/logger -s -pdaemon.info -t&quot;$prog&quot; &quot;$1&quot; || echo &quot;INFO: $1&quot;
+}
+
+plugconf()
+{
+    local plugin=&quot;$1&quot; PLUGIN_OPTIONS= PLUGIN_ENABLED=
+    if [ -e &quot;/etc/sysconfig/vdr-plugins.d/$plugin.conf&quot; ] ; then
+        . &quot;/etc/sysconfig/vdr-plugins.d/$plugin.conf&quot;
+    fi
+    case &quot;$PLUGIN_ENABLED&quot; in no|false|0) return ;; esac
+    VDR_OPTIONS[${#VDR_OPTIONS[@]}]=-P
+    if [ -z &quot;$PLUGIN_OPTIONS&quot; ] ; then
+        VDR_OPTIONS[${#VDR_OPTIONS[@]}]=&quot;$plugin&quot;
+    else
+        VDR_OPTIONS[${#VDR_OPTIONS[@]}]=&quot;$plugin $PLUGIN_OPTIONS&quot;
+    fi
+}
+
+build_cmdline()
+{
+    local file= plugin= p= libsuf=$1
+    # Add &quot;priority&quot; plugins.
+    if [ -n &quot;$VDR_PLUGIN_ORDER&quot; ] ; then
+        for plugin in $VDR_PLUGIN_ORDER ; do
+            if [ -e $PLUGINDIR/libvdr-${plugin}.so$libsuf ] ; then
+                plugconf $plugin
+            fi
+        done
+    fi
+    # Add the rest available.
+    for file in $PLUGINDIR/libvdr-*.so$libsuf ; do
+        plugin=`basename $file | sed -e 's/^libvdr-\(.*\)\.so.*$/\1/'`
+        if [ -n &quot;$VDR_PLUGIN_ORDER&quot; ] ; then
+            for p in $VDR_PLUGIN_ORDER ; do
+                if [ &quot;$plugin&quot; = &quot;$p&quot; ] ; then
+                    # Already added.
+                    continue 2
+                fi
+            done
+        fi
+        if [ -e &quot;$file&quot; ] ; then
+            plugconf &quot;$plugin&quot;
+        fi
+    done
+}
+
+reload_dvb()
+{
+    modules=$(/sbin/lsmod | grep ^dvb_core | awk '{ print $4 }' | tr , ' ')
+    /sbin/modprobe -r $modules dvb_core
+    for module in $modules ; do
+        /sbin/modprobe $module
+    done
+}
+
+rc=
+while true ; do
+
+    VDR_OPTIONS=()
+    if [ -n &quot;$VDR_INIT&quot; ] ; then
+        [ -f /etc/sysconfig/vdr ] &amp;&amp; . /etc/sysconfig/vdr
+        if [ -n &quot;$DAEMON_COREFILE_LIMIT&quot; ] ; then
+            ulimit -S -c $DAEMON_COREFILE_LIMIT &gt;/dev/null 2&gt;&amp;1 &amp;&amp; \
+                cd ${TMPDIR:-/tmp}
+        fi
+        build_cmdline ${PLUGINVER:+.$PLUGINVER}
+    fi
+
+    $VDR &quot;$@&quot; &quot;${VDR_OPTIONS[@]}&quot;
+    rc=$?
+
+    # 137: &quot;kill -KILL&quot; eg in killproc(), others: &quot;man vdr&quot;
+    case $rc in
+        0|2|137)
+            log &quot;VDR exited with status $rc, exiting&quot;
+            break
+            ;;
+        *)
+            log &quot;VDR exited with status $rc, attempting restart&quot;
+            reload_dvb
+            ;;
+    esac
+
+done
+
+exit $rc

Added: branches/rpms/brian/vdr/vdr-shutdown.sh
===================================================================
--- branches/rpms/brian/vdr/vdr-shutdown.sh	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-shutdown.sh	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,26 @@
+#!/bin/sh
+
+# To enable this script, pass it to vdr with the -s option, eg.
+# &quot;-s vdr-shutdown.sh&quot; (sans quotes) in VDR_OPTIONS in /etc/sysconfig/vdr.
+# See also below for additional required sudo configuration, and
+# README.package for information how to get the time written to ACPI and
+# thus getting the system to wake up at the correct time.
+
+# How many minutes before the next timer event should the system wake up,
+# ie. how long does it take to boot until VDR is running?
+delay=3
+
+file=/var/lib/vdr/acpi-wakeup
+rm -f $file
+
+if [ ${1:-0} -gt 0 -a -e /proc/acpi/alarm ] ; then
+    date -d &quot;1970-01-01 UTC $1 sec -$delay min&quot; +&quot;%Y-%m-%d %H:%M:%S&quot; &gt; $file
+fi
+
+# In order to make this work, the vdr user needs to be allowed to run
+# /sbin/shutdown -h now with sudo as root, without giving a password and
+# without a tty.  Example sudoers(5) configuration to accomplish that:
+#     Defaults:vdr    !requiretty
+#     vdr             ALL = (root) NOPASSWD: /sbin/shutdown -h now
+
+exec sudo /sbin/shutdown -h now

Added: branches/rpms/brian/vdr/vdr-skincurses.conf
===================================================================
--- branches/rpms/brian/vdr/vdr-skincurses.conf	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-skincurses.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,5 @@
+# Configuration snippet for vdr-skincurses                           -*- sh -*-
+#
+# Add command line options to pass to the skincurses plugin to PLUGIN_OPTIONS.
+
+PLUGIN_OPTIONS=&quot;&quot;

Added: branches/rpms/brian/vdr/vdr-sky.conf
===================================================================
--- branches/rpms/brian/vdr/vdr-sky.conf	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-sky.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,5 @@
+# Configuration snippet for vdr-sky                                  -*- sh -*-
+#
+# Add command line options to pass to the sky plugin to PLUGIN_OPTIONS.
+
+PLUGIN_OPTIONS=&quot;&quot;

Added: branches/rpms/brian/vdr/vdr-timercmds.conf
===================================================================
--- branches/rpms/brian/vdr/vdr-timercmds.conf	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-timercmds.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,3 @@
+# Timer commands for VDR.  See the vdr(5) manual page; the syntax is the
+# same as for reccmds.conf.
+

Added: branches/rpms/brian/vdr/vdr-udev.rules
===================================================================
--- branches/rpms/brian/vdr/vdr-udev.rules	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr-udev.rules	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,24 @@
+# VDR friendly udev rules for DVB and other devices
+
+# See also /etc/security/console.perms.d/*-vdr.perms and
+# <A HREF="https://bugzilla.redhat.com/202132">https://bugzilla.redhat.com/202132</A>
+
+# DVB devices
+KERNEL==&quot;dvb*&quot;, GROUP=&quot;VDR_GROUP&quot;, MODE=&quot;0660&quot;
+
+# Remote controller, serial port 1 (eg. vdr --rcu=/dev/ttyS0):
+#KERNEL==&quot;ttyS0&quot;, GROUP=&quot;VDR_GROUP&quot;, MODE=&quot;0660&quot;
+
+# Remote controller, /dev/input/event2 (using the remote plugin).  Change
+# event2 to event-remote if you're using the predictable naming rule below.
+#KERNEL==&quot;event2&quot;, GROUP=&quot;VDR_GROUP&quot;, MODE=&quot;0660&quot;
+
+# Example rule for predictable event device name (/dev/input/event-remote).
+# Adjust the sysfs name according to your setup, see
+# /sys/class/input/input*/name.  Examples:
+
+# Hauppauge Nexus-S, some other Hauppauge/Technotrend cards:
+#SUBSYSTEM==&quot;input&quot;, SYSFS{../name}==&quot;DVB on-card IR receiver&quot;, SYMLINK+=&quot;input/event-remote&quot;
+
+# Some Hauppauge Nova-T cards:
+#SUBSYSTEM==&quot;input&quot;, SYSFS{../name}==&quot;cx88 IR (Hauppauge Nova-T DVB-T&quot;, SYMLINK+=&quot;input/event-remote&quot;

Added: branches/rpms/brian/vdr/vdr.consoleperms
===================================================================
--- branches/rpms/brian/vdr/vdr.consoleperms	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr.consoleperms	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,20 @@
+# VDR friendly permissions and ownerships for various devices.  These take
+# effect at boot time as well as on console logins and logouts.  See also
+# /etc/udev/rules.d/*-vdr.rules and <A HREF="https://bugzilla.redhat.com/202132">https://bugzilla.redhat.com/202132</A>
+
+# DVB devices:
+&lt;vdrdvb&gt;=/dev/dvb/adapter*/*
+&lt;console&gt;  0660 &lt;vdrdvb&gt;     0660 root.VDR_GROUP
+
+# Optical drives; uncomment/adjust if you want to use them with VDR:
+#&lt;vdroptical&gt;=/dev/cdrom* /dev/cdrw* /dev/cdwriter* /dev/dvd*
+#&lt;console&gt;  0660 &lt;vdroptical&gt; 0660 root.VDR_GROUP
+
+# Remote controller, serial port 1 (eg. vdr --rcu=/dev/ttyS0):
+#&lt;vdrremote&gt;=/dev/ttyS0
+# Remote controller, /dev/input/event2 (using the remote plugin):
+#&lt;vdrremote&gt;=/dev/input/event2
+# Remote controller using the example in /etc/udev/rules.d/*-vdr.rules:
+#&lt;vdrremote&gt;=/dev/input/event-remote
+# Uncomment this if you have any &lt;vdrremote&gt;s above uncommented:
+#&lt;console&gt;  0660 &lt;vdrremote&gt;    0660 root.VDR_GROUP

Added: branches/rpms/brian/vdr/vdr.init
===================================================================
--- branches/rpms/brian/vdr/vdr.init	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr.init	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,84 @@
+#!/bin/bash
+#
+# vdr          Video Disk Recorder
+#
+# chkconfig:   - 30 09
+# description: Video Disk Recorder (VDR) implements a complete digital \
+#              set-top-box and video recorder.  It can work with signals \
+#              received from satellites (DVB-S) as well as cable (DVB-C) \
+#              and terrestrial (DVB-T) signals.  At least one DVB card \
+#              is required to run VDR.
+# processname: vdr
+
+# Source function library.
+. /etc/rc.d/init.d/functions
+
+prog=vdr
+runner=/usr/sbin/runvdr
+
+log()
+{
+    [ -x /usr/bin/logger ] &amp;&amp; \
+        /usr/bin/logger -s -pdaemon.error -t&quot;$prog&quot; &quot;$1&quot; || echo &quot;$1&quot;
+}
+
+checkconf()
+{
+    cfg=/etc/vdr/channels.conf
+    if [ ! -s &quot;$cfg&quot; ] ; then
+        failure
+        echo
+        log $&quot;Error: no valid $cfg found.&quot;
+        log $&quot;Use \&quot;scandvb -o vdr\&quot; from the dvb-apps package to create one.&quot;
+        return 6
+    else
+        chown VDR_USER:VDR_GROUP &quot;$cfg&quot; &amp;&amp; chmod 644 &quot;$cfg&quot;
+    fi
+}
+
+lockfile=/var/lock/subsys/$prog
+
+start() {
+    echo -n $&quot;Starting Video Disk Recorder ($prog): &quot;
+    checkconf || return $?
+    VDR_INIT=1 daemon --check=$prog &quot;$runner &gt;/dev/null 2&gt;&amp;1 &amp;&quot;
+    retval=$?
+    echo
+    [ $retval -eq 0 ] &amp;&amp; touch $lockfile
+    return $retval
+}
+
+stop() {
+    echo -n $&quot;Stopping Video Disk Recorder ($prog): &quot;
+    # Shutdown can be a bit slow sometimes with some plugins or lots of them,
+    # so let's give it some time and a chance to go down gracefully.
+    killall -9 runvdr 2&gt;/dev/null
+    killproc -d 7 $prog
+    retval=$?
+    echo
+    [ $retval -eq 0 ] &amp;&amp; rm -f $lockfile
+    return $retval
+}
+
+restart() {
+    stop
+    start
+}
+
+case &quot;$1&quot; in
+    start|stop|restart)
+        $1
+        ;;
+    reload|force-reload)
+        restart
+        ;;
+    status)
+        status $prog
+        ;;
+    condrestart|try-restart)
+  	[ ! -f $lockfile ] || restart
+	;;
+    *)
+        echo $&quot;Usage: $0 {start|stop|status|restart|try-restart|reload|force-reload}&quot;
+        exit 2
+esac

Added: branches/rpms/brian/vdr/vdr.spec
===================================================================
--- branches/rpms/brian/vdr/vdr.spec	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,718 @@
+# TODO, maybe some day:
+# - livebuffer patch, <A HREF="http://www.vdr-portal.de/board/thread.php?threadid=37309">http://www.vdr-portal.de/board/thread.php?threadid=37309</A>
+# - channelfilter patch, <A HREF="http://www.u32.de/vdr.html#patches">http://www.u32.de/vdr.html#patches</A>
+# - UTF-8 patch, <A HREF="http://www.free-x.de/utf8/">http://www.free-x.de/utf8/</A>
+
+%define videodir  /srv/vdr
+%define audiodir  /srv/audio
+%define plugindir %{_libdir}/vdr
+%define configdir %{_sysconfdir}/vdr
+%define datadir   %{_datadir}/vdr
+%define cachedir  %{_var}/cache/vdr
+%define rundir    %{_var}/run/vdr
+%define vardir    %{_var}/lib/vdr
+%define logdir    %{_var}/log/vdr
+%define vdr_user  vdr
+%define vdr_group video
+# From APIVERSION in config.h
+%define apiver    1.4.5
+
+Name:           vdr
+Version:        1.4.5
+Release:        5%{?dist}.bs
+Summary:        Video Disk Recorder
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.cadsoft.de/vdr/">http://www.cadsoft.de/vdr/</A>
+Source0:        <A HREF="ftp://ftp.cadsoft.de/vdr/%{name">ftp://ftp.cadsoft.de/vdr/%{name</A>}-%{version}.tar.bz2
+Source1:        %{name}.init
+Source2:        %{name}.sysconfig
+Source4:        %{name}-udev.rules
+Source5:        %{name}-reccmds.conf
+Source6:        %{name}-commands.conf
+Source7:        %{name}-runvdr.sh
+Source8:        %{name}.consoleperms
+Source9:        %{name}-config.sh
+Source10:       %{name}-README.package
+Source11:       %{name}-skincurses.conf
+Source12:       %{name}-sky.conf
+Source13:       %{name}-timercmds.conf
+Source14:       %{name}-shutdown.sh
+Patch0:         %{name}-channel+epg.patch
+Patch1:         <A HREF="http://zap.tartarus.org/~ds/debian/dists/unstable/main/source/vdr_1.4.5-1.ds.diff.gz">http://zap.tartarus.org/~ds/debian/dists/unstable/main/source/vdr_1.4.5-1.ds.diff.gz</A>
+Patch2:         <A HREF="http://www.saunalahti.fi/~rahrenbe/vdr/patches/vdr-1.4.5-liemikuutio-1.13.diff.gz">http://www.saunalahti.fi/~rahrenbe/vdr/patches/vdr-1.4.5-liemikuutio-1.13.diff.gz</A>
+Patch3:         %{name}-1.4.1-paths.patch
+Patch4:         %{name}-1.4.1-dumpable.patch
+Patch5:         <A HREF="ftp://ftp.cadsoft.de/vdr/Developer/vdr-1.4.5-1.diff">ftp://ftp.cadsoft.de/vdr/Developer/vdr-1.4.5-1.diff</A>
+Patch6:         <A HREF="ftp://ftp.cadsoft.de/vdr/Developer/vdr-1.4.5-2.diff">ftp://ftp.cadsoft.de/vdr/Developer/vdr-1.4.5-2.diff</A>
+Patch7:         channelscan-vdr.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  libjpeg-devel
+BuildRequires:  libcap-devel
+BuildRequires:  pkgconfig
+BuildRequires:  perl(File::Spec)
+Requires:       udev
+Requires(pre):  %{_sbindir}/groupadd
+Requires(pre):  %{_sbindir}/useradd
+Requires(post): /sbin/chkconfig
+Requires(preun): /sbin/chkconfig
+Provides:       vdr(abi) = %{apiver}
+
+%description
+VDR implements a complete digital set-top-box and video recorder.
+It can work with signals received from satellites (DVB-S) as well as
+cable (DVB-C) and terrestrial (DVB-T) signals.  At least one DVB card
+is required to run VDR.
+
+%package        devel
+Summary:        Development files for VDR
+Group:          Development/Libraries
+Requires:       pkgconfig
+Provides:       vdr-devel(api) = %{apiver}
+
+%description    devel
+%{summary}.
+
+%package        skincurses
+Summary:        Shell window skin plugin for VDR
+Group:          Applications/Multimedia
+%if 0%{?_with_plugins:1}
+BuildRequires:  ncurses-devel
+%endif
+Requires:       vdr(abi) = %{apiver}
+
+%description    skincurses
+The skincurses plugin implements a VDR skin that works in a shell
+window, using only plain text output.
+
+%package        sky
+Summary:        Sky Digibox plugin for VDR
+Group:          Applications/Multimedia
+Requires:       vdr(abi) = %{apiver}
+
+%description    sky
+The sky plugin implements a new device for VDR, which is based on the
+MPEG2 encoder card described at linuxtv.org/mpeg2/kfir.xml.  It allows
+you to connect the analog a/v output of your Sky Digibox to VDR, so
+that you can enjoy the full recording flexibility of VDR with your Sky
+subscription.  You will need a Sky Digibox and a valid subscription in
+order to use this plugin.
+
+
+%prep
+%setup -q
+%patch0 -p1
+%patch1 -p1
+#patch -i debian/patches/02_latin-1.dpatch
+patch -i debian/patches/02_plugin_missing.dpatch
+patch -i debian/patches/02_reload.dpatch
+# sort_options would be nice, but it conflicts with channel+epg which is nicer
+#patch -i debian/patches/02_sort_options.dpatch
+#patch -i debian/patches/03_no-data_timeout.dpatch
+#patch -i debian/patches/03_settime_segfault.dpatch
+#patch -i debian/patches/04_cmdsubmenu.dpatch
+#patch -i debian/patches/05_nissl_dvbplayer.dpatch
+#patch -i debian/patches/06_recording_readonly.dpatch
+patch -i debian/patches/06_recording_scan_speedup.dpatch
+patch -i debian/patches/07_blockify_define.dpatch
+#patch -i debian/patches/09_increase_epgscan_timeout.dpatch
+patch -i debian/patches/10_livelock.dpatch
+patch -i debian/patches/11_atsc.dpatch
+echo &quot;DEFINES += -DHAVE_ATSC&quot; &gt;&gt; Makefile
+#patch -i debian/patches/12_skinclassic_icons.dpatch
+#patch -i debian/patches/15_cut_compensate_start_time.dpatch
+patch -i debian/patches/19_debian_osdbase_maxitems.dpatch
+patch -i debian/patches/opt-20_epgsearch.dpatch
+#patch -i debian/patches/opt-20_liemikuutio.dpatch
+patch -i debian/patches/opt-20_subtitles_0.4.0_ttxtsubs_0.0.5.dpatch
+patch -i debian/patches/opt-20_suspend.dpatch
+patch -i debian/patches/opt-20_vdr-timer-info.dpatch
+%patch2 -p1
+%patch3 -p1
+%patch4 -p1
+%patch5 -p1
+%patch6 -p1
+%patch7 -p1
+
+# Fix up paths
+sed -i -e 's|\b\(ConfigDirectory = \)VideoDirectory;|\1&quot;%{configdir}&quot;;|' vdr.c
+sed -i \
+  -e 's|__CACHEDIR__|%{cachedir}|'   \
+  -e 's|__CONFIGDIR__|%{configdir}|' \
+  -e 's|__PLUGINDIR__|%{plugindir}|' \
+  -e 's|__VIDEODIR__|%{videodir}|'   \
+  epg2html.pl vdr.1 vdr.c PLUGINS/src/sky/README
+
+# Fix up man page section
+sed -i -e 's/\bvdr\(\s*\)(1)/vdr\1(8)/' HISTORY UPDATE-1.2.0 vdr.5
+sed -i -e 's/\bvdr\([\. ]\)1\b/vdr\18/' HISTORY vdr.1
+
+for f in CONTRIBUTORS HISTORY* UPDATE-1.4.0 ; do
+  iconv -f iso-8859-1 -t utf-8 -o $f.utf8 $f &amp;&amp; mv $f.utf8 $f
+done
+
+sed -i -e 's/epg2html.pl/epg2html/' CONTRIBUTORS HISTORY epg2html.pl
+sed -i -e 's/svdrpsend.pl/svdrpsend/' HISTORY
+sed -i -e 's/getskyepg.pl/getskyepg/' \
+  PLUGINS/src/sky/{getskyepg.pl,README,HISTORY}
+
+cp -p %{SOURCE5} reccmds.conf
+cp -p %{SOURCE13} timercmds.conf
+sed -e 's|/srv/audio|%{audiodir}|' %{SOURCE6} &gt; commands.conf
+# Unfortunately these can't have comments in them, so ship 'em empty.
+cat /dev/null &gt; channels.conf
+cat /dev/null &gt; remote.conf
+cat /dev/null &gt; setup.conf
+cat /dev/null &gt; timers.conf
+
+install -pm 644 %{SOURCE10} README.package
+
+# Would like to do &quot;files {channels,setup,timers}.conf&quot; from config dir
+# only, but rename() in cSafeFile barks &quot;device or resource busy&quot;, cf.
+# <A HREF="http://lists.suse.com/archive/suse-programming-e/2003-Mar/0051.html">http://lists.suse.com/archive/suse-programming-e/2003-Mar/0051.html</A>
+cat &lt;&lt; EOF &gt; %{name}.rwtab
+dirs	%{cachedir}
+files	%{configdir}
+files	%{vardir}
+EOF
+
+
+%build
+
+# Intentionally not using %{version} or %{apiver} here, see %check
+vdrver=$(sed -ne '/define VDRVERSION/s/^.*&quot;\(.*\)&quot;.*$/\1/p' config.h)
+apiver=$(sed -ne '/define APIVERSION/s/^.*&quot;\(.*\)&quot;.*$/\1/p' config.h)
+
+cat &lt;&lt; EOF &gt; vdr.pc
+videodir=%{videodir}
+audiodir=%{audiodir}
+plugindir=%{plugindir}
+configdir=%{configdir}
+datadir=%{datadir}
+cachedir=%{cachedir}
+rundir=%{rundir}
+vardir=%{vardir}
+logdir=%{logdir}
+user=%{vdr_user}
+group=%{vdr_group}
+apiversion=$apiver
+
+Name: VDR
+Description: Video Disk Recorder
+Version: $vdrver
+EOF
+
+cat &lt;&lt; EOF &gt; Make.config
+CC           = %{__cc}
+CXX          = %{__cxx}
+
+ifeq (\$(RPM_OPT_FLAGS),)
+  CFLAGS     = $RPM_OPT_FLAGS
+  CXXFLAGS   = $RPM_OPT_FLAGS -Wall -Woverloaded-virtual
+else
+  CFLAGS     = \$(RPM_OPT_FLAGS)
+  CXXFLAGS   = \$(RPM_OPT_FLAGS) -Wall -Woverloaded-virtual
+endif
+ifdef PLUGIN
+  CFLAGS    += -fPIC
+  CXXFLAGS  += -fPIC
+endif
+
+PLUGINLIBDIR = \$(DESTDIR)\$(shell pkg-config vdr --variable=plugindir)
+VIDEODIR     = \$(DESTDIR)\$(shell pkg-config vdr --variable=videodir)
+LIBDIR       = \$(PLUGINLIBDIR)
+
+VDR_USER     = %{vdr_user}
+EOF
+
+export PKG_CONFIG_PATH=$(pwd)
+make %{?_smp_mflags} all include-dir
+%if 0%{?_with_plugins:1}
+make %{?_smp_mflags} -C PLUGINS/src/skincurses LIBDIR=. all
+make %{?_smp_mflags} -C PLUGINS/src/sky        LIBDIR=. all
+%endif
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+
+abs2rel() { perl -MFile::Spec -e 'print File::Spec-&gt;abs2rel(@ARGV)' &quot;$@&quot; ; }
+
+install -Dpm 755 vdr $RPM_BUILD_ROOT%{_sbindir}/vdr
+
+install -dm 755 $RPM_BUILD_ROOT%{_bindir}
+install -pm 755 svdrpsend.pl $RPM_BUILD_ROOT%{_bindir}/svdrpsend
+install -pm 755 epg2html.pl $RPM_BUILD_ROOT%{_bindir}/epg2html
+
+install -Dpm 644 vdr.1 $RPM_BUILD_ROOT%{_mandir}/man8/vdr.8
+install -Dpm 644 vdr.5 $RPM_BUILD_ROOT%{_mandir}/man5/vdr.5
+
+install -dm 755 $RPM_BUILD_ROOT%{configdir}/plugins
+install -pm 644 *.conf $RPM_BUILD_ROOT%{configdir}
+
+install -dm 755 $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d
+
+install -dm 755 $RPM_BUILD_ROOT%{configdir}/themes
+touch $RPM_BUILD_ROOT%{configdir}/themes/{classic,sttng}-default.theme
+
+install -Dpm 755 %{SOURCE1} $RPM_BUILD_ROOT%{_initrddir}/vdr
+sed -i \
+  -e 's|/usr/sbin/|%{_sbindir}/|'  \
+  -e 's|/etc/vdr/|%{configdir}/|g' \
+  -e 's|/var/lib/vdr/|%{vardir}/|' \
+  -e 's|VDR_USER|%{vdr_user}|'     \
+  -e 's|VDR_GROUP|%{vdr_group}|'   \
+  $RPM_BUILD_ROOT%{_initrddir}/vdr
+
+install -pm 755 %{SOURCE7} $RPM_BUILD_ROOT%{_sbindir}/runvdr
+sed -i \
+  -e 's|/usr/sbin/|%{_sbindir}/|'                    \
+  -e 's|/etc/sysconfig/|%{_sysconfdir}/sysconfig/|g' \
+  -e 's|/usr/lib/vdr\b|%{plugindir}|'                \
+  -e 's|VDR_PLUGIN_VERSION|%{apiver}|'               \
+  $RPM_BUILD_ROOT%{_sbindir}/runvdr
+
+install -dm 755 $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig
+sed -e 's|/usr/lib/vdr/|%{plugindir}/|' &lt; %{SOURCE2} \
+  &gt; $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr
+chmod 644 $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr
+
+install -dm 755 $RPM_BUILD_ROOT%{videodir}
+install -dm 755 $RPM_BUILD_ROOT%{audiodir}
+
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}/bin
+sed -e 's|/var/lib/vdr/|%{vardir}/|' &lt; %{SOURCE14} \
+  &gt; $RPM_BUILD_ROOT%{plugindir}/bin/%{name}-shutdown.sh
+chmod 755 $RPM_BUILD_ROOT%{plugindir}/bin/%{name}-shutdown.sh
+install -dm 755 $RPM_BUILD_ROOT%{cachedir}
+touch $RPM_BUILD_ROOT%{cachedir}/epg.data
+install -dm 755 $RPM_BUILD_ROOT%{datadir}/logos
+install -dm 755 $RPM_BUILD_ROOT%{rundir}
+install -dm 755 $RPM_BUILD_ROOT%{vardir}
+touch $RPM_BUILD_ROOT%{vardir}/acpi-wakeup
+install -dm 755 $RPM_BUILD_ROOT%{logdir}
+
+install -dm 755 $RPM_BUILD_ROOT%{_sysconfdir}/udev/rules.d
+sed -e 's/VDR_GROUP/%{vdr_group}/' &lt; %{SOURCE4} \
+  &gt; $RPM_BUILD_ROOT%{_sysconfdir}/udev/rules.d/51-%{name}.rules
+chmod 644 $RPM_BUILD_ROOT%{_sysconfdir}/udev/rules.d/*-%{name}.rules
+
+install -dm 755 $RPM_BUILD_ROOT%{_sysconfdir}/security/console.perms.d
+sed -e 's/VDR_GROUP/%{vdr_group}/' &lt; %{SOURCE8} \
+  &gt; $RPM_BUILD_ROOT%{_sysconfdir}/security/console.perms.d/95-%{name}.perms
+chmod 644 $RPM_BUILD_ROOT%{_sysconfdir}/security/console.perms.d/*%{name}.perms
+
+install -Dpm 644 %{name}.rwtab $RPM_BUILD_ROOT%{_sysconfdir}/rwtab.d/%{name}
+
+# devel
+install -Dpm 644 vdr.pc $RPM_BUILD_ROOT%{_libdir}/pkgconfig/vdr.pc
+install -pm 755 %{SOURCE9} $RPM_BUILD_ROOT%{_bindir}/vdr-config
+install -pm 755 newplugin $RPM_BUILD_ROOT%{_bindir}/vdr-newplugin
+install -dm 755 $RPM_BUILD_ROOT%{_libdir}/vdr/include/vdr
+install -pm 644 Make.config $RPM_BUILD_ROOT%{_libdir}/vdr
+install -dm 755 $RPM_BUILD_ROOT%{_includedir}/{vdr,libsi}
+cp -pLR include/* $RPM_BUILD_ROOT%{_includedir}/
+ln -s $(abs2rel %{_includedir}/vdr/config.h %{_libdir}/vdr) \
+  $RPM_BUILD_ROOT%{_libdir}/vdr
+
+# plugins
+%if 0%{?_with_plugins:1}
+install -pm 755 PLUGINS/src/skincurses/libvdr-skincurses.so.%{apiver} \
+  $RPM_BUILD_ROOT%{plugindir}
+install -pm 644 %{SOURCE11} \
+  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/skincurses.conf
+install -pm 755 PLUGINS/src/sky/libvdr-sky.so.%{apiver} \
+  $RPM_BUILD_ROOT%{plugindir}
+install -pm 644 %{SOURCE12} \
+  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/sky.conf
+install -pm 755 PLUGINS/src/sky/getskyepg.pl \
+  $RPM_BUILD_ROOT%{_bindir}/getskyepg
+install -Dpm 644 PLUGINS/src/sky/channels.conf.sky \
+  $RPM_BUILD_ROOT%{configdir}/plugins/sky/channels.conf.sky
+%endif
+
+
+%check
+export PKG_CONFIG_PATH=$RPM_BUILD_ROOT%{_libdir}/pkgconfig
+if [ &quot;$(pkg-config vdr --variable=apiversion)&quot; != &quot;%{apiver}&quot; ] ; then
+    echo &quot;ERROR: API version mismatch in vdr.pc / package / config.h&quot; ; exit 1
+fi
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%pre
+%{_sbindir}/groupadd -r video 2&gt;/dev/null || :
+%{_sbindir}/useradd -c &quot;Video Disk Recorder&quot; -d %{videodir} \
+  -g %{vdr_group} -M -n -r -s /sbin/nologin %{vdr_user} 2&gt;/dev/null || :
+
+%post
+/sbin/chkconfig --add vdr
+
+%preun
+if [ $1 -eq 0 ] ; then
+    %{_initrddir}/vdr stop &gt;/dev/null 2&gt;&amp;1 || :
+    /sbin/chkconfig --del vdr
+fi
+
+%postun
+[ $1 -gt 0 ] &amp;&amp; %{_initrddir}/vdr try-restart &gt;/dev/null || :
+
+
+%files
+%defattr(-,root,root,-)
+%doc CONTRIBUTORS COPYING HISTORY* INSTALL MANUAL README* UPDATE-1.[24].0
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr
+%config(noreplace) %{_sysconfdir}/udev/rules.d/*-%{name}.rules
+%config(noreplace) %{_sysconfdir}/security/console.perms.d/*-%{name}.perms
+%config(noreplace) %{_sysconfdir}/rwtab.d/%{name}
+%config %{_sysconfdir}/sysconfig/vdr-plugins.d/
+%{_initrddir}/vdr
+%{_bindir}/epg2html
+%{_bindir}/svdrpsend
+%{_sbindir}/runvdr
+%{_sbindir}/vdr
+%dir %{plugindir}/
+%dir %{plugindir}/bin/
+%{plugindir}/bin/%{name}-shutdown.sh
+%{datadir}/
+%{_mandir}/man[58]/vdr.[58]*
+%defattr(-,%{vdr_user},%{vdr_group},-)
+%dir %{rundir}/
+# TODO: tighten this (root:root ownership to some files/dirs)?
+%dir %{configdir}/
+%dir %{configdir}/plugins/
+%dir %{configdir}/themes/
+%ghost %{configdir}/themes/*.theme
+%config(noreplace) %{configdir}/*.conf
+%dir %{videodir}/
+%dir %{audiodir}/
+%defattr(-,%{vdr_user},root,-)
+%dir %{logdir}/
+%dir %{vardir}/
+%ghost %{vardir}/acpi-wakeup
+%dir %{cachedir}/
+%ghost %{cachedir}/epg.data
+
+%files devel
+%defattr(-,root,root,-)
+%doc COPYING PLUGINS.html
+%{_bindir}/vdr-config
+%{_bindir}/vdr-newplugin
+%{_includedir}/libsi/
+%{_includedir}/vdr/
+%{_libdir}/pkgconfig/vdr.pc
+%dir %{_libdir}/vdr/
+%{_libdir}/vdr/Make.config
+%{_libdir}/vdr/config.h
+
+%if 0%{?_with_plugins:1}
+%files skincurses
+%defattr(-,root,root,-)
+%doc PLUGINS/src/skincurses/COPYING PLUGINS/src/skincurses/HISTORY
+%doc PLUGINS/src/skincurses/README
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/skincurses.conf
+%{plugindir}/libvdr-skincurses.so.%{apiver}
+
+%files sky
+%defattr(-,root,root,-)
+%doc PLUGINS/src/sky/COPYING PLUGINS/src/sky/HISTORY
+%doc PLUGINS/src/sky/README PLUGINS/src/sky/lircd.conf.sky
+%{_bindir}/getskyepg
+%config(noreplace) %{configdir}/plugins/sky/channels.conf.sky
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/sky.conf
+%{plugindir}/libvdr-sky.so.%{apiver}
+%endif
+
+%changelog
+* Sat Feb 24 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.5-4
+- Upstream 1.4.5-2.
+
+* Sun Jan 28 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.5-3
+- Upstream 1.4.5-1, refresh other patches.
+- Fix xineliboutput plugin name in sysconfig's VDR_PLUGIN_ORDER.
+- Delay a bit in the init script's stop function for clean shutdown.
+- Update CDDA_TRANSPORT workaround status in commands.conf abcde example.
+- Improve /sbin/halt.local explanation in README.package.
+- Minor specfile cleanups.
+
+* Sun Jan  7 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.5-2
+- 1.4.5, Darren Salt's 1.4.4-1.ds.
+- Make it possible to disable installed plugins in plugin sysconfig snippet.
+- Add shutdown script, document ACPI wakeup usage in README.package.
+- Shut down earlier by default for better experience with the -s option.
+- Include INSTALL in docs, it contains useful post-install info.
+- Improve remote control examples in udev rules snippet.
+- Honor $TMPDIR when running with core dumps enabled.
+- Add read only root/temporary state config.
+- Add ttxtsubs to default plugin order list.
+- Include log dir for plugins.
+
+* Sat Nov  4 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.4-1
+- 1.4.4.
+- Apply epgsearch and timer info patches.
+- Mark console.perms snippet noreplace again.
+
+* Sun Oct 15 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.3-3
+- Apply upstream 1.4.3-1 maintenance patch.
+- Sync with 1.4.3-1.ds, update liemikuutio patch to 1.13.
+- Drop no longer needed README.plugins.d, README.package is enough (#190343).
+
+* Fri Oct 06 2006 Thorsten Leemhuis &lt;fedora [AT] leemhuis [DOT] info&gt; 1.4.3-2
+- rebuilt for unwind info generation, broken in gcc-4.1.1-21
+
+* Sat Sep 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.3-1
+- 1.4.3, 1.4.2-1.ds, liemikuutio 1.12.
+
+* Sun Sep  3 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.2-2
+- 1.4.2-1, liemikuutio 1.10.
+
+* Sun Aug 27 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.2-1
+- 1.4.2, syscall and maintenance patches applied upstream.
+
+* Mon Aug 21 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.1-11
+- Set device permissions in both console.perms and udev (#202132).
+- Implement restart and DVB module reload functionality roughly like
+  upstream runvdr does it.
+
+* Fri Aug 18 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.1-10
+- Fix build with recent kernel headers where _syscallX are no longer visible.
+- Drop ia64 patch (superseded by the above) and the thread poison patch.
+
+* Fri Aug 11 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.1-9
+- Set device permissions using console.perms instead of udev rules
+  to work around new pam trumping udev config (#202132).
+
+* Sun Aug  6 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.1-8
+- Apply upstream 1.4.1-3 maintenance patch.
+
+* Sun Jul 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.1-7
+- Apply upstream 1.4.1-2 maintenance patch.
+- Use VFAT compatible recording names by default.
+
+* Sun Jul 16 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.1-6
+- Don't use %%bcond_with to appease buildsys.
+
+* Sat Jul 15 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.1-5
+- Update liemikuutio patch to 1.8.
+- Patch dumpability to work with PR_SET_DUMPABLE changes in recent kernels,
+  add corresponding warning to sysconfig snippet comment.
+
+* Sat Jul  1 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.1-4
+- Update liemikuutio patch to 1.7.
+- Conditionally build the skincurses and sky plugins; disabled by default,
+  rebuild with &quot;--with plugins&quot; to enable.
+- Make symlinks relative.
+
+* Fri Jun 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.1-3
+- Move headers to %%{_includedir}.
+- Add README.package to docs, describing some aspects of the package (#1063).
+- Add LIBDIR to Make.config to ease local plugin builds (#1063).
+- Update VDR_PLUGIN_ORDER in sysconfig snippet, loading potential output
+  plugins before others.  See commentary in the file for details.
+- Add example how to affect OSD time/date formats to sysconfig snippet.
+
+* Sun Jun 18 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.1-2
+- 1.4.1-1 + 1.4.1-1.ds.
+- Drop glibc-kernheaders dependency from -devel too.
+- Make -devel multilib friendly, add pkgconfig file.
+
+* Sun Jun 11 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.1-1
+- 1.4.1, liemikuutio 1.6.
+
+* Mon May 29 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.0-5
+- Address some review notes in #190343 comment 2:
+- Add example udev rule for predictable remote control device naming.
+- Drop glibc-kernheaders build dependency.
+- Specfile cleanups.
+
+* Sun May 28 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.0-4
+- Apply upstream 1.4.0-2 maintenance patch.
+
+* Sun May 14 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.0-3
+- Apply upstream 1.4.0-1 maintenance patch.
+- Drop unneeded version check from %%check.
+
+* Mon May  1 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.0-2
+- Sync with 1.4.0-1.ds.
+
+* Sun Apr 30 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.4.0-1
+- 1.4.0 + 1.3.48-1.ds, re-enable reload patch.
+
+* Sun Apr 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.48-1
+- 1.3.48, no need to rebuild plugins, woo-hoo!
+
+* Mon Apr 17 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.47-1
+- 1.3.47 + the usual patchwork.
+- Trim pre-RLO %%changelog entries.
+- Add vdr(abi) and vdr-devel(api) versioned Provides for plugin versioning
+  and --version and --apiversion to vdr-config, see HISTORY.
+- Use sed instead of perl for edits during the build.
+- Temporarily disable reload/SIGUSR1 patch.
+
+* Sun Apr  9 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.46-1
+- 1.3.46 + the usual patchwork.
+
+* Sun Mar 26 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.45-1
+- 1.3.45 + 1.3.44-2.ds + Rofa's mute fix.
+
+* Thu Mar 09 2006 Andreas Bierfert &lt;andreas.bierfert[AT]lowlatency.de&gt;
+- switch to new release field
+
+* Sun Mar  5 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.44-0.lvn.2
+- Sync with 1.3.44-1.ds, apply Rolf Ahrenberg's readline fix.
+
+* Wed Mar  1 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.44-0.lvn.1
+- 1.3.44, include Marko M&#195;&#164;kel&#195;&#164;'s suspend patch.
+- Move runvdr to %%{_sbindir} and make it option-compatible with the
+  upstream one.  If VDR_INIT is non-empty in the environment, automatic
+  command line building is enabled.  The init script still does that.
+  Also makes the init script and runvdr easier to adapt to alternative
+  init systems such as initng (#781).
+
+* Tue Feb 28 2006 Andreas Bierfert &lt;andreas.bierfert[AT]lowlatency.de&gt;
+- add dist
+
+* Tue Feb 21 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.43-0.lvn.2
+- Sync with 1.3.43-1.ds.
+
+* Sun Feb 19 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.43-0.lvn.1
+- 1.3.43 + 1.3.42-2.ds + Rolf Ahrenberg's audiotracks patch.
+- Drop Reinhard Ni&#195;&#159;l's dvbplayer patch at least for now.
+
+* Sun Feb  5 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.42-0.lvn.1
+- 1.3.42; dumpable, menu-in-replay and constness patches applied upstream.
+- Make udev rules work as expected with later udev versions.
+
+* Sun Jan 29 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt;
+- 1.3.41; Finnish, EPG null title and LIRC reconnect patches
+  applied/obsoleted upstream.
+- Revert back to Udo Richter's more general purpose &quot;menu in replay&quot; patch.
+
+* Sat Jan 28 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.40-0.lvn.3
+- Patch LIRC support to try to reconnect if lircd connection is lost.
+- Update liemikuutio patch to 1.2.
+
+* Mon Jan 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.40-0.lvn.2
+- Replace EPG null title crash fix with upstream one.
+
+* Sun Jan 22 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.40-0.lvn.1
+- 1.3.40, key macro and SVDRP CLRE crash patches applied upstream.
+- Replace menu tweak patch with one from Luca Olivetti.
+
+* Wed Jan 18 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.39-0.lvn.3
+- Fix sysconfig stupidity introduced in 0.lvn.2, _only_ DAEMON_COREFILE_LIMIT
+  was taken into account :P
+
+* Mon Jan 16 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.39-0.lvn.2
+- Apply upstream key macro and SVDRP CLRE crash patches.
+- Source sysconfig snippet again in init script (so that eg.
+  DAEMON_COREFILE_LIMIT etc works as expected).
+
+* Sun Jan 15 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.39-0.lvn.1
+- 1.3.39 + the usual patch shuffling, kudos to Rolf Ahrenberg and Udo
+  Richter.
+
+* Wed Jan 11 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.38-0.lvn.4
+- Apply upstream menu fix patch.
+- Add some comments to sysconfig file.
+
+* Tue Jan 10 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.38-0.lvn.3
+- Sync with 1.3.38-2.ds.
+
+* Mon Jan  9 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.38-0.lvn.2
+- Sync with 1.3.38-1.ds.
+- Remove references to the removed ca.conf from the manpage.
+
+* Sun Jan  8 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.38-0.lvn.1
+- 1.3.38, su/capabilities stuff, low disk space crash, CAN-2005-0071,
+  audio pids and timed recording deletion patches applied upstream.
+- Patch to allow core dumps and startup script simplifications with the
+  newly introduced set[ug]id functionality.
+- Patch to fix gettid usage (includes).
+- enAIO patchset replaced by liemikuutio 1.0.
+- Updated Finnish translations.
+
+* Wed Jan  4 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.37-0.lvn.3
+- Fix syntax error in sysconfig file (#714, Scott Tsai).
+- Change built-in default of epg.data location to %%{cachedir}, drop it
+  from the sysconfig file and update docs.
+
+* Sat Dec 10 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.37-0.lvn.2
+- Apply &quot;low disk space&quot; message crash from Andreas Brachold.
+- Apply upstream fix for 2nd audio pid and live DD on encrypted channels.
+- Add (commented out) sysconfig and console.perms.d samples for setting and
+  retaining VDR-friendly CD/DVD drive permissions.
+- Sync with 1.3.37-1.ds.
+
+* Mon Nov 28 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.37-0.lvn.1
+- 1.3.37.
+
+* Sat Nov 12 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.36-0.lvn.2
+- Default config improvements.
+- Sync with 1.3.36-1.ds.
+
+* Sun Nov  6 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.36-0.lvn.1
+- 1.3.36, recording end crash fix applied upstream.
+- Don't load LIRC unconditionally, pass --lirc by default in sysconfig/vdr.
+
+* Tue Nov  1 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.35-0.lvn.1
+- 1.3.35 + Joachim Wilke's recording end crash fix; Finnish, daemon and
+  infloop patches applied upstream.
+
+* Sun Oct 16 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.34-0.lvn.2
+- Update enAIO patch to 2.7.
+- Apply daemon and menu infinite loop patches from Enrico Scholz.
+
+* Fri Oct  7 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.34-0.lvn.1
+- 1.3.34 + 1.3.34-1.ds + Rolf Ahrenberg's Finnish i18n fixes.
+
+* Sun Sep 25 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.33-0.lvn.1
+- 1.3.33.
+- Sync with 1.3.32-1.ds.
+- Apply enAIO patch.
+
+* Fri Sep 16 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.32-0.lvn.2
+- Fix init script on multilib archs (#596, Jussi Lehtola).
+
+* Sun Sep 11 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.32-0.lvn.1
+- 1.3.32, bunch of patches applied upstream.
+- Drop main package dependency from -devel.
+
+* Sun Aug 28 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.31-0.lvn.1
+- 1.3.31 + upstream warnings fix + Reinhard Ni&#195;&#159;l's patch bomb.
+- Ship plugin creator script in -devel.
+
+* Mon Aug 22 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.30-0.lvn.2
+- Don't use stuff from the su/capabilities patch by default, it causes
+  problems with getting core dumps if plugins crash.
+- Simplify things by splitting stuff from init script to separate launcher.
+- Sync with 1.3.30-1.ds, fix a warning in the svdrp grab patch.
+- Add audio CD ripping example to commands.conf.
+
+* Sun Aug 21 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.30-0.lvn.1
+- 1.3.30, PPC/unaligned patch no longer needed.
+- Tune default plugin load order, add muggle.
+- Minor init script improvements.
+
+* Wed Aug 17 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.29-0.lvn.2
+- Sync with Darren Salt's 1.3.29-1.ds.
+- Drop dvbplayer patch; no longer needed for recent recordings.
+- Patch/hack (from reiserfsprogs) to fix PPC build (asm/unaligned.h).
+- Start up earlier/shut down later by default at boot/shutdown.
+- Add vardir for storing non-cache, non-video data; and audiodir for
+  audio plugins.
+
+* Mon Aug 15 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.29-0.lvn.1
+- 1.3.29, Finnish patch applied upstream.
+
+* Sat Aug 13 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.28-1.lvn.2
+- Apply Rolf Ahrenberg's newest Finnish patch.
+- Drop historical conflict with an old vdr-dxr3 snapshot.
+
+* Thu Aug 11 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.3.28-1.lvn.1
+- Truncate config files in more portable manner during build.

Added: branches/rpms/brian/vdr/vdr.sysconfig
===================================================================
--- branches/rpms/brian/vdr/vdr.sysconfig	                        (rev 0)
+++ branches/rpms/brian/vdr/vdr.sysconfig	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,52 @@
+# System configuration for VDR                                       -*- sh -*-
+
+# The &quot;master&quot; options.  Some examples of options you may want to set
+# here are -r, -s, -t, and --rcu.  See the vdr(8) man page for more info.
+#
+VDR_OPTIONS=(--lirc --vfat)
+
+# VDR_PLUGIN_ORDER is a space separated list of plugins that should be
+# loaded in a specific order.  This affects eg. the order the plugins'
+# menu entries are displayed OSD menus by default.  The plugins in this
+# list don't need to be installed, but if they are, they will be loaded
+# before other possibly installed plugins.  Note that it is recommended
+# to load output plugins before others so that all necessary features are
+# present when needed by other plugins at startup/shutdown.
+#
+VDR_PLUGIN_ORDER=&quot;
+dxr3
+softdevice
+streamdev-client
+xine
+xineliboutput
+tvonscreen
+osdteletext
+subtitles
+ttxtsubs
+osdpip
+femon
+sudoku
+dvd
+externalplayer
+mplayer
+mp3
+muggle
+burn
+&quot;
+
+# I18N settings; VDR doesn't work with UTF-8.
+#
+. /etc/sysconfig/i18n 2&gt;/dev/null || :
+LANG=${LANG%.UTF-8}
+LC_ALL=${LC_ALL%.UTF-8}
+LC_CTYPE=${LC_CTYPE%.UTF-8}
+# LC_TIME affects how dates and times are displayed.
+#export LC_TIME=fi_FI
+
+# PATH where to find the internally used executables.
+#
+PATH=&quot;/usr/lib/vdr/bin:$PATH&quot;
+
+# For debugging: allow vdr to dump core.  Note that depending on the operating
+# environment, core dumps from setuid processes may be a security issue.
+#DAEMON_COREFILE_LIMIT=&quot;unlimited&quot;

Added: branches/rpms/brian/vdr/vdr_1.4.5-1.ds.diff.gz
===================================================================
(Binary files differ)


Property changes on: branches/rpms/brian/vdr/vdr_1.4.5-1.ds.diff.gz
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: branches/rpms/brian/vdr-analogtv/cpu_accel.c.patch
===================================================================
--- branches/rpms/brian/vdr-analogtv/cpu_accel.c.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-analogtv/cpu_accel.c.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,63 @@
+diff -ru analogtv-1.0.01.orig/cpu_accel.c analogtv-1.0.01/cpu_accel.c
+--- analogtv-1.0.01.orig/cpu_accel.c	2005-05-13 23:49:38.000000000 +0200
++++ analogtv-1.0.01/cpu_accel.c	2005-05-13 23:57:49.000000000 +0200
+@@ -50,30 +50,44 @@
+     int AMD;
+     uint32_t caps;
+ 
++#if !defined(PIC) &amp;&amp; !defined(__PIC__)
+ #define cpuid(op,eax,ebx,ecx,edx)	\
+-    asm (&quot;cpuid&quot;			\
++    __asm__ (&quot;cpuid&quot;			\
+ 	 : &quot;=a&quot; (eax),			\
+ 	   &quot;=b&quot; (ebx),			\
+ 	   &quot;=c&quot; (ecx),			\
+ 	   &quot;=d&quot; (edx)			\
+ 	 : &quot;a&quot; (op)			\
+ 	 : &quot;cc&quot;)
++#else   /* PIC version : save ebx */
++#define cpuid(op,eax,ebx,ecx,edx)       \
++    __asm__ (&quot;push %%ebx\n\t&quot;           \
++             &quot;cpuid\n\t&quot;                \
++             &quot;movl %%ebx,%1\n\t&quot;        \
++             &quot;pop %%ebx&quot;                \
++             : &quot;=a&quot; (eax),              \
++               &quot;=r&quot; (ebx),              \
++               &quot;=c&quot; (ecx),              \
++               &quot;=d&quot; (edx)               \
++             : &quot;a&quot; (op)                 \
++             : &quot;cc&quot;)
++#endif
+ 
+     
+-    asm (&quot;pushfl\n\t&quot;
+-	 &quot;pushfl\n\t&quot;
+-	 &quot;popl %0\n\t&quot;
+-	 &quot;movl %0,%1\n\t&quot;
+-	 &quot;xorl $0x200000,%0\n\t&quot;
+-	 &quot;pushl %0\n\t&quot;
+-	 &quot;popfl\n\t&quot;
+-	 &quot;pushfl\n\t&quot;
+-	 &quot;popl %0\n\t&quot;
+-	 &quot;popfl&quot;
+-         : &quot;=a&quot; (eax),
+-	   &quot;=b&quot; (ebx)
+-	 :
+-	 : &quot;cc&quot;);
++   __asm__ (&quot;pushf\n\t&quot;
++             &quot;pushf\n\t&quot;
++             &quot;pop %0\n\t&quot;
++             &quot;movl %0,%1\n\t&quot;
++             &quot;xorl $0x200000,%0\n\t&quot;
++             &quot;push %0\n\t&quot;
++             &quot;popf\n\t&quot;
++             &quot;pushf\n\t&quot;
++             &quot;pop %0\n\t&quot;
++             &quot;popf&quot;
++             : &quot;=r&quot; (eax),
++               &quot;=r&quot; (ebx)
++             :
++             : &quot;cc&quot;);
+ 
+     if (eax == ebx)		/* no cpuid */
+       return 0; 

Added: branches/rpms/brian/vdr-analogtv/cpuinfo.c.patch
===================================================================
--- branches/rpms/brian/vdr-analogtv/cpuinfo.c.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-analogtv/cpuinfo.c.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,858 @@
+diff -ruN analogtv-1.0.01.org/cpuinfo.c analogtv-1.0.01/cpuinfo.c
+--- analogtv-1.0.01.org/cpuinfo.c	2003-07-31 20:10:46.000000000 +0200
++++ analogtv-1.0.01/cpuinfo.c	2008-01-23 21:32:23.000000000 +0100
+@@ -62,15 +62,18 @@
+     unsigned int edx;
+ } cpuid_regs_t;
+ 
+-static cpuid_regs_t cpuid( int func ) {
+-    cpuid_regs_t regs;
+-#define CPUID &quot;.byte 0x0f, 0xa2; &quot;
+-    asm(&quot;movl %4,%%eax; &quot; CPUID
+-        &quot;movl %%eax,%0; movl %%ebx,%1; movl %%ecx,%2; movl %%edx,%3&quot;
+-            : &quot;=m&quot; (regs.eax), &quot;=m&quot; (regs.ebx), &quot;=m&quot; (regs.ecx), &quot;=m&quot; (regs.edx)
+-            : &quot;g&quot; (func)
+-            : &quot;%eax&quot;, &quot;%ebx&quot;, &quot;%ecx&quot;, &quot;%edx&quot;);
+-    return regs;
++static cpuid_regs_t
++cpuid(int func) {
++	cpuid_regs_t regs;
++#define	CPUID	&quot;.byte 0x0f, 0xa2; &quot;
++	asm(&quot;push %%ebx; &quot;
++	    &quot;movl %4,%%eax; &quot; CPUID
++	    &quot;movl %%eax,%0; movl %%ebx,%1; movl %%ecx,%2; movl %%edx,%3; &quot;
++	    &quot;pop %%ebx&quot;
++		: &quot;=m&quot; (regs.eax), &quot;=m&quot; (regs.ebx), &quot;=m&quot; (regs.ecx), &quot;=m&quot; (regs.edx)
++		: &quot;g&quot; (func)
++		: &quot;%eax&quot;, &quot;%ecx&quot;, &quot;%edx&quot;);
++	return regs;
+ }
+ 
+ #define X86_VENDOR_INTEL 0
+diff -ruN analogtv-1.0.01.org/cpuinfo.c.orig analogtv-1.0.01/cpuinfo.c.orig
+--- analogtv-1.0.01.org/cpuinfo.c.orig	1970-01-01 01:00:00.000000000 +0100
++++ analogtv-1.0.01/cpuinfo.c.orig	2003-07-31 20:10:46.000000000 +0200
+@@ -0,0 +1,235 @@
++/**
++ * Copyright (c) 2003 Billy Biggs &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">vektor at dumbterm.net</A>&gt;.
++ *
++ * This program is free software; you can redistribute it and/or modify
++ * it under the terms of the GNU General Public License as published by
++ * the Free Software Foundation; either version 2, or (at your option)
++ * any later version.
++ *
++ * This program is distributed in the hope that it will be useful,
++ * but WITHOUT ANY WARRANTY; without even the implied warranty of
++ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
++ * GNU General Public License for more details.
++ *
++ * You should have received a copy of the GNU General Public License
++ * along with this program; if not, write to the Free Software Foundation,
++ * Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
++ */
++
++/**
++ * Uses code from:
++ *
++ *  linux/arch/i386/kernel/setup.c
++ *
++ *  Copyright (C) 1995  Linus Torvalds
++ *
++ * Found in linux 2.4.20.
++ *
++ * Also helped from code in 'cpuinfo.c' found in mplayer.
++ */
++
++#include &lt;stdio.h&gt;
++#include &lt;stdint.h&gt;
++#include &lt;sys/time.h&gt;
++#include &lt;unistd.h&gt;
++#include &lt;string.h&gt;
++#include &lt;ctype.h&gt;
++#include &quot;player-analogtv.h&quot;
++
++#define rdtscll(val) __asm__ __volatile__(&quot;rdtsc&quot; : &quot;=A&quot; (val))
++
++double cpuinfo_get_speed( void )
++{
++    uint64_t tsc_start, tsc_end;
++    struct timeval tv_start, tv_end;
++    int usec_delay;
++
++    rdtscll( tsc_start );
++    gettimeofday( &amp;tv_start, 0 );
++    usleep( 100000 );
++    rdtscll( tsc_end );
++    gettimeofday( &amp;tv_end, 0 );
++
++    usec_delay = 1000000 * (tv_end.tv_sec - tv_start.tv_sec) + (tv_end.tv_usec - tv_start.tv_usec);
++
++    return (((double) (tsc_end - tsc_start)) / ((double) usec_delay));
++}
++
++typedef struct cpuid_regs {
++    unsigned int eax;
++    unsigned int ebx;
++    unsigned int ecx;
++    unsigned int edx;
++} cpuid_regs_t;
++
++static cpuid_regs_t cpuid( int func ) {
++    cpuid_regs_t regs;
++#define CPUID &quot;.byte 0x0f, 0xa2; &quot;
++    asm(&quot;movl %4,%%eax; &quot; CPUID
++        &quot;movl %%eax,%0; movl %%ebx,%1; movl %%ecx,%2; movl %%edx,%3&quot;
++            : &quot;=m&quot; (regs.eax), &quot;=m&quot; (regs.ebx), &quot;=m&quot; (regs.ecx), &quot;=m&quot; (regs.edx)
++            : &quot;g&quot; (func)
++            : &quot;%eax&quot;, &quot;%ebx&quot;, &quot;%ecx&quot;, &quot;%edx&quot;);
++    return regs;
++}
++
++#define X86_VENDOR_INTEL 0
++#define X86_VENDOR_CYRIX 1
++#define X86_VENDOR_AMD 2
++#define X86_VENDOR_UMC 3
++#define X86_VENDOR_NEXGEN 4
++#define X86_VENDOR_CENTAUR 5
++#define X86_VENDOR_RISE 6
++#define X86_VENDOR_TRANSMETA 7
++#define X86_VENDOR_NSC 8
++#define X86_VENDOR_UNKNOWN 0xff
++
++struct cpu_model_info {
++    int vendor;
++    int family;
++    char *model_names[16];
++};
++
++/* Naming convention should be: &lt;Name&gt; [(&lt;Codename&gt;)] */
++/* This table only is used unless init_&lt;vendor&gt;() below doesn't set it; */
++/* in particular, if CPUID levels 0x80000002..4 are supported, this isn't used */
++static struct cpu_model_info cpu_models[] = {
++    { X86_VENDOR_INTEL,    4,
++      { &quot;486 DX-25/33&quot;, &quot;486 DX-50&quot;, &quot;486 SX&quot;, &quot;486 DX/2&quot;, &quot;486 SL&quot;, 
++        &quot;486 SX/2&quot;, NULL, &quot;486 DX/2-WB&quot;, &quot;486 DX/4&quot;, &quot;486 DX/4-WB&quot;, NULL, 
++        NULL, NULL, NULL, NULL, NULL }},
++    { X86_VENDOR_INTEL,    5,
++      { &quot;Pentium 60/66 A-step&quot;, &quot;Pentium 60/66&quot;, &quot;Pentium 75 - 200&quot;,
++        &quot;OverDrive PODP5V83&quot;, &quot;Pentium MMX&quot;, NULL, NULL,
++        &quot;Mobile Pentium 75 - 200&quot;, &quot;Mobile Pentium MMX&quot;, NULL, NULL, NULL,
++        NULL, NULL, NULL, NULL }},
++    { X86_VENDOR_INTEL,    6,
++      { &quot;Pentium Pro A-step&quot;, &quot;Pentium Pro&quot;, NULL, &quot;Pentium II (Klamath)&quot;, 
++        NULL, &quot;Pentium II (Deschutes)&quot;, &quot;Mobile Pentium II&quot;,
++        &quot;Pentium III (Katmai)&quot;, &quot;Pentium III (Coppermine)&quot;, NULL,
++        &quot;Pentium III (Cascades)&quot;, NULL, NULL, NULL, NULL }},
++    { X86_VENDOR_AMD,    4,
++      { NULL, NULL, NULL, &quot;486 DX/2&quot;, NULL, NULL, NULL, &quot;486 DX/2-WB&quot;,
++        &quot;486 DX/4&quot;, &quot;486 DX/4-WB&quot;, NULL, NULL, NULL, NULL, &quot;Am5x86-WT&quot;,
++        &quot;Am5x86-WB&quot; }},
++    { X86_VENDOR_AMD,    5, /* Is this this really necessary?? */
++      { &quot;K5/SSA5&quot;, &quot;K5&quot;,
++        &quot;K5&quot;, &quot;K5&quot;, NULL, NULL,
++        &quot;K6&quot;, &quot;K6&quot;, &quot;K6-2&quot;,
++        &quot;K6-3&quot;, NULL, NULL, NULL, NULL, NULL, NULL }},
++    { X86_VENDOR_AMD,    6, /* Is this this really necessary?? */
++      { &quot;Athlon&quot;, &quot;Athlon&quot;,
++        &quot;Athlon&quot;, NULL, &quot;Athlon&quot;, NULL,
++        NULL, NULL, NULL,
++        NULL, NULL, NULL, NULL, NULL, NULL, NULL }},
++    { X86_VENDOR_UMC,    4,
++      { NULL, &quot;U5D&quot;, &quot;U5S&quot;, NULL, NULL, NULL, NULL, NULL, NULL, NULL,
++        NULL, NULL, NULL, NULL, NULL, NULL }},
++    { X86_VENDOR_NEXGEN,    5,
++      { &quot;Nx586&quot;, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,
++        NULL, NULL, NULL, NULL, NULL, NULL, NULL }},
++    { X86_VENDOR_RISE,    5,
++      { &quot;iDragon&quot;, NULL, &quot;iDragon&quot;, NULL, NULL, NULL, NULL,
++        NULL, &quot;iDragon II&quot;, &quot;iDragon II&quot;, NULL, NULL, NULL, NULL, NULL, NULL }},
++};
++
++/* Look up CPU names by table lookup. */
++static char *table_lookup_model( int vendor, int family, int model )
++{
++    struct cpu_model_info *info = cpu_models;
++    unsigned int i;
++
++    if( model &gt;= 16 ) {
++        return NULL; /* Range check */
++    }
++
++    for( i = 0; i &lt; sizeof(cpu_models)/sizeof(struct cpu_model_info); i++ ) {
++        if( info-&gt;vendor == vendor &amp;&amp; info-&gt;family == family ) {
++            return info-&gt;model_names[ model ];
++        }
++        info++;
++    }
++
++    return NULL; /* Not found */
++}
++
++static int get_cpu_vendor( const char *idstr )
++{
++    if( !strcmp( idstr, &quot;GenuineIntel&quot; ) ) return X86_VENDOR_INTEL;
++    if( !strcmp( idstr, &quot;AuthenticAMD&quot; ) ) return X86_VENDOR_AMD;
++    if( !strcmp( idstr, &quot;CyrixInstead&quot; ) ) return X86_VENDOR_CYRIX;
++    if( !strcmp( idstr, &quot;Geode by NSC&quot; ) ) return X86_VENDOR_NSC;
++    if( !strcmp( idstr, &quot;UMC UMC UMC &quot; ) ) return X86_VENDOR_UMC;
++    if( !strcmp( idstr, &quot;CentaurHauls&quot; ) ) return X86_VENDOR_CENTAUR;
++    if( !strcmp( idstr, &quot;NexGenDriven&quot; ) ) return X86_VENDOR_NEXGEN;
++    if( !strcmp( idstr, &quot;RiseRiseRise&quot; ) ) return X86_VENDOR_RISE;
++    if( !strcmp( idstr, &quot;GenuineTMx86&quot; ) || !strcmp( idstr, &quot;TransmetaCPU&quot; ) ) return X86_VENDOR_TRANSMETA;
++    return X86_VENDOR_UNKNOWN;
++}
++
++
++static void store32( char *d, unsigned int v )
++{
++    d[0] =  v        &amp; 0xff;
++    d[1] = (v &gt;&gt;  8) &amp; 0xff;
++    d[2] = (v &gt;&gt; 16) &amp; 0xff;
++    d[3] = (v &gt;&gt; 24) &amp; 0xff;
++}
++
++void cpuinfo(void)
++{
++    cpuid_regs_t regs, regs_ext;
++    unsigned int max_cpuid;
++    int max_ext_cpuid;
++    unsigned int amd_flags;
++    int family, model, stepping;
++    char idstr[13];
++    char *model_name;
++    char processor_name[49];
++    int i;
++
++    regs = cpuid(0);
++    max_cpuid = regs.eax;
++
++    store32(idstr+0, regs.ebx);
++    store32(idstr+4, regs.edx);
++    store32(idstr+8, regs.ecx);
++    idstr[12] = 0;
++
++    regs = cpuid( 1 );
++    family = (regs.eax &gt;&gt; 8) &amp; 0xf;
++    model = (regs.eax &gt;&gt; 4) &amp; 0xf;
++    stepping = regs.eax &amp; 0xf;
++
++    model_name = table_lookup_model( get_cpu_vendor( idstr ), family, model );
++
++    regs_ext = cpuid((1&lt;&lt;31) + 0);
++    max_ext_cpuid = regs_ext.eax;
++
++    if (max_ext_cpuid &gt;= (1&lt;&lt;31) + 1) {
++        regs_ext = cpuid((1&lt;&lt;31) + 1);
++        amd_flags = regs_ext.edx;
++
++        if (max_ext_cpuid &gt;= (1&lt;&lt;31) + 4) {
++            for (i = 2; i &lt;= 4; i++) {
++                regs_ext = cpuid((1&lt;&lt;31) + i);
++                store32(processor_name + (i-2)*16, regs_ext.eax);
++                store32(processor_name + (i-2)*16 + 4, regs_ext.ebx);
++                store32(processor_name + (i-2)*16 + 8, regs_ext.ecx);
++                store32(processor_name + (i-2)*16 + 12, regs_ext.edx);
++            }
++            processor_name[48] = 0;
++            model_name = processor_name;
++        }
++    } else {
++        amd_flags = 0;
++    }
++
++    /* Is this dangerous? */
++    while( isspace( *model_name ) ) model_name++;
++
++    sprintf(CPU, &quot;%s, family %d, model %d, stepping %d&quot;, model_name, family, model, stepping);
++
++    d(1, &quot;CPU %s&quot;, CPU);
++    d(1, &quot;CPU measured at %.3fMHz&quot;, CPUspeed = cpuinfo_get_speed());
++}
+diff -ruN analogtv-1.0.01.org/memcpy.c analogtv-1.0.01/memcpy.c
+--- analogtv-1.0.01.org/memcpy.c	2005-01-09 19:16:09.000000000 +0100
++++ analogtv-1.0.01/memcpy.c	2008-01-23 21:32:24.000000000 +0100
+@@ -168,9 +168,11 @@
+ /* SSE note: i tried to move 128 bytes a time instead of 64 but it
+ didn't make any measureable difference. i'm using 64 for the sake of
+ simplicity. [MF] */
+-static void * sse_memcpy(void * to, const void * from, size_t len)
++static void * sse_memcpy(void * into, const void * infrom, size_t len)
+ {
+   void *retval;
++  unsigned char* to=(unsigned char*)into;
++  unsigned char* from=(unsigned char*)infrom;
+   size_t i;
+   retval = to;
+     
+@@ -211,8 +213,8 @@
+         &quot;movntps %%xmm2, 32(%1)\n&quot;
+         &quot;movntps %%xmm3, 48(%1)\n&quot;
+         :: &quot;r&quot; (from), &quot;r&quot; (to) : &quot;memory&quot;);
+-        ((const unsigned char *)from)+=64;
+-        ((unsigned char *)to)+=64;
++        *from+=64;
++        *to+=64;
+       }
+     else 
+       /*
+@@ -233,8 +235,8 @@
+         &quot;movntps %%xmm2, 32(%1)\n&quot;
+         &quot;movntps %%xmm3, 48(%1)\n&quot;
+         :: &quot;r&quot; (from), &quot;r&quot; (to) : &quot;memory&quot;);
+-        ((const unsigned char *)from)+=64;
+-        ((unsigned char *)to)+=64;
++        *from+=64;
++        *to+=64;
+       }
+     /* since movntq is weakly-ordered, a &quot;sfence&quot;
+      * is needed to become ordered again. */
+@@ -249,9 +251,11 @@
+   return retval;
+ }
+ 
+-static void * mmx_memcpy(void * to, const void * from, size_t len)
++static void * mmx_memcpy(void * into, const void * infrom, size_t len)
+ {
+   void *retval;
++  unsigned char* to=(unsigned char*)into;
++  unsigned char* from=(unsigned char*)infrom;
+   size_t i;
+   retval = to;
+ 
+@@ -288,8 +292,8 @@
+       &quot;movq %%mm6, 48(%1)\n&quot;
+       &quot;movq %%mm7, 56(%1)\n&quot;
+       :: &quot;r&quot; (from), &quot;r&quot; (to) : &quot;memory&quot;);
+-      ((const unsigned char *)from)+=64;
+-      ((unsigned char *)to)+=64;
++      *from+=64;
++      *to+=64;
+     }
+     __asm__ __volatile__ (&quot;emms&quot;:::&quot;memory&quot;);
+   }
+@@ -300,9 +304,11 @@
+   return retval;
+ }
+ 
+-void * mmx2_memcpy(void * to, const void * from, size_t len)
++void * mmx2_memcpy(void * into, const void * infrom, size_t len)
+ {
+   void *retval;
++  unsigned char* to=(unsigned char*)into;
++  unsigned char* from=(unsigned char*)infrom;
+   size_t i;
+   retval = to;
+ 
+@@ -349,8 +355,8 @@
+       &quot;movntq %%mm6, 48(%1)\n&quot;
+       &quot;movntq %%mm7, 56(%1)\n&quot;
+       :: &quot;r&quot; (from), &quot;r&quot; (to) : &quot;memory&quot;);
+-      ((const unsigned char *)from)+=64;
+-      ((unsigned char *)to)+=64;
++      *from+=64;
++      *to+=64;
+     }
+      /* since movntq is weakly-ordered, a &quot;sfence&quot;
+      * is needed to become ordered again. */
+diff -ruN analogtv-1.0.01.org/memcpy.c.orig analogtv-1.0.01/memcpy.c.orig
+--- analogtv-1.0.01.org/memcpy.c.orig	1970-01-01 01:00:00.000000000 +0100
++++ analogtv-1.0.01/memcpy.c.orig	2005-01-09 19:16:09.000000000 +0100
+@@ -0,0 +1,498 @@
++/*
++ * Analogue TV Player plugin for VDR
++ *
++ * Copyright (C) 2003, 2005 Andreas Kool &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">akool at gmx.de</A>&gt;
++ *
++ * This code is distributed under the terms and conditions of the
++ * GNU GENERAL PUBLIC LICENSE. See the file COPYING for details.
++ *
++ * Version: $Id: memcpy.c,v 1.7 2005/01/09 18:16:09 akool Exp $
++ * Release: $Name:  $
++ *
++ */
++
++/*****************************************************************************
++ * memcpy.c: These are the MMX/MMX2/SSE optimized versions of memcpy
++ *****************************************************************************
++ * Copyright (C) 2001 Keuleu
++ *
++ * This program is free software; you can redistribute it and/or modify
++ * it under the terms of the GNU General Public License as published by
++ * the Free Software Foundation; either version 2 of the License, or
++ * (at your option) any later version.
++ * 
++ * This program is distributed in the hope that it will be useful,
++ * but WITHOUT ANY WARRANTY; without even the implied warranty of
++ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
++ * GNU General Public License for more details.
++ *
++ * You should have received a copy of the GNU General Public License
++ * along with this program; if not, write to the Free Software
++ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111, USA.
++ *****************************************************************************
++ *
++ * Original code:
++ *
++ * Copyright (C) 2001 the xine project
++ * 
++ * This file is part of xine, a unix video player.
++ * 
++ * This code was adapted from Linux Kernel sources by Nick Kurshev to
++ * the mplayer program. (<A HREF="http://mplayer.sourceforge.net">http://mplayer.sourceforge.net</A>)
++ *
++ * Miguel Freitas split the #ifdefs into several specialized functions that
++ * are benchmarked at runtime by xine. Some original comments from Nick
++ * have been preserved documenting some MMX/SSE oddities.
++ * Also added kernel memcpy function that seems faster than glibc one.
++ *
++ *****************************************************************************/
++#ifdef HAVE_CONFIG_H
++#include &quot;config.h&quot;
++#endif
++
++#include &lt;stdlib.h&gt;
++#include &lt;stdio.h&gt;
++#include &lt;string.h&gt;
++#include &quot;cpu_accel.h&quot;
++#include &quot;memcpy.h&quot;
++#include &quot;player-analogtv.h&quot;
++
++/* Original comments from mplayer (file: aclib.c)
++ This part of code was taken by me from Linux-2.4.3 and slightly modified
++for MMX, MMX2, SSE instruction set. I have done it since linux uses page aligned
++blocks but mplayer uses weakly ordered data and original sources can not
++speedup them. Only using PREFETCHNTA and MOVNTQ together have effect!
++
++&gt;From IA-32 Intel Architecture Software Developer's Manual Volume 1,
++
++Order Number 245470:
++&quot;10.4.6. Cacheability Control, Prefetch, and Memory Ordering Instructions&quot;
++
++Data referenced by a program can be temporal (data will be used again) or
++non-temporal (data will be referenced once and not reused in the immediate
++future). To make efficient use of the processor's caches, it is generally
++desirable to cache temporal data and not cache non-temporal data. Overloading
++the processor's caches with non-temporal data is sometimes referred to as
++&quot;polluting the caches&quot;.
++The non-temporal data is written to memory with Write-Combining semantics.
++
++The PREFETCHh instructions permits a program to load data into the processor
++at a suggested cache level, so that it is closer to the processors load and
++store unit when it is needed. If the data is already present in a level of
++the cache hierarchy that is closer to the processor, the PREFETCHh instruction
++will not result in any data movement.
++But we should you PREFETCHNTA: Non-temporal data fetch data into location
++close to the processor, minimizing cache pollution.
++
++The MOVNTQ (store quadword using non-temporal hint) instruction stores
++packed integer data from an MMX register to memory, using a non-temporal hint.
++The MOVNTPS (store packed single-precision floating-point values using
++non-temporal hint) instruction stores packed floating-point data from an
++XMM register to memory, using a non-temporal hint.
++
++The SFENCE (Store Fence) instruction controls write ordering by creating a
++fence for memory store operations. This instruction guarantees that the results
++of every store instruction that precedes the store fence in program order is
++globally visible before any store instruction that follows the fence. The
++SFENCE instruction provides an efficient way of ensuring ordering between
++procedures that produce weakly-ordered data and procedures that consume that
++data.
++
++If you have questions please contact with me: Nick Kurshev: <A HREF="http://lists.repoforge.org/mailman/listinfo/commits">nickols_k at mail.ru.</A>
++*/
++
++/*  mmx v.1 Note: Since we added alignment of destinition it speedups
++    of memory copying on PentMMX, Celeron-1 and P2 upto 12% versus
++    standard (non MMX-optimized) version.
++    Note: on K6-2+ it speedups memory copying upto 25% and
++          on K7 and P3 about 500% (5 times). 
++*/
++
++/* Additional notes on gcc assembly and processors: [MF]
++prefetch is specific for AMD processors, the intel ones should be
++prefetch0, prefetch1, prefetch2 which are not recognized by my gcc.
++prefetchnta is supported both on athlon and pentium 3.
++
++therefore i will take off prefetchnta instructions from the mmx1 version
++to avoid problems on pentium mmx and k6-2.  
++
++quote of the day:
++&quot;Using prefetches efficiently is more of an art than a science&quot;
++*/
++
++
++#ifdef ARCH_X86
++
++/* for small memory blocks (&lt;256 bytes) this version is faster */
++#define small_memcpy(to,from,n)\
++{\
++register unsigned long int dummy;\
++__asm__ __volatile__(\
++  &quot;rep; movsb&quot;\
++  :&quot;=&amp;D&quot;(to), &quot;=&amp;S&quot;(from), &quot;=&amp;c&quot;(dummy)\
++  :&quot;0&quot; (to), &quot;1&quot; (from),&quot;2&quot; (n)\
++  : &quot;memory&quot;);\
++}
++
++/* linux kernel __memcpy (from: /include/asm/string.h) */
++static inline void * __memcpy(void * to, const void * from, size_t n)
++{
++int d0, d1, d2;
++
++  if( n &lt; 4 ) {
++    small_memcpy(to,from,n);
++  }
++  else
++    __asm__ __volatile__(
++    &quot;rep ; movsl\n\t&quot;
++    &quot;testb $2,%b4\n\t&quot;
++    &quot;je 1f\n\t&quot;
++    &quot;movsw\n&quot;
++    &quot;1:\ttestb $1,%b4\n\t&quot;
++    &quot;je 2f\n\t&quot;
++    &quot;movsb\n&quot;
++    &quot;2:&quot;
++    : &quot;=&amp;c&quot; (d0), &quot;=&amp;D&quot; (d1), &quot;=&amp;S&quot; (d2)
++    :&quot;0&quot; (n/4), &quot;q&quot; (n),&quot;1&quot; ((long) to),&quot;2&quot; ((long) from)
++    : &quot;memory&quot;);
++  
++  return (to);
++}
++
++#define SSE_MMREG_SIZE 16
++#define MMX_MMREG_SIZE 8
++
++#define MMX1_MIN_LEN 0x800  /* 2K blocks */
++#define MIN_LEN 0x40  /* 64-byte blocks */
++
++/* SSE note: i tried to move 128 bytes a time instead of 64 but it
++didn't make any measureable difference. i'm using 64 for the sake of
++simplicity. [MF] */
++static void * sse_memcpy(void * to, const void * from, size_t len)
++{
++  void *retval;
++  size_t i;
++  retval = to;
++    
++  /* PREFETCH has effect even for MOVSB instruction ;) */
++  __asm__ __volatile__ (
++    &quot;   prefetchnta (%0)\n&quot;
++    &quot;   prefetchnta 64(%0)\n&quot;
++    &quot;   prefetchnta 128(%0)\n&quot;
++    &quot;   prefetchnta 192(%0)\n&quot;
++    &quot;   prefetchnta 256(%0)\n&quot;
++    : : &quot;r&quot; (from) );
++    
++  if(len &gt;= MIN_LEN)
++  {
++    register unsigned long int delta;
++    /* Align destinition to MMREG_SIZE -boundary */
++    delta = ((unsigned long int)to)&amp;(SSE_MMREG_SIZE-1);
++    if(delta)
++    {
++      delta=SSE_MMREG_SIZE-delta;
++      len -= delta;
++      small_memcpy(to, from, delta);
++    }
++    i = len &gt;&gt; 6; /* len/64 */
++    len&amp;=63;
++    if(((unsigned long)from) &amp; 15)
++      /* if SRC is misaligned */
++      for(; i&gt;0; i--)
++      {
++        __asm__ __volatile__ (
++        &quot;prefetchnta 320(%0)\n&quot;
++        &quot;movups (%0), %%xmm0\n&quot;
++        &quot;movups 16(%0), %%xmm1\n&quot;
++        &quot;movups 32(%0), %%xmm2\n&quot;
++        &quot;movups 48(%0), %%xmm3\n&quot;
++        &quot;movntps %%xmm0, (%1)\n&quot;
++        &quot;movntps %%xmm1, 16(%1)\n&quot;
++        &quot;movntps %%xmm2, 32(%1)\n&quot;
++        &quot;movntps %%xmm3, 48(%1)\n&quot;
++        :: &quot;r&quot; (from), &quot;r&quot; (to) : &quot;memory&quot;);
++        ((const unsigned char *)from)+=64;
++        ((unsigned char *)to)+=64;
++      }
++    else 
++      /*
++         Only if SRC is aligned on 16-byte boundary.
++         It allows to use movaps instead of movups, which required data
++         to be aligned or a general-protection exception (#GP) is generated.
++      */
++      for(; i&gt;0; i--)
++      {
++        __asm__ __volatile__ (
++        &quot;prefetchnta 320(%0)\n&quot;
++        &quot;movaps (%0), %%xmm0\n&quot;
++        &quot;movaps 16(%0), %%xmm1\n&quot;
++        &quot;movaps 32(%0), %%xmm2\n&quot;
++        &quot;movaps 48(%0), %%xmm3\n&quot;
++        &quot;movntps %%xmm0, (%1)\n&quot;
++        &quot;movntps %%xmm1, 16(%1)\n&quot;
++        &quot;movntps %%xmm2, 32(%1)\n&quot;
++        &quot;movntps %%xmm3, 48(%1)\n&quot;
++        :: &quot;r&quot; (from), &quot;r&quot; (to) : &quot;memory&quot;);
++        ((const unsigned char *)from)+=64;
++        ((unsigned char *)to)+=64;
++      }
++    /* since movntq is weakly-ordered, a &quot;sfence&quot;
++     * is needed to become ordered again. */
++    __asm__ __volatile__ (&quot;sfence&quot;:::&quot;memory&quot;);
++    /* enables to use FPU */
++    __asm__ __volatile__ (&quot;emms&quot;:::&quot;memory&quot;);
++  }
++  /*
++   *	Now do the tail of the block
++   */
++  if(len) __memcpy(to, from, len);
++  return retval;
++}
++
++static void * mmx_memcpy(void * to, const void * from, size_t len)
++{
++  void *retval;
++  size_t i;
++  retval = to;
++
++  if(len &gt;= MMX1_MIN_LEN)
++  {
++    register unsigned long int delta;
++    /* Align destinition to MMREG_SIZE -boundary */
++    delta = ((unsigned long int)to)&amp;(MMX_MMREG_SIZE-1);
++    if(delta)
++    {
++      delta=MMX_MMREG_SIZE-delta;
++      len -= delta;
++      small_memcpy(to, from, delta);
++    }
++    i = len &gt;&gt; 6; /* len/64 */
++    len&amp;=63;
++    for(; i&gt;0; i--)
++    {
++      __asm__ __volatile__ (
++      &quot;movq (%0), %%mm0\n&quot;
++      &quot;movq 8(%0), %%mm1\n&quot;
++      &quot;movq 16(%0), %%mm2\n&quot;
++      &quot;movq 24(%0), %%mm3\n&quot;
++      &quot;movq 32(%0), %%mm4\n&quot;
++      &quot;movq 40(%0), %%mm5\n&quot;
++      &quot;movq 48(%0), %%mm6\n&quot;
++      &quot;movq 56(%0), %%mm7\n&quot;
++      &quot;movq %%mm0, (%1)\n&quot;
++      &quot;movq %%mm1, 8(%1)\n&quot;
++      &quot;movq %%mm2, 16(%1)\n&quot;
++      &quot;movq %%mm3, 24(%1)\n&quot;
++      &quot;movq %%mm4, 32(%1)\n&quot;
++      &quot;movq %%mm5, 40(%1)\n&quot;
++      &quot;movq %%mm6, 48(%1)\n&quot;
++      &quot;movq %%mm7, 56(%1)\n&quot;
++      :: &quot;r&quot; (from), &quot;r&quot; (to) : &quot;memory&quot;);
++      ((const unsigned char *)from)+=64;
++      ((unsigned char *)to)+=64;
++    }
++    __asm__ __volatile__ (&quot;emms&quot;:::&quot;memory&quot;);
++  }
++  /*
++   *	Now do the tail of the block
++   */
++  if(len) __memcpy(to, from, len);
++  return retval;
++}
++
++void * mmx2_memcpy(void * to, const void * from, size_t len)
++{
++  void *retval;
++  size_t i;
++  retval = to;
++
++  /* PREFETCH has effect even for MOVSB instruction ;) */
++  __asm__ __volatile__ (
++    &quot;   prefetchnta (%0)\n&quot;
++    &quot;   prefetchnta 64(%0)\n&quot;
++    &quot;   prefetchnta 128(%0)\n&quot;
++    &quot;   prefetchnta 192(%0)\n&quot;
++    &quot;   prefetchnta 256(%0)\n&quot;
++    : : &quot;r&quot; (from) );
++
++  if(len &gt;= MIN_LEN)
++  {
++    register unsigned long int delta;
++    /* Align destinition to MMREG_SIZE -boundary */
++    delta = ((unsigned long int)to)&amp;(MMX_MMREG_SIZE-1);
++    if(delta)
++    {
++      delta=MMX_MMREG_SIZE-delta;
++      len -= delta;
++      small_memcpy(to, from, delta);
++    }
++    i = len &gt;&gt; 6; /* len/64 */
++    len&amp;=63;
++    for(; i&gt;0; i--)
++    {
++      __asm__ __volatile__ (
++      &quot;prefetchnta 320(%0)\n&quot;
++      &quot;movq (%0), %%mm0\n&quot;
++      &quot;movq 8(%0), %%mm1\n&quot;
++      &quot;movq 16(%0), %%mm2\n&quot;
++      &quot;movq 24(%0), %%mm3\n&quot;
++      &quot;movq 32(%0), %%mm4\n&quot;
++      &quot;movq 40(%0), %%mm5\n&quot;
++      &quot;movq 48(%0), %%mm6\n&quot;
++      &quot;movq 56(%0), %%mm7\n&quot;
++      &quot;movntq %%mm0, (%1)\n&quot;
++      &quot;movntq %%mm1, 8(%1)\n&quot;
++      &quot;movntq %%mm2, 16(%1)\n&quot;
++      &quot;movntq %%mm3, 24(%1)\n&quot;
++      &quot;movntq %%mm4, 32(%1)\n&quot;
++      &quot;movntq %%mm5, 40(%1)\n&quot;
++      &quot;movntq %%mm6, 48(%1)\n&quot;
++      &quot;movntq %%mm7, 56(%1)\n&quot;
++      :: &quot;r&quot; (from), &quot;r&quot; (to) : &quot;memory&quot;);
++      ((const unsigned char *)from)+=64;
++      ((unsigned char *)to)+=64;
++    }
++     /* since movntq is weakly-ordered, a &quot;sfence&quot;
++     * is needed to become ordered again. */
++    __asm__ __volatile__ (&quot;sfence&quot;:::&quot;memory&quot;);
++    __asm__ __volatile__ (&quot;emms&quot;:::&quot;memory&quot;);
++  }
++  /*
++   *	Now do the tail of the block
++   */
++  if(len) __memcpy(to, from, len);
++  return retval;
++}
++
++static void *linux_kernel_memcpy(void *to, const void *from, size_t len) {
++  return __memcpy(to,from,len);
++}
++
++#endif /* ARCH_X86 */
++
++static struct {
++  int tag;
++  char *name;
++  void *(* function)(void *to, const void *from, size_t len);
++  unsigned long long time;
++  uint32_t cpu_require;
++} memcpy_methods[] = 
++{
++  { MEMCPY_GLIBC,  &quot;glibc memcpy()&quot;, memcpy, 0, 0 },
++#ifdef ARCH_X86
++  { MEMCPY_KERNEL, &quot;linux kernel memcpy()&quot;, linux_kernel_memcpy, 0, 0 },
++  { MEMCPY_MMX,    &quot;MMX optimized memcpy()&quot;, mmx_memcpy, 0, MM_MMX },
++  { MEMCPY_MMXEXT, &quot;MMXEXT optimized memcpy()&quot;, mmx2_memcpy, 0, MM_MMXEXT },
++# ifndef __FreeBSD__
++  { MEMCPY_SSE,    &quot;SSE optimized memcpy()&quot;, sse_memcpy, 0, MM_MMXEXT|MM_SSE },
++# endif
++#endif /* ARCH_X86 */
++  { 0, NULL, NULL, 0, 0 }
++};
++
++#ifdef ARCH_X86
++static unsigned long long int rdtsc()
++{
++  unsigned long long int x;
++  __asm__ volatile (&quot;.byte 0x0f, 0x31&quot; : &quot;=A&quot; (x));     
++  return x;
++}
++#else
++static unsigned long long int rdtsc()
++{
++  /* FIXME: implement an equivalent for using optimized memcpy on other
++            architectures */
++  return 0;
++}
++#endif
++
++
++#define BUFSIZE 1024*1024
++
++int probe_fast_memcpy(int method)
++{
++unsigned long long t;
++void *buf1, *buf2;
++int i, j, best = -1;
++static int config_flags = -1;
++
++#ifdef ARCH_X86
++  config_flags = mm_accel();
++#else
++  config_flags = 0;
++#endif
++
++
++  if (method)
++    d(1, &quot;Using %s&quot;, memcpy_methods[method - 1].name);
++
++  switch (method)
++    {
++    case MEMCPY_GLIBC:
++      fast_memcpy = memcpy;
++      return(method);
++
++    case MEMCPY_KERNEL:
++      fast_memcpy = linux_kernel_memcpy;
++      return(method);
++
++    case MEMCPY_MMX:
++      fast_memcpy = mmx_memcpy;
++      return(method);
++
++    case MEMCPY_MMXEXT:
++      fast_memcpy = mmx2_memcpy;
++      return(method);
++
++    case MEMCPY_SSE:
++      fast_memcpy = sse_memcpy;
++      return(method);
++
++    case MEMCPY_PROBE:
++    default:
++      fast_memcpy = memcpy;
++      break;
++    }
++  
++  //fast_memcpy = memcpy;
++
++  if ((buf1 = malloc(BUFSIZE)) == NULL)
++    return(MEMCPY_GLIBC);
++    
++  if ((buf2 = malloc(BUFSIZE)) == NULL) {
++    free(buf1);
++    return(MEMCPY_GLIBC);
++  }
++
++  d(1, &quot;Benchmarking memcpy() methods (smaller is better):&quot;);
++  /* make sure buffers are present on physical memory */
++  memcpy(buf1,buf2,BUFSIZE);
++
++  for(i=0; memcpy_methods[i].name; i++)
++  {
++    if( (config_flags &amp; memcpy_methods[i].cpu_require) != 
++         memcpy_methods[i].cpu_require )
++      continue;
++    
++    t = rdtsc();
++    for(j=0;j&lt;50;j++) {	  
++      memcpy_methods[i].function(buf2,buf1,BUFSIZE);
++      memcpy_methods[i].function(buf1,buf2,BUFSIZE);
++    }     
++    t = rdtsc() - t;
++    memcpy_methods[i].time = t;
++    
++    d(1, &quot;%-25s : %12lld&quot;,memcpy_methods[i].name, t);
++    
++    if( best == -1 || t &lt; memcpy_methods[best].time )
++      best = i;
++  }
++  
++  d(1, &quot;using %s&quot;, memcpy_methods[best].name);
++  fast_memcpy = memcpy_methods[best].function;
++  
++  free(buf1);
++  free(buf2);
++
++  return(best + 1);
++}

Added: branches/rpms/brian/vdr-analogtv/player-analogtv.c.patch
===================================================================
--- branches/rpms/brian/vdr-analogtv/player-analogtv.c.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-analogtv/player-analogtv.c.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,27 @@
+--- VDR.org/PLUGINS/src/analogtv-0.9.37/player-analogtv.c	2005-07-07 16:32:50.000000000 +0200
++++ VDR/PLUGINS/src/analogtv-0.9.37/player-analogtv.c	2005-07-07 16:36:30.000000000 +0200
+@@ -28,7 +28,6 @@
+ #include &lt;sys/soundcard.h&gt;
+
+ #include &lt;transform.h&gt;
+-extern void pes_in_ts(p2p *p);
+ #undef MIN
+ #undef MAX
+
+@@ -828,7 +827,7 @@
+                 pes++;
+                 spes += r;
+ 
+-                get_pes(buffer, r, &amp;p2t, pes_in_ts); // PES -&gt; TS
++                kpes_to_ts(&amp;p2t, buffer, r);
+               }
+             }
+           }
+@@ -937,7 +936,7 @@
+       spes += r;
+
+       if (r &gt; 0)
+-        get_pes(buffer, r, &amp;p2t, pes_in_ts); // PES -&gt; TS
++        kpes_to_ts(&amp;p2t, buffer, r); // PES -&gt; TS
+     }
+   }

Added: branches/rpms/brian/vdr-analogtv/vdr-analogtv.spec
===================================================================
--- branches/rpms/brian/vdr-analogtv/vdr-analogtv.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-analogtv/vdr-analogtv.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,62 @@
+%define pname     analogtv
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        1.0.00
+Release:        3.bs%{?dist}
+Summary:        Analog plugin for VDR
+
+Group:          Multimedia/Video
+License:        GPL
+URL:            <A HREF="http://www.andreaskool.de">http://www.andreaskool.de</A>
+Source0:        <A HREF="http://localhost/vdr/%{name">http://localhost/vdr/%{name</A>}-%{version}.tar.bz2
+#Source1:        %{name}.conf
+Patch0:		cpu_accel.c.patch
+Patch1:		cpuinfo.c.patch
+Patch2:		player-analogtv.c.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.4.4, libdvb-devel, libjpeg-devel, gcc-c++
+Requires:       vdr(abi) = %{apiver}, libdvb &gt;= 0.5.4
+
+%description
+This is a VDR plugin to integrate bttv/v4l2 compatible video cards into the VDR
+
+
+%prep
+%setup -q -n analogtv-%{version}
+for f in HISTORY README ; do
+    iconv -f iso-8859-1 -t utf-8 $f &gt; $f.utf8 ; mv $f.utf8 $f
+done
+#%patch0 -p1
+#%patch1 -p1
+#%patch2 -p4
+
+
+%build
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+#install -Dpm 644 %{SOURCE1} \
+#  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY README
+#%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+
+%changelog
+* Wed Jan 23 2008 Brian Schueler &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">brian.schueler at gmx.de</A>&gt; 1.0.00
+- First build.

Added: branches/rpms/brian/vdr-burn/vdr-burn-0.1.0-pre21-config.patch
===================================================================
--- branches/rpms/brian/vdr-burn/vdr-burn-0.1.0-pre21-config.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-burn/vdr-burn-0.1.0-pre21-config.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,142 @@
+Index: Makefile
+===================================================================
+RCS file: /var/cvsroot/burn/Makefile,v
+retrieving revision 1.23
+diff -u -r1.23 Makefile
+--- Makefile	1 Oct 2006 21:26:44 -0000	1.23
++++ Makefile	12 Dec 2006 20:31:14 -0000
+@@ -81,11 +81,11 @@
+ endif
+ 
+ ifndef DVDDEV
+-DVDDEV=/dev/dvd
++DVDDEV=/dev/dvdwriter
+ endif
+ 
+ ifndef ISODIR
+-ISODIR=/pub/export
++ISODIR=$(shell vdr-config --videodir)
+ endif
+ 
+ DEFINES += -DTMPDIR='&quot;$(TMPDIR)&quot;' -DDVDDEV='&quot;$(DVDDEV)&quot;' -DISODIR='&quot;$(ISODIR)&quot;'
+Index: README
+===================================================================
+RCS file: /var/cvsroot/burn/README,v
+retrieving revision 1.11
+diff -u -r1.11 README
+--- README	16 Sep 2006 19:37:54 -0000	1.11
++++ README	12 Dec 2006 20:31:14 -0000
+@@ -92,7 +92,7 @@
+ 
+ 3b.(optional) Change the default temporary folder, the default DVD writer device
+    and the default ISO directory with TMPDIR (default: /tmp),
+-   DVDDEV (default: /dev/dvd) and ISODIR (default: /pub/export)
++   DVDDEV (default: /dev/dvdwriter) and ISODIR (default: video dir)
+ 
+    vdr-1.4.2 # make DVDDEV=/dev/cdrecorder ISODIR=/export plugins
+ 
+Index: chain-archive.c
+===================================================================
+RCS file: /var/cvsroot/burn/chain-archive.c,v
+retrieving revision 1.13
+diff -u -r1.13 chain-archive.c
+--- chain-archive.c	16 Sep 2006 18:33:36 -0000	1.13
++++ chain-archive.c	12 Dec 2006 20:31:14 -0000
+@@ -64,7 +64,7 @@
+ 									   bind( &amp;recording::get_graft_point, _2 ),
+ 									   &quot; &quot;
+ 						  )));
+-		graftPoints = format(&quot;{0} /dvd.vdr={1}/counters/standard&quot;) % graftPoints % plugin::get_config_path();
++		graftPoints = format(&quot;{0} /dvd.vdr=/var/lib/vdr/burn/counters/standard&quot;) % graftPoints;
+ 
+ 		switch (get_job().get_store_mode()) {
+ 		case storemode_create:
+Index: jobs.c
+===================================================================
+RCS file: /var/cvsroot/burn/jobs.c,v
+retrieving revision 1.35
+diff -u -r1.35 jobs.c
+--- jobs.c	1 Oct 2006 21:22:27 -0000	1.35
++++ jobs.c	12 Dec 2006 20:31:14 -0000
+@@ -389,7 +389,7 @@
+ 	std::string job::get_archive_id()
+ 	{
+ 		std::string archive_id = &quot;&quot;;
+-		std::string counter_path = format(&quot;{0}/counters/standard&quot;) % plugin::get_config_path();
++		std::string counter_path = &quot;/var/lib/vdr/burn/counters/standard&quot;;
+ 		std::ifstream f(counter_path.c_str());
+ 		if (!f) {
+ 			proctools::logger::error(proctools::format(&quot;couldn't read {0}&quot;) % counter_path);
+Index: vdrburn-archive.sh
+===================================================================
+RCS file: /var/cvsroot/burn/vdrburn-archive.sh,v
+retrieving revision 1.5
+diff -u -r1.5 vdrburn-archive.sh
+--- vdrburn-archive.sh	24 Oct 2006 17:46:27 -0000	1.5
++++ vdrburn-archive.sh	12 Dec 2006 20:31:14 -0000
+@@ -43,12 +43,12 @@
+ 	;;
+ 
+ 	recordingmark)
+-		cp &quot;$CONFIG_PATH/counters/standard&quot; &quot;$RECORDING_PATH/dvd.vdr&quot;
++		cp &quot;/var/lib/vdr/burn/counters/standard&quot; &quot;$RECORDING_PATH/dvd.vdr&quot;
+ 	;;
+ 
+ 	archivemark)
+-		((DVD_ID = `cat $CONFIG_PATH/counters/standard | sed &quot;s/^0*//&quot;` + 1))
+-		printf &quot;%04d\n&quot; $DVD_ID &gt; &quot;$CONFIG_PATH/counters/standard&quot;
++		((DVD_ID = `cat /var/lib/vdr/burn/counters/standard | sed &quot;s/^0*//&quot;` + 1))
++		printf &quot;%04d\n&quot; $DVD_ID &gt; &quot;/var/lib/vdr/burn/counters/standard&quot;
+ 	;;
+ 
+ 	*)
+Index: vdrburn-dvd.sh
+===================================================================
+RCS file: /var/cvsroot/burn/vdrburn-dvd.sh,v
+retrieving revision 1.23
+diff -u -r1.23 vdrburn-dvd.sh
+--- vdrburn-dvd.sh	24 Oct 2006 17:46:27 -0000	1.23
++++ vdrburn-dvd.sh	12 Dec 2006 20:31:14 -0000
+@@ -29,11 +29,11 @@
+ #                           as $MPEG_TMP_PATH)
+ 
+ if [ -z $JAVA_HOME ]; then
+-	export JAVA_HOME=/opt/j2re1.4.2
++	export JAVA_HOME=/usr/lib/jvm/jre
+ fi
+ 
+ if [ -z $PROJECTX_HOME ]; then
+-	export PROJECTX_HOME=/opt/ProjectX
++	export PROJECTX_HOME=/usr/share/java
+ fi
+ 
+ # Some versions of growisofs refuse to start when run with sudo, and may
+@@ -61,7 +61,7 @@
+ 			CUT=&quot;-cut&quot;
+ 		fi
+ 
+-		vdrsync.pl -o &quot;$MPEG_TMP_PATH&quot; \
++		vdrsync -o &quot;$MPEG_TMP_PATH&quot; \
+ 			-v-filter &quot;burn-buffers&quot; \
+ 			-a-filter &quot;burn-buffers&quot; \
+ 			-ac3-filter &quot;burn-buffers&quot; \
+@@ -197,15 +197,15 @@
+ 		echo &quot;Deleting $TEMP_PATH/INDEX_${TRACK_ON_DVD}&quot;
+ 		rm -rf &quot;$TEMP_PATH/INDEX_${TRACK_ON_DVD}&quot;
+ 		echo &quot;Creating $RECORDING_PATH/dvd.vdr&quot;
+-		cp &quot;$CONFIG_PATH/counters/standard&quot; &quot;$RECORDING_PATH/dvd.vdr&quot;
++		cp &quot;/var/lib/vdr/burn/counters/standard&quot; &quot;$RECORDING_PATH/dvd.vdr&quot;
+ 		printf &quot;%04d\n&quot; $(echo ${TRACK_ON_DVD} | sed 's/^0*//') &gt;&gt; &quot;$RECORDING_PATH/dvd.vdr&quot;
+ 	;;
+ 
+ 	archivemark)
+ 		echo &quot;Creating $DVDAUTHOR_PATH/dvd.vdr&quot;
+-		cp &quot;$CONFIG_PATH/counters/standard&quot; &quot;$DVDAUTHOR_PATH/dvd.vdr&quot;
+-		((DVD_ID = `cat $CONFIG_PATH/counters/standard | sed &quot;s/^0*//&quot;` + 1))
+-		printf &quot;%04d\n&quot; $DVD_ID &gt; &quot;$CONFIG_PATH/counters/standard&quot;
++		cp &quot;/var/lib/vdr/burn/counters/standard&quot; &quot;$DVDAUTHOR_PATH/dvd.vdr&quot;
++		((DVD_ID = `cat /var/lib/vdr/burn/counters/standard | sed &quot;s/^0*//&quot;` + 1))
++		printf &quot;%04d\n&quot; $DVD_ID &gt; &quot;/var/lib/vdr/burn/counters/standard&quot;
+ 	;;
+ 
+ 	mkiso)

Added: branches/rpms/brian/vdr-burn/vdr-burn-0.1.0-pre21-finnish.patch
===================================================================
--- branches/rpms/brian/vdr-burn/vdr-burn-0.1.0-pre21-finnish.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-burn/vdr-burn-0.1.0-pre21-finnish.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,71 @@
+Index: i18n.c
+===================================================================
+RCS file: /var/cvsroot/burn/i18n.c,v
+retrieving revision 1.38
+retrieving revision 1.39
+diff -u -r1.38 -r1.39
+--- i18n.c	16 Sep 2006 18:33:36 -0000	1.38
++++ i18n.c	16 Sep 2006 22:08:38 -0000	1.39
+@@ -2,7 +2,7 @@
+  * See the files COPYING and README for copyright information and how to reach
+  * the author.
+  *
+- *  $Id: i18n.c,v 1.38 2006/09/16 18:33:36 lordjaxom Exp $
++ *  $Id: i18n.c,v 1.39 2006/09/16 22:08:38 lordjaxom Exp $
+  */
+ 
+ #include &quot;i18n.h&quot;
+@@ -322,7 +322,7 @@
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+-		  &quot;&quot;,
++		  &quot;(joudutaan pienent&#228;m&#228;&#228;n)&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+@@ -3260,7 +3260,7 @@
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+-		  &quot;Ohita tyhj&#228; p&#228;&#228;valikko&quot;,
++		  &quot;Ohita tyhj&#228; nimikevalikko&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+@@ -3286,7 +3286,7 @@
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+-		  &quot;Tarjoa p&#228;&#228;valikon ohitusta&quot;,
++		  &quot;Tarjoa nimikevalikon ohitusta&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+@@ -3312,7 +3312,7 @@
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+-		  &quot;&quot;,
++		  &quot;Teht&#228;v&#228;n asetukset&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+@@ -3338,7 +3338,7 @@
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+-		  &quot;&quot;,
++		  &quot;Ohita lyhyt p&#228;&#228;valikko&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+@@ -3364,7 +3364,7 @@
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+-		  &quot;&quot;,
++		  &quot;Tarjoa p&#228;&#228;valikon ohitusta&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,
+ 		  &quot;&quot;,

Added: branches/rpms/brian/vdr-burn/vdr-burn-cvs-subpicture-id.diff.gz
===================================================================
(Binary files differ)


Property changes on: branches/rpms/brian/vdr-burn/vdr-burn-cvs-subpicture-id.diff.gz
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: branches/rpms/brian/vdr-burn/vdr-burn.conf
===================================================================
--- branches/rpms/brian/vdr-burn/vdr-burn.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-burn/vdr-burn.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,6 @@
+# Configuration snippet for vdr-burn                                 -*- sh -*-
+#
+# Add command line options to pass to the burn plugin to PLUGIN_OPTIONS.
+# See /usr/share/doc/vdr-burn-*/README for info about available options.
+
+PLUGIN_OPTIONS=&quot;-d /tmp&quot;

Added: branches/rpms/brian/vdr-burn/vdr-burn.spec
===================================================================
--- branches/rpms/brian/vdr-burn/vdr-burn.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-burn/vdr-burn.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,217 @@
+# TODO: disksize 4420?  4462 was too big sometimes with 0.0.x
+
+%define pname     burn
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define videodir  %(vdr-config --videodir   2&gt;/dev/null || echo ERROR)
+%define vardir    %(vdr-config --vardir     2&gt;/dev/null || echo ERROR)
+%define vdruser   %(vdr-config --user       2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+%define pre     pre21
+%define gver    0.1.3
+
+Name:           vdr-%{pname}
+Version:        0.1.0
+Release:        0.7.%{pre}%{?dist}
+Summary:        DVD writing plugin for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.xeatre.tv/community/burn/">http://www.xeatre.tv/community/burn/</A>
+Source0:        <A HREF="http://linux.kompiliert.net/contrib/%{name">http://linux.kompiliert.net/contrib/%{name</A>}-%{version}-%{pre}.tgz
+Source1:        %{name}.conf
+Source2:        <A HREF="http://www.muempf.de/down/genindex-%{gver">http://www.muempf.de/down/genindex-%{gver</A>}.tar.gz
+Patch0:         %{name}-%{version}-pre21-config.patch
+Patch1:         <A HREF="http://www.saunalahti.fi/~rahrenbe/vdr/patches/vdr-burn-cvs-subpicture-id.diff.gz">http://www.saunalahti.fi/~rahrenbe/vdr/patches/vdr-burn-cvs-subpicture-id.diff.gz</A>
+Patch2:         %{name}-%{version}-pre21-finnish.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47
+BuildRequires:  boost-devel
+BuildRequires:  gd-devel
+Requires:       vdr(abi) = %{apiver}
+Requires:       vdrsync
+Requires:       m2vrequantiser
+Requires:       dvdauthor
+Requires:       mjpegtools
+Requires:       dvd+rw-tools
+Requires:       %{_datadir}/fonts/bitstream-vera/Vera.ttf
+# gd-devel &lt; 2.0.33-9.3 bug workaround (gdlib-config --libs)
+BuildRequires:  fontconfig-devel
+
+%description
+This plugin enables VDR to write compliant DVDs from VDR recordings
+while being able to control the process and to watch progress from
+inside VDRs on-screen-display.  If the selected recordings don't fit
+the DVD, the video tracks are requantized (shrinked) automatically.
+The created menus support multipage descriptions (in case the
+recording summary exceeds one page).
+
+
+%prep
+%setup -q -c -a 2
+cd burn
+find -name CVS | xargs rm -rf
+chmod -c -x *.[ch] genindex/*.[ch] proctools/*.cc proctools/*.h README
+%patch0
+%patch1
+%patch2
+sed -i -e 's|/var/lib/vdr/|%{vardir}/|g' chain-archive.c jobs.c vdrburn-*.sh
+cd ../genindex-%{gver}
+sed -i -e 's/-g -O2/$(RPM_OPT_FLAGS)/' Makefile
+f=README ; iconv -f iso-8859-1 -t utf-8 -o ../README.genindex $f
+cd ..
+
+
+%build
+make -C burn %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+make -C genindex-%{gver} %{?_smp_mflags}
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}/bin
+install -pm 755 burn/libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 burn/*.sh burn/burn-buffers genindex-%{gver}/genindex \
+  $RPM_BUILD_ROOT%{plugindir}/bin
+install -dm 755 $RPM_BUILD_ROOT%{configdir}/plugins/burn/skins
+cp -pR burn/burn/* $RPM_BUILD_ROOT%{configdir}/plugins/burn
+rm -rf $RPM_BUILD_ROOT%{configdir}/plugins/burn/{counters,fonts/*}
+ln -s %{_datadir}/fonts/bitstream-vera/Vera.ttf \
+  $RPM_BUILD_ROOT%{configdir}/plugins/burn/fonts/
+install -Dpm 644 burn/burn/counters/standard \
+  $RPM_BUILD_ROOT%{vardir}/burn/counters/standard
+install -Dpm 644 %{SOURCE1} \
+  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%post
+if [ $1 -gt 1 ] ; then # maybe upgrading from &lt; 0.1.0?
+  %{__perl} -pi -e 's/^.*(burnmark|handlearchived)\.sh.*\n$//' \
+    %{configdir}/reccmds.conf &gt;/dev/null 2&gt;&amp;1 || :
+fi
+
+
+%files
+%defattr(-,root,root,-)
+%doc burn/COPYING burn/HISTORY burn/README README.genindex
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+%config(noreplace) %{configdir}/plugins/%{pname}/
+%{plugindir}/bin/burn-buffers
+%{plugindir}/bin/genindex
+%{plugindir}/bin/vdrburn-archive.sh
+%{plugindir}/bin/vdrburn-dvd.sh
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+%defattr(-,%{vdruser},root)
+%config(noreplace) %{vardir}/burn/
+
+
+%changelog
+* Sun Jan  7 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.0-0.7.pre21
+- Rebuild for VDR 1.4.5.
+
+* Tue Dec 12 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.0-0.6.pre21
+- 0.1.0-pre21, include private copy of genindex (0.1.3) for now.
+
+* Sat Nov  4 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-16
+- Rebuild for VDR 1.4.4.
+
+* Fri Oct 06 2006 Thorsten Leemhuis &lt;fedora [AT] leemhuis [DOT] info&gt; 0.0.009-15
+- rebuilt for unwind info generation, broken in gcc-4.1.1-21
+
+* Sat Sep 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-14
+- Rebuild for VDR 1.4.3.
+
+* Sun Aug  6 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-13
+- Rebuild for VDR 1.4.1-3.
+
+* Sun Jun 11 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-12
+- Rebuild for VDR 1.4.1.
+
+* Sun Apr 30 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-11
+- Rebuild for VDR 1.4.0.
+
+* Mon Apr 17 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-10
+- Rebuild/adjust for VDR 1.3.47, require versioned vdr(abi).
+- Trim pre-RLO %%changelog entries.
+
+* Sun Mar 26 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-9
+- Rebuild for VDR 1.3.45.
+
+* Sat Mar 18 2006 Thorsten Leemhuis &lt;fedora at leemhuis.info&gt; - 0.0.009-8
+- drop 0.lvn
+
+* Wed Mar  1 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-0.lvn.8
+- Decrease default DVD size to 4420 to accommodate more requant inaccuracy.
+- Rebuild for VDR 1.3.44.
+
+* Tue Feb 28 2006 Andreas Bierfert &lt;andreas.bierfert[AT]lowlatency.de&gt;
+- add dist
+
+* Sun Feb 19 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-0.lvn.7
+- Rebuild for VDR 1.3.43.
+
+* Sun Feb  5 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-0.lvn.6
+- Rebuild for VDR 1.3.42.
+
+* Sun Jan 22 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-0.lvn.5
+- Rebuild for VDR 1.3.40.
+
+* Sun Jan 15 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-0.lvn.4
+- Rebuild for VDR 1.3.39.
+
+* Sun Jan  8 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-0.lvn.3
+- Rebuild for VDR 1.3.38.
+
+* Sat Dec 31 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-0.lvn.2
+- Q'n'd fix for ISO creation with recordings whose title contain &quot;/&quot;.
+- Fix storing of the &quot;clean up after # jobs&quot; configuration option.
+- Don't chmod everything in results to 0777 in author only mode.
+- Use tcmplex-panteltje by default again.
+- Translation improvements.
+- Fix up some paths in README.
+- Ship TODO.
+
+* Sun Nov 13 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.009-0.lvn.1
+- 0.0.009 + Finnish translations from Rolf Ahrenberg, config patch
+  applied upstream.
+
+* Sat Nov 12 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.007-0.lvn.1
+- 0.0.007, endstatus and burndefault patches applied/obsoleted upstream.
+
+* Sun Nov  6 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.6k-0.lvn.2
+- Rebuild for VDR 1.3.36.
+
+* Tue Nov  1 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.6k-0.lvn.1
+- 0.0.6k, commands and VDR &gt;= 1.3.25 patches applied upstream.
+- Improve default burn settings.
+- Fix burn status at end when not verifying.
+
+* Mon Oct  3 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.6g-1.lvn.8.pre3
+- Rebuild for VDR 1.3.34.
+
+* Sun Sep 25 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.6g-1.lvn.7.pre3
+- Rebuild for VDR 1.3.33.
+
+* Sun Sep 11 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.6g-1.lvn.6.pre3
+- Rebuild for VDR 1.3.32.
+
+* Tue Aug 30 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.6g-1.lvn.5.pre3
+- Rebuild for VDR 1.3.31.
+
+* Sun Aug 21 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.6g-1.lvn.4.pre3
+- Rebuild for VDR 1.3.30.
+
+* Fri Aug 19 2005 Dams &lt;anvil[AT]livna.org&gt; - 0.0.6g-1.lvn.3.pre3
+- Redirected vdr-config invocation standard error to /dev/null
+
+* Tue Aug 16 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.6g-1.lvn.2.pre3
+- Try to avoid build system problems by not using %%expand with vdr-config.
+
+* Fri Aug 12 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.6g-1.lvn.1.pre3
+- Update URLs.

Added: branches/rpms/brian/vdr-clock/vdr-clock.spec
===================================================================
--- branches/rpms/brian/vdr-clock/vdr-clock.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-clock/vdr-clock.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,49 @@
+%define pname     clock
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.0.6
+Release:        1
+Summary:        Clock for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.berlios.de/vdr/">http://www.berlios.de/vdr/</A>
+Source0:        <A HREF="http://www.berlios.de/vdr/downloads/%{name">http://www.berlios.de/vdr/downloads/%{name</A>}-%{version}.tar.bz2
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47 
+Requires:       vdr(abi) = %{apiver}
+
+%description
+This plugin displays the current time
+
+%prep
+%setup -q -n %{pname}-%{version}
+
+
+%build
+#./configure
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -dm 755 $RPM_BUILD_ROOT/usr/bin/
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY README
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+
+%changelog
+

Added: branches/rpms/brian/vdr-dvd/vdr-dvd.conf
===================================================================
--- branches/rpms/brian/vdr-dvd/vdr-dvd.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-dvd/vdr-dvd.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,6 @@
+# Configuration snippet for vdr-dvd                                 -*- sh -*-
+#
+# Add command line options to pass to the wapd plugin to PLUGIN_OPTIONS.
+# See /usr/share/doc/vdr-wapd-*/README for info about the available options.
+
+PLUGIN_OPTIONS=&quot;&quot;

Added: branches/rpms/brian/vdr-dvd/vdr-dvd.spec
===================================================================
--- branches/rpms/brian/vdr-dvd/vdr-dvd.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-dvd/vdr-dvd.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,72 @@
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-dvd
+Version:        0.0
+Release:        0.1.20070520%{?dist}
+Summary:        DVD plugin for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://sourceforge.net/projects/dvdplugin">http://sourceforge.net/projects/dvdplugin</A>
+Source0:        %{name}-20070520.tar.bz2
+#Source1:        %{name}-waphosts
+#Source2:        %{name}-wapaccess
+#Source3:        %{name}-proxy.conf
+Source4:        %{name}.conf
+#Patch0:         %{name}-fixes.patch
+#Patch1:         %{name}-nptl.patch
+#Patch2:         %{name}-1.3.32.patch
+#Patch3:         %{name}-1.3.36.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47
+BuildRequires:  libdvdcss-devel, libdvdnav-devel, a52dec-devel 
+Requires:       vdr(abi) = %{apiver}
+
+%description
+The wapd plugin lets VDR listen to WAP requests to allow remote
+control by WML enabled browsers.
+
+
+%prep
+%setup -q -n dvd-20070520
+#%patch0
+#%patch1 -p1
+#%patch2
+#%patch3
+#iconv -f iso-8859-1 -t utf-8 HISTORY &gt; HISTORY.utf8 ; mv HISTORY.utf8 HISTORY
+#sed -i -e 's|/video/plugins|%{configdir}/plugins|' README
+
+
+%build
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 libvdr-dvd.so.* $RPM_BUILD_ROOT%{plugindir}
+#install -Dpm 755 wappasswd $RPM_BUILD_ROOT%{_bindir}/wappasswd
+#install -Dpm 640 %{SOURCE1} $RPM_BUILD_ROOT%{configdir}/plugins/waphosts
+#install -Dpm 640 %{SOURCE2} $RPM_BUILD_ROOT%{configdir}/plugins/wapaccess
+#install -Dpm 644 %{SOURCE3} \
+#  $RPM_BUILD_ROOT%{_sysconfdir}/httpd/conf.d/vdr-wapd.conf
+install -Dpm 644 %{SOURCE4} \
+  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/dvd.conf
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY README
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/dvd.conf
+%{plugindir}/libvdr-dvd.so.*
+
+
+%changelog
+* Sun May 20 2007 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; 0.0-0.1.20070520cvs
+- First build.

Added: branches/rpms/brian/vdr-femon/vdr-femon.conf
===================================================================
--- branches/rpms/brian/vdr-femon/vdr-femon.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-femon/vdr-femon.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,5 @@
+# Configuration snippet for vdr-femon                                -*- sh -*-
+#
+# Add command line options to pass to the femon plugin to PLUGIN_OPTIONS.
+
+PLUGIN_OPTIONS=&quot;&quot;

Added: branches/rpms/brian/vdr-femon/vdr-femon.spec
===================================================================
--- branches/rpms/brian/vdr-femon/vdr-femon.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-femon/vdr-femon.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,147 @@
+%define pname     femon
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        1.1.0
+Release:        5%{?dist}
+Summary:        DVB frontend status monitor plugin for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.saunalahti.fi/~rahrenbe/vdr/femon/">http://www.saunalahti.fi/~rahrenbe/vdr/femon/</A>
+Source0:        <A HREF="http://www.saunalahti.fi/~rahrenbe/vdr/femon/files/%{name">http://www.saunalahti.fi/~rahrenbe/vdr/femon/files/%{name</A>}-%{version}.tgz
+Source1:        %{name}.conf
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.4.0
+BuildRequires:  sed &gt;= 3.95
+Requires:       vdr(abi) = %{apiver}
+
+%description
+DVB frontend status monitor is a plugin that displays some signal
+information parameters of the current tuned channel on VDR's OSD.  You
+can zap through all your channels and the plugin should be monitoring
+always the right frontend.  The transponder and stream information are
+also available in advanced display modes.
+
+
+%prep
+%setup -q -n %{pname}-%{version}
+f=HISTORY ; iconv -f iso-8859-1 -t utf-8 $f &gt; $f.utf8 ; mv $f.utf8 $f
+
+
+%build
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr STRIP=/bin/true
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -Dpm 644 %{SOURCE1} \
+  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY README
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+
+%changelog
+* Sun Jan  7 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1.0-5
+- Rebuild for VDR 1.4.5.
+
+* Mon Dec  4 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1.0-4
+- First Fedora Extras build.
+
+* Sat Sep 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1.0-1
+- 1.1.0, build for VDR 1.4.3.
+
+* Sun Aug  6 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.0.1-2
+- Rebuild for VDR 1.4.1-3.
+
+* Sun Jun 11 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.0.1-1
+- 1.0.1, build for VDR 1.4.1.
+
+* Sun Apr 30 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.0.0-1
+- 1.0.0, build for VDR 1.4.0.
+
+* Sun Apr 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.9-1
+- 0.9.9.
+
+* Mon Apr 17 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.8-3
+- Rebuild/adjust for VDR 1.3.47, require versioned vdr(abi).
+- Trim pre-RLO %%changelog entries.
+
+* Sun Mar 26 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.8-2
+- Rebuild for VDR 1.3.45.
+
+* Wed Mar  8 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.8-1
+- 0.9.8.
+
+* Wed Mar  1 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.7-0.lvn.2
+- Rebuild for VDR 1.3.44.
+
+* Tue Feb 28 2006 Andreas Bierfert &lt;andreas.bierfert[AT]lowlatency.de&gt;
+- add dist
+
+* Sun Feb 19 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.7-0.lvn.1
+- 0.9.7, built for VDR 1.3.43.
+
+* Sun Feb  5 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.6-0.lvn.3
+- Rebuild for VDR 1.3.42.
+
+* Thu Jan 26 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.6-0.lvn.2
+- Grr.  Upstream re-released 0.9.6 with minor additional fixes.
+
+* Wed Jan 25 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.6-0.lvn.1
+- 0.9.6.
+
+* Sun Jan 22 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.5-0.lvn.4
+- Rebuild for VDR 1.3.40.
+
+* Sun Jan 15 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.5-0.lvn.3
+- Rebuild for VDR 1.3.39.
+
+* Sun Jan  8 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.5-0.lvn.2
+- Rebuild for VDR 1.3.38.
+
+* Sun Nov 13 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.5-0.lvn.1
+- 0.9.5.
+
+* Sun Nov  6 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.4-0.lvn.3
+- Rebuild for VDR 1.3.36.
+
+* Tue Nov  1 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.4-0.lvn.2
+- Rebuild for VDR 1.3.35.
+
+* Thu Oct  6 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.4-0.lvn.1
+- 0.9.4.
+- Rebuild for VDR 1.3.34.
+
+* Sun Sep 25 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.3-0.lvn.3
+- Rebuild for VDR 1.3.33.
+
+* Sun Sep 11 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.3-0.lvn.2
+- Rebuild for VDR 1.3.32.
+
+* Mon Aug 29 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.3-0.lvn.1
+- 0.9.3.
+- Rebuild for VDR 1.3.31.
+
+* Sun Aug 21 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.2-0.lvn.2
+- Rebuild for VDR 1.3.30.
+
+* Tue Aug 16 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.2-0.lvn.1
+- 0.9.2.
+- Try to avoid build system problems by not using %%expand with vdr-config.
+
+* Sat Aug 13 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.1-1.lvn.1
+- Improve description.

Added: branches/rpms/brian/vdr-ffnetdev/vdr-ffnetdev.conf
===================================================================
--- branches/rpms/brian/vdr-ffnetdev/vdr-ffnetdev.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-ffnetdev/vdr-ffnetdev.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,6 @@
+# Configuration snippet for vdr-ffnetdev                              -*- sh -*-
+#
+# Add command line options to pass to the remote plugin to PLUGIN_OPTIONS.
+# See /usr/share/doc/vdr-ffnetdev-*/README for info about available options.
+
+PLUGIN_OPTIONS=&quot;-e&quot;

Added: branches/rpms/brian/vdr-ffnetdev/vdr-ffnetdev.spec
===================================================================
--- branches/rpms/brian/vdr-ffnetdev/vdr-ffnetdev.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-ffnetdev/vdr-ffnetdev.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,146 @@
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-ffnetdev
+Version:        0.1.0
+Release:        10.svn30%{?dist}
+Summary:        Full featured network DVB device for streaming clients
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="https://developer.berlios.de/projects/ffnetdev/">https://developer.berlios.de/projects/ffnetdev/</A>
+Source0:        <A HREF="http://download.berlios.de/ffnetdev/%{name">http://download.berlios.de/ffnetdev/%{name</A>}-%{version}.tar.bz2
+Source1:        %{name}.conf
+# Patch0 from <A HREF="http://zap.tartarus.org/~ds/debian/dists/sarge/main/source/misc/vdr-plugin-remote_0.3.3-5.diff.gz">http://zap.tartarus.org/~ds/debian/dists/sarge/main/source/misc/vdr-plugin-remote_0.3.3-5.diff.gz</A>
+#Patch0:         %{name}-poison.patch
+#Patch1:		%{name}-pes2ts.patch
+#Patch2:		%{name}-tsworker.patch
+#Patch3:		%{name}-newpoison.patch
+#Patch4:		%{name}-Active.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47
+Requires:       vdr(abi) = %{apiver}
+
+%description
+The purpose of this plugin is to provide an &quot;easy&quot; way of
+connecting possible streaming clients to VDR by emulating
+a full featured DVB device over the network including
+OSD and TS streaming capabilities.
+
+%prep
+%setup -q
+#patch0 -p1
+#patch1
+#patch2
+#patch3 -p1
+#patch4 -p1
+#f=HISTORY ; iconv -f iso-8859-1 -t utf-8 $f &gt; $f.utf-8 ; mv $f.utf-8 $f
+
+sed -i -e s/VDRVERSION/APIVERSION/g Makefile
+
+%build
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 libvdr-ffnetdev.so.* $RPM_BUILD_ROOT%{plugindir}
+install -Dpm 644 %{SOURCE1} \
+  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/ffnetdev.conf
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc README CHANGELOG COPYING
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/ffnetdev.conf
+%{plugindir}/libvdr-ffnetdev.so.*
+
+
+%changelog
+* Wed Jun 13 2007 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-10.svn30
+- Update to svn revision 30.
+
+* Wed Feb 14 2007 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-10.svn28
+- Update to svn revision 28.
+
+* Sun Jan 28 2007 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-10.svn26
+- Update to svn revision 26.
+
+* Wed Jan 17 2007 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-10.svn25
+- Update to svn revision 25.
+
+* Mon Jan 15 2007 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-10.svn23
+- Rebuild for vdr-1.4.5.
+
+* Mon Nov 13 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-9.svn23
+- Rebuild for vdr-1.4.4.
+
+* Wed Nov 01 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-8.svn23
+- Rebuild for FC6.
+
+* Tue Sep 26 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-7.svn23
+- Rebuild for vdr-1.4.3.
+
+* Fri Aug 11 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-6.svn23
+- Rebuild for vdr-1.4.1-8.
+
+* Sun Jun 11 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-5.svn23
+- Update to svn revision 23.
+- Rebuild for vdr-1.4.1.
+
+* Wed May 31 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-5.svn22
+- Update to svn revision 22.
+
+* Tue May 09 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-5.svn16
+- Update to svn revision 16, which supports multi-area OSD.
+
+* Tue May 02 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-5.svn14
+- Rebuild for vdr-1.4.0.
+- Update to latest svn snapshot.
+
+* Mon Apr 24 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-4
+- require vdr(abi)
+
+* Fri Apr 21 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-3
+- Rebuild and patch for vdr-1.3.47.
+
+* Thu Mar 30 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-2
+- Rebuild for vdr-1.3.45.
+
+* Tue Mar 28 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-1
+- Rebuild for vdr-1.3.44.
+
+* Tue Feb 28 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.1.0-0.aml.1.4
+- Update to 0.1.0.
+- Rebuild for vdr-1.3.43.
+
+* Wed Feb 08 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.0.5-0.aml.2.4
+- Rebuild for vdr-1.3.42.
+
+* Mon Jan 30 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.0.5-0.aml.1.4
+- New upstream version.
+- Rebuild for vdr-1.3.40.
+
+* Wed Jan 18 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.0.4-1.aml.9.4
+- Rebuild for vdr-1.3.39.
+
+* Thu Dec  1 2005 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.0.4-0.aml.8.4
+- Rebuild for vdr-1.3.37.
+
+* Tue Nov 15 2005 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.0.4-0.7.aml
+- Rebuild for vdr-1.3.36.
+
+* Sun Oct  9 2005 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.0.4-0.6.aml
+- Rebuild for vdr-1.3.34.
+
+* Thu Sep 29 2005 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.0.4-0.4.aml
+- Rebuild for vdr-1.3.33.
+
+* Thu Sep 22 2005 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.0.4-0.1.aml
+- First build.

Added: branches/rpms/brian/vdr-freecell/vdr-freecell.conf
===================================================================
--- branches/rpms/brian/vdr-freecell/vdr-freecell.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-freecell/vdr-freecell.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,5 @@
+# Configuration snippet for vdr-freecell                             -*- sh -*-
+#
+# Add command line options to pass to the freecell plugin to PLUGIN_OPTIONS.
+
+PLUGIN_OPTIONS=&quot;&quot;

Added: branches/rpms/brian/vdr-freecell/vdr-freecell.spec
===================================================================
--- branches/rpms/brian/vdr-freecell/vdr-freecell.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-freecell/vdr-freecell.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,67 @@
+%define pname     freecell
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.0.2
+Release:        0.2
+Summary:        Freecell solitaire plugin for VDR
+
+Group:          Amusements/Games
+License:        GPL
+URL:            <A HREF="http://www.magoa.net/linux/index.php?view=freecell">http://www.magoa.net/linux/index.php?view=freecell</A>
+Source0:        <A HREF="http://www.magoa.net/linux/files/%{name">http://www.magoa.net/linux/files/%{name</A>}-%{version}.tgz
+Source1:        %{name}.conf
+Patch0:         <A HREF="http://ftp.debian.org/debian/pool/main/v/vdr-plugin-freecell/vdr-plugin-freecell_0.0.2-24.diff.gz">http://ftp.debian.org/debian/pool/main/v/vdr-plugin-freecell/vdr-plugin-freecell_0.0.2-24.diff.gz</A>
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47
+Requires:       vdr(abi) = %{apiver}
+
+%description
+The Freecell plugin is an implementation of the (well-known) card
+game &quot;Freecell&quot; played on the on screen display of VDR.
+
+
+%prep
+%setup -q -n freecell-%{version}
+%patch0 -p1
+patch -p1 -i debian/patches/02_gcc3.4-fix.dpatch
+patch -p1 -i debian/patches/92_freecell-1.3.18.dpatch
+sed -i -e '/^DVBDIR/d' -e 's|-I$(DVBDIR)/include||' Makefile
+sed -i -e s/VDRVERSION/APIVERSION/g Makefile
+
+
+%build
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -Dpm 644 %{SOURCE1} \
+  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+install -dm 755 $RPM_BUILD_ROOT%{configdir}/plugins
+cp -pR %{pname} $RPM_BUILD_ROOT%{configdir}/plugins
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc CONTRIBUTORS COPYING HISTORY README
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+%{configdir}/plugins/%{pname}/
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+
+%changelog
+* Mon Jun 19 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.2-0.2
+- Adjust for VDR 1.4.1.
+
+* Fri Aug 19 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.0.2-0.1
+- First build.

Added: branches/rpms/brian/vdr-freecell/vdr-plugin-freecell_0.0.2-24.diff.gz
===================================================================
(Binary files differ)


Property changes on: branches/rpms/brian/vdr-freecell/vdr-plugin-freecell_0.0.2-24.diff.gz
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: branches/rpms/brian/vdr-mp3/vdr-mp3-0.9.15-lastdir.patch
===================================================================
--- branches/rpms/brian/vdr-mp3/vdr-mp3-0.9.15-lastdir.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-mp3/vdr-mp3-0.9.15-lastdir.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,28 @@
+<A HREF="http://thread.gmane.org/gmane.linux.vdr/32109">http://thread.gmane.org/gmane.linux.vdr/32109</A>
+
+--- menu.c
++++ menu.c
+@@ -107,8 +107,7 @@
+   excl=Excl;
+ 
+   SetSource(Source); 
+-  LoadDir(currentdir);
+-  SetButtons();
++  NewDir(currentdir);
+ }
+ 
+ cMenuBrowse::~cMenuBrowse()
+@@ -157,7 +156,12 @@
+ bool cMenuBrowse::NewDir(const char *dir)
+ {
+   char *ncur=dir ? strdup(dir):0;
+-  if(LoadDir(ncur)) {
++  bool r=LoadDir(ncur);
++  if(!r &amp;&amp; ncur) {
++    free(ncur); ncur=0;
++    r=LoadDir(ncur);
++    }
++  if(r) {
+     free(currentdir); currentdir=ncur;
+ 
+     cFileObj *item=CurrentItem();

Added: branches/rpms/brian/vdr-mp3/vdr-mp3-mediasources.sh
===================================================================
--- branches/rpms/brian/vdr-mp3/vdr-mp3-mediasources.sh	                        (rev 0)
+++ branches/rpms/brian/vdr-mp3/vdr-mp3-mediasources.sh	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,16 @@
+#!/bin/sh
+
+# <A HREF="http://www.pathname.com/fhs/pub/fhs-2.3.html#MEDIAMOUNTPOINT">http://www.pathname.com/fhs/pub/fhs-2.3.html#MEDIAMOUNTPOINT</A>
+
+for file in /media/* ; do
+    if [ -d &quot;$file&quot; ] ; then
+        type=&quot;`basename $file`&quot;
+        if [ &quot;$type&quot; = cdrom ] ; then
+            echo &quot;$file;CD-ROM;1&quot;
+        elif [ &quot;$type&quot; = cdrecorder ] ; then
+            echo &quot;$file;CD Writer;1&quot;
+        elif [ &quot;$type&quot; = zip ] ; then
+            echo &quot;$file;Zip Drive;1&quot;
+        fi
+    fi
+done

Added: branches/rpms/brian/vdr-mp3/vdr-mp3-mp3.conf
===================================================================
--- branches/rpms/brian/vdr-mp3/vdr-mp3-mp3.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-mp3/vdr-mp3-mp3.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,6 @@
+# Configuration snippet for vdr-mp3                                  -*- sh -*-
+#
+# Add command line options to pass to the mp3 plugin to PLUGIN_OPTIONS.
+# See /usr/share/doc/vdr-mp3-*/README for info about available options.
+
+PLUGIN_OPTIONS=&quot;-C /var/cache/vdr/mp3&quot;

Added: branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer-minimal.sh
===================================================================
--- branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer-minimal.sh	                        (rev 0)
+++ branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer-minimal.sh	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,23 @@
+#!/bin/sh
+#
+# Minimal script for launching MPlayer from VDR.
+#
+# Expectations:
+# - mplayer is found in $PATH
+# - everything is configured properly in mplayer's config files
+
+file=&quot;$1&quot;
+opts=
+
+case &quot;$file&quot; in
+    *.pls|*.m3u) opts=&quot;$opts -playlist&quot; ;;
+esac
+
+while shift ; do
+    case &quot;$1&quot; in
+        SLAVE) opts=&quot;$opts -slave -quiet -nolirc&quot; ;;
+        AID)   opts=&quot;$opts -aid $2&quot; ; shift ;;
+    esac
+done
+
+exec mplayer $opts &quot;$file&quot;

Added: branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.conf
===================================================================
--- branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,13 @@
+# Configuration snippet for vdr-mplayer                              -*- sh -*-
+#
+# Add command line options to pass to the mplayer plugin to PLUGIN_OPTIONS.
+# See /usr/share/doc/vdr-mplayer-*/README for info about available options.
+#
+# In particular, you may want to change the script used to launch mplayer.
+# The vdr-mplayer package ships two scripts of them; mplayer.sh (the
+# default one) is a full featured one including support for playing DVD's,
+# and mplayer-minimal.sh is a bare minimum one that you may want to use if
+# you don't like the things done by the full one (scaling etc).  Set
+# &quot;-M mplayer-minimal.sh&quot; to use the minimal one.
+
+PLUGIN_OPTIONS=&quot;-R /var/lib/vdr&quot;

Added: branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-0.8.7-defaults.patch
===================================================================
--- branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-0.8.7-defaults.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-0.8.7-defaults.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,84 @@
+--- m/mplayer.sh.conf~	2007-02-11 17:38:06.000000000 +0200
++++ m/mplayer.sh.conf	2007-02-25 13:25:00.000000000 +0200
+@@ -1,4 +1,4 @@
+-# Config File for mplayer.sh ...
++# Config File for mplayer.sh ...                                     -*- sh -*-
+ #
+ # $Id: mplayer.sh.conf,v 1.24.2.3 2007/02/11 15:19:35 juri Exp $
+ #
+@@ -67,9 +67,8 @@
+ 
+ # how to play AC3 audio?
+ # for AC3 via sound card (ALSA driver):
+-AC3AOUT=&quot;-ao alsa9 -ac hwac3&quot;
+-# for AC3 via DVB (doesn't need AC3overDVB patch);
+-# needs MPlayer 0.90 final, or newer:
++AC3AOUT=&quot;-ao alsa -ac hwac3&quot;
++# for AC3 via DVB (doesn't need AC3overDVB patch):
+ #AC3AOUT=&quot;-ac hwac3&quot;
+ 
+ # what aspect ratio has your TV set?
+@@ -81,17 +80,10 @@
+ # *** Optional Setting *** Simply Remove them if they do not fit your needs...
+ # ***
+ 
+-# What detelecinig filter should we use to play NTSC material as PAL?
++# What detelecining filter should we use to play NTSC material as PAL?
+ # This is only used if you have set NTSC to false and PAL to true.
+-# If you use MPlayer versions 1.0 or higher I recommend to use the
+-# following setting &quot;ivtc=1&quot;, but this is not supported by MPlayer 0.9x
+-#DETC_FILTER=&quot;ivtc=1&quot;
+-DETC_FILTER=&quot;detc=dr=2:am=1&quot;
+-
+-# What version of MPlayer do you have?
+-# if you have 0.9x then choose 'false'
+-# if you have 1.0(pre) then choose 'true'
+-MPLAYER_V1=&quot;true&quot;
++DETC_FILTER=&quot;ivtc=1&quot;
++#DETC_FILTER=&quot;detc=dr=2:am=1&quot;
+ 
+ # Cache Option for MPlayer
+ CACHE=&quot;4096&quot;
+@@ -115,10 +107,10 @@
+ DVDFiles=&quot;/video/plugins/DVD-VCD&quot;
+ 
+ # What is your DVD-ROM device ?
+-DVD=&quot;/dev/hdc&quot;
++DVD=&quot;/dev/dvd&quot;
+ 
+ # What languages do your DVD's use ?
+-DVDLANG=&quot;de&quot;
++DVDLANG=&quot;en&quot;
+ 
+ # extra DVD options
+ #DVDOPTIONS=&quot;-af volume=+10&quot;
+--- m/mplayer.sh~	2007-02-11 17:34:07.000000000 +0200
++++ m/mplayer.sh	2007-02-25 13:26:12.000000000 +0200
+@@ -253,13 +253,6 @@
+   SUFFIX=$(echo -e &quot;${FILE:$[${#FILE}-4]:4}&quot; | tr [A-Z] [a-z])
+   debugvar SUFFIX $SUFFIX
+ 
+-  if test -z &quot;$MPLAYER_V1&quot;; then
+-      echolog &quot;*** MPLAYER_V1 not set! Setting it to 'false'.&quot;
+-      echolog &quot;*** If you cannot play cue-files, then set it to 'true'.&quot;
+-      MPLAYER_V1=&quot;false&quot;
+-  fi
+-  debugvar MPLAYER_V1 &quot;$MPLAYER_V1&quot;
+-
+   return;
+ }
+ 
+@@ -518,12 +511,7 @@
+     fi
+     unset FILE
+ elif test &quot;${SUFFIX}&quot; == &quot;.cue&quot;; then
+-    if $MPLAYER_V1; then      
+-        CMDLINE=&quot;$MPLAYER -vo $VO $AOUT $FDSTR $CACHESTR $REMOTE $USERDEF <A HREF="cue://$FILE:2">cue://$FILE:2</A>&quot;
+-	unset FILE
+-    else
+-        CMDLINE=&quot;$MPLAYER -vo $VO $AOUT $FDSTR $CACHESTR $REMOTE $USERDEF -vcd 2 -cuefile&quot;
+-    fi
++    CMDLINE=&quot;$MPLAYER -vo $VO $AOUT $FDSTR $CACHESTR $REMOTE $USERDEF <A HREF="cue://$FILE:2">cue://$FILE:2</A>&quot;
+ else
+     # Try to determine the video attributes
+     if $DEBUG; then echolog &quot;*** DEBUG: Calling getvidxy function to analyze source video stream ...&quot;; fi

Added: branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-0.8.7-lircrc.patch
===================================================================
--- branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-0.8.7-lircrc.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-0.8.7-lircrc.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,15 @@
+--- mplayer.sh.conf~	2007-02-11 17:38:06.000000000 +0200
++++ mplayer.sh.conf	2007-02-25 13:31:21.000000000 +0200
+@@ -100,7 +100,11 @@
+ FRAMEDROP=&quot;true&quot;
+ 
+ # Lirc RC File
+-LIRCRC=&quot;/video/.lircrc&quot;
++if ldd &quot;$MPLAYER&quot; 2&gt;/dev/null | grep liblirc_client &gt;/dev/null 2&gt;&amp;1 ; then
++  LIRCRC=&quot;/etc/vdr/lircrc&quot;
++else
++  LIRCRC=&quot;&quot;
++fi
+ 
+ # do we have a slow CPU?
+ # if so, reduce the Y resolution to the half of the possible maximum:

Added: branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-framedrop.patch
===================================================================
--- branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-framedrop.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-framedrop.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,11 @@
+--- mplayer.sh~	2004-11-06 23:00:00.000000000 +0200
++++ mplayer.sh	2004-12-24 11:58:18.949657706 +0200
+@@ -189,7 +189,7 @@
+ 
+   if test -z &quot;$FRAMEDROP&quot; -o &quot;$FRAMEDROP&quot; != &quot;true&quot;; then FRAMEDROP=false; fi
+   debugvar FRAMEDROP &quot;$FRAMEDROP&quot;
+-  if $FRAMEDROP; then FDSTR=&quot;-framedrop&quot;; fi 
++  if $FRAMEDROP; then FDSTR=&quot;-framedrop&quot;; else FDSTR=&quot;-noframedrop&quot;; fi 
+   debugvar FDSTR &quot;$FDSTR&quot;
+ 
+   declare LIRCSTR=&quot;&quot; # no extra Lirc option!

Added: branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-identify.patch
===================================================================
--- branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-identify.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-mp3/vdr-mp3-mplayer.sh-identify.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,11 @@
+--- mplayer.sh.orig	2004-11-06 23:00:00.000000000 +0200
++++ mplayer.sh	2005-07-18 20:53:04.000000000 +0300
+@@ -268,7 +268,7 @@
+   local TEMP1 MPLAYER_RETURN
+   ORIG_X=0; ORIG_Y=0
+ 
+-  TEMP1=`$MPLAYER -identify -vo null -ao null -frames 0 &quot;$FILE&quot; 2&gt;/dev/null | grep -i -e &quot;^ID_&quot;`
++  TEMP1=`$MPLAYER -identify -vo null -nosound -frames 0 -cache-min 0 -nolirc -nojoystick &quot;$FILE&quot; 2&gt;/dev/null | grep -i -e &quot;^ID_&quot;`
+   MPLAYER_RETURN=$?
+   debugmsg &quot;OutputFromMPLAYER:&quot; &quot;$TEMP1&quot;
+   debugmsg &quot;MPLAYER_RETURN: &quot; &quot;$MPLAYER_RETURN&quot;

Added: branches/rpms/brian/vdr-mp3/vdr-mp3.spec
===================================================================
--- branches/rpms/brian/vdr-mp3/vdr-mp3.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-mp3/vdr-mp3.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,300 @@
+# TODO:
+# - mplayer.sh:
+#   - patch to allow playing audio files (currently insists to find video)
+#   - audio CD support?
+
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define videodir  %(vdr-config --videodir   2&gt;/dev/null || echo ERROR)
+%define audiodir  %(vdr-config --audiodir   2&gt;/dev/null || echo ERROR)
+%define datadir   %(vdr-config --datadir    2&gt;/dev/null || echo ERROR)
+%define cachedir  %(vdr-config --cachedir   2&gt;/dev/null || echo ERROR)
+%define vardir    %(vdr-config --vardir     2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+%define vdr_user  %(vdr-config --user       2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-mp3
+Version:        0.9.15
+Release:        5%{?dist}
+Summary:        Sound playback plugin for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.muempf.de/">http://www.muempf.de/</A>
+Source0:        <A HREF="http://www.muempf.de/down/%{name">http://www.muempf.de/down/%{name</A>}-%{version}.tar.gz
+Source1:        <A HREF="http://batleth.sapienti-sat.org/projects/VDR/versions/mplayer.sh-0.8.7.tar.gz">http://batleth.sapienti-sat.org/projects/VDR/versions/mplayer.sh-0.8.7.tar.gz</A>
+Source2:        %{name}-mediasources.sh
+Source3:        %{name}-mp3.conf
+Source4:        %{name}-mplayer.conf
+Source5:        %{name}-mplayer-minimal.sh
+Patch0:         %{name}-mplayer.sh-0.8.7-lircrc.patch
+Patch1:         %{name}-mplayer.sh-framedrop.patch
+Patch2:         %{name}-mplayer.sh-identify.patch
+Patch3:         %{name}-mplayer.sh-0.8.7-defaults.patch
+Patch4:         %{name}-0.9.15-lastdir.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.4.0
+BuildRequires:  libsndfile-devel &gt;= 1.0.0
+BuildRequires:  libvorbis-devel
+BuildRequires:  %{__perl}
+BuildRequires:  libmad-devel
+BuildRequires:  libid3tag-devel
+Requires:       vdr(abi) = %{apiver}
+Requires:       netpbm-progs
+Requires:       mjpegtools &gt;= 1.8.0
+Requires:       file
+
+%description
+The MP3 plugin adds audio playback capability to VDR.  Supported audio
+formats are those supported by libmad, libsndfile and libvorbis.
+
+%package     -n vdr-mplayer
+Summary:        MPlayer plugin for VDR
+Group:          Applications/Multimedia
+BuildRequires:  %{__perl}
+Requires:       vdr(abi) = %{apiver}
+Requires:       mplayer &gt;= 1.0-0.lvn.0.19.pre7
+
+%description -n vdr-mplayer
+The MPlayer plugin adds the ability to call MPlayer from within VDR,
+allowing to replay all video formats supported by MPlayer over VDR's
+primary output device.
+
+
+%prep
+%setup -q -n mp3-%{version} -a 1
+%patch0
+%patch1
+%patch2
+%patch3 -p1
+%patch4
+%{__perl} -pi -e \
+  's|CFGFIL=.*|CFGFIL=&quot;%{configdir}/plugins/mplayer.sh.conf&quot;|' \
+  mplayer.sh
+%{__perl} -pi -e \
+  's|&quot;/var/cache/images/mp3&quot;|&quot;%{cachedir}/mp3/images&quot;|' \
+  data-mp3.c README
+%{__perl} -pi -e \
+  's|&quot;/video/plugins/DVD-VCD&quot;|&quot;%{datadir}/DVD-VCD&quot;| ;
+   s|^MPLAYER=.*|MPLAYER=&quot;mplayer&quot;|' \
+  mplayer.sh.conf
+for f in HISTORY MANUAL README ; do
+  iconv -f iso-8859-1 -t utf-8 $f &gt; $f.utf-8 ; mv $f.utf-8 $f
+done
+sed -e 's|/var/lib/vdr|%{vardir}|' %{SOURCE4} &gt; %{name}-mplayer.conf
+
+
+%build
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr WITH_OSS_OUTPUT=1 all
+echo &quot;%{audiodir};Local hard drive;0&quot; &gt; mp3sources.conf
+echo &quot;%{datadir}/DVD-VCD;DVD or VCD;0&quot; &gt; mplayersources.conf
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+
+# Common dirs
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -dm 755 $RPM_BUILD_ROOT%{configdir}/plugins
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}/bin
+install -dm 755 $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d
+
+# Common files
+install -pm 755 %{SOURCE2} $RPM_BUILD_ROOT%{plugindir}/bin/mediasources.sh
+install -pm 755 examples/mount.sh.example \
+  $RPM_BUILD_ROOT%{plugindir}/bin/mount.sh
+
+# MP3 files
+install -pm 755 libvdr-mp3.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -pm 644 mp3sources.conf $RPM_BUILD_ROOT%{configdir}/plugins
+install -pm 755 examples/image_convert.sh.example \
+  $RPM_BUILD_ROOT%{plugindir}/bin/image_convert.sh
+%{__perl} -pe 's|/var/cache/vdr/|%{cachedir}/|' %{SOURCE3} \
+  &gt; $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/mp3.conf
+chmod 644 $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/mp3.conf
+install -dm 755 $RPM_BUILD_ROOT%{cachedir}/mp3/images
+i=$RPM_BUILD_ROOT%{cachedir}/mp3/id3info.cache ; &gt; $i ; chmod 644 $i
+
+# MPlayer files
+install -pm 755 libvdr-mplayer.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -dm 755 $RPM_BUILD_ROOT%{datadir}/DVD-VCD
+touch $RPM_BUILD_ROOT%{datadir}/DVD-VCD/{DVD,VCD}
+chmod 644 $RPM_BUILD_ROOT%{datadir}/DVD-VCD/*
+install -pm 644 mplayersources.conf mplayer.sh.conf \
+  $RPM_BUILD_ROOT%{configdir}/plugins
+install -pm 755 mplayer.sh $RPM_BUILD_ROOT%{plugindir}/bin/mplayer.sh
+install -pm 755 %{SOURCE5} $RPM_BUILD_ROOT%{plugindir}/bin/mplayer-minimal.sh
+install -pm 644 %{name}-mplayer.conf \
+  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/mplayer.conf
+install -dm 755 $RPM_BUILD_ROOT%{vardir}
+i=$RPM_BUILD_ROOT%{vardir}/global.mplayer.resume ; &gt; $i ; chmod 644 $i
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%post
+if [ $1 -eq 1 ] ; then
+  %{plugindir}/bin/mediasources.sh \
+    &gt;&gt; %{configdir}/plugins/mp3sources.conf || :
+else
+  if ! grep %{audiodir} %{configdir}/plugins/mp3sources.conf &amp;&gt;/dev/null ; then
+    echo &quot;%{audiodir}&quot; &gt;&gt; %{configdir}/plugins/mp3sources.conf || :
+  fi
+  r=global.mplayer.resume
+  if [ -f %{videodir}/$r -a ! -f %{vardir}/$r ] ; then
+    mv %{videodir}/$r %{vardir}/$r
+  fi
+fi
+
+%post -n vdr-mplayer
+if [ $1 -eq 1 ] ; then
+  %{plugindir}/bin/mediasources.sh \
+    &gt;&gt; %{configdir}/plugins/mplayersources.conf || :
+fi
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY MANUAL README examples/mount.sh.example
+%doc examples/mp3sources.conf.example examples/network.sh.example
+%config(noreplace) %{configdir}/plugins/mp3sources.conf
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/mp3.conf
+%{plugindir}/libvdr-mp3.so.%{apiver}
+%{plugindir}/bin/image_convert.sh
+%{plugindir}/bin/mediasources.sh
+%{plugindir}/bin/mount.sh
+%defattr(-,%{vdr_user},root,-)
+%dir %{cachedir}/mp3/
+%dir %{cachedir}/mp3/images/
+%ghost %{cachedir}/mp3/id3info.cache
+
+%files -n vdr-mplayer
+%defattr(-,root,root,-)
+%doc COPYING HISTORY MANUAL README examples/mplayer.sh.example
+%doc examples/mount.sh.example
+%config(noreplace) %{configdir}/plugins/mplayer*.conf
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/mplayer.conf
+%{plugindir}/libvdr-mplayer.so.%{apiver}
+%{plugindir}/bin/mediasources.sh
+%{plugindir}/bin/mount.sh
+%{plugindir}/bin/mplayer*.sh
+%{datadir}/DVD-VCD/
+%defattr(-,%{vdr_user},root,-)
+%ghost %{vardir}/global.mplayer.resume
+
+
+%changelog
+* Sun Feb 25 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.15-5
+- Apply upstream patch to check availability of last dir before accessing it.
+- Update mplayer.sh to 0.8.7.
+
+* Sun Jan  7 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.15-4
+- Rebuild for VDR 1.4.5.
+
+* Sat Nov  4 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.15-3
+- Rebuild for VDR 1.4.4.
+
+* Fri Oct 06 2006 Thorsten Leemhuis &lt;fedora [AT] leemhuis [DOT] info&gt; 0.9.15-2
+- rebuilt for unwind info generation, broken in gcc-4.1.1-21
+
+* Sat Sep 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.15-1
+- 0.9.15, build for VDR 1.4.3.
+
+* Sun Aug  6 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.15-0.6.pre14
+- Rebuild for VDR 1.4.1-3.
+
+* Sun Jul 30 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.15-0.5.pre14
+- 0.9.15pre14 + Rolf Ahrenberg's Finnish patch.
+- Plugin C(XX)FLAGS and zlib patches applied upstream.
+- Re-enable MP3 plugin; it supposedly works just fine in most setups
+  (still not in my vdr-dxr3 one though).
+
+* Mon Jul 24 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.15-0.5.pre10
+- Patch to get plugin C(XX)FLAGS properly applied from Make.config.
+
+* Sun Jul 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.15-0.4.pre10
+- Include accidentally dropped mplayer.sh.conf.
+
+* Sun Jun 11 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.15-0.3.pre10
+- Rebuild for VDR 1.4.1.
+
+* Sun Apr 30 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.15-0.2.pre10
+- 0.9.15pre10, build for VDR 1.4.0.
+- Move -mplayer global resume file to /var/lib/vdr.
+
+* Sun Apr 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.15-0.2.pre6
+- Require versioned vdr(abi) also in -mplayer.
+
+* Mon Apr 17 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.15-0.1.pre6
+- 0.9.15pre6, i18n fix applied upstream.
+- Rebuild/adjust for VDR 1.3.47, require versioned vdr(abi).
+- Trim pre-RLO %%changelog entries.
+
+* Sun Mar 26 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.14-8
+- Rebuild for VDR 1.3.45.
+- Disable mp3 plugin, it doesn't work properly with NPTL (#844).
+
+* Sat Mar 18 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.14-7
+- Get rid of superfluous direct dependency on zlib (#813).
+
+* Sat Mar 18 2006 Thorsten Leemhuis &lt;fedora at leemhuis.info&gt; - 0.9.14-6
+- drop 0.lvn from release
+
+* Wed Mar  1 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.14-0.lvn.6
+- Rebuild for VDR 1.3.44.
+
+* Tue Feb 28 2006 Andreas Bierfert &lt;andreas.bierfert[AT]lowlatency.de&gt;
+- add dist
+
+* Sun Feb 19 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.14-0.lvn.5
+- Rebuild for VDR 1.3.43.
+
+* Sun Feb  5 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.14-0.lvn.4
+- Rebuild for VDR 1.3.42.
+
+* Sun Jan 22 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.14-0.lvn.3
+- Fix button translations with VDR &gt;= 1.3.38.
+- Add mplayer-minimal.sh, an alternative MPlayer launcher script.
+- Rebuild for VDR 1.3.40.
+
+* Sun Jan 15 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.14-0.lvn.2
+- Rebuild for VDR 1.3.39.
+
+* Sun Jan  8 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.14-0.lvn.1
+- 0.9.14.
+- Patch to fix build with gcc 4.1.
+- Rebuild for VDR 1.3.38.
+
+* Mon Nov 28 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.13-1.lvn.10
+- Rebuild for VDR 1.3.37.
+
+* Sun Nov  6 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.13-1.lvn.9
+- Rebuild for VDR 1.3.36.
+
+* Tue Nov  1 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.13-1.lvn.8
+- Rebuild for VDR 1.3.35.
+
+* Mon Oct  3 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.13-1.lvn.7
+- Rebuild for VDR 1.3.34.
+
+* Sun Sep 25 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.13-1.lvn.6
+- Rebuild for VDR 1.3.33.
+
+* Sun Sep 11 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.13-1.lvn.5
+- Rebuild for VDR 1.3.32.
+
+* Sun Aug 28 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.13-1.lvn.4
+- Rebuild for VDR 1.3.31.
+
+* Sun Aug 21 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.13-1.lvn.3
+- Rebuild for VDR 1.3.30.
+- Add audiodir to mp3sources.conf.
+
+* Tue Aug 16 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.13-1.lvn.2
+- Try to avoid build system problems by not using %%expand with vdr-config.
+
+* Sat Aug 13 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.9.13-1.lvn.1
+- Improve descriptions, convert docs to UTF-8.

Added: branches/rpms/brian/vdr-osdteletext/vdr-osdteletext-0.5.1-i18n.patch
===================================================================
--- branches/rpms/brian/vdr-osdteletext/vdr-osdteletext-0.5.1-i18n.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-osdteletext/vdr-osdteletext-0.5.1-i18n.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,21 @@
+--- osdteletext.c~	2005-08-16 17:19:25.000000000 +0300
++++ osdteletext.c	2006-01-22 22:43:09.000000000 +0200
+@@ -208,12 +208,12 @@
+       { &quot;Action_kGreen&quot;,    tr(&quot;Green key&quot;) },
+       { &quot;Action_kYellow&quot;,   tr(&quot;Yellow key&quot;) },
+       { &quot;Action_kBlue&quot;,     tr(&quot;Blue key&quot;) },
+-      { &quot;Action_kPlay&quot;,     tr(cKey::ToString( kPlay)) },
+-      //{ &quot;Action_kPause&quot;,    tr(cKey::ToString( kPause)) },
+-      { &quot;Action_kStop&quot;,     tr(cKey::ToString( kStop)) },
+-      //{ &quot;Action_kRecord&quot;,   tr(cKey::ToString( kRecord)) },
+-      { &quot;Action_kFastFwd&quot;,  tr(cKey::ToString( kFastFwd)) },
+-      { &quot;Action_kFastRew&quot;,  tr(cKey::ToString( kFastRew)) }
++      { &quot;Action_kPlay&quot;,     tr(&quot;Key$Play&quot;) },
++      //{ &quot;Action_kPause&quot;,    tr(&quot;Key$Pause&quot;) },
++      { &quot;Action_kStop&quot;,     tr(&quot;Key$Stop&quot;) },
++      //{ &quot;Action_kRecord&quot;,   tr(&quot;Key$Record&quot;) },
++      { &quot;Action_kFastFwd&quot;,  tr(&quot;Key$FastFwd&quot;) },
++      { &quot;Action_kFastRew&quot;,  tr(&quot;Key$FastRew&quot;) }
+    };
+    
+    cTeletextSetupPage::actionKeyNames = st_actionKeyNames;

Added: branches/rpms/brian/vdr-osdteletext/vdr-osdteletext.conf
===================================================================
--- branches/rpms/brian/vdr-osdteletext/vdr-osdteletext.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-osdteletext/vdr-osdteletext.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,6 @@
+# Configuration snippet for vdr-osdteletext                          -*- sh -*-
+#
+# Add command line options to pass to the osdteletext plugin to PLUGIN_OPTIONS.
+# See /usr/share/doc/vdr-osdteletext-*/README for info about available options.
+
+PLUGIN_OPTIONS=&quot;-d /var/cache/vdr/osdteletext&quot;

Added: branches/rpms/brian/vdr-osdteletext/vdr-osdteletext.spec
===================================================================
--- branches/rpms/brian/vdr-osdteletext/vdr-osdteletext.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-osdteletext/vdr-osdteletext.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,149 @@
+%define pname     osdteletext
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define cachedir  %(vdr-config --cachedir   2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+%define vdr_user  %(vdr-config --user       2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.5.1
+Release:        27%{?dist}
+Summary:        OSD teletext plugin for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.wiesweg-online.de/linux/linux.html">http://www.wiesweg-online.de/linux/linux.html</A>
+Source0:        <A HREF="http://www.wiesweg-online.de/linux/vdr/%{name">http://www.wiesweg-online.de/linux/vdr/%{name</A>}-%{version}.tgz
+Source1:        %{name}.conf
+Patch0:         %{name}-0.5.1-i18n.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47
+Requires:       vdr(abi) = %{apiver}
+
+%description
+The OSD teletext plugin displays teletext directly on VDR's on-screen
+display, with sound and video from the current channel playing in the
+background.
+
+
+%prep
+%setup -q -n %{pname}-%{version}
+%patch0
+for f in HISTORY README.DE ; do
+  iconv -f iso-8859-1 -t utf-8 $f &gt; $f.utf-8 ; mv $f.utf-8 $f
+done
+sed -i -e '/^DVBDIR/d' -e 's|-I$(DVBDIR)/include||' Makefile
+sed -i -e s/VDRVERSION/APIVERSION/g Makefile
+
+
+%build
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr libvdr-%{pname}.so
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -dm 755 $RPM_BUILD_ROOT%{cachedir}/osdteletext
+install -dm 755 $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d
+sed -e 's|/var/cache/vdr/|%{cachedir}/|' &lt; %{SOURCE1} \
+  &gt; $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/osdteletext.conf
+chmod 644 $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/*.conf
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%preun
+if [ $1 -eq 0 ] ; then
+  rm -rf %{cachedir}/osdteletext/*
+fi
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY README*
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+%attr(-,%{vdr_user},root) %{cachedir}/osdteletext/
+
+
+%changelog
+* Sun Jan  7 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-27
+- Rebuild for VDR 1.4.5.
+
+* Sun Nov 12 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-26
+- First FE build.
+
+* Sun Apr 30 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-20
+- Rebuild for VDR 1.4.0.
+
+* Mon Apr 17 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-19
+- Rebuild/adjust for VDR 1.3.47, require versioned vdr(abi).
+- Trim pre-RLO %%changelog entries.
+
+* Sun Mar 26 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-18
+- Rebuild for VDR 1.3.45.
+
+* Sat Mar 18 2006 Thorsten Leemhuis &lt;fedora at leemhuis.info&gt; - 0.5.1-17
+- drop 0.lvn from release
+
+* Wed Mar  1 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.17
+- Rebuild for VDR 1.3.44.
+
+* Tue Feb 28 2006 Andreas Bierfert &lt;andreas.bierfert[AT]lowlatency.de&gt;
+- add dist
+
+* Sun Feb 19 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.16
+- Rebuild for VDR 1.3.43.
+
+* Sun Feb  5 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.15
+- Rebuild for VDR 1.3.42.
+
+* Sun Jan 22 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.14
+- Fix translations with VDR &gt;= 1.3.38.
+- Rebuild for VDR 1.3.40.
+
+* Sun Jan 15 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.13
+- Rebuild for VDR 1.3.39.
+
+* Sun Jan  8 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.12
+- Rebuild for VDR 1.3.38.
+
+* Mon Nov 28 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.11
+- Rebuild for VDR 1.3.37.
+
+* Sun Nov  6 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.10
+- Rebuild for VDR 1.3.36.
+
+* Tue Nov  1 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.9
+- Rebuild for VDR 1.3.35.
+
+* Mon Oct  3 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.8
+- Rebuild for VDR 1.3.34.
+
+* Sun Sep 25 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.7
+- Rebuild for VDR 1.3.33.
+
+* Sun Sep 11 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.6
+- Rebuild for VDR 1.3.32.
+
+* Sun Aug 28 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.5
+- Rebuild for VDR 1.3.31.
+
+* Sun Aug 21 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.4
+- Rebuild for VDR 1.3.30.
+
+* Tue Aug 16 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.3
+- Sync with re-re-released upstream 0.5.1 tarball, cache dir is now
+  stabilized at %%{cachedir}/osdteletext.
+- Try to avoid build system problems by not using %%expand.
+- Honor &quot;vdr-config --user&quot;.
+- Improve description.
+
+* Fri Aug 12 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.2
+- Sync with re-released upstream 0.5.1 tarball.
+
+* Thu Aug 11 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.1-0.lvn.1
+- 0.5.1.

Added: branches/rpms/brian/vdr-reelchannelscan/04_reelchannelscan-0.3.0-configdir.dpatch
===================================================================
--- branches/rpms/brian/vdr-reelchannelscan/04_reelchannelscan-0.3.0-configdir.dpatch	                        (rev 0)
+++ branches/rpms/brian/vdr-reelchannelscan/04_reelchannelscan-0.3.0-configdir.dpatch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,19 @@
+#! /bin/sh /usr/share/dpatch/dpatch-run
+## 04_reelchannelscan-0.3.0-configdir.dpatch by Thomas G&#252;nther &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">tom at toms-cafe.de</A>&gt;
+##
+## All lines beginning with `## DP:' are a description of the patch.
+## DP: Use plugins own config directory.
+
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+ at DPATCH</A>@
+diff -urNad vdr-plugin-reelchannelscan-0.4.3~r2~/transponders.c vdr-plugin-reelchannelscan-0.4.3~r2/transponders.c
+--- vdr-plugin-reelchannelscan-0.4.3~r2~/transponders.c	2007-05-04 19:19:45.000000000 +0200
++++ vdr-plugin-reelchannelscan-0.4.3~r2/transponders.c	2007-05-04 20:04:04.000000000 +0200
+@@ -536,7 +536,7 @@
+ 
+ string cTransponders::TplFileName(int satCodec)
+ {
+-  string tmp = cPlugin::ConfigDirectory();
++  string tmp = cPlugin::ConfigDirectory(PLUGIN_NAME_I18N);
+   tmp += &quot;/transponders/&quot;;
+   if (satCodec == 0)
+   {

Added: branches/rpms/brian/vdr-reelchannelscan/vdr-reelchannelscan.spec
===================================================================
--- branches/rpms/brian/vdr-reelchannelscan/vdr-reelchannelscan.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-reelchannelscan/vdr-reelchannelscan.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,56 @@
+%define pname     reelchannelscan
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.4.3
+Release:        1
+Summary:        Channel scanner for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.berlios.de/vdr/">http://www.berlios.de/vdr/</A>
+Source0:        <A HREF="http://www.berlios.de/vdr/downloads/%{name">http://www.berlios.de/vdr/downloads/%{name</A>}-%{version}.tar.bz2
+Patch1:         04_reelchannelscan-0.3.0-configdir.dpatch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47 
+Requires:       vdr(abi) = %{apiver}
+
+%description
+This plugin allows VDR to scan for DVB channels and to update the channels.conf
+configuration file
+
+%prep
+%setup -q -n %{pname}-%{version}
+%patch1 -p1
+
+
+%build
+#./configure
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -dm 755 $RPM_BUILD_ROOT/usr/bin/
+mkdir -p $RPM_BUILD_ROOT%{configdir}/plugins/%{pname}
+cp -r transponders  $RPM_BUILD_ROOT%{configdir}/plugins/%{pname}/
+install -dm 644 $RPM_BUILD_ROOT%{configdir}/plugins/%{pname}
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY README
+%{configdir}/plugins/%{pname}
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+
+%changelog
+

Added: branches/rpms/brian/vdr-remote/vdr-plugin-remote_0.3.8-2.ds.diff.gz
===================================================================
(Binary files differ)


Property changes on: branches/rpms/brian/vdr-remote/vdr-plugin-remote_0.3.8-2.ds.diff.gz
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: branches/rpms/brian/vdr-remote/vdr-remote.conf
===================================================================
--- branches/rpms/brian/vdr-remote/vdr-remote.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-remote/vdr-remote.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,6 @@
+# Configuration snippet for vdr-remote                               -*- sh -*-
+#
+# Add command line options to pass to the remote plugin to PLUGIN_OPTIONS.
+# See /usr/share/doc/vdr-remote-*/README for info about available options.
+
+PLUGIN_OPTIONS=&quot;&quot;

Added: branches/rpms/brian/vdr-remote/vdr-remote.spec
===================================================================
--- branches/rpms/brian/vdr-remote/vdr-remote.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-remote/vdr-remote.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,161 @@
+%define pname     remote
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.3.9
+Release:        1%{?dist}
+Summary:        Extended remote control plugin for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.escape-edv.de/endriss/vdr/">http://www.escape-edv.de/endriss/vdr/</A>
+Source0:        <A HREF="http://www.escape-edv.de/endriss/vdr/%{name">http://www.escape-edv.de/endriss/vdr/%{name</A>}-%{version}.tgz
+Source1:        %{name}.conf
+Patch0:         <A HREF="http://zap.tartarus.org/~ds/debian/dists/unstable/main/source/vdr-plugin-remote_0.3.8-2.ds.diff.gz">http://zap.tartarus.org/~ds/debian/dists/unstable/main/source/vdr-plugin-remote_0.3.8-2.ds.diff.gz</A>
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47
+Requires:       vdr(abi) = %{apiver}
+
+%description
+This plugin extends VDR's remote control capabilities, adding support
+for Linux input devices, keyboards (tty), TCP connections, and LIRC.
+
+
+%prep
+%setup -q -n %{pname}-%{version}
+%patch0 -p1
+patch -p1 -i debian/patches/01_debian.dpatch
+patch -p1 -i debian/patches/02_no_abort.dpatch
+patch -p1 -i debian/patches/03_eventX.dpatch
+sed -i -e 's/0\.3\.8/0.3.9/g' debian/patches/04_constness.dpatch
+patch -p1 -i debian/patches/04_constness.dpatch
+sed -i -e 's|include Make.config|include $(VDRDIR)/Make.config|' Makefile
+for f in CONTRIBUTORS HISTORY ; do
+    iconv -f iso-8859-1 -t utf-8 $f &gt; $f.utf-8 ; mv $f.utf-8 $f
+done
+
+
+%build
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+make install LIBDIR=. VDRDIR=%{_libdir}/vdr # ugh
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -Dpm 644 %{SOURCE1} \
+  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc CONTRIBUTORS COPYING FAQ HISTORY README
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+
+%changelog
+* Sun Jan  7 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.9-1
+- 0.3.9, build for VDR 1.4.5.
+
+* Sat Nov  4 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-3
+- Rebuild for VDR 1.4.4.
+
+* Fri Oct 06 2006 Thorsten Leemhuis &lt;fedora [AT] leemhuis [DOT] info&gt; 0.3.8-2
+- rebuilt for unwind info generation, broken in gcc-4.1.1-21
+
+* Sat Sep 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-1
+- 0.3.8, build for VDR 1.4.3.
+
+* Sun Aug  6 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.7-3
+- Rebuild for VDR 1.4.1-3.
+
+* Sun Jun 11 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.7-2
+- Rebuild for VDR 1.4.1.
+
+* Sun May 14 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.7-1
+- 0.3.7.
+
+* Sun Apr 30 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.6-4
+- Sync with 0.3.6-1.ds, build for VDR 1.4.0.
+
+* Mon Apr 17 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.6-3
+- Rebuild/adjust for VDR 1.3.47, require versioned vdr(abi).
+- Trim pre-RLO %%changelog entries.
+
+* Sun Mar 26 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.6-2
+- Rebuild for VDR 1.3.45.
+
+* Sat Mar 18 2006 Thorsten Leemhuis &lt;fedora at leemhuis.info&gt; - 0.3.6-1
+- drop 0.lvn from release
+
+* Sun Mar  5 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.6-0.lvn.1
+- 0.3.6 + 0.3.5-1.ds.
+
+* Wed Mar  1 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.5-0.lvn.5
+- Rebuild for VDR 1.3.44.
+
+* Tue Feb 28 2006 Andreas Bierfert &lt;andreas.bierfert[AT]lowlatency.de&gt;
+- add dist
+
+* Tue Feb 21 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.5-0.lvn.4
+- Sync with 0.3.5-2.ds.
+
+* Sun Feb 19 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.5-0.lvn.3
+- Sync with 0.3.5-1.ds, rebuild for VDR 1.3.43.
+
+* Sun Feb  5 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.5-0.lvn.2
+- Rebuild for VDR 1.3.42.
+
+* Wed Jan 25 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.5-0.lvn.1
+- 0.3.5.
+
+* Sun Jan 22 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.4-0.lvn.4
+- Rebuild for VDR 1.3.40.
+
+* Sat Jan 21 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.4-0.lvn.3
+- Fix plugin filename (#738).
+
+* Sun Jan 15 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.4-0.lvn.2
+- Rebuild for VDR 1.3.39.
+
+* Mon Jan  9 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.4-0.lvn.1
+- 0.3.4 + 1.ds.
+- Rebuild for VDR 1.3.38.
+
+* Mon Nov 28 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.3-1.lvn.10
+- Rebuild for VDR 1.3.37.
+
+* Sun Nov  6 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.3-1.lvn.9
+- Rebuild for VDR 1.3.36.
+
+* Tue Nov  1 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.3-1.lvn.8
+- Rebuild for VDR 1.3.35.
+
+* Mon Oct  3 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.3-1.lvn.7
+- Rebuild for VDR 1.3.34.
+
+* Sun Sep 25 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.3-1.lvn.6
+- Rebuild for VDR 1.3.33.
+
+* Sun Sep 11 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.3-1.lvn.5
+- Rebuild for VDR 1.3.32.
+
+* Sun Aug 28 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.3-1.lvn.4
+- Rebuild for VDR 1.3.31.
+
+* Sun Aug 21 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.3-1.lvn.3
+- Rebuild for VDR 1.3.30.
+
+* Tue Aug 16 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.3-1.lvn.2
+- Try to avoid build system problems by not using %%expand with vdr-config.
+
+* Sun Aug 14 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.3-1.lvn.1
+- Improve description, convert docs to UTF-8.

Added: branches/rpms/brian/vdr-screenshot/vdr-screenshot.spec
===================================================================
--- branches/rpms/brian/vdr-screenshot/vdr-screenshot.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-screenshot/vdr-screenshot.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,49 @@
+%define pname     screenshot
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.0.11
+Release:        1
+Summary:        Screenshot shupport for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.berlios.de/vdr/">http://www.berlios.de/vdr/</A>
+Source0:        <A HREF="http://www.berlios.de/vdr/downloads/%{name">http://www.berlios.de/vdr/downloads/%{name</A>}-%{version}.tar.bz2
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47 
+Requires:       vdr(abi) = %{apiver}
+
+%description
+This plugin anables VDR to take snapshots of the current TV image
+
+%prep
+%setup -q -n %{pname}-%{version}
+
+
+%build
+#./configure
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -dm 755 $RPM_BUILD_ROOT/usr/bin/
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY README
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+
+%changelog
+

Added: branches/rpms/brian/vdr-skinelchi/vdr-skinelchi.spec
===================================================================
--- branches/rpms/brian/vdr-skinelchi/vdr-skinelchi.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-skinelchi/vdr-skinelchi.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,49 @@
+%define pname     skinelchi
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.1.1pre2
+Release:        1
+Summary:        Elchi skin for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.berlios.de/vdr/">http://www.berlios.de/vdr/</A>
+Source0:        <A HREF="http://www.berlios.de/vdr/downloads/%{name">http://www.berlios.de/vdr/downloads/%{name</A>}-%{version}.tar.bz2
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47 
+Requires:       vdr(abi) = %{apiver}
+
+%description
+This plugin adds the elchi skin to VDR
+
+%prep
+%setup -q -n %{pname}-%{version}
+
+
+%build
+#./configure
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -dm 755 $RPM_BUILD_ROOT/usr/bin/
+install -pm 755 libvdr-%{pname}.so $RPM_BUILD_ROOT%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY README
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+
+%changelog
+

Added: branches/rpms/brian/vdr-skinreel/vdr-skinreel.spec
===================================================================
--- branches/rpms/brian/vdr-skinreel/vdr-skinreel.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-skinreel/vdr-skinreel.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,49 @@
+%define pname     skinreel
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.0.1
+Release:        1
+Summary:        Reel skin for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.berlios.de/vdr/">http://www.berlios.de/vdr/</A>
+Source0:        <A HREF="http://www.berlios.de/vdr/downloads/%{name">http://www.berlios.de/vdr/downloads/%{name</A>}-%{version}.tar.bz2
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47 
+Requires:       vdr(abi) = %{apiver}
+
+%description
+This plugin adds the Reel skin to VDR
+
+%prep
+%setup -q -n %{pname}-%{version}
+
+
+%build
+#./configure
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -dm 755 $RPM_BUILD_ROOT/usr/bin/
+install -pm 755 libvdr-%{pname}.so $RPM_BUILD_ROOT%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc HISTORY README
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+
+%changelog
+

Added: branches/rpms/brian/vdr-skins/sttng-blue.theme
===================================================================
--- branches/rpms/brian/vdr-skins/sttng-blue.theme	                        (rev 0)
+++ branches/rpms/brian/vdr-skins/sttng-blue.theme	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,62 @@
+Description = Blue LCARS
+clrBackground = 7F000000
+clrButtonRedFg = FFFCFCFC
+clrButtonRedBg = FFFC1414
+clrButtonGreenFg = FF000000
+clrButtonGreenBg = FF24FC24
+clrButtonYellowFg = FF000000
+clrButtonYellowBg = FFFCC024
+clrButtonBlueFg = FFFCFCFC
+clrButtonBlueBg = FF0000FC
+clrMessageFrame = FF598ACD
+clrMessageStatusFg = FF000000
+clrMessageStatusBg = FF00FCFC
+clrMessageInfoFg = FF000000
+clrMessageInfoBg = FF9C9CFF
+clrMessageWarningFg = FF000000
+clrMessageWarningBg = FFFCC024
+clrMessageErrorFg = FFFCFCFC
+clrMessageErrorBg = FFFC1414
+clrVolumeFrame = FF598ACD
+clrVolumeSymbol = FF000000
+clrVolumeBarUpper = FF38359E
+clrVolumeBarLower = FF9FCEFF
+clrChannelFrame = FF598ACD
+clrChannelName = FF000000
+clrChannelDate = FF000000
+clrChannelSymbolOn = FF000000
+clrChannelSymbolOff = FF5A7CA2
+clrChannelSymbolRecFg = FFFCFCFC
+clrChannelSymbolRecBg = FFFC1414
+clrChannelEpgTime = FF000000
+clrChannelEpgTitle = FF00FCFC
+clrChannelEpgShortText = FFFCC024
+clrChannelTimebarSeen = FF38359E
+clrChannelTimebarRest = FF9FCEFF
+clrMenuFrame = FF598ACD
+clrMenuTitle = FF000000
+clrMenuDate = FF000000
+clrMenuItemCurrentFg = FF000000
+clrMenuItemCurrentBg = FF9C9CFF
+clrMenuItemSelectable = FF9C9CFF
+clrMenuItemNonSelectable = FF00FCFC
+clrMenuEventTime = FFFCC024
+clrMenuEventVps = FF000000
+clrMenuEventTitle = FF00FCFC
+clrMenuEventShortText = FFFCC024
+clrMenuEventDescription = FF00FCFC
+clrMenuScrollbarTotal = FF38359E
+clrMenuScrollbarShown = FF00FCFC
+clrMenuScrollbarArrow = FF000000
+clrMenuText = FF00FCFC
+clrReplayFrame = FF598ACD
+clrReplayTitle = FF000000
+clrReplayMode = FF000000
+clrReplayCurrent = FF000000
+clrReplayTotal = FF000000
+clrReplayJump = FF000000
+clrReplayProgressSeen = FF9FCEFF
+clrReplayProgressRest = FF38359E
+clrReplayProgressSelected = FFFC1414
+clrReplayProgressMark = FF000000
+clrReplayProgressCurrent = FFFC1414

Added: branches/rpms/brian/vdr-skins/vdr-skins-aluminium-i18n.patch
===================================================================
--- branches/rpms/brian/vdr-skins/vdr-skins-aluminium-i18n.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-skins/vdr-skins-aluminium-i18n.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,12 @@
+--- Aluminium/Aluminium.trans.orig	2005-10-22 21:01:28.000000000 +0300
++++ Aluminium/Aluminium.trans	2005-10-22 21:02:11.000000000 +0300
+@@ -1,3 +1,7 @@
+-Item=Translation,eng=Total:,deu=Gesamt:;
++Item=Translation,eng=Total:,deu=Gesamt:,fin=Yhteens&#228;:;
+ Item=Translation,eng=Current:,deu=Aktuell:;
+-Item=Translation,eng=-,deu=-;
++Item=Translation,eng=-,deu=-,fin=-;
++Item=Translation,eng={PresentStartDateTime:%d.%m. %H\:%M} - {PresentEndDateTime:%H\:%M},deu={PresentStartDateTime:%d.%m. %H\:%M} - {PresentEndDateTime:%H\:%M},fin={PresentStartDateTime:%d.%m. %H\:%M} - {PresentEndDateTime:%H\:%M};
++Item=Translation,eng=VPS: {PresentVPSDateTime:%H\:%M},deu=VPS: {PresentVPSDateTime:%H\:%M},fin=VPS: {PresentVPSDateTime:%H\:%M};
++Item=Translation,eng={PresentShortText} {PresentDescription},deu={PresentShortText} {PresentDescription},fin={PresentShortText} {PresentDescription};
++Item=Translation,eng=-&gt;,deu=-&gt;,fin=-&gt;;

Added: branches/rpms/brian/vdr-skins/vdr-skins-egalsimple-i18n.patch
===================================================================
--- branches/rpms/brian/vdr-skins/vdr-skins-egalsimple-i18n.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-skins/vdr-skins-egalsimple-i18n.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,7 @@
+--- EgalSimple/EgalSimple.trans~	2004-10-27 18:40:25.000000000 +0300
++++ EgalSimple/EgalSimple.trans	2005-10-22 20:53:10.000000000 +0300
+@@ -13,3 +13,4 @@
+ Item=Translation,eng=R,deu=R,fin=R;
+ Item=Translation,eng=p,deu=p,fin=p;
+ Item=Translation,eng=Volume,deu=Lautst&#228;rke,fin=&#196;anenvoimakk.;
++Item=Translation,eng={PresentShortText} {PresentDescription},deu={PresentShortText} {PresentDescription},fin={PresentShortText} {PresentDescription};

Added: branches/rpms/brian/vdr-skins/vdr-skins-izegrey16-i18n.patch
===================================================================
--- branches/rpms/brian/vdr-skins/vdr-skins-izegrey16-i18n.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-skins/vdr-skins-izegrey16-i18n.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,8 @@
+--- izegrey16/izegrey16.trans~	2005-03-04 20:41:46.000000000 +0200
++++ izegrey16/izegrey16.trans	2005-10-22 20:38:54.000000000 +0300
+@@ -1,2 +1,5 @@
+ Item=Translation,eng=Volume,deu=Lautst&#228;rke,fin=&#196;&#228;nenvoimakkuus;
+ Item=Translation,eng=/,deu=/,fin=/;
++Item=Translation,eng={ReplayPosition} / {ReplayDuration},deu={ReplayPosition} / {ReplayDuration},fin={ReplayPosition} / {ReplayDuration};
++Item=Translation,eng={PresentStartDateTime:%d.%m. %H\:%M} - {PresentEndDateTime:%H\:%M},deu={PresentStartDateTime:%d.%m. %H\:%M} - {PresentEndDateTime:%H\:%M},fin={PresentStartDateTime:%d.%m. %H\:%M} - {PresentEndDateTime:%H\:%M};
++Item=Translation,eng=VPS: {PresentVPSDateTime:%H\:%M},deu=VPS: {PresentVPSDateTime:%H\:%M},fin=VPS: {PresentVPSDateTime:%H\:%M};

Added: branches/rpms/brian/vdr-skins/vdr-skins-prepare-tarballs.sh
===================================================================
--- branches/rpms/brian/vdr-skins/vdr-skins-prepare-tarballs.sh	                        (rev 0)
+++ branches/rpms/brian/vdr-skins/vdr-skins-prepare-tarballs.sh	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,54 @@
+#!/bin/sh
+
+set -e
+
+[ ! -e izegrey16-1.0-20050304.tar.gz ] &amp;&amp; \
+wget -q <A HREF="http://skins.vdr-developer.org/text2skin/files/izegrey16-1.0-20050304.tar.gz">http://skins.vdr-developer.org/text2skin/files/izegrey16-1.0-20050304.tar.gz</A>
+rm -rf izegrey16
+tar zxf izegrey16-1.0-20050304.tar.gz
+rm -f izegrey16/{*.tar,*.ttf,logos/{*.mng,*.png,*.xpm}}
+tar jcf izegrey16-1.0-20050304-nologos.tar.bz2 izegrey16
+rm -rf izegrey16
+
+[ ! -e vdrskin-enigma-0.3a.tar.bz2 ] &amp;&amp; \
+wget -q <A HREF="http://home.pages.at/brougs78/files/vdrskin-enigma-0.3a.tar.bz2">http://home.pages.at/brougs78/files/vdrskin-enigma-0.3a.tar.bz2</A>
+[ ! -e icons-low-low-col.tar.gz ] &amp;&amp; \
+wget -q <A HREF="http://ventoso.org/luca/vdr/Enigma/icons-low-low-col.tar.gz">http://ventoso.org/luca/vdr/Enigma/icons-low-low-col.tar.gz</A>
+rm -rf Enigma
+tar jxf vdrskin-enigma-0.3a.tar.bz2
+find Enigma -type d -exec chmod +x {} ';'
+mv Enigma/icons Enigma/icons-normal
+tar zx -C Enigma -f $PWD/icons-low-low-col.tar.gz
+rm -rf Enigma/{hqlogos/*,fonts/ttf-bitstream-vera*,patches}
+tar jcf vdrskin-enigma-0.3a-nologos.tar.bz2 Enigma
+rm -rf Enigma
+
+[ ! -e DeepBlue-0.1.4.tar.gz ] &amp;&amp; \
+wget -q <A HREF="http://vdr.pfroen.de/download/DeepBlue-0.1.4.tar.gz">http://vdr.pfroen.de/download/DeepBlue-0.1.4.tar.gz</A>
+[ ! -e DeepBlueDXR3.tar.bz2 ] &amp;&amp; \
+wget -q <A HREF="http://koti.mbnet.fi/cccatch/vdr/DeepBlueDXR3.tar.bz2">http://koti.mbnet.fi/cccatch/vdr/DeepBlueDXR3.tar.bz2</A>
+rm -rf DeepBlue DeepBlueDXR3
+tar zxf DeepBlue-0.1.4.tar.gz
+tar jxf DeepBlueDXR3.tar.bz2
+find DeepBlueDXR3 -type d -exec chmod +x {} ';'
+rm -rf DeepBlue/logos/*
+mv DeepBlueDXR3/HISTORY DeepBlue
+mv DeepBlueDXR3/images DeepBlue/images-dxr3
+tar jcf DeepBlue-0.1.4-nologos.tar.bz2 DeepBlue
+rm -rf DeepBlue DeepBlueDXR3
+
+[ ! -e vdrskin-enElchi-0.7.1.tgz ] &amp;&amp; \
+wget -q <A HREF="http://www.saunalahti.fi/~rahrenbe/vdr/soppalusikka/files/vdrskin-enElchi-0.7.1.tgz">http://www.saunalahti.fi/~rahrenbe/vdr/soppalusikka/files/vdrskin-enElchi-0.7.1.tgz</A>
+rm -rf enElchi
+tar zxf vdrskin-enElchi-0.7.1.tgz
+rm -f enElchi/logos-*/*
+tar jcf vdrskin-enElchi-0.7.1-nologos.tar.bz2 enElchi
+rm -rf enElchi
+
+[ ! -e Aluminium-1.0-demo.tar.bz2 ] &amp;&amp; \
+wget -q <A HREF="http://linux.kompiliert.net/contrib/Aluminium-1.0-demo.tar.bz2">http://linux.kompiliert.net/contrib/Aluminium-1.0-demo.tar.bz2</A>
+rm -rf Aluminium
+tar jxf Aluminium-1.0-demo.tar.bz2
+rm -f Aluminium/logos/*
+tar jcf Aluminium-1.0-demo-nologos.tar.bz2 Aluminium
+rm -rf Aluminium

Added: branches/rpms/brian/vdr-skins/vdr-skins.spec
===================================================================
--- branches/rpms/brian/vdr-skins/vdr-skins.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-skins/vdr-skins.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,231 @@
+# TODO:
+# - channel logos for Enigma, maybe from enElchi?
+# - <A HREF="http://linux.kompiliert.net/contrib/DeepBlue.skin-recordinginfo.diff">http://linux.kompiliert.net/contrib/DeepBlue.skin-recordinginfo.diff</A>
+# - where has DeepBlue gone?
+# - where has sttng-blue gone?
+# - manage symlinks with alternatives?
+
+%define configdir %(vdr-config --configdir 2&gt;/dev/null || echo ERROR)
+%define datadir   %(vdr-config --datadir   2&gt;/dev/null || echo ERROR)
+%define vdr_group %(vdr-config --group     2&gt;/dev/null || echo ERROR)
+%define vdr_user  %(vdr-config --user      2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-skins
+Version:        20061119
+Release:        1%{?dist}
+Summary:        Collection of OSD skins for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+
+# Non-linked tarballs prepared with source99
+
+# <A HREF="http://home.arcor.de/bjoern.sturzrehm/vdr/">http://home.arcor.de/bjoern.sturzrehm/vdr/</A>
+Source0:        <A HREF="http://home.arcor.de/bjoern.sturzrehm/vdr/SilverGreen-0.1.7.tar.bz2">http://home.arcor.de/bjoern.sturzrehm/vdr/SilverGreen-0.1.7.tar.bz2</A>
+# <A HREF="http://skins.vdr-developer.org/">http://skins.vdr-developer.org/</A>
+Source1:        <A HREF="http://cachalot.mine.nu/src/misc/izegrey16-1.0-20050304-nologos.tar.bz2">http://cachalot.mine.nu/src/misc/izegrey16-1.0-20050304-nologos.tar.bz2</A>
+# <A HREF="http://home.pages.at/brougs78/">http://home.pages.at/brougs78/</A>
+# <A HREF="http://ventoso.org/luca/vdr/">http://ventoso.org/luca/vdr/</A>
+Source2:        <A HREF="http://cachalot.mine.nu/src/misc/vdrskin-enigma-0.3a-nologos.tar.bz2">http://cachalot.mine.nu/src/misc/vdrskin-enigma-0.3a-nologos.tar.bz2</A>
+# <A HREF="http://vdr.pfroen.de/">http://vdr.pfroen.de/</A>
+# <A HREF="http://www.netholic.com/viewtopic.php?t=1464">http://www.netholic.com/viewtopic.php?t=1464</A>
+Source3:        <A HREF="http://cachalot.mine.nu/src/misc/DeepBlue-0.1.4-nologos.tar.bz2">http://cachalot.mine.nu/src/misc/DeepBlue-0.1.4-nologos.tar.bz2</A>
+# <A HREF="http://www.saunalahti.fi/~rahrenbe/vdr/soppalusikka/">http://www.saunalahti.fi/~rahrenbe/vdr/soppalusikka/</A>
+Source4:        <A HREF="http://cachalot.mine.nu/src/misc/vdrskin-enElchi-0.7.1-nologos.tar.bz2">http://cachalot.mine.nu/src/misc/vdrskin-enElchi-0.7.1-nologos.tar.bz2</A>
+# <A HREF="http://www.fdm-ware.de/vdrskin/">http://www.fdm-ware.de/vdrskin/</A>
+Source5:        <A HREF="http://cachalot.mine.nu/src/misc/Aluminium-1.0-demo-nologos.tar.bz2">http://cachalot.mine.nu/src/misc/Aluminium-1.0-demo-nologos.tar.bz2</A>
+# <A HREF="http://www.magoa.net/linux/contrib/">http://www.magoa.net/linux/contrib/</A>
+Source6:        <A HREF="http://www.magoa.net/linux/contrib/EgalSimple-1.0-demo.tar.bz2">http://www.magoa.net/linux/contrib/EgalSimple-1.0-demo.tar.bz2</A>
+# <A HREF="http://www.vdrskins.org/vdrskins/thumbnails.php?album=58">http://www.vdrskins.org/vdrskins/thumbnails.php?album=58</A>
+Source8:        <A HREF="http://www.magoa.net/sttng-blue.theme">http://www.magoa.net/sttng-blue.theme</A>
+Source99:       %{name}-prepare-tarballs.sh
+
+Patch0:         %{name}-aluminium-i18n.patch
+Patch1:         %{name}-egalsimple-i18n.patch
+Patch2:         %{name}-izegrey16-i18n.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildArch:      noarch
+BuildRequires:  vdr-devel
+Requires:       vdr-text2skin &gt;= 1.1, %{datadir}/text2skin
+Requires:       bitstream-vera-fonts
+
+%description
+This package contains a collection of skins for VDR's on-screen display.
+
+
+%prep
+%setup -q -c -a1 -a2 -a3 -a4 -a5 -a6
+find . -type d -exec chmod 755 {} ';'
+find . -type f -exec chmod 644 {} ';'
+find . -type d -name CVS* | xargs rm -r
+sed -i -e 's/\r//g' SilverGreen/{HISTORY,README,SilverGreen.trans}
+for f in DeepBlue/HISTORY enElchi/HISTORY Enigma/TODO \
+    SilverGreen/{HISTORY,README*}; do
+    iconv -f iso-8859-1 -t utf-8 $f &gt; $f.utf8 ; mv $f.utf8 $f
+done
+%patch0
+%patch1
+%patch2
+
+SKINS=$(find * -maxdepth 0 -type d)
+
+mv DeepBlue/COPYING .
+for s in $SKINS ; do
+    for f in COPYING HISTORY README README.DE TODO ; do
+       [ -f $s/$f ] &amp;&amp; mv $s/$f $f.$s
+    done
+done
+
+find . -type f -name &quot;*.theme&quot; -exec mv {} . ';'
+for s in $SKINS ; do
+    [ -f $s-default.theme ] || touch $s-default.theme
+done
+
+ln -sf mp3.png Aluminium/replay/mp3oss.png
+rm Aluminium/{Aluminium.skin.*,MERKEN}
+
+cd DeepBlue
+mv images images-normal
+ln -s images-normal images
+mv logos logos-normal
+ln -s logos-normal logos
+cd ..
+
+rm -r EgalSimple/{EgalSimple.skin.*,themes}
+
+cd Enigma
+rm -r themes
+ln -sf %{_datadir}/fonts/bitstream-vera/VeraMono.ttf FontMonoSpaced.ttf
+find . -type f -iname thumbs.db | xargs rm
+mv icons icons-dxr3
+ln -s icons-normal icons
+cd ..
+
+rm -rf enElchi/themes
+
+sed -i -e \
+    's|Vera\(Bd\)\?\.ttf|%{_datadir}/fonts/bitstream-vera/Vera\1.ttf|' \
+    izegrey16/izegrey16.skin
+
+
+%build
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+
+install -dm 755 $RPM_BUILD_ROOT%{configdir}/themes
+install -pm 644 *.theme %{SOURCE8} $RPM_BUILD_ROOT%{configdir}/themes/
+echo &quot;%%defattr(-,%{vdr_user},%{vdr_group},-)&quot; &gt; %{name}.themes
+find $RPM_BUILD_ROOT%{configdir}/themes -name &quot;*.theme&quot; -size 0 \
+    -printf &quot;%%%%ghost %%p\n&quot; &gt;&gt; %{name}.themes
+find $RPM_BUILD_ROOT%{configdir}/themes -name &quot;*.theme&quot; ! -size 0 \
+    -print &gt;&gt; %{name}.themes
+%{__perl} -pi -e &quot;s|$RPM_BUILD_ROOT||&quot; %{name}.themes
+
+install -dm 755 $RPM_BUILD_ROOT%{datadir}/text2skin
+cp -pR $(find * -maxdepth 0 -type d) $RPM_BUILD_ROOT%{datadir}/text2skin/
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%triggerin -- vdr-dxr3
+for l in DeepBlue/{images,logos} enElchi/logos Enigma/icons ; do
+    [ -L %{datadir}/text2skin/$l -o ! -e %{datadir}/text2skin/$l ] &amp;&amp; \
+    rm -f %{datadir}/text2skin/$l &amp;&amp; \
+    ln -s $(basename $l)-dxr3 %{datadir}/text2skin/$l || :
+done
+
+%triggerun -- vdr-dxr3
+if [ $2 -eq 0 ] ; then
+    for l in DeepBlue/{images,logos} enElchi/logos Enigma/icons ; do
+        [ -L %{datadir}/text2skin/$l -o ! -e %{datadir}/text2skin/$l ] &amp;&amp; \
+        rm -f %{datadir}/text2skin/$l &amp;&amp; \
+        ln -s $(basename $l)-normal %{datadir}/text2skin/$l || :
+    done
+fi
+
+
+%files -f %{name}.themes
+%defattr(-,root,root,-)
+%doc COPYING* HISTORY.* README.*
+
+%{datadir}/text2skin/Aluminium/
+
+%dir %{datadir}/text2skin/DeepBlue/
+%{datadir}/text2skin/DeepBlue/DeepBlue.*
+%{datadir}/text2skin/DeepBlue/images-*
+%verify(not link) %{datadir}/text2skin/DeepBlue/images
+%{datadir}/text2skin/DeepBlue/logos-*
+%verify(not link) %{datadir}/text2skin/DeepBlue/logos
+
+%{datadir}/text2skin/EgalSimple/
+
+%dir %{datadir}/text2skin/enElchi/
+%{datadir}/text2skin/enElchi/enElchi*
+%verify(not link) %{datadir}/text2skin/enElchi/logos
+%{datadir}/text2skin/enElchi/logos-*/
+%{datadir}/text2skin/enElchi/symbols/
+
+%dir %{datadir}/text2skin/Enigma/
+%{datadir}/text2skin/Enigma/Enigma*
+%{datadir}/text2skin/Enigma/Font*
+%{datadir}/text2skin/Enigma/fonts/
+%{datadir}/text2skin/Enigma/hqlogos/
+%{datadir}/text2skin/Enigma/icons-*/
+%verify(not link) %{datadir}/text2skin/Enigma/icons
+%{datadir}/text2skin/Enigma/pics/
+%{datadir}/text2skin/Enigma/symbols/
+
+%{datadir}/text2skin/izegrey16/
+
+%{datadir}/text2skin/SilverGreen/
+
+
+%changelog
+* Sun Nov 19 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 20061119-3
+- Install skins to /usr/share/vdr/text2skin.
+- Don't ship channel logos.
+
+* Fri Oct 06 2006 Thorsten Leemhuis &lt;fedora [AT] leemhuis [DOT] info&gt; 20060924-2
+- rebuilt for unwind info generation, broken in gcc-4.1.1-21
+
+* Sun Sep 24 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 20060924-1
+- Add DXR3 compatible image set for DeepBlue from cccache.
+
+* Sun May 21 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 20060311-2
+- Fix some enElchi logos.
+
+* Sat Mar 18 2006 Thorsten Leemhuis &lt;fedora at leemhuis.info&gt; - 20060311-1
+- drop 0.lvn from release
+
+* Sat Mar 11 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 20060311-0.lvn.1
+- Update SilverGreen to 0.1.7, translations included upstream.
+
+* Wed Mar  1 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 20060301-0.lvn.1
+- Update SilverGreen to 0.1.6 and enElchi to 0.7.1 (fixes applied upstream).
+
+* Tue Feb 28 2006 Andreas Bierfert &lt;andreas.bierfert[AT]lowlatency.de&gt;
+- add dist
+
+* Wed Nov 30 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 20051130-0.lvn.1
+- First livna release.
+
+* Wed Nov 23 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 20051123-0.1
+- Add DXR3-compatible icons for Enigma from Luca Olivetti.
+- Fix monospaced font for Enigma.
+- Fix linefeeds in docs and convert them to UTF-8.
+
+* Sat Oct 22 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 20051022-0.1
+- Add some Finnish translations.
+
+* Fri Oct 21 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 20051021-0.1
+- Update enElchi to 0.7.0, add vdr-dxr3 triggers.
+
+* Fri Aug 19 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 20050819-0.1
+- First build, with SilverGreen 0.1.4, izegrey16 1.0-20050304,
+  Enigma 0.3a, DeepBlue 0.1.4, enElchi 0.6.0, Aluminium (unofficial),
+  EgalSimple (unofficial), and a blue theme for ST:TNG.

Added: branches/rpms/brian/vdr-skinsoppalusikka/vdr-skinsoppalusikka.spec
===================================================================
--- branches/rpms/brian/vdr-skinsoppalusikka/vdr-skinsoppalusikka.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-skinsoppalusikka/vdr-skinsoppalusikka.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,49 @@
+%define pname     skinsoppalusikka
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        1.0.6
+Release:        1
+Summary:        Reel skin for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.berlios.de/vdr/">http://www.berlios.de/vdr/</A>
+Source0:        <A HREF="http://www.berlios.de/vdr/downloads/%{name">http://www.berlios.de/vdr/downloads/%{name</A>}-%{version}.tgz
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47 
+Requires:       vdr(abi) = %{apiver}
+
+%description
+This plugin adds the Reel skin to VDR
+
+%prep
+%setup -q -n %{pname}-%{version}
+
+
+%build
+#./configure
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -dm 755 $RPM_BUILD_ROOT/usr/bin/
+install -pm 755 libvdr-%{pname}.so $RPM_BUILD_ROOT%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc HISTORY README
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+
+%changelog
+

Added: branches/rpms/brian/vdr-softdevice/vdr-softdevice.conf
===================================================================
--- branches/rpms/brian/vdr-softdevice/vdr-softdevice.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-softdevice/vdr-softdevice.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,6 @@
+# Configuration snippet for vdr-softdevice                           -*- sh -*-
+#
+# Add command line options to pass to the softdevice plugin to PLUGIN_OPTIONS.
+# See /usr/share/doc/vdr-softdevice-*/README for info about available options.
+
+PLUGIN_OPTIONS=&quot;-ao dummy: -vo shm:&quot;

Added: branches/rpms/brian/vdr-softdevice/vdr-softdevice.spec
===================================================================
--- branches/rpms/brian/vdr-softdevice/vdr-softdevice.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-softdevice/vdr-softdevice.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,60 @@
+%define pname     softdevice
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.3.1
+Release:        1
+Summary:        Software output device for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.berlios.de/vdr/">http://www.berlios.de/vdr/</A>
+Source0:        <A HREF="http://www.berlios.de/vdr/downloads/%{name">http://www.berlios.de/vdr/downloads/%{name</A>}-%{version}.tgz
+Source1:        %{name}.conf
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47 alsa-lib-devel &gt;= 1.0.13 libXv-devel &gt;= 1.0.0 libXinerama-devel &gt;= 1.0.0 ffmpeg-devel &gt;= 0.4.9 directfb-devel &gt;= 0.9.20
+Requires:       vdr(abi) = %{apiver} alsa-lib libXv &gt;= 1.0.0 libXinerama &gt;= 1.0.0 ffmpeg &gt;= 0.4.9 directfb &gt;= 0.9.20
+
+%description
+This VDR plugin is designed for soft decoding the MPEG stream to get
+low-budged DVB Cards (without MPEG decoder) running.
+
+%prep
+%setup -q -n softdevice-%{version}
+
+
+%build
+./configure
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -dm 755 $RPM_BUILD_ROOT/usr/bin/
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 lib%{pname}-shm.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 lib%{pname}-xv.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -Dpm 644 %{SOURCE1} \
+  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+install -pm 755 ShmClient $RPM_BUILD_ROOT/usr/bin/
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc CHANGELOG COPYING HISTORY README
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+%{plugindir}/lib%{pname}-shm.so.%{apiver}
+%{plugindir}/lib%{pname}-xv.so.%{apiver}
+/usr/bin/ShmClient
+
+
+%changelog
+

Added: branches/rpms/brian/vdr-streamdev/vdr-streamdev.conf
===================================================================
--- branches/rpms/brian/vdr-streamdev/vdr-streamdev.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-streamdev/vdr-streamdev.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,5 @@
+# Configuration snippet for vdr-streamdev                           -*- sh -*-
+#
+# Add command line options to pass to the streamdev plugin to PLUGIN_OPTIONS.
+
+PLUGIN_OPTIONS=

Added: branches/rpms/brian/vdr-streamdev/vdr-streamdev.spec
===================================================================
--- branches/rpms/brian/vdr-streamdev/vdr-streamdev.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-streamdev/vdr-streamdev.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,148 @@
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-streamdev
+Version:        0.3.4
+Release:        1.bs%{?dist}
+Summary:        Client/Server Streaming for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://streamdev.vdr-developer.org/">http://streamdev.vdr-developer.org/</A>
+Source0:	<A HREF="http://streamdev.vdr-developer.org/releases/vdr-streamdev-%{version">http://streamdev.vdr-developer.org/releases/vdr-streamdev-%{version</A>}.tgz
+#Source0:       	<A HREF="http://mitglied.lycos.de/peterweber69/streamdev_for_VDR-1.3.23.tar.gz">http://mitglied.lycos.de/peterweber69/streamdev_for_VDR-1.3.23.tar.gz</A>
+#Source0:	streamdev.tar.gz
+Source1:        %{name}.conf
+#Patch0:		<A HREF="http://anssi.hopto.org/vdr/vdr-1.3.17-stream-0.3.3-pre3-geni-poison.diff">http://anssi.hopto.org/vdr/vdr-1.3.17-stream-0.3.3-pre3-geni-poison.diff</A>	
+#Patch1:		vdr-streamdev-summary.patch
+#Patch2:		vdr-streamdev-gcc4.patch.old
+#Patch3:		streamdev-20050922-vdr-1.3.32.diff
+#Patch4:		vdr-streamdev-server-Active.patch
+#Patch10:	%{name}-Makefile.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47, gcc-c++
+Requires:       vdr(abi) = %{apiver}
+
+%description
+%{summary}.
+
+%package server
+Summary:        Client/Server Streaming for VDR
+Group:          Applications/Multimedia
+Requires:	vdr(abi) = %{apiver}
+Requires:	%{name} = %{version}-%{release}
+
+%description server
+%{summary}.
+
+%package client
+Summary:        Client/Server Streaming for VDR
+Group:          Applications/Multimedia
+Requires:       vdr(abi) = %{apiver}
+Requires:	%{name} = %{version}-%{release}
+
+%description client
+%{summary}.
+
+%prep
+%setup -q -n streamdev-%{version}
+#%patch0 -p1
+#%patch1 -p1
+#%patch2 -p1
+#%patch3 -p1
+#%patch4 -p1
+#%patch10
+
+#sed -i -e s/VDRVERSION/APIVERSION/g Makefile
+
+%build
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr libvdr-streamdev-server.so libvdr-streamdev-client.so
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 libvdr-streamdev-server.so.* $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 libvdr-streamdev-client.so.* $RPM_BUILD_ROOT%{plugindir}
+install -Dpm 644 %{SOURCE1} $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/streamdev.conf
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+%files
+%defattr(-,root,root,-)
+%doc CONTRIBUTORS COPYING HISTORY PROTOCOL README
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/streamdev.conf
+
+%files server
+%{plugindir}/libvdr-streamdev-server.so*
+
+%files client
+%{plugindir}/libvdr-streamdev-client.so*
+
+%changelog
+* Fri May  2 2008 Brian Schueler &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">brian.schueler at gmx.de</A>&gt; - 0.3.4-1
+- Update to 0.3.4 release
+
+* Wed Jun 13 2007 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-18.svn20070509
+- Update to new svn version.
+
+* Mon Jan 15 2007 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-17
+- Rebuild for vdr-1.4.5.
+
+* Mon Nov 13 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-16
+- Rebuild for vdr-1.4.4.
+
+* Wed Nov 01 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-15
+- Rebuild for FC6.
+
+* Tue Sep 26 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-14
+- Rebuild for vdr-1.4.3.
+
+* Fri Aug 11 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-13
+- Rebuild for vdr-1.4.1-8.
+
+* Sun Jun 11 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-12
+- Rebuild for vdr-1.4.1.
+
+* Tue May 02 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-11
+- Rebuild for vdr-1.4.0.
+
+* Mon Apr 24 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-10
+- Require vdr(abi) instead of vdr.
+
+* Fri Apr 21 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-9
+- Rebuild and patch for vdr-1.3.47.
+
+* Thu Mar 30 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-8
+- Rebuild for vdr-1.3.45.
+
+* Tue Mar 28 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-7
+- Rebuild for vdr-1.3.44.
+
+* Tue Feb 28 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-6.aml.2.4
+- Rebuild for vdr-1.3.43.
+
+* Sun Feb 12 2006 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-6.aml.1.4
+- Rebuild for vdr-1.3.42.
+- Update to new CVS version.
+
+* Sat Oct  1 2005 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-4.aml
+- Rebuilt against vdr-1.3.33.
+
+* Wed Sep 13 2005 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-3.aml
+- Rebuild against vdr-1.3.32.
+
+* Thu Sep  9 2005 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-2.aml
+- Rebuild against vdr-1.3.31.
+
+* Wed May 11 2005 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-muelelr.com</A>&gt; - 0.3.3-1.aml
+- Rebuild against vdr-1.3.24.
+
+* Wed May  4 2005 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-0.2
+- Rebuild against vdr with UTF-8 patch applied.
+
+* Mon May  2 2005 Andreas M&#195;&#188;ller &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">mail at andreas-mueller.com</A>&gt; - 0.3.3-0.1
+- First build.

Added: branches/rpms/brian/vdr-subtitles/vdr-plugin-subtitles_0.4.0-1.ds.diff.gz
===================================================================
(Binary files differ)


Property changes on: branches/rpms/brian/vdr-subtitles/vdr-plugin-subtitles_0.4.0-1.ds.diff.gz
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: branches/rpms/brian/vdr-subtitles/vdr-subtitles.conf
===================================================================
--- branches/rpms/brian/vdr-subtitles/vdr-subtitles.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-subtitles/vdr-subtitles.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,5 @@
+# Configuration snippet for vdr-subtitles                            -*- sh -*-
+#
+# Add command line options to pass to the subtitles plugin to PLUGIN_OPTIONS.
+
+PLUGIN_OPTIONS=&quot;&quot;

Added: branches/rpms/brian/vdr-subtitles/vdr-subtitles.spec
===================================================================
--- branches/rpms/brian/vdr-subtitles/vdr-subtitles.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-subtitles/vdr-subtitles.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,159 @@
+%define pname     subtitles
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.5.0
+Release:        1%{?dist}
+Summary:        DVB subtitles plugin for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://virtanen.org/vdr/subtitles/">http://virtanen.org/vdr/subtitles/</A>
+Source0:        <A HREF="http://virtanen.org/vdr/subtitles/files/%{name">http://virtanen.org/vdr/subtitles/files/%{name</A>}-%{version}.tgz
+Source1:        %{name}.conf
+Patch0:         <A HREF="http://zap.tartarus.org/~ds/debian/dists/unstable/main/source/vdr-plugin-subtitles_0.4.0-1.ds.diff.gz">http://zap.tartarus.org/~ds/debian/dists/unstable/main/source/vdr-plugin-subtitles_0.4.0-1.ds.diff.gz</A>
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.48
+Requires:       vdr(abi) = %{apiver}
+
+%description
+There are two subtitling services specified in the DVB standards.  One
+is the teletext subtitles and the other one is DVB subtitles.  The
+main difference between these two is that the teletext subtitles are
+text (sent via teletext service) and DVB subtitles are pixel-based
+graphics.  This plugin implements a DVB subtitles decoder for VDR.
+The plugin decodes and displays the subtitles and also adds the
+selected subtitling streams to the VDR recordings.
+
+
+%prep
+%setup -q -n %{pname}-%{version}
+find . -type d -name CVS | xargs rm -r
+chmod -c 644 *
+%patch0 -p1
+#{__patch} -i debian/patches/02_enable_selection.dpatch
+sed -i -e 's/&quot;0.4.0&quot;/&quot;0.5.0&quot;/' debian/patches/03_constness.dpatch
+%{__patch} -i debian/patches/03_constness.dpatch
+%{__patch} -i debian/patches/99_transparency_percentage.dpatch
+sed -i -e '/^DVBDIR/d' -e 's|-I$(DVBDIR)/include||' Makefile
+
+
+%build
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -Dpm 644 %{SOURCE1} \
+  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+install -dm 755 $RPM_BUILD_ROOT%{configdir}/plugins
+touch $RPM_BUILD_ROOT%{configdir}/plugins/subchannels.conf
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY README
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+%ghost %{configdir}/plugins/subchannels.conf
+
+
+%changelog
+* Sun Jan 28 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.5.0-1
+- 0.5.0.
+
+* Sun Jan  7 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.4.0-7
+- Rebuild for VDR 1.4.5.
+
+* Sun Nov 12 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.4.0-6
+- First FE build.
+- Update Darren's patchkit to 0.4.0-1.ds.
+
+* Sat May  6 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.4.0-1
+- 0.4.0.
+
+* Mon May  1 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.11-2
+- Sync with 0.3.11-1.ds, enable transparency percentage patch.
+
+* Sun Apr 30 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.11-1
+- 0.3.11 + 0.3.10-5.ds, build for VDR 1.4.0.
+
+* Mon Apr 17 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.10-8
+- Rebuild/adjust for VDR 1.3.47, require versioned vdr(abi).
+- Trim pre-RLO %%changelog entries.
+
+* Sun Mar 26 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.10-7
+- Rebuild for VDR 1.3.45.
+
+* Sat Mar 18 2006 Thorsten Leemhuis &lt;fedora at leemhuis.info&gt; - 0.3.10-6
+- drop 0.lvn from release
+
+* Sun Mar  5 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.10-0.lvn.6
+- Sync with 0.3.10-3.ds.
+
+* Wed Mar  1 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.10-0.lvn.5
+- Rebuild for VDR 1.3.44.
+
+* Tue Feb 28 2006 Andreas Bierfert &lt;andreas.bierfert[AT]lowlatency.de&gt;
+- add dist
+
+* Tue Feb 21 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.10-0.lvn.4
+- Sync with 0.3.10-2.ds.
+
+* Sun Feb 19 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.10-0.lvn.3
+- Sync with 0.3.10-1.ds, rebuild for VDR 1.3.43.
+
+* Sun Feb  5 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.10-0.lvn.2
+- Rebuild for VDR 1.3.42.
+
+* Sun Jan 22 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.10-0.lvn.1
+- 0.3.10.
+- Rebuild for VDR 1.3.40.
+
+* Sun Jan 15 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-1.lvn.13
+- Rebuild for VDR 1.3.39.
+
+* Tue Jan 10 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-1.lvn.12
+- More fixes for VDR 1.3.38 from Rolf Ahrenberg.
+
+* Sun Jan  8 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-1.lvn.11
+- Rebuild/patch for VDR 1.3.38.
+
+* Mon Nov 28 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-1.lvn.10
+- Rebuild for VDR 1.3.37.
+
+* Sun Nov  6 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-1.lvn.9
+- Rebuild for VDR 1.3.36.
+
+* Tue Nov  1 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-1.lvn.8
+- Rebuild for VDR 1.3.35.
+
+* Mon Oct  3 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-1.lvn.7
+- Rebuild for VDR 1.3.34.
+
+* Sun Sep 25 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-1.lvn.6
+- Rebuild for VDR 1.3.33.
+
+* Sun Sep 11 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-1.lvn.5
+- Rebuild for VDR 1.3.32.
+
+* Sun Aug 28 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-1.lvn.4
+- Rebuild for VDR 1.3.31.
+
+* Sun Aug 21 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-1.lvn.3
+- Rebuild for VDR 1.3.30.
+
+* Tue Aug 16 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-1.lvn.2
+- Try to avoid build system problems by not using %%expand with vdr-config.
+
+* Sat Aug 13 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.3.8-1.lvn.1
+- Convert docs to UTF-8.

Added: branches/rpms/brian/vdr-sudoku/vdr-sudoku.conf
===================================================================
--- branches/rpms/brian/vdr-sudoku/vdr-sudoku.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-sudoku/vdr-sudoku.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,5 @@
+# Configuration snippet for vdr-sudoku                               -*- sh -*-
+#
+# Add command line options to pass to the sudoku plugin to PLUGIN_OPTIONS.
+
+PLUGIN_OPTIONS=&quot;&quot;

Added: branches/rpms/brian/vdr-sudoku/vdr-sudoku.spec
===================================================================
--- branches/rpms/brian/vdr-sudoku/vdr-sudoku.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-sudoku/vdr-sudoku.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,90 @@
+%define pname     sudoku
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.1.3
+Release:        1%{?dist}
+Summary:        Sudoku plugin for VDR
+
+Group:          Amusements/Games
+License:        GPL
+URL:            <A HREF="http://www.toms-cafe.de/vdr/sudoku/">http://www.toms-cafe.de/vdr/sudoku/</A>
+Source0:        <A HREF="http://toms-cafe.de/vdr/sudoku/%{name">http://toms-cafe.de/vdr/sudoku/%{name</A>}-%{version}.tgz
+Source1:        %{name}.conf
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47
+Requires:       vdr(abi) = %{apiver}
+
+%description
+This is a VDR plugin to generate and solve number place puzzles, so
+called Sudokus.
+
+
+%prep
+%setup -q -n sudoku-%{version}
+for f in HISTORY README ; do
+    iconv -f iso-8859-1 -t utf-8 $f &gt; $f.utf8 ; mv $f.utf8 $f
+done
+
+
+%build
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -Dpm 644 %{SOURCE1} \
+  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY README
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+
+%changelog
+* Sat Feb 24 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.3-1
+- 0.1.3.
+
+* Sun Jan  7 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.2-2
+- Rebuild for VDR 1.4.5.
+
+* Mon Dec  4 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.2-1
+- First Fedora Extras build.
+
+* Sat Nov  4 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.2-0.6
+- Rebuild for VDR 1.4.4.
+
+* Sat Sep 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.2-0.5
+- Rebuild for VDR 1.4.3.
+
+* Sun Aug  6 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.2-0.4
+- Rebuild for VDR 1.4.1-3.
+
+* Fri Jun 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.2-0.3
+- Rebuild for VDR 1.4.1.
+
+* Sun Apr 30 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.2-0.2
+- Rebuild for VDR 1.4.0.
+
+* Tue Apr 25 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.2-0.1
+- 0.1.2.
+
+* Fri Nov  4 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.1-0.1
+- 0.1.1, Finnish patch applied upstream.
+
+* Tue Nov  1 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.0-0.2
+- Rebuild for VDR 1.3.35.
+
+* Sat Oct 29 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.0-0.1
+- First build.

Added: branches/rpms/brian/vdr-text2skin/vdr-text2skin-1.1cvs-cvsfixes.patch
===================================================================
--- branches/rpms/brian/vdr-text2skin/vdr-text2skin-1.1cvs-cvsfixes.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-text2skin/vdr-text2skin-1.1cvs-cvsfixes.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,57 @@
+--- status.c	3 Jun 2005 08:53:13 -0000	1.10
++++ status.c	17 Mar 2006 18:25:57 -0000	1.11
+@@ -29,14 +29,16 @@
+ 	mNextRecording    = 0;
+ }
+ 
+-void cText2SkinStatus::Replaying(const cControl* /*Control*/, const char *Name) {
++void cText2SkinStatus::Replaying(const cControl* /*Control*/, const char *Name,
++								 const char *FileName, bool On) 
++{
+ 	Dprintf(&quot;cText2SkinStatus::Replaying(%s)\n&quot;, Name);
+ 	eReplayMode oldMode = mReplayMode;
+ 
+ 	if (mRender != NULL)
+ 		mRender-&gt;UpdateLock();
+ 
+-	if (Name != NULL) {
++	if (On) {
+ 		mReplayMode = replayMPlayer;
+ 		if (strlen(Name) &gt; 6 &amp;&amp; Name[0]=='[' &amp;&amp; Name[3]==']' &amp;&amp; Name[5]=='(') {
+ 			int i;
+@@ -83,7 +85,8 @@
+ 	}
+ }
+ 
+-void cText2SkinStatus::Recording(const cDevice *Device, const char *Name) 
++void cText2SkinStatus::Recording(const cDevice *Device, const char *Name,
++								 const char *FileName, bool On) 
+ {
+ 	if (mRender != NULL)
+ 		mRender-&gt;UpdateLock();
+--- status.h	3 Jun 2005 08:53:13 -0000	1.7
++++ status.h	17 Mar 2006 18:25:57 -0000	1.8
+@@ -39,8 +39,10 @@
+ 	int               mLastLanguage;
+ 
+ protected:
+-	virtual void Replaying(const cControl *Control, const char *Name);
+-	virtual void Recording(const cDevice *Device, const char *Name);
++	virtual void Replaying(const cControl *Control, const char *Name, 
++						   const char *FileName, bool On);
++	virtual void Recording(const cDevice *Device, const char *Name, 
++						   const char *FileName, bool On);
+ 	virtual void OsdClear(void);
+ 
+ public:
+--- xml/xml.c	19 Dec 2004 22:03:49 -0000	1.1.1.1
++++ xml/xml.c	4 Sep 2006 20:51:06 -0000	1.3
+@@ -38,7 +38,7 @@
+ 	buffer = new char [size];
+ 	f.read(buffer, size);
+ 	f.close();
+-	data = buffer;
++	data.assign(buffer, size);
+ 	delete[] buffer;
+ 	nodestartcb  = NULL;
+ 	nodeendcb    = NULL;

Added: branches/rpms/brian/vdr-text2skin/vdr-text2skin-1.1cvs-freetype22.patch
===================================================================
--- branches/rpms/brian/vdr-text2skin/vdr-text2skin-1.1cvs-freetype22.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-text2skin/vdr-text2skin-1.1cvs-freetype22.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,35 @@
+Index: graphtft/font.c
+===================================================================
+RCS file: /var/cvsroot/text2skin/graphtft/font.c,v
+retrieving revision 1.4
+diff -u -r1.4 font.c
+--- graphtft/font.c	30 Jan 2005 18:09:42 -0000	1.4
++++ graphtft/font.c	19 Nov 2006 15:04:06 -0000
+@@ -139,20 +139,21 @@
+ 		 error = FT_Load_Glyph( _face, glyph_index, FT_LOAD_DEFAULT ); 
+ 		 if ( error ) continue; /* ignore errors */  
+ 		 
+-		 // convert to a mono bitmap
+-		 error = FT_Render_Glyph( _face-&gt;glyph, ft_render_mode_mono ); 
+-		 if ( error ) continue;
+-		
+ 		// now, convert to vdr font data
+ 		int width = (_slot-&gt;metrics.horiAdvance / 64) + 1;
+ 		int bearingX = (_slot-&gt;metrics.horiBearingX / 64) +1;
+ 		width = (width &gt; (int)sizeof(cFont::tPixelData) * 8) ? (((int)sizeof(cFont::tPixelData) * 8)-2) :width ;
+-		int  top = _slot-&gt;bitmap_top;
+-		int  y_off = Size - top;
+ 
+ 		font_data[(num_char_array*num_rows)+0]=width;
+ 		font_data[(num_char_array*num_rows)+1]=num_rows_global;
+ 
++		// convert to a mono bitmap
++		error = FT_Render_Glyph( _face-&gt;glyph, ft_render_mode_mono );
++		if ( error ) continue;
++
++		int  top = _slot-&gt;bitmap_top;
++		int  y_off = Size - top;
++
+ 		unsigned char *bmp = _slot-&gt;bitmap.buffer;
+ 		
+       		for (int y = 0; y &lt; _slot-&gt;bitmap.rows; ++y , y_off++) {

Added: branches/rpms/brian/vdr-text2skin/vdr-text2skin-1.1cvs-skindir.patch
===================================================================
--- branches/rpms/brian/vdr-text2skin/vdr-text2skin-1.1cvs-skindir.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-text2skin/vdr-text2skin-1.1cvs-skindir.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,45 @@
+--- text2skin-1.1-cvs/README.de~	2004-12-20 00:03:08.000000000 +0200
++++ text2skin-1.1-cvs/README.de	2006-11-19 18:42:54.000000000 +0200
+@@ -77,6 +77,9 @@
+ Wo die Skins hingeh&#246;ren:
+ ------------------------
+ 
++*** rpm package note: this text2skin package has been patched to load skins
++*** from /usr/share/vdr/text2skin instead of the path documented below.
++
+ Wie Sie vielleicht wissen, hat VDR einen Unterordner &quot;plugins&quot; innerhalb seines
+ Konfigurationsordners, in dem alle Dateien, die zu Plugins geh&#246;ren, enthalten
+ sein sollten. Wenn Sie nicht wissen, wo das sein k&#246;nnte, schauen Sie in dem
+--- text2skin-1.1-cvs/README~	2005-01-31 16:39:45.000000000 +0200
++++ text2skin-1.1-cvs/README	2006-11-19 18:42:36.000000000 +0200
+@@ -82,6 +82,9 @@
+ Where to put the skins:
+ -----------------------
+ 
++*** rpm package note: this text2skin package has been patched to load skins
++*** from /usr/share/vdr/text2skin instead of the path documented below.
++
+ As you might know, VDR has a subfolder &quot;plugins&quot; inside it's configuration 
+ folder, where all plugin-related files should reside. If you don't know, where
+ this could be, look into the folder you gave to VDR with the -v parameter 
+@@ -109,6 +112,9 @@
+ Where to put the fonts:
+ -----------------------
+ 
++*** rpm package note: this text2skin package has been patched to load fonts
++*** from /usr/share/vdr/text2skin instead of the path documented below.
++
+ Font files (.ttf) can be placed either in the directory of the skin itself or 
+ in a subfolder fonts inside the text2skin directory.
+ 
+--- text2skin-1.1-cvs/common.c~	2005-01-07 23:46:51.000000000 +0200
++++ text2skin-1.1-cvs/common.c	2006-11-19 18:38:31.000000000 +0200
+@@ -8,7 +8,7 @@
+ const std::string &amp;SkinPath(void) 
+ {
+ 	// should never change
+-	static std::string path = cPlugin::ConfigDirectory(PLUGIN_NAME_I18N);
++	static std::string path = &quot;/usr/share/vdr/text2skin&quot;;
+ 	return path;
+ }
+ 

Added: branches/rpms/brian/vdr-text2skin/vdr-text2skin.conf
===================================================================
--- branches/rpms/brian/vdr-text2skin/vdr-text2skin.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-text2skin/vdr-text2skin.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,5 @@
+# Configuration snippet for vdr-text2skin                            -*- sh -*-
+#
+# Add command line options to pass to the text2skin plugin to PLUGIN_OPTIONS.
+
+PLUGIN_OPTIONS=&quot;&quot;

Added: branches/rpms/brian/vdr-text2skin/vdr-text2skin.spec
===================================================================
--- branches/rpms/brian/vdr-text2skin/vdr-text2skin.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-text2skin/vdr-text2skin.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,130 @@
+%define pname     text2skin
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define datadir   %(vdr-config --datadir    2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+%define cvs 20051217
+
+Name:           vdr-%{pname}
+Version:        1.1
+Release:        18.%{cvs}cvs%{?dist}
+Summary:        OSD skin plugin for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://linux.kompiliert.net/index.php?view=text2skin">http://linux.kompiliert.net/index.php?view=text2skin</A>
+#Source0:        <A HREF="http://linux.kompiliert.net/files/%{name">http://linux.kompiliert.net/files/%{name</A>}-%{version}.tgz
+Source0:        <A HREF="http://linux.kompiliert.net/contrib/%{name">http://linux.kompiliert.net/contrib/%{name</A>}-%{version}cvs-%{cvs}.tgz
+Source1:        %{name}.conf
+Patch0:         %{name}-1.1cvs-cvsfixes.patch
+Patch1:         %{name}-1.1cvs-freetype22.patch
+Patch2:         %{name}-1.1cvs-skindir.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+%if 0%{?_with_imagemagick:1}
+BuildRequires:  ImageMagick-c++-devel
+%else
+BuildRequires:  imlib2-devel
+%endif
+BuildRequires:  freetype-devel
+BuildRequires:  vdr-devel &gt;= 1.3.47
+BuildRequires:  sed &gt;= 3.95
+BuildRequires:  which
+Requires:       vdr(abi) = %{apiver}
+
+%description
+This plugin is designed to load and interpret a set of files
+describing the layout of VDR's on screen display and to make this
+&quot;skin&quot; available to VDR via Setup -&gt; OSD in the main menu.  Of course
+it is possible to load more than one text-based skin this way and to
+choose between them while running VDR.  All skins may be themeable
+(you can create your own color-theme) and translateable as the author
+of the skin wishes.
+
+
+%prep
+%setup -q -c
+cd text2skin
+%patch0 -p0
+%patch1 -p0
+sed -e 's|/usr/share/vdr/|%{datadir}/|' %{PATCH2} | patch -p1
+find . -depth -type d -name CVS | xargs rm -r
+for f in HISTORY README.de Docs/*.txt ; do
+    iconv -f iso-8859-1 -t utf-8 $f &gt; $f.utf8 ; mv $f.utf8 $f
+done
+chmod -x contrib/*.pl
+sed -i -e /strip/d -e /O2/d Makefile
+sed -i -e '/^DVBDIR/d' -e 's|-I$(DVBDIR)\(/linux\)\?/include||g' Makefile
+sed -i -e s/VDRVERSION/APIVERSION/g Makefile
+cd ..
+
+
+%build
+opts=
+%if 0%{!?_with_imagemagick:1}
+opts=&quot;HAVE_IMLIB2=1 HAVE_IMAGEMAGICK=&quot;
+%endif
+make -C text2skin %{?_smp_mflags} $opts LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+cd text2skin
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -Dpm 644 %{SOURCE1} \
+    $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+cd ..
+install -dm 755 $RPM_BUILD_ROOT%{datadir}/text2skin/fonts
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%pre
+if [ $1 -gt 1 -a -d %{configdir}/plugins/text2skin ] ; then
+    # Migrate skins (can't overwrite a dir with a symlink)
+    mkdir -p %{datadir}/text2skin &amp;&amp; \
+    cp -a %{configdir}/plugins/text2skin/* %{datadir}/text2skin || :
+    rm -rf %{configdir}/plugins/text2skin
+fi
+
+
+%files
+%defattr(-,root,root,-)
+%doc text2skin/CONTRIBUTORS text2skin/COPYING text2skin/HISTORY
+%doc text2skin/README text2skin/Docs/*.txt text2skin/contrib/skin_to_10.pl
+%lang(de) %doc text2skin/README.de
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+%{datadir}/text2skin/
+
+
+%changelog
+* Sun Apr  8 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1-18.20051217cvs
+- Grab potential XML parse buffer overflow fix from upstream CVS.
+
+* Sun Nov 19 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1-16.20051217cvs
+- Migrate real skins directory to /usr/share/vdr/text2skin.
+- Patch for freetype 2.2 compatibility.
+
+* Sat Nov  4 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1-15.20051217
+- Build with imlib2 instead of imagemagick by default due to #212478.
+- Build for VDR 1.4.4.
+
+* Fri Oct 06 2006 Thorsten Leemhuis &lt;fedora [AT] leemhuis [DOT] info&gt; 1.1-14
+- rebuilt for unwind info generation, broken in gcc-4.1.1-21
+
+* Sat Sep 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1-13.20051217
+- Rebuild for VDR 1.4.3.
+
+* Sun Aug  6 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1-12.20051217
+- Rebuild for VDR 1.4.1-3.
+
+* Sun Jun 11 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1-11.20051217
+- Rebuild for VDR 1.4.1.
+
+* Sun Apr 30 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 1.1-10.20051217
+- Rebuild for VDR 1.4.0.

Added: branches/rpms/brian/vdr-timeline/vdr-timeline.spec
===================================================================
--- branches/rpms/brian/vdr-timeline/vdr-timeline.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-timeline/vdr-timeline.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,49 @@
+%define pname     timeline
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        1.0.141
+Release:        1
+Summary:        Timeline view for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.berlios.de/vdr/">http://www.berlios.de/vdr/</A>
+Source0:        <A HREF="http://www.berlios.de/vdr/downloads/%{name">http://www.berlios.de/vdr/downloads/%{name</A>}-%{version}.tar.bz2
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47 
+Requires:       vdr(abi) = %{apiver}
+
+%description
+This plugin displays the timeline view of various channels
+
+%prep
+%setup -q -n %{pname}-%{version}
+
+
+%build
+#./configure
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -dm 755 $RPM_BUILD_ROOT/usr/bin/
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY README
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+
+%changelog
+

Added: branches/rpms/brian/vdr-vdrrip/02_maketempdir.dpatch
===================================================================
--- branches/rpms/brian/vdr-vdrrip/02_maketempdir.dpatch	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/02_maketempdir.dpatch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,31 @@
+#!/bin/sh /usr/share/dpatch/dpatch-run
+
+## maketempdir patch by Thomas G&#252;nther &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">tom at toms-cafe.de</A>&gt;
+##
+## All lines beginning with `## DP:' are a description of the patch.
+## DP: Create temporary directory.
+
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+ at DPATCH</A>@
+diff -urNad /usr/src/cvs/vdr-plugin-vdrrip/scripts/queuehandler.sh vdr-plugin-vdrrip/scripts/queuehandler.sh
+--- /usr/src/cvs/vdr-plugin-vdrrip/scripts/queuehandler.sh	Sat Apr 24 14:44:56 2004
++++ vdr-plugin-vdrrip/scripts/queuehandler.sh	Thu Apr 29 02:18:11 2004
+@@ -92,6 +92,7 @@
+     log_error &quot;usage: $scriptname queuefile tempdir&quot; 1
+   fi
+ 
++  mkdir -p &quot;$tempdir&quot;
+   if [ ! -d &quot;$tempdir&quot; ]
+   then
+     log_error &quot;directory $tempdir doesn't exist, aborting !&quot; 1
+@@ -315,6 +316,11 @@
+ #
+   if [ &quot;$error&quot; ]; then return
+   elif [ &quot;$dvd&quot; ]; then return; fi
++
++  # Recreate $tempdir if removed by vdr housekeeping
++  mkdir -p &quot;$tempdir&quot;
++  if [ ! -d &quot;$tempdir&quot; ]; then return; fi
++  cd &quot;$tempdir&quot;
+ 
+   case &quot;$container&quot; in
+     &quot;avi&quot;)

Added: branches/rpms/brian/vdr-vdrrip/03_greppid2.dpatch
===================================================================
--- branches/rpms/brian/vdr-vdrrip/03_greppid2.dpatch	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/03_greppid2.dpatch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,20 @@
+#!/bin/sh /usr/share/dpatch/dpatch-run
+
+## greppid2 patch by Thomas G&#252;nther &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">tom at toms-cafe.de</A>&gt;
+##
+## All lines beginning with `## DP:' are a description of the patch.
+## DP: Detect second running process instead of third.
+
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+ at DPATCH</A>@
+diff -urNad /usr/src/cvs/vdr-plugin-vdrrip/scripts/queuehandler.sh vdr-plugin-vdrrip/scripts/queuehandler.sh
+--- /usr/src/cvs/vdr-plugin-vdrrip/scripts/queuehandler.sh      Sat Apr 24 00:53:50 2004
++++ vdr-plugin-vdrrip/scripts/queuehandler.sh   Sat Apr 24 00:56:59 2004
+@@ -90,7 +90,7 @@
+ 
+   local pids=`pgrep -d&quot; &quot; &quot;$scriptname&quot;`
+   local pid1=`echo &quot;$pids&quot; | cut -d&quot; &quot; -f1`
+-  local pid2=`echo &quot;$pids&quot; | cut -d&quot; &quot; -f3`
++  local pid2=`echo &quot;$pids&quot; | cut -d&quot; &quot; -f2`
+ 
+   if [ &quot;$pid1&quot; != &quot;$pid2&quot; ]
+   then

Added: branches/rpms/brian/vdr-vdrrip/05_fix-dvdparameter.dpatch
===================================================================
--- branches/rpms/brian/vdr-vdrrip/05_fix-dvdparameter.dpatch	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/05_fix-dvdparameter.dpatch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,30 @@
+#!/bin/sh /usr/share/dpatch/dpatch-run
+
+## fix-dvdparameter patch by Thomas G&#252;nther &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">tom at toms-cafe.de</A>&gt;
+##
+## All lines beginning with `## DP:' are a description of the patch.
+## DP: Change the dvd-parameter to -dvd if the mencoder-version is 0.XX,
+## DP: from <A HREF="http://www.a-land.de">http://www.a-land.de</A> (herbert attenberger &lt;herbsl at a-land.de&gt;).
+
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+ at DPATCH</A>@
+diff -urNad /usr/src/cvs/vdr-plugin-vdrrip/scripts/queuehandler.sh vdr-plugin-vdrrip/scripts/queuehandler.sh
+--- /usr/src/cvs/vdr-plugin-vdrrip/scripts/queuehandler.sh	Sat Apr 24 14:28:20 2004
++++ vdr-plugin-vdrrip/scripts/queuehandler.sh	Sat Apr 24 14:33:17 2004
+@@ -216,6 +216,17 @@
+     mp=$mplayer
+   fi
+ 
++  # change the dvd-parameter to -dvd if the mencoder-version is 0.XX
++  if [ &quot;$dvd&quot; ]
++  then
++    local menc_ver=`$mc -v 2&gt;/dev/null | grep &quot;MEncoder&quot; | sed &quot;s/^MEncoder \(.\).*/\1/&quot;`
++    if [ &quot;$menc_ver&quot; = &quot;0&quot; ]
++    then
++      dvd=`echo &quot;$dvd&quot; | sed &quot;s/^dvd:\/\//-dvd /&quot;`
++    fi
++    log_debug &quot;dvd: $dvd&quot;
++  fi
++
+   # check needed tools  
+   case &quot;$container&quot; in
+     &quot;avi&quot;)

Added: branches/rpms/brian/vdr-vdrrip/06_fix-ogm-ac3-vdrsync-dev.dpatch
===================================================================
--- branches/rpms/brian/vdr-vdrrip/06_fix-ogm-ac3-vdrsync-dev.dpatch	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/06_fix-ogm-ac3-vdrsync-dev.dpatch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,23 @@
+#!/bin/sh /usr/share/dpatch/dpatch-run
+
+## fix-ogm-ac3-vdrsync-dev patch by Thomas G&#252;nther &lt;@toms-cafe.de&gt;
+##
+## All lines beginning with `## DP:' are a description of the patch.
+## DP: Fix ogm/ac3: vdrsync 0.1.2.2dev1 creates bd.mpa, not bd.ac3.
+
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+ at DPATCH</A>@
+diff -urNad /usr/src/cvs/e-tobi/test/scripts/queuehandler.sh test/scripts/queuehandler.sh
+--- /usr/src/cvs/e-tobi/test/scripts/queuehandler.sh	Sun May  2 21:27:54 2004
++++ test/scripts/queuehandler.sh	Sun May  2 21:29:38 2004
+@@ -360,6 +360,11 @@
+         log_info &quot;demuxing all vdr-files from directory $dir&quot;
+ 	evecho &quot;demuxing vdr-files&quot;
+         execute &quot;$vdrsync $dir -o $tempdir&quot;
++	# vdrsync 0.1.2.2 developer version creates bd.mpa
++	if [ -e &quot;$tempdir/bd.mpa&quot; ]
++	then
++	  mv &quot;$tempdir/bd.mpa&quot; &quot;$tempdir/bd.ac3&quot;
++	fi
+       fi
+       ;;
+     *)

Added: branches/rpms/brian/vdr-vdrrip/07_preserve-queue-owner.dpatch
===================================================================
--- branches/rpms/brian/vdr-vdrrip/07_preserve-queue-owner.dpatch	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/07_preserve-queue-owner.dpatch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,20 @@
+#! /bin/sh /usr/share/dpatch/dpatch-run
+## 07_preserve-queue-owner.dpatch by Thomas G&#252;nther &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">tom at toms-cafe.de</A>&gt;
+##
+## All lines beginning with `## DP:' are a description of the patch.
+## DP: Preserve owner of queue.vdrrip in queuehandler.sh.
+
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+ at DPATCH</A>@
+--- vdrrip-0.3.0/scripts/queuehandler.sh
++++ vdrrip-0.3.0/scripts/queuehandler.sh
+@@ -729,8 +729,8 @@
+     rm -f &quot;$queuefile&quot;
+   else
+     let lines=lines-1
+-    tail -n $lines &quot;$queuefile&quot; &gt; /tmp/queuefile.tmp
+-    mv /tmp/queuefile.tmp $queuefile
++    cp -a &quot;$queuefile&quot; /tmp/queuefile.tmp
++    tail -n $lines /tmp/queuefile.tmp &gt; &quot;$queuefile&quot;
+   fi
+ 
+   if [ &quot;$error&quot; ]

Added: branches/rpms/brian/vdr-vdrrip/11_fix-identify-aspect.dpatch
===================================================================
--- branches/rpms/brian/vdr-vdrrip/11_fix-identify-aspect.dpatch	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/11_fix-identify-aspect.dpatch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,80 @@
+#! /bin/sh /usr/share/dpatch/dpatch-run
+## 11_fix-identify-aspect.dpatch by Thomas G&#252;nther &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">tom at toms-cafe.de</A>&gt;
+## <A HREF="http://toms-cafe.de/vdr/download/vdrrip-0.3.0-fix-identify-aspect.diff">http://toms-cafe.de/vdr/download/vdrrip-0.3.0-fix-identify-aspect.diff</A>
+##
+## All lines beginning with `## DP:' are a description of the patch.
+## DP: Fixes problems with newer mplayer versions and with locale settings
+## DP: (see <A HREF="http://vdrportal.de/board/thread.php?threadid=53225">http://vdrportal.de/board/thread.php?threadid=53225</A>
+## DP:  and <A HREF="http://vdrportal.de/board/thread.php?threadid=58775">http://vdrportal.de/board/thread.php?threadid=58775</A>)
+
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+ at DPATCH</A>@
+--- vdrrip-0.3.0/movie.c
++++ vdrrip-0.3.0/movie.c
+@@ -21,8 +21,8 @@
+ 
+ #define SAVEFILE &quot;save.vdrrip&quot;
+ 
+-#define IDENTCMD &quot;%s \'%s\'%s -identify -frames 0 2&gt;/dev/null | sed -e \'s/[`\\!$\&quot;]/\\&amp;/g\'&quot;
+-#define CROPCMD &quot;%s \'%s\'%s -vo null -ao null -really-quiet -ss %i -frames %i -vop cropdetect 2&gt;/dev/null | grep \&quot;crop=\&quot; | sed \&quot;s/.*crop\\(.*\\)).*/\\1/\&quot; | sort | uniq -c | sort -r&quot;
++#define IDENTCMD &quot;%s \'%s\'%s -identify -frames 1 -vo md5sum:outfile=/dev/null -ao null 2&gt;/dev/null | sed -e \'s/[`\\!$\&quot;]/\\&amp;/g\'&quot;
++#define CROPCMD &quot;%s \'%s\'%s -vo null -ao null -quiet -ss %i -frames %i -vop cropdetect 2&gt;/dev/null | grep \&quot;crop=\&quot; | sed \&quot;s/.*crop\\(.*\\)).*/\\1/\&quot; | sort | uniq -c | sort -r&quot;
+ #define AUDIOCMD &quot;%s \'%s/001.vdr\' -vo null -ao null -frames 0 -aid %i 2&gt;/dev/null | grep AUDIO&quot;
+ #define AUDIOCMDDVD &quot;%s %s -vo null -ao null -frames 0 -aid %i 2&gt;/dev/null | grep AUDIO&quot;
+ #define MENCCMD &quot;%s %s help 2&gt;/dev/null&quot;
+@@ -516,10 +516,34 @@
+     FREE(s);
+ 
+     s = strcol(strgrep(&quot;ID_VIDEO_ASPECT&quot;, p), &quot;=&quot;, 2);
++    if (s &amp;&amp; atof(s) == 0.0) { // Workaround for mplayer-1.0rc1: search for second aspect line
++      s = strcol(strgrep(&quot;ID_VIDEO_ASPECT&quot;, p), &quot;=&quot;, 2);
++      dsyslog(&quot;VDRRIP-FIX: searched for second aspect line: %s&quot;, s);
++    }
+     if (s) {
+       Aspect = atof(s);
++      if (Aspect == (double)(int)Aspect) { // Workaround for locale problems
++        if (strchr(s, '.'))
++          *strchr(s, '.') = ',';
++        else if (strchr(s, ','))
++          *strchr(s, ',') = '.';
++        dsyslog(&quot;VDRRIP-FIX: tried to solve locale problem: %s&quot;, s);
++        Aspect = atof(s);
++      }
+     } else {Aspect = -1;}
+ 
++    if (Aspect &lt;= 0.0) { // Workaround for mplayer-1.0pre7
++      pclose(p);
++      p = popen(cmd, &quot;r&quot;);
++      if (p &amp;&amp; strgrep(&quot;(aspect 3)&quot;, p)) {
++        Aspect = 1.7778; // 16:9
++        dsyslog(&quot;VDRRIP-FIX: found (aspect 3) - set aspect to 16:9&quot;);
++      } else {
++        Aspect = 1.3333; // 4:3
++        dsyslog(&quot;VDRRIP-FIX: (aspect 3) NOT found - set aspect to 4:3&quot;);
++      }
++    }
++
+     CalcAspect = Aspect;
+ 
+     pclose(p);
+--- vdrrip-0.3.0/scripts/queuehandler.sh
++++ vdrrip-0.3.0/scripts/queuehandler.sh
+@@ -303,8 +303,8 @@
+   shortname=&quot;$shortname(preview)&quot;
+   
+   # start the preview in the middle of the movie
+-  local length=`&quot;$mp&quot; -identify -frames 0 &quot;$dir/001.vdr&quot; 2&gt;/dev/null | grep ID_LENGTH | cut -d&quot;=&quot; -f2`
+-  let local ss=length/2
++  local length=`&quot;$mp&quot; -vo null -ao null -identify -frames 0 &quot;$dir/001.vdr&quot; 2&gt;/dev/null | grep ID_LENGTH | cut -d&quot;=&quot; -f2`
++  let local ss=$(echo $length | sed -e s/[.,].*//)/2
+   previewval=&quot;-ss $ss -endpos $previewlength&quot;
+ }
+ 
+@@ -782,7 +782,7 @@
+                  -ss $splitpos $endpos -o $tempdir/$ofile&quot;
+ 	
+         # detect length of splitted file and add it to $splitpos
+-        local length=`$mplayer -identify -frames 0 $tempdir/$ofile 2&gt;/dev/null | \
++        local length=`$mplayer -vo null -ao null -identify -frames 0 $tempdir/$ofile 2&gt;/dev/null | \
+                       grep ID_LENGTH | cut -d= -f2`
+         let splitpos=splitpos+length-overlap
+         let count=count+1

Added: branches/rpms/brian/vdr-vdrrip/91_vdrrip+dvd-0.3.0-1.3.7.dpatch
===================================================================
--- branches/rpms/brian/vdr-vdrrip/91_vdrrip+dvd-0.3.0-1.3.7.dpatch	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/91_vdrrip+dvd-0.3.0-1.3.7.dpatch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,329 @@
+#!/bin/sh /usr/share/dpatch/dpatch-run
+
+## vdrrip+dvd-0.3.0-1.3.7 patch
+##
+## All lines beginning with `## DP:' are a description of the patch.
+## DP: Change interface of vdrrip for vdr &gt;= 1.3.7 (from Norad at vdrportal.de),
+## DP: change interface of dvd menu, too (Thomas G&#252;nther &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">tom at toms-cafe.de</A>&gt;).
+
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+ at DPATCH</A>@
+diff -Naur vdrdevel-plugin-vdrrip-0.3.0.orig/menu-vdrrip.c vdrdevel-plugin-vdrrip-0.3.0/menu-vdrrip.c
+--- vdrdevel-plugin-vdrrip-0.3.0.orig/menu-vdrrip.c	Sat Jun 12 13:46:39 2004
++++ vdrdevel-plugin-vdrrip-0.3.0/menu-vdrrip.c	Sat Jun 12 13:59:53 2004
+@@ -4,6 +4,10 @@
+ 
+ #include &lt;vdr/plugin.h&gt;
+ #include &lt;vdr/videodir.h&gt;
++#if VDRVERSNUM &gt;= 10307
++#include &lt;vdr/interface.h&gt;
++#include &lt;vdr/status.h&gt;
++#endif
+ 
+ #ifdef VDRRIP_DVD
+   #include &lt;dvdnav/ifo_read.h&gt;
+@@ -92,14 +96,22 @@
+ # ifdef VDRRIP_DVD
+ 
+ cMenuVdrripWarning::cMenuVdrripWarning(const char *Title, const char *Text)
++#if VDRVERSNUM &gt;= 10307
++:cMenuText(Title, &quot;&quot;)
++#else
+ :cOsdMenu(Title)
++#endif
+ {
+   bool warning;
+   warning = true;
+   //warning = false;
+ 
+   if (warning) {
++#if VDRVERSNUM &gt;= 10307
++    SetText(Text);
++#else
+     Add(new cMenuTextItem(Text, 1, 2, Setup.OSDwidth - 2, MAXOSDITEMS, clrWhite, clrBackground, fontOsd));
++#endif
+     SetHelp(tr(&quot;back&quot;), tr(&quot;accept&quot;), NULL, NULL);
+     hadsubmenu = false;
+   } else {
+@@ -120,6 +132,22 @@
+   if (hadsubmenu) {return osBack;}
+   
+   switch (Key) {
++#if VDRVERSNUM &gt;= 10307
++    // cMenuText::ProcessKey don't handle submenus
++    case kUp|k_Repeat:
++    case kUp:
++    case kDown|k_Repeat:
++    case kDown:
++    case kLeft|k_Repeat:
++    case kLeft:
++    case kRight|k_Repeat:
++    case kRight:
++      DisplayMenu()-&gt;Scroll(NORMALKEY(Key) == kUp || NORMALKEY(Key) == kLeft,
++                            NORMALKEY(Key) == kLeft || NORMALKEY(Key) == kRight);
++      cStatus::MsgOsdTextItem(NULL, NORMALKEY(Key) == kUp);
++      return osContinue;
++#endif
++
+     case kRed: return osBack;
+ 
+     case kGreen: {
+@@ -138,13 +166,22 @@
+   ifo_handle_t *ifo_zero = NULL;
+   ifo_handle_t *ifo_tmp = NULL;
+ 
++#if VDRVERSNUM &gt;= 10307
++  Skins.Message(mtStatus, tr(&quot;checking dvd...&quot;));
++  Skins.Flush();
++#else
+   Interface-&gt;Status(tr(&quot;checking dvd...&quot;));
+   Interface-&gt;Flush();
++#endif
+ 
+   if (access(DVD, R_OK) == -1) {
+     char *s = NULL;
+     asprintf(&amp;s, &quot;No read privileges on %s !&quot;, DVD);
++#if VDRVERSNUM &gt;= 10307
++    Skins.Message(mtError, s);
++#else
+     Interface-&gt;Error(s);
++#endif
+     FREE(s);
+     return false;
+   }
+@@ -160,7 +197,11 @@
+ 	else {
+ 	  char *s = NULL;
+ 	  asprintf(&amp;s, &quot;Can't open ifo %d !&quot;, i);
++#if VDRVERSNUM &gt;= 10307
++	  Skins.Message(mtError, s);
++#else
+ 	  Interface-&gt;Error(s);
++#endif
+ 	  FREE(s);
+           DVDClose(dvd);
+ 	  return false;
+@@ -171,14 +212,22 @@
+       return true;
+     } else {
+       DVDClose(dvd);
++#if VDRVERSNUM &gt;= 10307
++      Skins.Message(mtError, &quot;Can't open main ifo from dvd !&quot;);
++#else
+       Interface-&gt;Error(&quot;Can't open main ifo from dvd !&quot;);
++#endif
+       return false;
+     }
+   }
+  
+   char *s = NULL;
+   asprintf(&amp;s, &quot;Can 't open %s !&quot;, DVD);
++#if VDRVERSNUM &gt;= 10307
++  Skins.Message(mtError, s);
++#else
+   Interface-&gt;Error(s);
++#endif
+   FREE(s);
+   return false;
+ }
+@@ -190,8 +239,13 @@
+ cMenuVdrripEncode::cMenuVdrripEncode():cOsdMenu(tr(&quot;encode vdr-recording&quot;)) {
+   R = NULL;
+   
++#if VDRVERSNUM &gt;= 10307
++  Skins.Message(mtStatus, tr(&quot;scanning recordings...&quot;));
++  Skins.Flush();
++#else
+   Interface-&gt;Status(tr(&quot;scanning recordings...&quot;));
+   Interface-&gt;Flush();
++#endif
+ 
+   R = new cVdrripRecordings;
+   Set();
+@@ -259,7 +313,13 @@
+     FREE(s1);
+   }
+ 
+-  if (Q-&gt;getLockStat()) {Interface-&gt;Error(tr(&quot;the queuefile is locked by the queuehandler !&quot;));}
++  if (Q-&gt;getLockStat()) {
++#if VDRVERSNUM &gt;= 10307
++    Skins.Message(mtError, tr(&quot;the queuefile is locked by the queuehandler !&quot;));
++#else
++    Interface-&gt;Error(tr(&quot;the queuefile is locked by the queuehandler !&quot;));
++#endif
++  }
+ 
+   SetHelpKeys();
+ }
+@@ -353,11 +413,13 @@
+ }
+ 
+ void cMenuVdrripQueue::AddColItem(cOsdItem *i) {
++#if VDRVERSNUM &lt; 10307
+ #ifdef clrScrolLine
+    i-&gt;SetColor(clrScrolLine, clrBackground);
+ #else
+    i-&gt;SetColor(clrCyan, clrBackground);
+ #endif
++#endif
+ 
+   Add(i);
+ }
+@@ -584,11 +646,13 @@
+ }
+ 
+ void cMenuVdrripEditTemplate::AddColItem(cOsdItem *i) {
++#if VDRVERSNUM &lt; 10307
+ #ifdef clrScrolLine
+    i-&gt;SetColor(clrScrolLine, clrBackground);
+ #else
+    i-&gt;SetColor(clrCyan, clrBackground);
+ #endif
++#endif
+ 
+   Add(i);
+ }
+@@ -600,8 +664,13 @@
+   MovOSDsaveName = NULL;
+   FileSize[0] = MovieData[0] = CropData[0] = ScaleData[0] = NULL;
+   
++#if VDRVERSNUM &gt;= 10307
++  Skins.Message(mtStatus, tr(&quot;reading movie-data...&quot;));
++  Skins.Flush();
++#else
+   Interface-&gt;Status(tr(&quot;reading movie-data...&quot;));
+   Interface-&gt;Flush();
++#endif
+ 
+   M = new cMovie(p, n);
+   Init(); 
+@@ -888,8 +957,13 @@
+ 
+ #ifdef VDRRIP_DVD
+   } else if (M-&gt;isDVD() &amp;&amp; MovOSD.Title != MovOSDsave.Title &amp;&amp; MovOSD.Title &gt; 0) {
++#if VDRVERSNUM &gt;= 10307
++    Skins.Message(mtStatus, tr(&quot;reading audio-data from dvd...&quot;));
++    Skins.Flush();
++#else
+     Interface-&gt;Status(tr(&quot;reading audio-data from dvd...&quot;));
+     Interface-&gt;Flush();
++#endif
+     M-&gt;setDVDTitle(MovOSD.Title, true);
+     M-&gt;saveMovieData();
+     Set();
+@@ -1067,7 +1141,13 @@
+             FREE(q);
+             DELETE(Q);
+             return osBack;
+-          } else {Interface-&gt;Error(tr(&quot;the queuefile is locked by the queuehandler !&quot;));}
++          } else {
++#if VDRVERSNUM &gt;= 10307
++	    Skins.Message(mtError, tr(&quot;the queuefile is locked by the queuehandler !&quot;));
++#else
++	    Interface-&gt;Error(tr(&quot;the queuefile is locked by the queuehandler !&quot;));
++#endif
++	  }
+ 
+           FREE(q);
+           DELETE(Q);
+@@ -1089,11 +1169,20 @@
+ 	  } else {
+ 	    if (Interface-&gt;Confirm(tr(&quot;crop black movie boarders ?&quot;))) {
+ 	      CropReset = true;
++#if VDRVERSNUM &gt;= 10307
++	      Skins.Message(mtStatus, tr(&quot;search for black movie boarders&quot;));
++	      Skins.Flush();
++#else
+               Interface-&gt;Status(tr(&quot;search for black movie boarders&quot;));
+ 	      Interface-&gt;Flush();
++#endif
+               if (! M-&gt;setCropValues()) {
+ 		CropReset = false;
++#if VDRVERSNUM &gt;= 10307
++		Skins.Message(mtError, tr(&quot;couldn't detect black movie boarders !&quot;));
++#else
+ 		Interface-&gt;Error(tr(&quot;couldn't detect black movie boarders !&quot;));
++#endif
+ 	      }
+ 	      M-&gt;saveMovieData();
+             }
+@@ -1133,11 +1222,13 @@
+ }
+ 
+ void cMenuVdrripMovie::AddColItem(cOsdItem *i) {
++#if VDRVERSNUM &lt; 10307
+ #ifdef clrScrolLine
+    i-&gt;SetColor(clrScrolLine, clrBackground);
+ #else
+    i-&gt;SetColor(clrCyan, clrBackground);
+ #endif
++#endif
+ 
+   Add(i);
+ }
+@@ -1163,8 +1254,13 @@
+   eOSState state = cOsdMenu::ProcessKey(Key);
+ 
+   if (Key == kOk) {
++#if VDRVERSNUM &gt;= 10307
++    Skins.Message(mtStatus, tr(&quot;reading audio-data from dvd...&quot;));
++    Skins.Flush();
++#else
+     Interface-&gt;Status(tr(&quot;reading audio-data from dvd...&quot;));
+     Interface-&gt;Flush();
++#endif
+     M-&gt;setDVDTitle(Current() + 1, true);
+     M-&gt;saveMovieData();
+     return osBack;
+diff -Naur vdrdevel-plugin-vdrrip-0.3.0.orig/menu-vdrrip.h vdrdevel-plugin-vdrrip-0.3.0/menu-vdrrip.h
+--- vdrdevel-plugin-vdrrip-0.3.0.orig/menu-vdrrip.h	Sat Jun 12 13:46:39 2004
++++ vdrdevel-plugin-vdrrip-0.3.0/menu-vdrrip.h	Sat Jun 12 13:58:26 2004
+@@ -7,6 +7,10 @@
+ 
+ #include &lt;vdr/osd.h&gt;
+ #include &lt;vdr/menuitems.h&gt;
++#if VDRVERSNUM &gt;= 10307
++#include &lt;vdr/menu.h&gt;
++#include &lt;vdr/skins.h&gt;
++#endif
+ 
+ #include &quot;movie.h&quot;
+ #include &quot;vdrriprecordings.h&quot;
+@@ -51,7 +55,12 @@
+ 
+ #ifdef VDRRIP_DVD
+ 
+-class cMenuVdrripWarning : public cOsdMenu {
++class cMenuVdrripWarning
++#if VDRVERSNUM &gt;= 10307
++  : public cMenuText {
++#else
++  : public cOsdMenu {
++#endif
+ private:
+   bool hadsubmenu;
+ 
+diff -Naur vdrdevel-plugin-vdrrip-0.3.0.orig/vdrrip.c vdrdevel-plugin-vdrrip-0.3.0/vdrrip.c
+--- vdrdevel-plugin-vdrrip-0.3.0.orig/vdrrip.c	Sat Jun 12 13:46:39 2004
++++ vdrdevel-plugin-vdrrip-0.3.0/vdrrip.c	Sat Jun 12 13:47:56 2004
+@@ -132,13 +132,21 @@
+   if (access(MPlayer, X_OK) == -1) {
+     char *s = NULL;
+     asprintf(&amp;s, &quot;%s doesn't exist or isn't a executable !&quot;, MPlayer);
++#if VDRVERSNUM &gt;= 10307
++    Skins.Message(mtError, s);
++#else
+     Interface-&gt;Error(s);
++#endif
+     FREE(s);
+     return NULL;
+   } else if (access(MEncoder, X_OK) == -1) {
+     char *s = NULL;
+     asprintf(&amp;s, &quot;%s doesn't exist or isn't a executable !&quot;, MEncoder);
++#if VDRVERSNUM &gt;= 10307
++    Skins.Message(mtError, s);
++#else
+     Interface-&gt;Error(s);
++#endif
+     FREE(s);
+     return NULL;
+   } else return new cMenuVdrrip();

Added: branches/rpms/brian/vdr-vdrrip/vdr-vdrrip.spec
===================================================================
--- branches/rpms/brian/vdr-vdrrip/vdr-vdrrip.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/vdr-vdrrip.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,91 @@
+%define pname     vdrrip
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.3.0
+Release:        1
+Summary:        VDR recordings format converter
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.berlios.de/vdr/">http://www.berlios.de/vdr/</A>
+Source0:        <A HREF="http://www.berlios.de/vdr/downloads/%{name">http://www.berlios.de/vdr/downloads/%{name</A>}-%{version}.tgz
+Source1:	vdrrip.init
+Source2:	vdrrip.sysconfig
+Source3:	vdrripsplit.sh
+Patch1:         02_maketempdir.dpatch
+Patch2:         03_greppid2.dpatch
+Patch3:         05_fix-dvdparameter.dpatch
+Patch4:         06_fix-ogm-ac3-vdrsync-dev.dpatch
+Patch5:         07_preserve-queue-owner.dpatch
+Patch6:         11_fix-identify-aspect.dpatch
+Patch7:         91_vdrrip+dvd-0.3.0-1.3.7.dpatch
+Patch8:         vdrrip-0.3.0-paths.patch
+Patch9:         vdrrip-0.3.0-queue-bg.patch
+Patch10:        vdrrip-dvdnav2dvdread.patch
+Patch11:        vdrrip-dvdread-inttypes.patch
+
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47 
+Requires:       vdr(abi) = %{apiver} mplayer
+
+%description
+VDR plugin for converting recordings into other formats like xvid, ogm, avi, divx, mpeg4
+
+%prep
+%setup -q -n %{pname}-%{version}
+%patch1 -p1
+%patch2 -p1
+%patch3 -p1
+%patch4 -p1
+%patch5 -p1
+%patch6 -p1
+%patch7 -p1
+%patch8 -p1
+%patch9 -p1
+%patch10 -p1
+%patch11 -p1
+
+
+%build
+#./configure
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -dm 755 $RPM_BUILD_ROOT/usr/bin/
+install -pm 755 libvdr-%{pname}.so $RPM_BUILD_ROOT%{plugindir}/libvdr-%{pname}.so.%{apiver}
+install -Dpm 755 %{SOURCE1} $RPM_BUILD_ROOT%{_initrddir}/vdrrip
+install -m644 scripts/queuehandler.sh.conf $RPM_BUILD_ROOT%{_bindir}/
+install -m755 scripts/queuehandler.sh $RPM_BUILD_ROOT%{_bindir}/
+install -dm 755 $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig
+install -pm 755 %{SOURCE3} $RPM_BUILD_ROOT%{_bindir}/vdrripsplit.sh
+sed -e 's|/usr/lib/vdr/|%{plugindir}/|' &lt; %{SOURCE2} \
+  &gt; $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdrrip
+chmod 644 $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdrrip
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY README
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+%{_bindir}/vdrripsplit.sh
+%{_bindir}/queuehandler.sh
+%dir %{plugindir}
+%dir %{_sysconfdir}
+%config(noreplace) %{_bindir}/queuehandler.sh.conf
+%{_initrddir}
+%config(noreplace) %{_sysconfdir}
+
+
+%changelog
+

Added: branches/rpms/brian/vdr-vdrrip/vdrrip-0.3.0-paths.patch
===================================================================
--- branches/rpms/brian/vdr-vdrrip/vdrrip-0.3.0-paths.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/vdrrip-0.3.0-paths.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,54 @@
+diff -Nurp -x '*~' vdrrip-0.3.0/scripts/queuehandler.sh.conf vdrrip-0.3.0-pa/scripts/queuehandler.sh.conf
+--- vdrrip-0.3.0/scripts/queuehandler.sh.conf	2004-04-22 21:54:11.000000000 +0300
++++ vdrrip-0.3.0-pa/scripts/queuehandler.sh.conf	2007-07-20 06:11:02.000000000 +0300
+@@ -33,8 +33,8 @@
+ 
+   # this pathes are used for the encoding of vdr-recordings &amp; dvd's.
+   # they _must_ point to an unpatched mencoder &amp; mplayer
+-  mencoder=&quot;/usr/local/bin/mencoder&quot;
+-  mplayer=&quot;/usr/local/bin/mplayer&quot;
++  mencoder=&quot;/usr/bin/mencoder&quot;
++  mplayer=&quot;/usr/bin/mplayer&quot;
+ 
+   # this pathes are only used for encoding a vdr-recording with
+   # selected ac3-stream.
+@@ -52,11 +52,11 @@
+ 
+ 
+   # optional tools (only needed for ogm/matroska-container)
+-  vdrsync=&quot;/usr/local/bin/vdrsync.pl&quot;
+-  ffmpeg=&quot;/usr/local/bin/ffmpeg&quot;
+-  ogmmerge=&quot;/usr/local/bin/ogmmerge&quot;
+-  ogmsplit=&quot;/usr/local/bin/ogmsplit&quot;
+-  mkvmerge=&quot;/usr/local/bin/mkvmerge&quot;
++  vdrsync=&quot;/usr/bin/vdrsync.pl&quot;
++  ffmpeg=&quot;/usr/bin/ffmpeg&quot;
++  ogmmerge=&quot;/usr/bin/ogmmerge&quot;
++  ogmsplit=&quot;/usr/bin/ogmsplit&quot;
++  mkvmerge=&quot;/usr/bin/mkvmerge&quot;
+ 
+ 
+ 
+@@ -64,7 +64,7 @@
+   # from the queuehandler on your tv.
+   # You have to specify only $svdrpsend or $netcat.
+   # $netcat is only recommend, if perl isn't installed.
+-  svdrpsend=&quot;/usr/local/bin/svdrpsend.pl&quot;
++  svdrpsend=&quot;/usr/bin/svdrpsend.pl&quot;
+   #netcat=&quot;&quot;
+ 
+   vdrhostname=&quot;localhost&quot;
+diff -Nurp -x '*~' vdrrip-0.3.0/vdrrip.c vdrrip-0.3.0-pa/vdrrip.c
+--- vdrrip-0.3.0/vdrrip.c	2004-04-22 20:40:38.000000000 +0300
++++ vdrrip-0.3.0-pa/vdrrip.c	2007-07-20 06:11:52.000000000 +0300
+@@ -20,8 +20,8 @@ static const char *VERSION       = &quot;0.3.
+ static const char *DESCRIPTION   = &quot;A MPlayer using movie encoder&quot;;
+ static const char *MAINMENUENTRY = &quot;Vdrrip&quot;;
+ 
+-const char *MPlayer  = &quot;/usr/local/bin/mplayer&quot;;
+-const char *MEncoder = &quot;/usr/local/bin/mencoder&quot;;
++const char *MPlayer  = &quot;/usr/bin/mplayer&quot;;
++const char *MEncoder = &quot;/usr/bin/mencoder&quot;;
+ const char *DVD      = &quot;/dev/dvd&quot;;
+ 
+ class cPluginVdrrip : public cPlugin {

Added: branches/rpms/brian/vdr-vdrrip/vdrrip-0.3.0-queue-bg.patch
===================================================================
--- branches/rpms/brian/vdr-vdrrip/vdrrip-0.3.0-queue-bg.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/vdrrip-0.3.0-queue-bg.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,16 @@
+diff -Nurp -x '*~' vdrrip-0.3.0/scripts/queuehandler.sh vdrrip-0.3.0-bg/scripts/queuehandler.sh
+--- vdrrip-0.3.0/scripts/queuehandler.sh	2004-04-22 21:54:13.000000000 +0300
++++ vdrrip-0.3.0-bg/scripts/queuehandler.sh	2007-07-20 09:44:58.000000000 +0300
+@@ -65,6 +65,12 @@
+ #################################################################
+ qh_ver=&quot;0.3.0&quot;
+ 
++# (anssi) Added for Mandriva
++if [[ &quot;$1&quot; == &quot;--background&quot; ]]; then
++	shift
++	nohup $0 &quot;$@&quot; &lt;/dev/null &gt;/dev/null 2&gt;/dev/null &amp;
++	exit 0
++fi
+ 
+ function initialize () {
+ #

Added: branches/rpms/brian/vdr-vdrrip/vdrrip-dvdnav2dvdread.patch
===================================================================
--- branches/rpms/brian/vdr-vdrrip/vdrrip-dvdnav2dvdread.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/vdrrip-dvdnav2dvdread.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,39 @@
+Index: vdrrip-0.3.0/Makefile
+===================================================================
+--- vdrrip-0.3.0/Makefile
++++ vdrrip-0.3.0/Makefile	2007-11-06 16:57:21.000000000 +0200
+@@ -54,7 +54,7 @@
+ 
+ ifdef VDRRIP_DVD
+   DEFINES += -DVDRRIP_DVD
+-  LIBS += -ldvdnav
++  LIBS += -ldvdread
+ endif
+ 
+ ### Implicit rules:
+Index: vdrrip-0.3.0/menu-vdrrip.c
+===================================================================
+--- vdrrip-0.3.0/menu-vdrrip.c
++++ vdrrip-0.3.0/menu-vdrrip.c	2007-11-06 16:56:07.000000000 +0200
+@@ -6,7 +6,7 @@
+ #include &lt;vdr/videodir.h&gt;
+ 
+ #ifdef VDRRIP_DVD
+-  #include &lt;dvdnav/ifo_read.h&gt;
++  #include &lt;dvdread/ifo_read.h&gt;
+ #endif //VDRRIP_DVD
+ 
+ #include &quot;menu-vdrrip.h&quot;
+Index: vdrrip-0.3.0/movie.c
+===================================================================
+--- vdrrip-0.3.0/movie.c
++++ vdrrip-0.3.0/movie.c	2007-11-06 16:56:21.000000000 +0200
+@@ -8,7 +8,7 @@
+ #include &lt;math.h&gt;
+ 
+ #ifdef VDRRIP_DVD
+-  #include &lt;dvdnav/ifo_read.h&gt;
++  #include &lt;dvdread/ifo_read.h&gt;
+ #endif //VDRRIP_DVD
+ 
+ #include &lt;vdr/plugin.h&gt;

Added: branches/rpms/brian/vdr-vdrrip/vdrrip-dvdread-inttypes.patch
===================================================================
--- branches/rpms/brian/vdr-vdrrip/vdrrip-dvdread-inttypes.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/vdrrip-dvdread-inttypes.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,12 @@
+Index: vdrrip-0.3.0/movie.c
+===================================================================
+--- vdrrip-0.3.0/movie.c
++++ vdrrip-0.3.0/movie.c	2007-11-14 16:57:30.000000000 +0200
+@@ -8,6 +8,7 @@
+ #include &lt;math.h&gt;
+ 
+ #ifdef VDRRIP_DVD
++  #include &lt;inttypes.h&gt;
+   #include &lt;dvdread/ifo_read.h&gt;
+ #endif //VDRRIP_DVD
+ 

Added: branches/rpms/brian/vdr-vdrrip/vdrrip.init
===================================================================
--- branches/rpms/brian/vdr-vdrrip/vdrrip.init	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/vdrrip.init	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,69 @@
+#!/bin/sh
+#
+# chkconfig: 345 70 30
+# description: vdrrip queue handler
+
+### BEGIN INIT INFO
+# Provides: vdrrip
+# Should-Start: $local_fs $remote_fs
+# Should-Stop: $local_fs $remote_fs
+# Default-Start: 3 4 5
+# Short-Description: vdrrip queue handler
+# Description: Handles the encoding queue of vdrrip VDR plugin
+### END INIT INFO
+
+# Source function library.
+. /etc/rc.d/init.d/functions
+
+DAEMONNAME=vdrrip
+
+# Get config.
+VDR_USER=vdr
+VDR_CONFIGDIR=/var/lib/vdr/config
+VDR_VIDEO=/var/lib/vdr/video
+QUEUE_FILE=
+VDRRIP_DIR=
+[ -f /etc/sysconfig/vdr ] &amp;&amp; . /etc/sysconfig/vdr
+[ -f /etc/sysconfig/vdrrip ] &amp;&amp; . /etc/sysconfig/vdrrip
+
+[ -z &quot;$QUEUE_FILE&quot; ] &amp;&amp; QUEUE_FILE=$VDR_CONFIGDIR/plugins/queue.vdrrip
+[ -z &quot;$VDRRIP_DIR&quot; ] &amp;&amp; VDRRIP_DIR=$VDR_VIDEO/vdrrip
+
+LOCKFILE=/var/lock/subsys/$DAEMONNAME
+
+case &quot;$1&quot; in
+  start)
+  	CURPIDS=&quot;$(__pids_pidof queuehandler.sh)&quot;
+  	if [[ -n &quot;$CURPIDS&quot; ]]; then
+  		echo -n &quot;%s already running on PID %s\n&quot; &quot;queuehandler.sh&quot; &quot;$CURPIDS&quot;
+		exit 1
+	fi
+  	echo -n $&quot;Starting vdrrip queue handler&quot;
+  	daemon --user $VDR_USER queuehandler.sh --background &quot;$QUEUE_FILE&quot; &quot;$VDRRIP_DIR&quot;
+  	RETVAL=$?
+  	echo
+  	touch $LOCKFILE
+  	;;
+  stop)
+  	echo -n $&quot;Shutting down vdrrip queue handler&quot;
+  	killproc queuehandler.sh
+  	RETVAL=$?
+  	echo
+  	rm -f $LOCKFILE
+  	;;
+  status)
+  	status queuehandler.sh
+  	RETVAL=$?
+  	;;
+  reload|restart)
+  	$0 stop
+  	sleep 1
+  	$0 start
+  	RETVAL=$?
+  	;;
+  *)
+  	echo -n $&quot;Usage: $0 {start|stop|restart|reload|status}&quot;
+  	exit 1
+esac
+
+exit $RETVAL

Added: branches/rpms/brian/vdr-vdrrip/vdrrip.sysconfig
===================================================================
--- branches/rpms/brian/vdr-vdrrip/vdrrip.sysconfig	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/vdrrip.sysconfig	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,12 @@
+# Configuration file for the vdrrip service that runs the queue handler
+
+# The user to run as
+# default: VDR_USER from /etc/sysconfig/vdr, &quot;vdr&quot; if not specified
+# VDR_USER=&quot;vdr&quot;
+
+# The queue file that is filled by VDR
+# QUEUE_FILE=&quot;$VDR_CONFIGDIR/plugins/queue.vdrrip&quot;
+
+# The directory where the actual files go
+# VDRRIP_DIR=&quot;$VDR_VIDEO/vdrrip&quot;
+

Added: branches/rpms/brian/vdr-vdrrip/vdrripsplit.sh
===================================================================
--- branches/rpms/brian/vdr-vdrrip/vdrripsplit.sh	                        (rev 0)
+++ branches/rpms/brian/vdr-vdrrip/vdrripsplit.sh	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,79 @@
+#!/bin/sh
+
+mplayer=/usr/bin/mplayer
+mencoder=/usr/bin/mencoder
+
+if [ -z &quot;$4&quot; -o &quot;$1&quot; = &quot;-?&quot; -o &quot;$1&quot; = &quot;-h&quot; -o &quot;$1&quot; = &quot;--help&quot; ]; then
+    echo &quot;Usage: $0 &lt;dir&gt; &lt;name&gt; &lt;size&gt; &lt;count&gt;&quot;
+    echo &quot;       Split video file&quot;
+    echo &quot;       dir   - Directory with original video file and for part files&quot;
+    echo &quot;       name  - Name of video file without extention&quot;
+    echo &quot;       size  - Size of part files in MegaBytes&quot;
+    echo &quot;       count - Part count&quot;
+    echo &quot;Example: vdrripsplit.sh /video/mplayer/temp Example_Video 700 2&quot;
+    echo &quot;  splits /video/mplayer/temp/Example_Video.avi&quot;
+    echo &quot;    into /video/mplayer/temp/Example_Video-1.avi (700MB)&quot;
+    echo &quot;     and /video/mplayer/temp/Example_Video-2.avi (remaining part)&quot;
+    exit 1
+fi
+
+tempdir=$1
+name=$2
+filesize=$3
+filenumbers=$4
+
+function split () {
+#
+# splits the encoded movie into $filenumbers pieces
+#
+
+#  local overlap=3
+  local overlap=5
+
+  local count=1
+  local splitpos=0
+
+  # workaround to get the right filesize from mencoder with -endpos
+  let local splitsize=filesize*99/100
+
+  while [ $count -le $filenumbers ]
+  do
+    local ofile=&quot;$name-$count.avi&quot;
+
+    if [ $count -eq $filenumbers ]
+    then
+      local endpos=&quot;&quot;
+    else
+      local endpos=&quot;-endpos ${splitsize}mb&quot;
+    fi
+
+    # split file
+    local splitcmd=&quot;$mencoder -ovc copy -oac copy $tempdir/$name.avi \
+                    -ss $splitpos $endpos -o $tempdir/$ofile&quot;
+    $splitcmd 2&gt;/dev/null
+
+    # detect length of splitted file and add it to $splitpos
+    local length=`length &quot;$tempdir/$ofile&quot;`
+    let splitpos=splitpos+length-overlap
+    let count=count+1
+  done
+}
+
+function length1 () {
+    # print length of video to stdout
+    &quot;$mplayer&quot; -vo null -ao null -identify -frames 0 &quot;$1&quot; 2&gt;/dev/null | \
+        grep ID_LENGTH | cut -d&quot;=&quot; -f2
+}
+
+function length () {
+    # detect length of video and print it to stdout
+    local length=`length1 &quot;$1&quot;`
+
+    # workaround: repeat command if failed first time
+    if [ -z &quot;$length&quot; ]; then
+        length=`length1 &quot;$1&quot;`
+    fi
+    echo &quot;$length&quot;
+}
+
+split


Property changes on: branches/rpms/brian/vdr-vdrrip/vdrripsplit.sh
___________________________________________________________________
Name: svn:executable
   + *

Added: branches/rpms/brian/vdr-wapd/vdr-wapd-0.8-1338i18n.patch
===================================================================
--- branches/rpms/brian/vdr-wapd/vdr-wapd-0.8-1338i18n.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-wapd/vdr-wapd-0.8-1338i18n.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,118 @@
+--- wapd-0.8/i18n.c~	2005-12-24 15:23:36.000000000 +0200
++++ wapd-0.8/i18n.c	2006-01-10 20:32:13.000000000 +0200
+@@ -126,7 +126,7 @@
+     &quot;&quot;, // TODO
+     &quot;Pas de r&#233;sum&#233; defini.&quot;,
+     &quot;&quot;, // TODO
+-    &quot;Yhteenvetoa ei saatavilla.&quot;,
++    &quot;Kuvausta ei saatavilla.&quot;,
+     &quot;&quot;, // TODO
+     &quot;&quot;, // TODO
+     &quot;&quot;, // TODO
+--- wapd-0.8/server.c~	2005-12-24 16:19:20.000000000 +0200
++++ wapd-0.8/server.c	2006-01-10 20:34:03.000000000 +0200
+@@ -389,7 +389,7 @@
+      &quot;%s:&quot; WML_BR() WML_INPUT(&quot;Nid%d&quot;, &quot;%s&quot;, &quot;*N&quot;) WML_BR()
+      &quot;%s:&quot; WML_BR() WML_INPUT(&quot;Tid%d&quot;, &quot;%s&quot;, &quot;*N&quot;) WML_BR()
+      &quot;%s:&quot; WML_BR() WML_INPUT(&quot;Rid%d&quot;, &quot;%s&quot;, &quot;N&quot;),
+-     wmltr(&quot;Name&quot;), base, name ? name : wmltr(&quot;New&quot;),
++     wmltr(&quot;Name&quot;), base, name ? name : &quot;&quot;,
+      wmltr(&quot;Frequency&quot;), base, frequency ? frequency : &quot;&quot;,
+      wmltr(&quot;Parameters&quot;), base, parameters ? parameters : &quot;&quot;,
+      wmltr(&quot;Source&quot;), base, source ? source : &quot;&quot;,
+@@ -416,8 +416,8 @@
+         wmltr(&quot;VDR&quot;), wmltr(&quot;Channels&quot;),
+         wmltr(&quot;Save&quot;), channel_nr,
+         base, base, base, base, base, base, base, base, base, base, base, base, base,
+-        wmltr(&quot;Switch&quot;), channel_nr,
+-        wmltr(&quot;Delete&quot;), channel_nr);
++        wmltr(&quot;Button$Switch&quot;), channel_nr,
++        wmltr(&quot;Button$Delete&quot;), channel_nr);
+   else
+      ReplyBuffer(WML_END(WML_DO(&quot;%s&quot;, URI_MAIN) WML_ENDDO()
+         WML_DO(&quot;%s&quot;, URI_CHANNELS) WML_ENDDO()
+@@ -447,7 +447,7 @@
+   int lifetime = Setup.DefaultLifetime;
+   char *file = NULL;
+   asprintf(&amp;day, &quot;%d&quot;, lt.tm_mday);
+-  asprintf(&amp;file, &quot;%s%02d%02d%02d&quot;, wmltr(&quot;New&quot;), lt.tm_hour, lt.tm_min, lt.tm_sec);
++  asprintf(&amp;file, &quot;%s%02d%02d%02d&quot;, &quot;wapd&quot;, lt.tm_hour, lt.tm_min, lt.tm_sec);
+   cTimer *timer = NULL;
+   if (Option(&quot;id&quot;)) {
+      if (isnumber(getopt)) {
+@@ -492,8 +492,8 @@
+         WML_DO(&quot;%s&quot;, URI_ONOFFTIMER &quot;/?id=%s&quot;) WML_ENDDO()),
+         wmltr(&quot;VDR&quot;), wmltr(&quot;Timers&quot;),
+         wmltr(&quot;Save&quot;), getopt, flags, base, base, base, base, base, base, base,
+-        wmltr(&quot;Delete&quot;), getopt,
+-        wmltr(&quot;On/Off&quot;), getopt);
++        wmltr(&quot;Button$Delete&quot;), getopt,
++        wmltr(&quot;Button$On/Off&quot;), getopt);
+   else
+      ReplyBuffer(WML_END(WML_DO(&quot;%s&quot;, URI_MAIN) WML_ENDDO()
+         WML_DO(&quot;%s&quot;, URI_TIMERS) WML_ENDDO()
+@@ -540,7 +540,7 @@
+            WML_DO(&quot;%s&quot;, URI_RECORDINGS) WML_ENDDO()
+            WML_DO(&quot;%s&quot;, URI_DELETERECORDING &quot;/?id=%s&quot;) WML_ENDDO()),
+            wmltr(&quot;VDR&quot;), wmltr(&quot;Recordings&quot;),
+-           wmltr(&quot;Delete&quot;), getopt);
++           wmltr(&quot;Button$Delete&quot;), getopt);
+         Header(200, &quot;OK&quot;, MIME_WAP);
+         FlushBuffer();
+         return;
+@@ -616,8 +616,8 @@
+            WML_ENDDO()),
+            wmltr(&quot;VDR&quot;),
+            wmltr(&quot;Schedule&quot;), channel-&gt;Number(),
+-           wmltr(&quot;Switch&quot;), channel-&gt;Number(),
+-           wmltr(&quot;Record&quot;), channel-&gt;Number(), tm_start.tm_mday,
++           wmltr(&quot;Button$Switch&quot;), channel-&gt;Number(),
++           wmltr(&quot;Button$Record&quot;), channel-&gt;Number(), tm_start.tm_mday,
+               tm_start.tm_hour, tm_start.tm_min, tm_stop.tm_hour, tm_stop.tm_min,
+               Setup.DefaultPriority, Setup.DefaultLifetime, file);
+         free(file);
+@@ -676,7 +676,7 @@
+               WML_POSTFIELD(&quot;%s&quot;, &quot;y&quot;)
+            WML_ENDDO()),
+            wmltr(&quot;VDR&quot;),
+-           Now ? wmltr(&quot;Next&quot;) : wmltr(&quot;Now&quot;),
++           Now ? wmltr(&quot;Button$Next&quot;) : wmltr(&quot;Button$Now&quot;),
+            Now ? &quot;next&quot; : &quot;now&quot;,
+            offset - MAXLINES &gt; 0 ? offset - MAXLINES : 0,
+            Now ? &quot;now&quot; : &quot;next&quot;,
+@@ -734,7 +734,7 @@
+                  WML_POSTFIELD(&quot;offset&quot;, &quot;%d&quot;)
+                  WML_POSTFIELD(&quot;channel_nr&quot;, &quot;%d&quot;)
+               WML_ENDDO()),
+-              wmltr(&quot;VDR&quot;), wmltr(&quot;Now&quot;), wmltr(&quot;Next&quot;),
++              wmltr(&quot;VDR&quot;), wmltr(&quot;Button$Now&quot;), wmltr(&quot;Button$Next&quot;),
+               offset - MAXLINES &gt; 0 ? offset - MAXLINES : 0,
+               ChannelNr,
+               offset + MAXLINES &lt; i ? offset + MAXLINES : offset,
+@@ -786,7 +786,7 @@
+         WML_DO(&quot;%s&quot;, URI_EDITCHANNEL) WML_ENDDO()
+         WML_DO(WML_LT, URI_CHANNELS &quot;/?offset=%d&quot;) WML_ENDDO()
+         WML_DO(WML_GT, URI_CHANNELS &quot;/?offset=%d&quot;) WML_ENDDO()),
+-        wmltr(&quot;VDR&quot;), wmltr(&quot;New&quot;),
++        wmltr(&quot;VDR&quot;), wmltr(&quot;Button$New&quot;),
+         offset - MAXLINES &gt; 0 ? offset - MAXLINES : 0,
+         offset + MAXLINES &lt; i ? offset + MAXLINES : offset);
+      Header(200, &quot;OK&quot;, MIME_WAP);
+@@ -841,7 +841,7 @@
+         WML_DO(&quot;%s&quot;, URI_EDITTIMER) WML_ENDDO()
+         WML_DO(WML_LT, URI_TIMERS &quot;/?offset=%d&quot;) WML_ENDDO()
+         WML_DO(WML_GT, URI_TIMERS &quot;/?offset=%d&quot;) WML_ENDDO()),
+-        wmltr(&quot;VDR&quot;), wmltr(&quot;New&quot;),
++        wmltr(&quot;VDR&quot;), wmltr(&quot;Button$New&quot;),
+         offset - MAXLINES &gt; 0 ? offset - MAXLINES : 0,
+         offset + MAXLINES &lt; i ? offset + MAXLINES : offset);
+      Header(200, &quot;OK&quot;, MIME_WAP);
+@@ -852,7 +852,7 @@
+      ReplyBuffer(wmltr(&quot;No timers defined.&quot;));
+   ReplyBuffer(WML_END(WML_DO(&quot;%s&quot;, URI_MAIN) WML_ENDDO()
+      WML_DO(&quot;%s&quot;, URI_EDITTIMER) WML_ENDDO()),
+-     wmltr(&quot;VDR&quot;), wmltr(&quot;New&quot;));
++     wmltr(&quot;VDR&quot;), wmltr(&quot;Button$New&quot;));
+   Header(200, &quot;OK&quot;, MIME_WAP);
+   FlushBuffer();
+ }

Added: branches/rpms/brian/vdr-wapd/vdr-wapd-0.8-1341.patch
===================================================================
--- branches/rpms/brian/vdr-wapd/vdr-wapd-0.8-1341.patch	                        (rev 0)
+++ branches/rpms/brian/vdr-wapd/vdr-wapd-0.8-1341.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,15 @@
+--- server.c~	2005-12-24 16:19:20.000000000 +0200
++++ server.c	2006-01-29 19:32:04.000000000 +0200
+@@ -694,7 +694,11 @@
+            int offset = strtol(getopt, NULL, 10);
+            int i = 0;
+            const cEvent *PresentEvent =
+-              Schedule-&gt;GetPresentEvent(channel-&gt;Number() == cDevice::CurrentChannel());
++              Schedule-&gt;GetPresentEvent(
++#if VDRVERSNUM &lt; 10341
++                  channel-&gt;Number() == cDevice::CurrentChannel()
++#endif
++                  );
+            time_t now = time(NULL) - Setup.EPGLinger * 60;
+            for (const cEvent *Event = Schedule-&gt;Events()-&gt;First();
+                 Event;

Added: branches/rpms/brian/vdr-wapd/vdr-wapd-proxy.conf
===================================================================
--- branches/rpms/brian/vdr-wapd/vdr-wapd-proxy.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-wapd/vdr-wapd-proxy.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,23 @@
+#                                                                -*- apache -*-
+# vdr-wapd - WAP interface for the Video Disk Recorder (VDR)
+#
+# This is an optional config file for proxying vdr-wapd with Apache.
+# Copy to /etc/httpd/conf.d to do that.
+#
+# Note: with SELinux in enforcing mode, the httpd_can_network_connect
+# SELinux boolean must be on, otherwise httpd won't be able to connect to
+# the proxied port below.  See the setsebool(8) manual page or use the
+# &quot;Allow HTTPD to connect to the network&quot; option in the
+# system-config-securitylevel UI.
+#
+
+&lt;IfModule mod_proxy.c&gt;
+  Listen 8008
+  &lt;VirtualHost _default_:8008&gt;
+    ProxyPass / <A HREF="http://localhost:8888/">http://localhost:8888/</A>
+    ProxyPassReverse / <A HREF="http://localhost:8888/">http://localhost:8888/</A>
+    &lt;IfModule mod_deflate.c&gt;
+      AddOutputFilterByType DEFLATE text/vnd.wap.wml
+    &lt;/IfModule&gt;
+  &lt;/VirtualHost&gt;
+&lt;/IfModule&gt;

Added: branches/rpms/brian/vdr-wapd/vdr-wapd-wapaccess
===================================================================
--- branches/rpms/brian/vdr-wapd/vdr-wapd-wapaccess	                        (rev 0)
+++ branches/rpms/brian/vdr-wapd/vdr-wapd-wapaccess	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,7 @@
+#
+# wapaccess     This file describes user based access to the VDR WAP
+#               daemon running on this system.  Use the wappasswd utility
+#               to create entries here, like:
+#                 wappasswd username password &gt;&gt; wapaccess
+#
+

Added: branches/rpms/brian/vdr-wapd/vdr-wapd-waphosts
===================================================================
--- branches/rpms/brian/vdr-wapd/vdr-wapd-waphosts	                        (rev 0)
+++ branches/rpms/brian/vdr-wapd/vdr-wapd-waphosts	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,7 @@
+#
+# waphosts      This file describes a number of host addresses that
+#               are allowed to connect to the VDR WAP daemon running
+#               on this system.
+#
+
+127.0.0.1

Added: branches/rpms/brian/vdr-wapd/vdr-wapd.conf
===================================================================
--- branches/rpms/brian/vdr-wapd/vdr-wapd.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-wapd/vdr-wapd.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,6 @@
+# Configuration snippet for vdr-wapd                                 -*- sh -*-
+#
+# Add command line options to pass to the wapd plugin to PLUGIN_OPTIONS.
+# See /usr/share/doc/vdr-wapd-*/README for info about the available options.
+
+PLUGIN_OPTIONS=&quot;&quot;

Added: branches/rpms/brian/vdr-wapd/vdr-wapd.spec
===================================================================
--- branches/rpms/brian/vdr-wapd/vdr-wapd.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-wapd/vdr-wapd.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,102 @@
+# TODO: should be proxy friendlier by using relative URLs!
+
+%define pname     wapd
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+%define vdr_user  %(vdr-config --user       2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.8
+Release:        16%{?dist}
+Summary:        WAP remote control interface for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://vdr.heiligenmann.de/vdr/plugins/wapd.html">http://vdr.heiligenmann.de/vdr/plugins/wapd.html</A>
+Source0:        <A HREF="http://vdr.heiligenmann.de/download/%{name">http://vdr.heiligenmann.de/download/%{name</A>}-%{version}.tgz
+Source1:        %{name}-waphosts
+Source2:        %{name}-wapaccess
+Source3:        %{name}-proxy.conf
+Source4:        %{name}.conf
+Patch0:         %{name}-0.8-1338i18n.patch
+Patch1:         %{name}-0.8-1341.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47
+Requires:       vdr(abi) = %{apiver}
+
+%description
+The wapd plugin enables VDR to be remotely controlled using a WML interface
+with WML enabled browsers such as mainstream mobile phones.
+
+
+%prep
+%setup -q -n %{pname}-%{version}
+%patch0 -p1
+%patch1
+iconv -f iso-8859-1 -t utf-8 HISTORY &gt; HISTORY.utf8 ; mv HISTORY.utf8 HISTORY
+sed -i -e 's|/video/plugins|%{configdir}/plugins|' README
+sed -i -e '/^DVBDIR/d' -e 's|-I$(DVBDIR)/include||' Makefile
+sed -i -e s/VDRVERSION/APIVERSION/g Makefile
+install -pm 644 %{SOURCE3} %{name}-httpd.conf
+ 
+
+%build
+# LIBDIR is where the compiled object is copied during build
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -Dpm 755 wappasswd $RPM_BUILD_ROOT%{_bindir}/wappasswd
+install -Dpm 640 %{SOURCE1} $RPM_BUILD_ROOT%{configdir}/plugins/waphosts
+install -Dpm 640 %{SOURCE2} $RPM_BUILD_ROOT%{configdir}/plugins/wapaccess
+install -Dpm 644 %{SOURCE4} \
+  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY README %{name}-httpd.conf
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+%{_bindir}/wappasswd
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+%defattr(-,%{vdr_user},root,-)
+%config(noreplace) %{configdir}/plugins/wapaccess
+%config(noreplace) %{configdir}/plugins/waphosts
+
+
+%changelog
+* Sat Mar 24 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.8-16
+- Improvement suggestions from #219097: drop build dependency on sed,
+  improve summary and description.
+
+* Sun Dec 10 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.8-15
+- Trim pre VDR 1.4.0 changelog entries.
+
+* Sat Nov  4 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.8-14
+- Install optional Apache proxy snippet as doc, not in-place.
+- Build for VDR 1.4.4.
+
+* Fri Oct 06 2006 Thorsten Leemhuis &lt;fedora [AT] leemhuis [DOT] info&gt; 0.8-13
+- rebuilt for unwind info generation, broken in gcc-4.1.1-21
+
+* Sat Sep 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.8-12
+- Rebuild for VDR 1.4.3.
+
+* Sun Aug  6 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.8-11
+- Rebuild for VDR 1.4.1-3.
+
+* Sun Jun 11 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.8-10
+- Rebuild for VDR 1.4.1.
+- Add mod_deflate sample to example proxy config.
+
+* Sun Apr 30 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.8-9
+- Rebuild for VDR 1.4.0.

Added: branches/rpms/brian/vdr-weather/vdr-weather.spec
===================================================================
--- branches/rpms/brian/vdr-weather/vdr-weather.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-weather/vdr-weather.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,56 @@
+%define pname     weather
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.2.1e
+Release:        1
+Summary:        Weather report for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://www.berlios.de/vdr/">http://www.berlios.de/vdr/</A>
+Source0:        <A HREF="http://www.berlios.de/vdr/downloads/%{name">http://www.berlios.de/vdr/downloads/%{name</A>}-%{version}.tar.bz2
+Patch1:         weather-02_vdr_1.3-fix.dpatch
+Patch2:         weather-03_g++4.1-fix.dpatch
+Patch3:         weather-04_ftp-location.dpatch
+
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47 mdsplib-devel ftplib-devel
+Requires:       vdr(abi) = %{apiver} mdsplib ftplib
+
+%description
+This plugin displays the wather report
+
+%prep
+%setup -q -n %{pname}-%{version}
+%patch1 -p1
+%patch2 -p1
+%patch3 -p1
+
+
+%build
+#./configure
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -dm 755 $RPM_BUILD_ROOT/usr/bin/
+install -pm 755 libvdr-%{pname}.so $RPM_BUILD_ROOT%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc COPYING HISTORY README
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+
+%changelog
+

Added: branches/rpms/brian/vdr-weather/weather-02_vdr_1.3-fix.dpatch
===================================================================
--- branches/rpms/brian/vdr-weather/weather-02_vdr_1.3-fix.dpatch	                        (rev 0)
+++ branches/rpms/brian/vdr-weather/weather-02_vdr_1.3-fix.dpatch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,359 @@
+#! /bin/sh /usr/share/dpatch/dpatch-run
+## 02_vdr_1.3-fix.dpatch by Thomas Schmidt &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">tschmidt at debian.org</A>&gt;
+##
+## All lines beginning with `## DP:' are a description of the patch.
+## DP: Allows the plugin to be compiled for vdr 1.3.x
+
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+ at DPATCH</A>@
+diff -urNad weather/display.c /tmp/dpep.f9okrN/weather/display.c
+--- weather/display.c	2005-06-25 17:17:04.000000000 +0200
++++ /tmp/dpep.f9okrN/weather/display.c	2005-06-25 17:20:01.000000000 +0200
+@@ -16,130 +16,132 @@
+ }
+ 
+ 
+-void cWeatherOsd::initBitmap(cBitmap &amp;b, char*xpm[], eDvbColor col, bool setBg) {
++void cWeatherOsd::initBitmap(cBitmap &amp;b, char*xpm[], tColor col, bool setBg) {
+    for (int y=0; y&lt;100; y++) {
+       for (int x=0; x&lt;100; x++) {
+ 			if (setBg) {
+-         	b.SetPixel(x, y, (xpm[y][x] == YES) ? col : clrBackground);
++         	b.DrawPixel(x, y, (xpm[y][x] == YES) ? col : clrTransparent);
+ 			} else {
+ 				if (xpm[y][x] == YES) {
+-					b.SetPixel(x, y, col);
++					b.DrawPixel(x, y, col);
+ 				}
+ 			}
+       }
+    }
+ }
+ 
+-void cWeatherOsd::initEastBitmap(cBitmap &amp;b, eDvbColor col) {
++void cWeatherOsd::initEastBitmap(cBitmap &amp;b, tColor col) {
+    for (int y=0; y&lt;100; y++) {
+       for (int x=0; x&lt;100; x++) {
+ 			if (e_xpm[y][x] == YES) {
+-				b.SetPixel(x, y, col);
++				b.DrawPixel(x, y, col);
+ 			}
+       }
+    }
+ }
+ 
+-void cWeatherOsd::initNorthBitmap(cBitmap &amp;b, eDvbColor col) {
++void cWeatherOsd::initNorthBitmap(cBitmap &amp;b, tColor col) {
+ for (int y=0; y&lt;100; y++) {
+       for (int x=0; x&lt;100; x++) {
+ 			if (e_xpm[y][x] == YES) {
+-				b.SetPixel(y, 100 - x, col);
++				b.DrawPixel(y, 100 - x, col);
+ 			}
+       }
+    }
+ }
+ 
+-void cWeatherOsd::initWestBitmap(cBitmap &amp;b, eDvbColor col) {
++void cWeatherOsd::initWestBitmap(cBitmap &amp;b, tColor col) {
+    for (int y=0; y&lt;100; y++) {
+       for (int x=99; x&gt;=0; x--) {
+ 			if (e_xpm[y][x] == YES) {
+-				b.SetPixel(100 - x, y, col);
++				b.DrawPixel(100 - x, y, col);
+ 			}
+       }
+    }
+ }
+ 
+-void cWeatherOsd::initSouthBitmap(cBitmap &amp;b, eDvbColor col) {
++void cWeatherOsd::initSouthBitmap(cBitmap &amp;b, tColor col) {
+ 	for (int y=0; y&lt;100; y++) {
+       for (int x=0; x&lt;100; x++) {
+ 			if (e_xpm[y][x] == YES) {
+-				b.SetPixel(y, x, col);
++				b.DrawPixel(y, x, col);
+ 			}
+       }
+    }
+ }
+ 
+-void cWeatherOsd::initSouthEastBitmap(cBitmap &amp;b, eDvbColor col) {
++void cWeatherOsd::initSouthEastBitmap(cBitmap &amp;b, tColor col) {
+ 	for (int y=0; y&lt;100; y++) {
+       for (int x=0; x&lt;100; x++) {
+ 			if (se_xpm[y][x] == YES) {
+-				b.SetPixel(x, y, col);
++				b.DrawPixel(x, y, col);
+ 			}
+       }
+    }
+ }
+ 
+-void cWeatherOsd::initNorthEastBitmap(cBitmap &amp;b, eDvbColor col) {
++void cWeatherOsd::initNorthEastBitmap(cBitmap &amp;b, tColor col) {
+    for (int y=0; y&lt;100; y++) {
+       for (int x=0; x&lt;100; x++) {
+ 			if (se_xpm[y][x] == YES) {
+-				b.SetPixel(y, 100 - x, col);
++				b.DrawPixel(y, 100 - x, col);
+ 			}
+       }
+    }
+ }
+ 
+ 
+-void cWeatherOsd::initNorthWestBitmap(cBitmap &amp;b, eDvbColor col) {
++void cWeatherOsd::initNorthWestBitmap(cBitmap &amp;b, tColor col) {
+ 	for (int y=0; y&lt;100; y++) {
+       for (int x=0; x&lt;100; x++) {
+ 			if (se_xpm[y][x] == YES) {
+-				b.SetPixel(100-x, 100-y, col);
++				b.DrawPixel(100-x, 100-y, col);
+ 			}
+       }
+    }
+ }
+ 
+-void cWeatherOsd::initSouthWestBitmap(cBitmap &amp;b, eDvbColor col) {
++void cWeatherOsd::initSouthWestBitmap(cBitmap &amp;b, tColor col) {
+ 	for (int y=0; y&lt;100; y++) {
+       for (int x=99; x&gt;=0; x--) {
+ 			if (se_xpm[y][x] == YES) {
+-				b.SetPixel(100 - x, y, col);
++				b.DrawPixel(100 - x, y, col);
+ 			}
+       }
+    }
+ }
+ 
+-void cWeatherOsd::initBorderBitmap(cBitmap &amp;b, eDvbColor col) {
++void cWeatherOsd::initBorderBitmap(cBitmap &amp;b, tColor col) {
+ 	for (int y=0; y&lt;100; y++) {
+       for (int x=99; x&gt;=0; x--) {
+ 			if (border_xpm[x][y] == YES) {
+-				b.SetPixel(x, y, col);
++				b.DrawPixel(x, y, col);
+ 			}
+       }
+    }
+ }
+ 
+-void cWeatherOsd::printMetar (cOsdBase *osd, Decoded_METAR *Mptr, int x, int y) {
+-	cFont *font = new cFont((eDvbFont)0);
+-	osd-&gt;SetFont((eDvbFont)0);
++void cWeatherOsd::printMetar (cOsd *osd, Decoded_METAR *Mptr, int x, int y) {
++	//cFont *font = new cFont();
++        const cFont *font = cFont::GetFont((eDvbFont)0);
+ 	//int cy = 0;
+ 
+ 
+ 	int lineY = y;
+ 
+-	osd-&gt;Text(x + 80 - font-&gt;Width(tr(&quot;Weather&quot;)) - gapX, y, tr(&quot;Weather&quot;));
++	osd-&gt;DrawText(x + 80 - font-&gt;Width(tr(&quot;Weather&quot;)) - gapX, y, tr(&quot;Weather&quot;), 
++              clrWhite, clrTransparent, font);
+ 	lineY += font-&gt;Height(tr(&quot;Weather&quot;)) + gapY;
+ 
+-	osd-&gt;Fill(x, lineY, x+80, lineY+lineHeight, clrBlue);
+-	osd-&gt;Fill(x+80, lineY, x+80+lineHeight, lineY+20, clrBlue);
++	osd-&gt;DrawRectangle(x, lineY, x+80, lineY+lineHeight, clrBlue);
++	osd-&gt;DrawRectangle(x+80, lineY, x+80+lineHeight, lineY+20, clrBlue);
+ 	drawWeather(osd, Mptr, x, lineY+20);
+ 	x += 120;
+ 
+-	osd-&gt;Text(x + 80 - font-&gt;Width(tr(&quot;Wind&quot;)) - gapX, y, tr(&quot;Wind&quot;));
+-	osd-&gt;Fill(x, lineY, x+80, lineY+lineHeight, clrBlue);
+-	osd-&gt;Fill(x+80, lineY, x+80+lineHeight, lineY+20, clrBlue);
++	osd-&gt;DrawText(x + 80 - font-&gt;Width(tr(&quot;Wind&quot;)) - gapX, y, tr(&quot;Wind&quot;),
++              clrWhite, clrTransparent, font);
++	osd-&gt;DrawRectangle(x, lineY, x+80, lineY+lineHeight, clrBlue);
++	osd-&gt;DrawRectangle(x+80, lineY, x+80+lineHeight, lineY+20, clrBlue);
+ 
+ 	if (Mptr-&gt;winData.windDir != MAXINT) {
+ 		drawWindRose(osd, Mptr-&gt;winData.windDir, x, lineY+20);
+@@ -150,17 +152,17 @@
+ 	drawData(osd, Mptr, 0, font, x, y);
+ }
+ 
+-void cWeatherOsd::drawWeather(cOsdBase *osd, Decoded_METAR *mptr, int x, int y) {
++void cWeatherOsd::drawWeather(cOsd *osd, Decoded_METAR *mptr, int x, int y) {
+ 	//char* filename;
+ 
+ //	sprintf(&quot;%s%s.xpm&quot;, coverage[mptr-&gt;], phenomen[]);
+ 	cBitmap weather(100, 100, 3, false);
+ 	initBitmap(weather, sun_xpm, clrYellow, true);
+ 	initBorderBitmap(weather, clrBlue);
+-	osd-&gt;SetBitmap(x, y, weather);
++	osd-&gt;DrawBitmap(x, y, weather);
+ }
+ 
+-void cWeatherOsd::drawWindRose(cOsdBase *osd, int degree, int x, int y) {
++void cWeatherOsd::drawWindRose(cOsd *osd, int degree, int x, int y) {
+ 	cBitmap windRose(100, 100, 3, false);
+ 	initBitmap(windRose, windrose_xpm, clrYellow, true);
+ 
+@@ -185,5 +187,5 @@
+ 	}
+ 
+ 	initBorderBitmap(windRose, clrBlue);
+-	osd-&gt;SetBitmap(x, y, windRose);
++	osd-&gt;DrawBitmap(x, y, windRose);
+ }
+diff -urNad weather/display.h /tmp/dpep.f9okrN/weather/display.h
+--- weather/display.h	2005-06-25 17:17:04.000000000 +0200
++++ /tmp/dpep.f9okrN/weather/display.h	2005-06-25 17:20:01.000000000 +0200
+@@ -11,20 +11,20 @@
+ 	public:
+ 		cWeatherOsd(cUpdate *metarReader);
+ 	protected:
+-		virtual void printMetar (cOsdBase *osd, Decoded_METAR *Mptr, int x, int y);
+-		void initWeatherBitmap(cBitmap &amp;b, Decoded_METAR *mptr, eDvbColor col, bool setBg);
+-		void initBitmap(cBitmap &amp;b, char *xpm[], eDvbColor col, bool setBg);
+-		void initNorthBitmap(cBitmap &amp;b, eDvbColor col);
+-		void initSouthBitmap(cBitmap &amp;b, eDvbColor col);
+-		void initWestBitmap(cBitmap &amp;b, eDvbColor col);
+-		void initEastBitmap(cBitmap &amp;b, eDvbColor col);
+-		void initNorthWestBitmap(cBitmap &amp;b, eDvbColor col);
+-		void initNorthEastBitmap(cBitmap &amp;b, eDvbColor col);
+-		void initSouthWestBitmap(cBitmap &amp;b, eDvbColor col);
+-		void initSouthEastBitmap(cBitmap &amp;b, eDvbColor col);
+-		void initBorderBitmap(cBitmap &amp;b, eDvbColor col);
+-		void drawWindRose(cOsdBase *osd, int degree, int x, int y);
+-		void drawWeather(cOsdBase *osd, Decoded_METAR *mptr, int x, int y);
++		virtual void printMetar (cOsd *osd, Decoded_METAR *Mptr, int x, int y);
++		void initWeatherBitmap(cBitmap &amp;b, Decoded_METAR *mptr, tColor col, bool setBg);
++		void initBitmap(cBitmap &amp;b, char *xpm[], tColor col, bool setBg);
++		void initNorthBitmap(cBitmap &amp;b, tColor col);
++		void initSouthBitmap(cBitmap &amp;b, tColor col);
++		void initWestBitmap(cBitmap &amp;b, tColor col);
++		void initEastBitmap(cBitmap &amp;b, tColor col);
++		void initNorthWestBitmap(cBitmap &amp;b, tColor col);
++		void initNorthEastBitmap(cBitmap &amp;b, tColor col);
++		void initSouthWestBitmap(cBitmap &amp;b, tColor col);
++		void initSouthEastBitmap(cBitmap &amp;b, tColor col);
++		void initBorderBitmap(cBitmap &amp;b, tColor col);
++		void drawWindRose(cOsd *osd, int degree, int x, int y);
++		void drawWeather(cOsd *osd, Decoded_METAR *mptr, int x, int y);
+ 		std::string cWeatherOsd::getIntensity(const std::string weather);
+ 		std::string cWeatherOsd::getPrecipitation(const std::string weather);
+ 		std::string cWeatherOsd::getCoverage(const std::string weather);
+diff -urNad weather/simpleDisplay.c /tmp/dpep.f9okrN/weather/simpleDisplay.c
+--- weather/simpleDisplay.c	2005-06-25 17:17:04.000000000 +0200
++++ /tmp/dpep.f9okrN/weather/simpleDisplay.c	2005-06-25 17:21:14.000000000 +0200
+@@ -18,21 +18,18 @@
+ }
+ 
+ void cSimpleWeatherOsd::Show(void) {
+-  osd = cOsd::OpenRaw(50, 50);
++  osd = cOsdProvider::NewOsd(50, 50);
++  const cFont *font = cFont::GetFont((eDvbFont)0);
+   if (osd) {
+-     osd-&gt;Create(0, 240, 612, 250, 4);
+-     osd-&gt;AddColor(clrBackground);
+-     osd-&gt;AddColor(clrRed);
+-     osd-&gt;AddColor(clrGreen);
+-     osd-&gt;AddColor(clrYellow);
+-     osd-&gt;AddColor(clrBlue);
+-     osd-&gt;Clear();
++     tArea Area = {0, 240, 611, 489, 4};
++     osd-&gt;SetAreas(&amp;Area, 1);
++     osd-&gt;DrawRectangle(0, 240, 611, 489, clrGray50);
+ 
+ 	if (metarReader-&gt;isDataAvailable()) {
+ 		Decoded_METAR *decodedMetar = metarReader-&gt;getDecodedMetar();
+ 		this-&gt;printMetar(osd, decodedMetar, 10, 250);
+ 	} else {
+-		osd-&gt;Text(10, 250, tr(&quot;No Data available&quot;));
++		osd-&gt;DrawText(10, 250, tr(&quot;No Data available&quot;),clrWhite, clrTransparent, font);
+ 	}
+      osd-&gt;Flush();
+   }
+@@ -54,14 +51,13 @@
+   return state;
+ }
+ 
+-void cSimpleWeatherOsd::printMetar (cOsdBase *osd, Decoded_METAR *Mptr, int x, int y) {
++void cSimpleWeatherOsd::printMetar (cOsd *osd, Decoded_METAR *Mptr, int x, int y) {
+ 
+-	cFont *font = new cFont((eDvbFont)0);
+-	osd-&gt;SetFont((eDvbFont)0);
++	const cFont *font = cFont::GetFont((eDvbFont)0);
+ 	drawData(osd, Mptr, 0, font, x, y);
+ }
+ 
+-int cSimpleWeatherOsd::calculateMaxDescriptionFontWidth(measurement measurements[], int size, cFont *font) {
++int cSimpleWeatherOsd::calculateMaxDescriptionFontWidth(measurement measurements[], int size, const cFont *font) {
+ 	int maxSize = 0;
+ 	int strSize = 0;
+ 
+@@ -75,7 +71,7 @@
+ 	return maxSize;
+ }
+ 
+-int cSimpleWeatherOsd::calculateMaxValueFontWidth(measurement measurements[], int size, cFont *font) {
++int cSimpleWeatherOsd::calculateMaxValueFontWidth(measurement measurements[], int size, const cFont *font) {
+ 	int maxSize = 0;
+ 	int strSize = 0;
+ 
+@@ -89,7 +85,7 @@
+ 	return maxSize;
+ }
+ 
+-void cSimpleWeatherOsd::drawData(cOsdBase *osd, Decoded_METAR *Mptr, int cy, cFont *font, int x, int y) {
++void cSimpleWeatherOsd::drawData(cOsd *osd, Decoded_METAR *Mptr, int cy, const cFont *font, int x, int y) {
+ 	measurement measurements[10];
+ 
+ 	for(int i=0; i&lt;10; i++) {
+@@ -174,18 +170,21 @@
+ 
+ 
+ 	int maxSize = x + calculateMaxDescriptionFontWidth(measurements, cy, font) + gapX;
+-	osd-&gt;Text(maxSize-font-&gt;Width(measurements[0].description)-gapX, y, measurements[0].description);
++	osd-&gt;DrawText(maxSize-font-&gt;Width(measurements[0].description)-gapX, y, 
++              measurements[0].description, clrWhite, clrTransparent, font);
+ 	y += font-&gt;Height(measurements[0].description) + gapY;
+ 	int lineY = y;
+-	osd-&gt;Fill(x, y, maxSize+gapX, y+lineHeight, clrBlue);
++	osd-&gt;DrawRectangle(x, y, maxSize+gapX, y+lineHeight, clrBlue);
+ 	y += lineHeight+gapY;
+ 
+ 	for (int i=1; i&lt;=cy; i++) {
+-		osd-&gt;Text(maxSize-font-&gt;Width(measurements[i].description)-gapX, y, measurements[i].description);
+-		osd-&gt;Text(maxSize+lineHeight+gapX+gapX, y, measurements[i].value);
+-		osd-&gt;Fill(maxSize, y+(font-&gt;Height(measurements[0].description)/2), maxSize+gapX, y+(font-&gt;Height(measurements[0].description)/2)+lineHeight, clrBlue);
++		osd-&gt;DrawText(maxSize-font-&gt;Width(measurements[i].description)-gapX, y, 
++                      measurements[i].description, clrWhite, clrTransparent, font);
++		osd-&gt;DrawText(maxSize+lineHeight+gapX+gapX, y, measurements[i].value,
++                      clrWhite, clrTransparent, font);
++		osd-&gt;DrawRectangle(maxSize, y+(font-&gt;Height(measurements[0].description)/2), maxSize+gapX, y+(font-&gt;Height(measurements[0].description)/2)+lineHeight, clrBlue);
+ 		y += font-&gt;Height(measurements[0].description) + gapY;
+ 	}
+ 
+-	osd-&gt;Fill(maxSize+gapX, lineY, maxSize+gapX+lineHeight, y, clrBlue);
++	osd-&gt;DrawRectangle(maxSize+gapX, lineY, maxSize+gapX+lineHeight, y, clrBlue);
+ }
+diff -urNad weather/simpleDisplay.h /tmp/dpep.f9okrN/weather/simpleDisplay.h
+--- weather/simpleDisplay.h	2005-06-25 17:17:04.000000000 +0200
++++ /tmp/dpep.f9okrN/weather/simpleDisplay.h	2005-06-25 17:20:01.000000000 +0200
+@@ -17,14 +17,14 @@
+ 		virtual void Show(void);
+ 		virtual eOSState ProcessKey(eKeys Key);
+ 	protected:
+-		cOsdBase *osd;
+-		eDvbColor color;
++		cOsd *osd;
++                tColor color;
+ 		cUpdate *metarReader;
+-		virtual void printMetar (cOsdBase *osd, Decoded_METAR *Mptr, int x, int y);
+-		void drawData(cOsdBase *osd, Decoded_METAR *Mptr, int cy, cFont *font, int x, int y);
+-		int calculateMaxDescriptionFontWidth(measurement measurements[], int size, cFont *font);
+-		int calculateMaxValueFontWidth(measurement measurements[], int size, cFont *font);
+-		int calculateMaxFontWidth(char strings[][500], int size, cFont *font);
++		virtual void printMetar (cOsd *osd, Decoded_METAR *Mptr, int x, int y);
++		void drawData(cOsd *osd, Decoded_METAR *Mptr, int cy, const cFont *font, int x, int y);
++		int calculateMaxDescriptionFontWidth(measurement measurements[], int size, const cFont *font);
++		int calculateMaxValueFontWidth(measurement measurements[], int size, const cFont *font);
++		int calculateMaxFontWidth(char strings[][500], int size, const cFont *font);
+ };
+ 
+ #endif //SIMPLE_WEATHER_DISPLAY_H

Added: branches/rpms/brian/vdr-weather/weather-03_g++4.1-fix.dpatch
===================================================================
--- branches/rpms/brian/vdr-weather/weather-03_g++4.1-fix.dpatch	                        (rev 0)
+++ branches/rpms/brian/vdr-weather/weather-03_g++4.1-fix.dpatch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,24 @@
+#! /bin/sh /usr/share/dpatch/dpatch-run
+
+## 03_g++4.1-fix.dpatch by Martin Michlmayr &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">tbm at cyrius.com</A>&gt;
+##
+## All lines beginning with `## DP:' are a description of the patch.
+## DP: Fixes FTBFS with g++4.1 (closes: #356440)
+
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+ at DPATCH</A>@
+diff -urNad vdr-plugin-weather-0.2.1e/display.h /tmp/dpep.hTuTzZ/vdr-plugin-weather-0.2.1e/display.h
+--- vdr-plugin-weather-0.2.1e/display.h	2006-03-14 17:14:01.411816750 +0100
++++ /tmp/dpep.hTuTzZ/vdr-plugin-weather-0.2.1e/display.h	2006-03-14 17:14:17.580827250 +0100
+@@ -25,9 +25,9 @@
+ 		void initBorderBitmap(cBitmap &amp;b, tColor col);
+ 		void drawWindRose(cOsd *osd, int degree, int x, int y);
+ 		void drawWeather(cOsd *osd, Decoded_METAR *mptr, int x, int y);
+-		std::string cWeatherOsd::getIntensity(const std::string weather);
+-		std::string cWeatherOsd::getPrecipitation(const std::string weather);
+-		std::string cWeatherOsd::getCoverage(const std::string weather);
++		std::string getIntensity(const std::string weather);
++		std::string getPrecipitation(const std::string weather);
++		std::string getCoverage(const std::string weather);
+ };
+ 
+ #endif //WEATHER_DISPLAY_H

Added: branches/rpms/brian/vdr-weather/weather-04_ftp-location.dpatch
===================================================================
--- branches/rpms/brian/vdr-weather/weather-04_ftp-location.dpatch	                        (rev 0)
+++ branches/rpms/brian/vdr-weather/weather-04_ftp-location.dpatch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,18 @@
+#! /bin/sh /usr/share/dpatch/dpatch-run
+## 04_ftp-location.dpatch by Tobias Grimm &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">tg at e-tobi.net</A>&gt;
+##
+## All lines beginning with `## DP:' are a description of the patch.
+## DP: Anonymous ftp only possible at tgftp.nws.noaa.gov.
+
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+ at DPATCH</A>@
+diff -urNad vdr-plugin-weather-0.2.1e~/metarReader.c vdr-plugin-weather-0.2.1e/metarReader.c
+--- vdr-plugin-weather-0.2.1e~/metarReader.c	2003-12-04 16:04:24.000000000 +0100
++++ vdr-plugin-weather-0.2.1e/metarReader.c	2007-02-17 20:16:19.000000000 +0100
+@@ -1,6 +1,6 @@
+ #include &quot;metarReader.h&quot;
+ 
+-static const char *host = &quot;weather.noaa.gov&quot;;
++static const char *host = &quot;tgftp.nws.noaa.gov&quot;;
+ static const char *metarDir = &quot;/data/observations/metar/stations/&quot;;
+ 
+ cUpdate::cUpdate(cWeatherSetup *setup) {

Added: branches/rpms/brian/vdr-xine/vdr-xine.conf
===================================================================
--- branches/rpms/brian/vdr-xine/vdr-xine.conf	                        (rev 0)
+++ branches/rpms/brian/vdr-xine/vdr-xine.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,6 @@
+# Configuration snippet for vdr-xine                                 -*- sh -*-
+#
+# Add command line options to pass to the xine plugin to PLUGIN_OPTIONS.
+# See /usr/share/doc/vdr-xine-*/MANUAL for info about available options.
+
+PLUGIN_OPTIONS=&quot;-r&quot;

Added: branches/rpms/brian/vdr-xine/vdr-xine2.spec
===================================================================
--- branches/rpms/brian/vdr-xine/vdr-xine2.spec	                        (rev 0)
+++ branches/rpms/brian/vdr-xine/vdr-xine2.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,113 @@
+# TODO: noSignal.pes would be better placed in datadir somewhere
+
+%define pname     xine
+%define plugindir %(vdr-config --plugindir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir  2&gt;/dev/null || echo ERROR)
+%define apiver    %(vdr-config --apiversion 2&gt;/dev/null || echo ERROR)
+
+Name:           vdr-%{pname}
+Version:        0.7.9
+Release:        6%{?dist}
+Summary:        Xine playback plugin for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://home.vr-web.de/~rnissl/">http://home.vr-web.de/~rnissl/</A>
+Source0:        <A HREF="http://home.vr-web.de/~rnissl/%{name">http://home.vr-web.de/~rnissl/%{name</A>}-%{version}.tgz
+Source1:        %{name}.conf
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:  vdr-devel &gt;= 1.3.47
+BuildRequires:  xine-lib-devel &gt;= 1.0.0
+Requires:       vdr(abi) = %{apiver}
+
+%description
+This package provides a &quot;software only&quot; playback plugin for VDR, using
+Xine as the backend.
+
+
+%prep
+%setup -q -n %{pname}-%{version}
+iconv -f iso-8859-1 -t utf-8 README &gt; README.utf8 ; mv README.utf8 README
+
+
+%build
+make %{?_smp_mflags} LIBDIR=. VDRDIR=%{_libdir}/vdr all
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{plugindir}
+install -pm 755 libvdr-%{pname}.so.%{apiver} $RPM_BUILD_ROOT%{plugindir}
+install -Dpm 644 data/noSignal.mpg \
+  $RPM_BUILD_ROOT%{configdir}/plugins/xine/noSignal.mpg
+install -Dpm 755 xineplayer $RPM_BUILD_ROOT%{plugindir}/bin/xineplayer
+install -Dpm 644 %{SOURCE1} \
+  $RPM_BUILD_ROOT%{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc HISTORY MANUAL README data/noSignal-completelyBlack.mpg
+%config(noreplace) %{_sysconfdir}/sysconfig/vdr-plugins.d/%{pname}.conf
+%config(noreplace) %{configdir}/plugins/xine/
+%{plugindir}/bin/xineplayer
+%{plugindir}/libvdr-%{pname}.so.%{apiver}
+
+
+%changelog
+* Fri Oct 06 2006 Thorsten Leemhuis &lt;fedora [AT] leemhuis [DOT] info&gt; 0.7.9-6
+- rebuilt for unwind info generation, broken in gcc-4.1.1-21
+
+* Sat Sep 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.7.9-5
+- Pass -r by default to the plugin to enable remote control from xine.
+- Rebuild for VDR 1.4.3.
+
+* Sun Aug  6 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.7.9-4
+- Rebuild for VDR 1.4.1-3.
+
+* Sun Jun 11 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.7.9-3
+- Rebuild for VDR 1.4.1.
+
+* Sun Apr 30 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.7.9-2
+- Rebuild for VDR 1.4.0.
+
+* Mon Apr 17 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.7.9-1
+- 0.7.9, adjust for VDR 1.3.47, require versioned vdr(abi).
+- Trim pre-RLO %%changelog entries.
+
+* Mon Mar 27 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.7.8-1
+- 0.7.8, rebuild for VDR 1.3.45.
+
+* Sat Mar 18 2006 Thorsten Leemhuis &lt;fedora at leemhuis.info&gt; - 0.7.6-7
+- drop 0.lvn from release
+
+* Wed Mar  1 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.7.6-1.lvn.7
+- Rebuild/patch for VDR 1.3.44.
+
+* Tue Feb 28 2006 Andreas Bierfert &lt;andreas.bierfert[AT]lowlatency.de&gt;
+- add dist
+
+* Sun Feb 19 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.7.6-1.lvn.6
+- Rebuild for VDR 1.3.43.
+
+* Sun Feb  5 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.7.6-1.lvn.5
+- Rebuild/patch for VDR 1.3.42.
+
+* Sun Jan 22 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.7.6-1.lvn.4
+- Rebuild for VDR 1.3.40.
+
+* Sun Jan 15 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.7.6-1.lvn.3
+- Rebuild for VDR 1.3.39.
+
+* Thu Jan 12 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.7.6-1.lvn.2
+- Rebuild for VDR 1.3.38.
+- Sync with 0.7.6-6.ds.
+
+* Mon Jan  2 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.7.6-1.lvn.1
+- First livna release.
+- Sync with 0.7.6-4.ds.

Added: branches/rpms/brian/vdradmin-am/vdradmin-am-3.4.5a-proctitle.patch
===================================================================
--- branches/rpms/brian/vdradmin-am/vdradmin-am-3.4.5a-proctitle.patch	                        (rev 0)
+++ branches/rpms/brian/vdradmin-am/vdradmin-am-3.4.5a-proctitle.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,10 @@
+--- vdradmind.pl~	2006-05-09 16:09:37.000000000 +0300
++++ vdradmind.pl	2006-05-18 18:31:38.000000000 +0300
+@@ -35,6 +35,7 @@
+     $0 =~ /(^.*\/)/;
+     $EXENAME  = $0;
+     $BASENAME = $1;
++    $0 = &quot;vdradmind&quot;;
+     unshift(@INC, &quot;/usr/share/vdradmin/lib&quot;);
+     unshift(@INC, $BASENAME . &quot;lib/&quot;);
+ }

Added: branches/rpms/brian/vdradmin-am/vdradmin-am-3.5.3-config.patch
===================================================================
--- branches/rpms/brian/vdradmin-am/vdradmin-am-3.5.3-config.patch	                        (rev 0)
+++ branches/rpms/brian/vdradmin-am/vdradmin-am-3.5.3-config.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,63 @@
+--- vdradmind.pl~	2007-01-25 16:55:55.000000000 +0200
++++ vdradmind.pl	2007-01-25 18:53:33.000000000 +0200
+@@ -87,7 +87,7 @@
+ 
+ #use warnings;
+ 
+-my $SEARCH_FILES_IN_SYSTEM    = 0;
++my $SEARCH_FILES_IN_SYSTEM    = 1;
+ my $VDR_MAX_SVDRP_LENGTH      = 10000;                        # validate this value
+ my $SUPPORTED_LOCALE_PREFIXES = &quot;^(cs|de|en|es|fi|fr|it|nl|ru)_&quot;;
+ 
+@@ -110,7 +110,7 @@
+ my %CONFIG;
+ $CONFIG{LOGLEVEL}             = 81;                # 32799
+ $CONFIG{LOGGING}              = 0;
+-$CONFIG{LOGFILE}              = &quot;vdradmind.log&quot;;
++$CONFIG{LOGFILE}              = &quot;vdradmin/vdradmind.log&quot;;
+ $CONFIG{MOD_GZIP}             = 0;
+ $CONFIG{CACHE_TIMEOUT}        = 60;
+ $CONFIG{CACHE_LASTUPDATE}     = 0;
+@@ -126,7 +126,7 @@
+ $CONFIG{LOCAL_NET}  = &quot;0.0.0.0/32&quot;;
+ $CONFIG{VIDEODIR}   = &quot;/video&quot;;
+ $CONFIG{VDRCONFDIR} = &quot;$CONFIG{VIDEODIR}&quot;;
+-$CONFIG{EPGIMAGES}  = &quot;$CONFIG{VIDEODIR}/epgimages&quot;;
++$CONFIG{EPGIMAGES}  = &quot;/usr/share/vdradmin/epgimages&quot;;
+ $CONFIG{VDRVFAT}    = 1;
+ 
+ #
+@@ -191,9 +191,9 @@
+ 
+ #
+ $CONFIG{AT_SENDMAIL}    = 0;                       # set to 1 and set all the &quot;MAIL_&quot; things if you want email notification on new autotimers.
+-$CONFIG{MAIL_FROM}      = &quot;from\@address.tld&quot;;
++chomp($CONFIG{MAIL_FROM} = 'vdradmin@' . (`hostname -f 2&gt;/dev/null` || &quot;localhost.localdomain&quot;));
+ $CONFIG{MAIL_TO}        = &quot;your\@email.address&quot;;
+-$CONFIG{MAIL_SERVER}    = &quot;your.email.server&quot;;
++$CONFIG{MAIL_SERVER}    = &quot;localhost&quot;;
+ $CONFIG{MAIL_AUTH_USER} = &quot;&quot;;
+ $CONFIG{MAIL_AUTH_PASS} = &quot;&quot;;
+ 
+@@ -251,10 +251,10 @@
+     $USER_CSS      = &quot;${BASENAME}user.css&quot;;
+     bindtextdomain(&quot;vdradmin&quot;, &quot;${BASENAME}locale&quot;);
+ } else {
+-    $ETCDIR        = &quot;/etc/vdradmin&quot;;
++    $ETCDIR        = &quot;/var/lib/vdradmin&quot;;
+     $TEMPLATEDIR   = &quot;/usr/share/vdradmin/template&quot;;
+     $LOGFILE       = &quot;/var/log/$CONFIG{LOGFILE}&quot;;
+-    $PIDFILE       = &quot;/var/run/vdradmind.pid&quot;;
++    $PIDFILE       = &quot;/var/run/vdradmin/vdradmind.pid&quot;;
+     $CONFFILE      = &quot;${ETCDIR}/vdradmind.conf&quot;;
+     $AT_FILENAME   = &quot;${ETCDIR}/vdradmind.at&quot;;
+     $DONE_FILENAME = &quot;${ETCDIR}/vdradmind.done&quot;;
+@@ -288,7 +288,7 @@
+     EVAL_PERL    =&gt; 1,               # evaluate Perl code blocks
+     CACHE_SIZE   =&gt; 10000,           # Tuning for Templates
+     COMPILE_EXT  =&gt; 'cache',         # Tuning for Templates
+-    COMPILE_DIR  =&gt; '/tmp',          # Tuning for Templates
++    COMPILE_DIR  =&gt; '/var/cache/vdradmin', # Tuning for Templates
+     VARIABLES    =&gt; $Xtemplate_vars,
+ 
+     #DEBUG        =&gt; DEBUG_ALL,

Added: branches/rpms/brian/vdradmin-am/vdradmin-am-httpd.conf
===================================================================
--- branches/rpms/brian/vdradmin-am/vdradmin-am-httpd.conf	                        (rev 0)
+++ branches/rpms/brian/vdradmin-am/vdradmin-am-httpd.conf	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,20 @@
+#                                                                -*- apache -*-
+# vdradmin - WWW interface for the Video Disk Recorder (VDR)
+#
+# This is an optional config file for proxying vdradmin with Apache.
+# Copy to /etc/httpd/conf.d to do that.
+#
+# Note: with SELinux in enforcing mode, the httpd_can_network_connect
+# SELinux boolean must be on, otherwise httpd won't be able to connect to
+# the proxied port below.  See the setsebool(8) manual page or use the
+# &quot;Allow HTTPD to connect to the network&quot; option in the
+# system-config-securitylevel UI.
+#
+
+&lt;IfModule mod_proxy.c&gt;
+  ProxyPass /vdradmin/ <A HREF="http://127.0.0.1:8001/">http://127.0.0.1:8001/</A>
+  ProxyPassReverse /vdradmin/ <A HREF="http://127.0.0.1:8001/">http://127.0.0.1:8001/</A>
+  &lt;Location /vdradmin/&gt;
+    AddDefaultCharset Off
+  &lt;/Location&gt;
+&lt;/IfModule&gt;

Added: branches/rpms/brian/vdradmin-am/vdradmin-am.init
===================================================================
--- branches/rpms/brian/vdradmin-am/vdradmin-am.init	                        (rev 0)
+++ branches/rpms/brian/vdradmin-am/vdradmin-am.init	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,67 @@
+#!/bin/sh
+#
+# vdradmind    WWW interface daemon for VDR
+#
+# chkconfig:   - 92 08
+# description: WWW interface daemon for VDR.
+# processname: vdradmind
+# config:      /etc/vdr/vdradmind.conf
+# pidfile:     /var/run/vdr/vdradmind.pid
+
+# Source function library.
+. /etc/rc.d/init.d/functions
+
+# Source networking configuration.
+. /etc/sysconfig/network
+
+# Check that networking is up.
+[ &quot;$NETWORKING&quot; = &quot;no&quot; ] &amp;&amp; exit 0
+
+exec=&quot;/usr/sbin/vdradmind&quot;
+prog=$(basename $exec)
+
+lockfile=/var/lock/subsys/$prog
+
+start() {
+    echo -n $&quot;Starting $prog: &quot;
+    daemon --user vdradmin &quot;$exec &gt;/dev/null 2&gt;&amp;1&quot;
+    retval=$?
+    echo
+    [ $retval -eq 0 ] &amp;&amp; touch $lockfile
+    return $retval
+}
+
+stop() {
+    echo -n $&quot;Stopping $prog: &quot;
+    killproc $prog
+    retval=$?
+    echo
+    [ $retval -eq 0 ] &amp;&amp; rm -f $lockfile
+    return $retval
+}
+
+restart() {
+    stop
+    start
+}
+
+case &quot;$1&quot; in
+    start|stop|restart|reload)
+        $1
+        ;;
+    force-reload)
+        restart
+        ;;
+    reload)
+        exit 3 # LSB: not implemented
+        ;;
+    status)
+        status $prog
+        ;;
+    condrestart|try-restart)
+  	[ ! -f $lockfile ] || restart
+	;;
+    *)
+        echo $&quot;Usage: $0 {start|stop|status|restart|try-restart|force-reload}&quot;
+        exit 2
+esac

Added: branches/rpms/brian/vdradmin-am/vdradmin-am.rwtab
===================================================================
--- branches/rpms/brian/vdradmin-am/vdradmin-am.rwtab	                        (rev 0)
+++ branches/rpms/brian/vdradmin-am/vdradmin-am.rwtab	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,2 @@
+empty	/var/cache/vdradmin
+files	/var/lib/vdradmin

Added: branches/rpms/brian/vdradmin-am/vdradmin-am.spec
===================================================================
--- branches/rpms/brian/vdradmin-am/vdradmin-am.spec	                        (rev 0)
+++ branches/rpms/brian/vdradmin-am/vdradmin-am.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,172 @@
+%define cachedir  %(vdr-config --cachedir  2&gt;/dev/null || echo ERROR)
+%define configdir %(vdr-config --configdir 2&gt;/dev/null || echo ERROR)
+%define videodir  %(vdr-config --videodir  2&gt;/dev/null || echo ERROR)
+
+Name:           vdradmin-am
+Version:        3.5.3
+Release:        1%{?dist}
+Summary:        Web interface for VDR
+
+Group:          Applications/Internet
+License:        GPL
+URL:            <A HREF="http://andreas.vdr-developer.org/en/">http://andreas.vdr-developer.org/en/</A>
+Source0:        <A HREF="http://andreas.vdr-developer.org/download/%{name">http://andreas.vdr-developer.org/download/%{name</A>}-%{version}.tar.bz2
+Source1:        %{name}.init
+Source2:        %{name}-httpd.conf
+Source3:        %{name}.rwtab
+Patch0:         %{name}-3.4.5a-proctitle.patch
+Patch1:         %{name}-3.5.3-config.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildArch:      noarch
+BuildRequires:  vdr-devel &gt;= 1.3.27-0.4
+BuildRequires:  gettext
+BuildRequires:  perl(Locale::gettext)
+Requires:       perl(Locale::gettext)
+Requires(pre):  %{_sbindir}/groupadd
+Requires(pre):  %{_sbindir}/useradd
+
+%description
+VDRAdmin-AM is a web interface for managing VDR.  You will need access
+to a local or remote VDR install to use this package.
+
+
+%prep
+%setup -q
+%patch0
+%patch1
+%{__perl} -pi -e \
+  's|&quot;/video&quot;|&quot;%{videodir}&quot;| ;
+   s|^(\$CONFIG\{VDRCONFDIR\}\s*=\s*&quot;)[^&quot;]*(.*)|$1%{configdir}$2| ;
+   s|\$CONFIG\{VIDEODIR\}/epg\.data|%{cachedir}/epg.data| ;
+   s|-s \$AT_FILENAME |-f \$AT_FILENAME|' \
+  vdradmind.pl
+%{__perl} -pi -e \
+  's/vdradmind\.pl/vdradmind/g ; s/(TH vdradmin )1/${1}8/' vdradmind.pl.1
+for f in CREDITS HISTORY ; do
+  iconv -f iso-8859-1 -t utf-8 $f &gt; $f.utf-8 ; mv $f.utf-8 $f
+done
+install -pm 644 %{SOURCE2} .
+
+
+%build
+%{__perl} -pe \
+  's|^\s*\$CONFFILE\s*=.*|\$CONFFILE = &quot;vdradmind.conf&quot;;| ;
+   s|^.*COMPILE_DIR.*$|| ;
+   s|/usr/share/vdradmin/template|./template|' \
+  vdradmind.pl &gt; vdradmind.tmp
+%{__perl} ./vdradmind.tmp --config &lt; /dev/null
+./make.sh utf8add
+./make.sh po
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -Dpm 755 vdradmind.pl $RPM_BUILD_ROOT%{_sbindir}/vdradmind
+install -Dpm 644 vdradmind.pl.1 $RPM_BUILD_ROOT%{_mandir}/man8/vdradmind.8
+install -dm 755 $RPM_BUILD_ROOT/usr/share/vdradmin/epgimages
+cp -pR template $RPM_BUILD_ROOT/usr/share/vdradmin
+install -dm 755 $RPM_BUILD_ROOT%{_datadir}/locale
+cp -pR locale/* $RPM_BUILD_ROOT%{_datadir}/locale
+install -Dpm 640 vdradmind.conf $RPM_BUILD_ROOT/var/lib/vdradmin/vdradmind.conf
+install -dm 755 $RPM_BUILD_ROOT/var/{cache,log,run}/vdradmin
+install -Dpm 755 %{SOURCE1} $RPM_BUILD_ROOT%{_initrddir}/vdradmind
+chmod 755 $RPM_BUILD_ROOT%{_initrddir}/vdradmind
+install -Dpm 644 %{SOURCE3} $RPM_BUILD_ROOT%{_sysconfdir}/rwtab.d/%{name}
+%find_lang vdradmin
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%pre
+%{_sbindir}/groupadd -r vdradmin 2&gt;/dev/null || :
+%{_sbindir}/useradd -c &quot;VDR web interface&quot; -d /var/lib/vdradmin \
+  -g vdradmin -M -n -r -s /sbin/nologin vdradmin 2&gt;/dev/null || :
+
+%post
+/sbin/chkconfig --add vdradmind
+
+%preun
+if [ $1 -eq 0 ] ; then
+    %{_initrddir}/vdradmind stop &gt;/dev/null || :
+    /sbin/chkconfig --del vdradmind
+fi
+
+%postun
+if [ $1 -gt 0 ] ; then
+    rm -rf /var/cache/vdradmin/*
+    %{_initrddir}/vdradmind try-restart &gt;/dev/null || :
+fi
+
+
+%files -f vdradmin.lang
+%defattr(-,root,root,-)
+%doc COPYING CREDITS FAQ HISTORY INSTALL README* contrib/*example convert.pl
+%doc %{name}-httpd.conf autotimer2searchtimer.pl
+%config(noreplace) %{_sysconfdir}/rwtab.d/%{name}
+%{_initrddir}/vdradmind
+%{_sbindir}/vdradmind
+/usr/share/vdradmin/
+%{_mandir}/man8/vdradmind.8*
+%defattr(-,vdradmin,vdradmin,-)
+%dir /var/cache/vdradmin/
+%dir /var/lib/vdradmin/
+%config(noreplace) /var/lib/vdradmin/vdradmind.conf
+/var/log/vdradmin/
+%dir /var/run/vdradmin/
+
+
+%changelog
+* Thu Jan 25 2007 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.5.3-1
+- 3.5.3.
+- Install UTF-8 locales too.
+- Fix default path to EPG images.
+
+* Fri Dec  8 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.5.2-1
+- 3.5.2.
+
+* Sat Dec  2 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.5.1-1
+- 3.5.1.
+- Add read only root/temporary state config.
+
+* Fri Nov 10 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.5.0-1
+- 3.5.0, patch to retain autotimer functionality by default on upgrades.
+
+* Wed Oct 25 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.4.7-3
+- Improve description (#211043).
+
+* Tue Oct 17 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.4.7-2
+- Move compiled templates to /var/cache/vdradmin, clean them up on upgrades.
+- Drop no longer needed Obsoletes and Provides.
+- Prune pre-3.4.4 changelog entries.
+
+* Sat Sep 30 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.4.7-1
+- 3.4.7.
+- Install optional Apache proxy snippet as doc, not in-place.
+
+* Tue Sep 26 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.4.6-3
+- Redirect stdin and stdout to /dev/null in the init script.
+
+* Sun Jul 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.4.6-2
+- Improve default config, enable VFAT compatiblity by default.
+
+* Fri Jul 14 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.4.6-1
+- 3.4.6.
+- Clean up no longer relevant upgrade compat from %%post.
+
+* Thu May 18 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.4.5a-1
+- 3.4.5a.
+
+* Fri Apr  7 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.4.4-1
+- 3.4.4.
+
+* Thu Mar 30 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.4.4-0.1.rc
+- 3.4.4rc.
+
+* Mon Mar 27 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.4.4-0.1.beta2
+- 3.4.4beta2.
+
+* Wed Mar  8 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 3.4.4-0.1.beta
+- 3.4.4beta.

Added: branches/rpms/brian/vdrsync/vdrsync-recpath.patch
===================================================================
--- branches/rpms/brian/vdrsync/vdrsync-recpath.patch	                        (rev 0)
+++ branches/rpms/brian/vdrsync/vdrsync-recpath.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,21 @@
+--- vdrsync.pl~	2005-03-22 21:45:40.000000000 +0200
++++ vdrsync.pl	2005-09-20 17:34:55.000000000 +0300
+@@ -5561,13 +5561,13 @@
+     closedir $DIR;
+ 	my @files =   sort (grep { /\d{3}.vdr$/  } @allfiles);
+ 
+-	$self-&gt;{summary_file} = $indir . &quot;summary.vdr&quot; if (-e &quot;$indir/summary.vdr&quot;);
+-	$self-&gt;{marks_file} = $indir . &quot;marks.vdr&quot; if (-e &quot;$indir/marks.vdr&quot;);
+-	$self-&gt;{index_file} = $indir . &quot;index.vdr&quot; if (-e &quot;$indir/index.vdr&quot;);
+-	$self-&gt;{chapter_marks_file} = $indir . &quot;chapter_marks.vdr&quot; if (-e &quot;$indir/chapter_marks.vdr&quot;);
++	$self-&gt;{summary_file} = &quot;$indir/summary.vdr&quot; if (-e &quot;$indir/summary.vdr&quot;);
++	$self-&gt;{marks_file} = &quot;$indir/marks.vdr&quot; if (-e &quot;$indir/marks.vdr&quot;);
++	$self-&gt;{index_file} = &quot;$indir/index.vdr&quot; if (-e &quot;$indir/index.vdr&quot;);
++	$self-&gt;{chapter_marks_file} = &quot;$indir/chapter_marks.vdr&quot; if (-e &quot;$indir/chapter_marks.vdr&quot;);
+     
+ 	foreach (@files) {
+-		$_ = $indir . $_;
++		$_ = &quot;$indir/$_&quot;;
+ 		#print &quot;trying to open $_\n&quot;;
+ 		my $DUMMYFH;
+ 		open $DUMMYFH, &quot;$_&quot; or die &quot;Can not open $_: $!\n&quot;;

Added: branches/rpms/brian/vdrsync/vdrsync.spec
===================================================================
--- branches/rpms/brian/vdrsync/vdrsync.spec	                        (rev 0)
+++ branches/rpms/brian/vdrsync/vdrsync.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,102 @@
+Name:           vdrsync
+Version:        0.1.3
+Release:        6.PRE1.050322%{?dist}
+Summary:        Recording demultiplexer for VDR
+
+Group:          Applications/Multimedia
+License:        GPL
+URL:            <A HREF="http://vdrsync.vdr-portal.de/">http://vdrsync.vdr-portal.de/</A>
+Source0:        <A HREF="http://vdrsync.vdr-portal.de/releases/%{name">http://vdrsync.vdr-portal.de/releases/%{name</A>}-%{version}PRE1.tgz
+Source1:        <A HREF="http://vdrsync.vdr-portal.de/releases/%{name">http://vdrsync.vdr-portal.de/releases/%{name</A>}-050322.tgz
+Patch0:         %{name}-recpath.patch
+BuildRoot:      %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildArch:      noarch
+Requires:       bitstream-vera-fonts
+Requires:       dvdauthor
+Requires:       ffmpeg
+Requires:       m2vrequantiser
+Requires:       mjpegtools
+Requires:       mkisofs
+
+%description
+vdrsync is a script that demultiplexes VDR recordings and tries to
+synchronize the video and audio streams by addition or deletion of
+audio data. It can also start some other tools at the end of a run to
+generate a video DVD Directory structure that can be burned on a DVD.
+
+
+%prep
+%setup -q -n %{name}-%{version}PRE1 -a1
+mv vdrsync-050322/*.pl vdrsync-050322/CHANGES . ; rm -rf  vdrsync-050322
+%patch0
+for f in README.dvd-menu MANUAL-DE ; do
+  iconv -f iso-8859-1 -t utf-8 $f &gt; $f.utf-8 ; mv $f.utf-8 $f
+done
+rename .pl &quot;&quot; *.pl
+%{__perl} -pi -e 's/(vdrsync(_buffer)?|dvd-menu)\.pl/$1/g' *
+%{__perl} -pi -e 's|vdrsync_buffer|%{_datadir}/vdrsync/vdrsync_buffer|' \
+  vdrsync
+%{__perl} -pi -e 's|/usr/X11R6/lib/X11/fonts/truetype/arial.ttf|%{_datadir}/fonts/bitstream-vera/Vera.ttf| ; s/arial.ttf/Vera.ttf/' *dvd-menu*
+
+
+%build
+
+
+%install
+rm -rf $RPM_BUILD_ROOT
+install -dm 755 $RPM_BUILD_ROOT%{_bindir}
+install -pm 755 vdrsync dvd-menu $RPM_BUILD_ROOT%{_bindir}
+install -Dpm 755 vdrsync_buffer \
+  $RPM_BUILD_ROOT%{_datadir}/vdrsync/vdrsync_buffer
+
+
+%clean
+rm -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%doc BUGS CHANGES COPYING MANUAL README* TODO
+%lang(de) %doc MANUAL-DE
+%{_bindir}/vdrsync
+%{_bindir}/dvd-menu
+%{_datadir}/vdrsync/
+
+
+%changelog
+* Fri Oct 27 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.3-6.PRE1.050322
+- Use m2vrequantiser instead of transcode.
+
+* Fri Oct 06 2006 Thorsten Leemhuis &lt;fedora [AT] leemhuis [DOT] info&gt; 0.1.3-5
+ - rebuilt for unwind info generation, broken in gcc-4.1.1-21
+
+* Sat Sep 23 2006 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.3-4.PRE1.050322
+- Rebuild.
+
+* Sat Mar 18 2006 Thorsten Leemhuis &lt;fedora at leemhuis.info&gt; - 0.1.3-3.PRE1.050322
+- drop 1.lvn from release
+
+* Tue Feb 28 2006 Andreas Bierfert &lt;andreas.bierfert[AT]lowlatency.de&gt;
+- add dist
+
+* Tue Nov  1 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.3-1.lvn.3.PRE1.050322
+- Fix missing dir separator in recording paths.
+
+* Sun Aug 28 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.3-1.lvn.2.PRE1.050322
+- 050322 snapshot, cleanup patch applied upstream.
+
+* Fri Aug 12 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.3-1.lvn.1.PRE1
+- Convert docs to UTF-8.
+
+* Sat Jun 18 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.3-0.2.PRE1
+- Rebuild for FC4.
+
+* Mon Jan 31 2005 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.3-0.1.PRE1
+- Update to 0.1.3PRE1.
+
+* Sun Dec 26 2004 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0.1.2.2-0.2
+- Remove unnecessary Epochs.
+
+* Sun Nov 21 2004 Ville Skytt&#195;&#164; &lt;ville.skytta at iki.fi&gt; - 0:0.1.2.2-0.scop.1
+- First build.

Added: branches/rpms/brian/xine/xine-ui.patch
===================================================================
--- branches/rpms/brian/xine/xine-ui.patch	                        (rev 0)
+++ branches/rpms/brian/xine/xine-ui.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,369 @@
+Index: xine-ui/src/fb/actions.c
+===================================================================
+RCS file: /cvsroot/xine/xine-ui/src/fb/actions.c,v
+retrieving revision 1.11
+diff -u -r1.11 actions.c
+--- xine-ui/src/fb/actions.c	6 Jul 2006 17:49:48 -0000	1.11
++++ xine-ui/src/fb/actions.c	10 Dec 2006 19:07:49 -0000
+@@ -228,7 +228,7 @@
+ 	  &quot;VDRButtonYellow&quot;,        ACTID_EVENT_VDR_YELLOW },
+ 	{ &quot;VDR Blue button&quot;,
+ 	  &quot;VDRButtonBlue&quot;,          ACTID_EVENT_VDR_BLUE },
+-	{ &quot;VDR play&quot;,
++	{ &quot;VDR Play&quot;,
+ 	  &quot;VDRPlay&quot;,                ACTID_EVENT_VDR_PLAY },
+ 	{ &quot;VDR Pause&quot;,
+ 	  &quot;VDRPause&quot;,               ACTID_EVENT_VDR_PAUSE },
+@@ -236,17 +236,17 @@
+ 	  &quot;VDRStop&quot;,                ACTID_EVENT_VDR_STOP },
+ 	{ &quot;VDR Record&quot;,
+ 	  &quot;VDRRecord&quot;,              ACTID_EVENT_VDR_RECORD },
+-	{ &quot;VDR Fast Forward&quot;,
++	{ &quot;VDR Fast forward&quot;,
+ 	  &quot;VDRFastFwd&quot;,             ACTID_EVENT_VDR_FASTFWD },
+-	{ &quot;VDR Fast Rewind&quot;,
++	{ &quot;VDR Fast rewind&quot;,
+ 	  &quot;VDRFastRew&quot;,             ACTID_EVENT_VDR_FASTREW },
+-	{ &quot;VDR power&quot;,
++	{ &quot;VDR Power&quot;,
+ 	  &quot;VDRPower&quot;,               ACTID_EVENT_VDR_POWER },
+-	{ &quot;VDR next channel&quot;,
++	{ &quot;VDR Channel +&quot;,
+ 	  &quot;VDRChannelPlus&quot;,         ACTID_EVENT_VDR_CHANNELPLUS },
+-	{ &quot;VDR previous channel&quot;,
++	{ &quot;VDR Channel -&quot;,
+ 	  &quot;VDRChannelMinus&quot;,        ACTID_EVENT_VDR_CHANNELMINUS },
+-	{ &quot;VDR schedule menu&quot;,
++	{ &quot;VDR Schedule menu&quot;,
+ 	  &quot;VDRSchedule&quot;,            ACTID_EVENT_VDR_SCHEDULE },
+ 	{ &quot;VDR Channel menu&quot;,
+ 	  &quot;VDRChannels&quot;,            ACTID_EVENT_VDR_CHANNELS },
+@@ -258,7 +258,7 @@
+ 	  &quot;VDRSetup&quot;,               ACTID_EVENT_VDR_SETUP },   
+ 	{ &quot;VDR Command menu&quot;,
+ 	  &quot;VDRCommands&quot;,            ACTID_EVENT_VDR_COMMANDS },
+-	{ &quot;VDR Command Back&quot;,
++	{ &quot;VDR Command back&quot;,
+ 	  &quot;VDRBack&quot;,                ACTID_EVENT_VDR_BACK },    
+ 	{ &quot;VDR User command 1&quot;,
+ 	  &quot;VDRUser1&quot;,               ACTID_EVENT_VDR_USER1 },   
+@@ -278,16 +278,18 @@
+ 	  &quot;VDRUser8&quot;,               ACTID_EVENT_VDR_USER8 },   
+ 	{ &quot;VDR User command 9&quot;,
+ 	  &quot;VDRUser9&quot;,               ACTID_EVENT_VDR_USER9 },   
+-	{ &quot;VDR Volume plus&quot;,
++	{ &quot;VDR Volume +&quot;,
+ 	  &quot;VDRVolumePlus&quot;,          ACTID_EVENT_VDR_VOLPLUS }, 
+-	{ &quot;VDR Volume minus&quot;,
++	{ &quot;VDR Volume -&quot;,
+ 	  &quot;VDRVolumeMinus&quot;,         ACTID_EVENT_VDR_VOLMINUS },
+-	{ &quot;VDR Audio Mute&quot;,
++	{ &quot;VDR Mute audio&quot;,
+ 	  &quot;VDRMute&quot;,                ACTID_EVENT_VDR_MUTE },
+ 	{ &quot;VDR Audio menu&quot;,
+ 	  &quot;VDRAudio&quot;,               ACTID_EVENT_VDR_AUDIO },
+ 	{ &quot;VDR Command info&quot;,
+ 	  &quot;VDRInfo&quot;,                ACTID_EVENT_VDR_INFO },
++	{ &quot;VDR Previous channel&quot;,
++	  &quot;VDRChannelPrevious&quot;,     ACTID_EVENT_VDR_CHANNELPREVIOUS },
+ #endif
+ 	{ 0,
+ 		  0, 0 }
+Index: xine-ui/src/fb/actions.h
+===================================================================
+RCS file: /cvsroot/xine/xine-ui/src/fb/actions.h,v
+retrieving revision 1.6
+diff -u -r1.6 actions.h
+--- xine-ui/src/fb/actions.h	30 Jan 2006 21:28:01 -0000	1.6
++++ xine-ui/src/fb/actions.h	10 Dec 2006 19:07:49 -0000
+@@ -157,40 +157,41 @@
+   ACTID_EVENT_NUMBER_10_ADD = XINE_EVENT_INPUT_NUMBER_10_ADD  | ACTID_IS_INPUT_EVENT
+ #ifdef ENABLE_VDR_KEYS
+ ,
+-  ACTID_EVENT_VDR_RED           = XINE_EVENT_VDR_RED              | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_GREEN         = XINE_EVENT_VDR_GREEN            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_YELLOW        = XINE_EVENT_VDR_YELLOW           | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_BLUE          = XINE_EVENT_VDR_BLUE             | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_PLAY          = XINE_EVENT_VDR_PLAY             | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_PAUSE         = XINE_EVENT_VDR_PAUSE            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_STOP          = XINE_EVENT_VDR_STOP             | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_RECORD        = XINE_EVENT_VDR_RECORD           | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_FASTFWD       = XINE_EVENT_VDR_FASTFWD          | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_FASTREW       = XINE_EVENT_VDR_FASTREW          | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_POWER         = XINE_EVENT_VDR_POWER            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_CHANNELPLUS   = XINE_EVENT_VDR_CHANNELPLUS      | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_CHANNELMINUS  = XINE_EVENT_VDR_CHANNELMINUS     | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_SCHEDULE      = XINE_EVENT_VDR_SCHEDULE         | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_CHANNELS      = XINE_EVENT_VDR_CHANNELS         | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_TIMERS        = XINE_EVENT_VDR_TIMERS           | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_RECORDINGS    = XINE_EVENT_VDR_RECORDINGS       | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_SETUP         = XINE_EVENT_VDR_SETUP            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_COMMANDS      = XINE_EVENT_VDR_COMMANDS         | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_BACK          = XINE_EVENT_VDR_BACK             | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER1         = XINE_EVENT_VDR_USER1            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER2         = XINE_EVENT_VDR_USER2            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER3         = XINE_EVENT_VDR_USER3            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER4         = XINE_EVENT_VDR_USER4            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER5         = XINE_EVENT_VDR_USER5            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER6         = XINE_EVENT_VDR_USER6            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER7         = XINE_EVENT_VDR_USER7            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER8         = XINE_EVENT_VDR_USER8            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER9         = XINE_EVENT_VDR_USER9            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_VOLPLUS       = XINE_EVENT_VDR_VOLPLUS          | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_VOLMINUS      = XINE_EVENT_VDR_VOLMINUS         | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_MUTE          = XINE_EVENT_VDR_MUTE             | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_AUDIO         = XINE_EVENT_VDR_AUDIO            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_INFO          = XINE_EVENT_VDR_INFO             | ACTID_IS_INPUT_EVENT
++  ACTID_EVENT_VDR_RED              = XINE_EVENT_VDR_RED              | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_GREEN            = XINE_EVENT_VDR_GREEN            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_YELLOW           = XINE_EVENT_VDR_YELLOW           | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_BLUE             = XINE_EVENT_VDR_BLUE             | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_PLAY             = XINE_EVENT_VDR_PLAY             | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_PAUSE            = XINE_EVENT_VDR_PAUSE            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_STOP             = XINE_EVENT_VDR_STOP             | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_RECORD           = XINE_EVENT_VDR_RECORD           | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_FASTFWD          = XINE_EVENT_VDR_FASTFWD          | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_FASTREW          = XINE_EVENT_VDR_FASTREW          | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_POWER            = XINE_EVENT_VDR_POWER            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_CHANNELPLUS      = XINE_EVENT_VDR_CHANNELPLUS      | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_CHANNELMINUS     = XINE_EVENT_VDR_CHANNELMINUS     | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_SCHEDULE         = XINE_EVENT_VDR_SCHEDULE         | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_CHANNELS         = XINE_EVENT_VDR_CHANNELS         | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_TIMERS           = XINE_EVENT_VDR_TIMERS           | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_RECORDINGS       = XINE_EVENT_VDR_RECORDINGS       | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_SETUP            = XINE_EVENT_VDR_SETUP            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_COMMANDS         = XINE_EVENT_VDR_COMMANDS         | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_BACK             = XINE_EVENT_VDR_BACK             | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER1            = XINE_EVENT_VDR_USER1            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER2            = XINE_EVENT_VDR_USER2            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER3            = XINE_EVENT_VDR_USER3            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER4            = XINE_EVENT_VDR_USER4            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER5            = XINE_EVENT_VDR_USER5            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER6            = XINE_EVENT_VDR_USER6            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER7            = XINE_EVENT_VDR_USER7            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER8            = XINE_EVENT_VDR_USER8            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER9            = XINE_EVENT_VDR_USER9            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_VOLPLUS          = XINE_EVENT_VDR_VOLPLUS          | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_VOLMINUS         = XINE_EVENT_VDR_VOLMINUS         | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_MUTE             = XINE_EVENT_VDR_MUTE             | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_AUDIO            = XINE_EVENT_VDR_AUDIO            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_INFO             = XINE_EVENT_VDR_INFO             | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_CHANNELPREVIOUS  = XINE_EVENT_VDR_CHANNELPREVIOUS  | ACTID_IS_INPUT_EVENT
+ #endif
+ 
+   /*
+Index: xine-ui/src/xitk/kbindings.c
+===================================================================
+RCS file: /cvsroot/xine/xine-ui/src/xitk/kbindings.c,v
+retrieving revision 1.132
+diff -u -r1.132 kbindings.c
+--- xine-ui/src/xitk/kbindings.c	15 Jul 2006 22:18:36 -0000	1.132
++++ xine-ui/src/xitk/kbindings.c	10 Dec 2006 19:07:49 -0000
+@@ -448,76 +448,78 @@
+     &quot;Quit&quot;,                   ACTID_QUIT                    , &quot;q&quot;,        KEYMOD_NOMOD   , 0 , 0},
+ #ifdef ENABLE_VDR_KEYS
+   { &quot;VDR Red button&quot;,
+-    &quot;VDRButtonRed&quot;,           ACTID_EVENT_VDR_RED           , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRButtonRed&quot;,           ACTID_EVENT_VDR_RED            , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR Green button&quot;,
+-    &quot;VDRButtonGreen&quot;,         ACTID_EVENT_VDR_GREEN         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRButtonGreen&quot;,         ACTID_EVENT_VDR_GREEN          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR Yellow button&quot;,
+-    &quot;VDRButtonYellow&quot;,        ACTID_EVENT_VDR_YELLOW        , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRButtonYellow&quot;,        ACTID_EVENT_VDR_YELLOW         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR Blue button&quot;,
+-    &quot;VDRButtonBlue&quot;,          ACTID_EVENT_VDR_BLUE          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+-  { &quot;VDR play&quot;,
+-    &quot;VDRPlay&quot;,                ACTID_EVENT_VDR_PLAY          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRButtonBlue&quot;,          ACTID_EVENT_VDR_BLUE           , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++  { &quot;VDR Play&quot;,
++    &quot;VDRPlay&quot;,                ACTID_EVENT_VDR_PLAY           , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR Pause&quot;,
+-    &quot;VDRPause&quot;,               ACTID_EVENT_VDR_PAUSE         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRPause&quot;,               ACTID_EVENT_VDR_PAUSE          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR Stop&quot;,
+-    &quot;VDRStop&quot;,                ACTID_EVENT_VDR_STOP          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRStop&quot;,                ACTID_EVENT_VDR_STOP           , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR Record&quot;,
+-    &quot;VDRRecord&quot;,              ACTID_EVENT_VDR_RECORD        , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+-  { &quot;VDR Fast Forward&quot;,
+-    &quot;VDRFastFwd&quot;,             ACTID_EVENT_VDR_FASTFWD       , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+-  { &quot;VDR Fast Rewind&quot;,
+-    &quot;VDRFastRew&quot;,             ACTID_EVENT_VDR_FASTREW       , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+-  { &quot;VDR power&quot;,
+-    &quot;VDRPower&quot;,               ACTID_EVENT_VDR_POWER         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+-  { &quot;VDR next channel&quot;,
+-    &quot;VDRChannelPlus&quot;,         ACTID_EVENT_VDR_CHANNELPLUS   , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+-  { &quot;VDR previous channel&quot;,
+-    &quot;VDRChannelMinus&quot;,        ACTID_EVENT_VDR_CHANNELMINUS  , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+-  { &quot;VDR schedule menu&quot;,
+-    &quot;VDRSchedule&quot;,            ACTID_EVENT_VDR_SCHEDULE      , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRRecord&quot;,              ACTID_EVENT_VDR_RECORD         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++  { &quot;VDR Fast forward&quot;,
++    &quot;VDRFastFwd&quot;,             ACTID_EVENT_VDR_FASTFWD        , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++  { &quot;VDR Fast rewind&quot;,
++    &quot;VDRFastRew&quot;,             ACTID_EVENT_VDR_FASTREW        , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++  { &quot;VDR Power&quot;,
++    &quot;VDRPower&quot;,               ACTID_EVENT_VDR_POWER          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++  { &quot;VDR Channel +&quot;,
++    &quot;VDRChannelPlus&quot;,         ACTID_EVENT_VDR_CHANNELPLUS    , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++  { &quot;VDR Channel -&quot;,
++    &quot;VDRChannelMinus&quot;,        ACTID_EVENT_VDR_CHANNELMINUS   , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++  { &quot;VDR Schedule menu&quot;,
++    &quot;VDRSchedule&quot;,            ACTID_EVENT_VDR_SCHEDULE       , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR Channel menu&quot;,
+-    &quot;VDRChannels&quot;,            ACTID_EVENT_VDR_CHANNELS      , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRChannels&quot;,            ACTID_EVENT_VDR_CHANNELS       , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR Timers menu&quot;,
+-    &quot;VDRTimers&quot;,              ACTID_EVENT_VDR_TIMERS        , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRTimers&quot;,              ACTID_EVENT_VDR_TIMERS         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR Recordings menu&quot;,
+-    &quot;VDRRecordings&quot;,          ACTID_EVENT_VDR_RECORDINGS    , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRRecordings&quot;,          ACTID_EVENT_VDR_RECORDINGS     , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR Setup menu&quot;,
+-    &quot;VDRSetup&quot;,               ACTID_EVENT_VDR_SETUP         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRSetup&quot;,               ACTID_EVENT_VDR_SETUP          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR Command menu&quot;,
+-    &quot;VDRCommands&quot;,            ACTID_EVENT_VDR_COMMANDS      , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+-  { &quot;VDR Command Back&quot;,
+-    &quot;VDRBack&quot;,                ACTID_EVENT_VDR_BACK          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRCommands&quot;,            ACTID_EVENT_VDR_COMMANDS       , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++  { &quot;VDR Command back&quot;,
++    &quot;VDRBack&quot;,                ACTID_EVENT_VDR_BACK           , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR User command 1&quot;,
+-    &quot;VDRUser1&quot;,               ACTID_EVENT_VDR_USER1         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRUser1&quot;,               ACTID_EVENT_VDR_USER1          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR User command 2&quot;,
+-    &quot;VDRUser2&quot;,               ACTID_EVENT_VDR_USER2         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRUser2&quot;,               ACTID_EVENT_VDR_USER2          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR User command 3&quot;,
+-    &quot;VDRUser3&quot;,               ACTID_EVENT_VDR_USER3         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRUser3&quot;,               ACTID_EVENT_VDR_USER3          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR User command 4&quot;,
+-    &quot;VDRUser4&quot;,               ACTID_EVENT_VDR_USER4         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRUser4&quot;,               ACTID_EVENT_VDR_USER4          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR User command 5&quot;,
+-    &quot;VDRUser5&quot;,               ACTID_EVENT_VDR_USER5         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRUser5&quot;,               ACTID_EVENT_VDR_USER5          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR User command 6&quot;,
+-    &quot;VDRUser6&quot;,               ACTID_EVENT_VDR_USER6         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRUser6&quot;,               ACTID_EVENT_VDR_USER6          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR User command 7&quot;,
+-    &quot;VDRUser7&quot;,               ACTID_EVENT_VDR_USER7         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRUser7&quot;,               ACTID_EVENT_VDR_USER7          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR User command 8&quot;,
+-    &quot;VDRUser8&quot;,               ACTID_EVENT_VDR_USER8         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRUser8&quot;,               ACTID_EVENT_VDR_USER8          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR User command 9&quot;,
+-    &quot;VDRUser9&quot;,               ACTID_EVENT_VDR_USER9         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+-  { &quot;VDR Volume plus&quot;,
+-    &quot;VDRVolumePlus&quot;,          ACTID_EVENT_VDR_VOLPLUS       , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+-  { &quot;VDR Volume minus&quot;,
+-    &quot;VDRVolumeMinus&quot;,         ACTID_EVENT_VDR_VOLMINUS      , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+-  { &quot;VDR Audio Mute&quot;,
+-    &quot;VDRMute&quot;,                ACTID_EVENT_VDR_MUTE          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRUser9&quot;,               ACTID_EVENT_VDR_USER9          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++  { &quot;VDR Volume +&quot;,
++    &quot;VDRVolumePlus&quot;,          ACTID_EVENT_VDR_VOLPLUS        , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++  { &quot;VDR Volume -&quot;,
++    &quot;VDRVolumeMinus&quot;,         ACTID_EVENT_VDR_VOLMINUS       , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++  { &quot;VDR Mute audio&quot;,
++    &quot;VDRMute&quot;,                ACTID_EVENT_VDR_MUTE           , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR Audio menu&quot;,
+-    &quot;VDRAudio&quot;,               ACTID_EVENT_VDR_AUDIO         , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRAudio&quot;,               ACTID_EVENT_VDR_AUDIO          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+   { &quot;VDR Command info&quot;,
+-    &quot;VDRInfo&quot;,                ACTID_EVENT_VDR_INFO          , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++    &quot;VDRInfo&quot;,                ACTID_EVENT_VDR_INFO           , &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
++  { &quot;VDR Previous channel&quot;,
++    &quot;VDRChannelPrevious&quot;,     ACTID_EVENT_VDR_CHANNELPREVIOUS, &quot;VOID&quot;,     KEYMOD_NOMOD   , 0 , 0},
+ #endif
+   { 0,
+-    0,                        0,                              0,          0              , 0 , 0}
++    0,                        0,                               0,          0              , 0 , 0}
+ };
+ 
+ static int _kbinding_get_is_gui_from_default(char *action) {
+Index: xine-ui/src/xitk/kbindings.h
+===================================================================
+RCS file: /cvsroot/xine/xine-ui/src/xitk/kbindings.h,v
+retrieving revision 1.58
+diff -u -r1.58 kbindings.h
+--- xine-ui/src/xitk/kbindings.h	30 Jan 2006 21:28:39 -0000	1.58
++++ xine-ui/src/xitk/kbindings.h	10 Dec 2006 19:07:49 -0000
+@@ -178,40 +178,41 @@
+   ACTID_EVENT_NUMBER_10_ADD = XINE_EVENT_INPUT_NUMBER_10_ADD  | ACTID_IS_INPUT_EVENT
+ #ifdef ENABLE_VDR_KEYS
+ ,
+-  ACTID_EVENT_VDR_RED           = XINE_EVENT_VDR_RED              | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_GREEN         = XINE_EVENT_VDR_GREEN            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_YELLOW        = XINE_EVENT_VDR_YELLOW           | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_BLUE          = XINE_EVENT_VDR_BLUE             | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_PLAY          = XINE_EVENT_VDR_PLAY             | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_PAUSE         = XINE_EVENT_VDR_PAUSE            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_STOP          = XINE_EVENT_VDR_STOP             | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_RECORD        = XINE_EVENT_VDR_RECORD           | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_FASTFWD       = XINE_EVENT_VDR_FASTFWD          | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_FASTREW       = XINE_EVENT_VDR_FASTREW          | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_POWER         = XINE_EVENT_VDR_POWER            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_CHANNELPLUS   = XINE_EVENT_VDR_CHANNELPLUS      | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_CHANNELMINUS  = XINE_EVENT_VDR_CHANNELMINUS     | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_SCHEDULE      = XINE_EVENT_VDR_SCHEDULE         | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_CHANNELS      = XINE_EVENT_VDR_CHANNELS         | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_TIMERS        = XINE_EVENT_VDR_TIMERS           | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_RECORDINGS    = XINE_EVENT_VDR_RECORDINGS       | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_SETUP         = XINE_EVENT_VDR_SETUP            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_COMMANDS      = XINE_EVENT_VDR_COMMANDS         | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_BACK          = XINE_EVENT_VDR_BACK             | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER1         = XINE_EVENT_VDR_USER1            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER2         = XINE_EVENT_VDR_USER2            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER3         = XINE_EVENT_VDR_USER3            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER4         = XINE_EVENT_VDR_USER4            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER5         = XINE_EVENT_VDR_USER5            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER6         = XINE_EVENT_VDR_USER6            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER7         = XINE_EVENT_VDR_USER7            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER8         = XINE_EVENT_VDR_USER8            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_USER9         = XINE_EVENT_VDR_USER9            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_VOLPLUS       = XINE_EVENT_VDR_VOLPLUS          | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_VOLMINUS      = XINE_EVENT_VDR_VOLMINUS         | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_MUTE          = XINE_EVENT_VDR_MUTE             | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_AUDIO         = XINE_EVENT_VDR_AUDIO            | ACTID_IS_INPUT_EVENT,
+-  ACTID_EVENT_VDR_INFO          = XINE_EVENT_VDR_INFO             | ACTID_IS_INPUT_EVENT
++  ACTID_EVENT_VDR_RED              = XINE_EVENT_VDR_RED              | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_GREEN            = XINE_EVENT_VDR_GREEN            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_YELLOW           = XINE_EVENT_VDR_YELLOW           | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_BLUE             = XINE_EVENT_VDR_BLUE             | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_PLAY             = XINE_EVENT_VDR_PLAY             | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_PAUSE            = XINE_EVENT_VDR_PAUSE            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_STOP             = XINE_EVENT_VDR_STOP             | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_RECORD           = XINE_EVENT_VDR_RECORD           | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_FASTFWD          = XINE_EVENT_VDR_FASTFWD          | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_FASTREW          = XINE_EVENT_VDR_FASTREW          | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_POWER            = XINE_EVENT_VDR_POWER            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_CHANNELPLUS      = XINE_EVENT_VDR_CHANNELPLUS      | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_CHANNELMINUS     = XINE_EVENT_VDR_CHANNELMINUS     | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_SCHEDULE         = XINE_EVENT_VDR_SCHEDULE         | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_CHANNELS         = XINE_EVENT_VDR_CHANNELS         | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_TIMERS           = XINE_EVENT_VDR_TIMERS           | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_RECORDINGS       = XINE_EVENT_VDR_RECORDINGS       | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_SETUP            = XINE_EVENT_VDR_SETUP            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_COMMANDS         = XINE_EVENT_VDR_COMMANDS         | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_BACK             = XINE_EVENT_VDR_BACK             | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER1            = XINE_EVENT_VDR_USER1            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER2            = XINE_EVENT_VDR_USER2            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER3            = XINE_EVENT_VDR_USER3            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER4            = XINE_EVENT_VDR_USER4            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER5            = XINE_EVENT_VDR_USER5            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER6            = XINE_EVENT_VDR_USER6            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER7            = XINE_EVENT_VDR_USER7            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER8            = XINE_EVENT_VDR_USER8            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_USER9            = XINE_EVENT_VDR_USER9            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_VOLPLUS          = XINE_EVENT_VDR_VOLPLUS          | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_VOLMINUS         = XINE_EVENT_VDR_VOLMINUS         | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_MUTE             = XINE_EVENT_VDR_MUTE             | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_AUDIO            = XINE_EVENT_VDR_AUDIO            | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_INFO             = XINE_EVENT_VDR_INFO             | ACTID_IS_INPUT_EVENT,
++  ACTID_EVENT_VDR_CHANNELPREVIOUS  = XINE_EVENT_VDR_CHANNELPREVIOUS  | ACTID_IS_INPUT_EVENT
+ #endif
+ 
+   /*

Added: branches/rpms/brian/xine/xine.spec
===================================================================
--- branches/rpms/brian/xine/xine.spec	                        (rev 0)
+++ branches/rpms/brian/xine/xine.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,464 @@
+# $Id: xine.spec 5368 2007-05-04 15:37:39Z thias $
+# Authority: matthias
+
+%{?dist: %{expand: %%define %dist 1}}
+%{?fedora: %{expand: %%define fc%{fedora} 1}}
+
+%{!?dist:%define _with_modxorg 1}
+%{?fc7:  %define _with_modxorg 1}
+%{?el5:  %define _with_modxorg 1}
+%{?fc6:  %define _with_modxorg 1}
+%{?fc5:  %define _with_modxorg 1}
+
+%{?rh7:%define _without_caca 0}
+%{?el2:%define _without_caca 0}
+
+%{?rh7:%define _without_freedesktop 1}
+%{?el2:%define _without_freedesktop 1}
+
+%define desktop_vendor rpmforge
+
+Summary: Free multimedia player
+Name: xine
+Version: 0.99.5.cvs20061209220000
+Release: 1.bs.1
+License: GPL
+Group: Applications/Multimedia
+URL: <A HREF="http://xinehq.de/">http://xinehq.de/</A>
+Packager: Brian Schueler
+Vendor: Matthias Saou
+
+Source0: <A HREF="http://dl.sf.net/xine/xine-ui-%{version">http://dl.sf.net/xine/xine-ui-%{version</A>}.tar.bz2
+Patch0: xine-ui.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+Requires: xine-lib
+BuildRequires: gcc-c++, gettext, libpng-devel &gt;= 1.2.8, xine-lib-devel
+BuildRequires: curl-devel, libidn-devel, libtermcap-devel, readline-devel
+BuildRequires: pkgconfig, /usr/bin/find
+# Required by autogen.sh
+Buildrequires: autoconf, automake, libtool
+# Required to overwrite the ugly icons
+BuildRequires: ImageMagick
+%{!?_without_freedesktop:BuildRequires: desktop-file-utils}
+%{?_with_modxorg:BuildRequires: libXt-devel, libXv-devel, libXinerama-devel, libXtst-devel, libXxf86vm-devel, libXext-devel, libXft-devel}
+%{!?_with_modxorg:BuildRequires: XFree86-devel}
+%{!?_without_caca:BuildRequires: libcaca-devel}
+%{!?_without_lirc:BuildRequires: lirc-devel}
+
+%description
+Xine is a free multimedia player. It plays back CDs, DVDs, and VCDs. It also
+decodes multimedia files like AVI, MOV, WMV, and MP3 from local disk drives,
+and displays multimedia streamed over the Internet. It interprets many of the
+most common multimedia formats available - and some of the most uncommon
+formats, too.
+
+This package contains the GUI of the Xine multimedia player.
+
+Available rpmbuild rebuild options :
+--without : caca lirc freedesktop
+
+
+%prep
+%setup -n xine-ui-%{version}
+%patch0 -p1
+
+# Required by the shared-lirc patch
+./autogen.sh
+
+%{__cat} &lt;&lt;EOF &gt;xine.desktop
+[Desktop Entry]
+Name=Xine
+Comment=Versatile Multimedia Player
+Exec=xine %U
+MimeType=video/mpeg;video/quicktime;video/x-msvideo;audio/x-mp3;audio/x-mp2;audio/x-mpegurl;
+Icon=xine.png
+Terminal=false
+Type=Application
+Encoding=UTF-8
+Categories=Application;AudioVideo;
+EOF
+
+%{__cat} &lt;&lt;EOF &gt;xine.applications
+xine
+	command=xine
+	name=Xine
+	can_open_multiple_files=true
+	expects_uris=yes
+	requires_terminal=false
+	all_gnome_vfs_schemes_supported=yes
+	uses_gnomevfs=true
+	startup_notify=false
+	supported_uri_schemes=rtp,mms,net,rtsp,pnm
+	mime_types=video/mpeg,video/msvideo,video/quicktime,video/x-avi,video/x-ms-asf,video/x-ms-wmv,video/x-msvideo,application/x-ogg,application/ogg,audio/x-mp3,audio/x-mpeg,video/x-mpeg,video/x-fli,audio/x-wav,audio/x-mpegurl,audio/x-scpls,audio/x-ms-asx,application/vnd.rn-realmedia,audio/x-real-audio,audio/x-pn-realaudio,application/x-flac,audio/x-flac,application/x-shockwave-flash,audio/mpeg,audio/x-ms-asf,audio/x-m4a,audio/x-ms-wax,video/dv,video/x-anim,video/x-flc,misc/ultravox,application/x-matroska,audio/vnd.rn-realaudio,audio/x-pn-aiff,audio/x-pn-au,audio/x-pn-wav,audio/x-pn-windows-acm,image/vnd.rn-realpix,video/vnd.rn-realvideo
+EOF
+
+# Convert all man pages to UTF-8
+for manpage in doc/man/*/*.1*; do
+    iconv -f iso8859-1 -t utf8 -o manpage.tmp ${manpage}
+    %{__mv} -f manpage.tmp ${manpage}
+done
+
+
+%build
+%configure \
+	--x-libraries=&quot;%{_prefix}/X11R6/%{_lib}&quot; \
+%{?_without_lirc:--disable-lirc} \
+%{?_without_caca:--without-caca}
+%{__make} %{?_smp_mflags}
+
+
+%install
+%{__rm} -rf %{buildroot} _doc
+%{__make} install DESTDIR=%{buildroot}
+%find_lang xine-ui
+
+%{__install} -D -m 0644 xine.applications \
+    %{buildroot}%{_datadir}/application-registry/xine.applications
+
+# Remove unpackaged files
+find %{buildroot} -name 'xitk*' | xargs rm -rf || :
+
+# Move the docs back into place
+%{__mv} %{buildroot}%{_docdir}/xine-ui _doc
+
+%if %{?_without_freedesktop:1}0
+%{__install} -D -m 0644 xine.desktop %{buildroot}/etc/X11/applnk/Multimedia/xine.desktop
+%else
+%{__mkdir_p} %{buildroot}%{_datadir}/applications/
+desktop-file-install --vendor %{desktop_vendor} \
+    --dir %{buildroot}%{_datadir}/applications  \
+    xine.desktop
+%endif
+
+
+%clean
+%{__rm} -rf %{buildroot}
+
+
+%post
+update-desktop-database %{_datadir}/applications &amp;&gt;/dev/null || :
+
+%postun
+update-desktop-database %{_datadir}/applications &amp;&gt;/dev/null || :
+
+
+%files -f xine-ui.lang
+%defattr(-,root,root,-)
+%doc _doc/*
+%{!?_without_caca:%{_bindir}/cacaxine}
+%{_bindir}/fbxine
+%{_bindir}/xine
+%{_bindir}/xine-bugreport
+%{_bindir}/xine-check
+%{_bindir}/xine-remote
+%{_datadir}/application-registry/xine.applications
+%{_datadir}/icons/hicolor/*/apps/xine.png
+%{_datadir}/xine/
+%{_datadir}/pixmaps/xine.xpm
+%{!?_without_freedesktop:%{_datadir}/applications/%{desktop_vendor}-xine.desktop}
+%{?_without_freedesktop:/etc/X11/applnk/Multimedia/xine.desktop}
+%{_mandir}/man1/*
+%lang(de)%{_mandir}/de/man1/*
+%lang(es)%{_mandir}/es/man1/*
+%lang(fr)%{_mandir}/fr/man1/*
+%lang(pl)%{_mandir}/pl/man1/*
+
+
+%changelog
+* Fri May  4 2007 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.5-1 - 5368+/thias
+- Update to 0.99.5.
+- Remove no longer needed patches.
+- Remove aaxine and its man pages, no longer built and cacaxine is nicer.
+- Include new hicolor icons, but create them from our own icon.
+- Convert man pages to UTF-8.
+
+* Mon Dec 18 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.4-8
+- Change name of requirement from xine-lib-extras to xine-lib-moles.
+
+* Wed Nov  8 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.4-7
+- Require xine-lib-extras on FC5 too.
+
+* Thu Nov  2 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.4-6
+- Require xine-lib-extras on FC6 in order to get the spash animation to work.
+
+* Mon May 22 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.4-5
+- Replace old lirc workaround with patch from Ville to use the shared library,
+  since the static library has been removed from the Extras lirc packages.
+
+* Wed Mar 22 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.4-4
+- Make the aaxine and cacaxine %%files entries conditional too (thanks to
+  John Robinson for spotting this).
+
+* Mon Mar  6 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.4-4
+- Remove setting of the X libs location, as it breaks with modular X.
+
+* Mon Jan 30 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.4-3
+- Fix modular xorg requirements since the &quot;xine&quot; binary wasn't being built.
+- List all bindir entries in %%files so that the above makes the build fail.
+
+* Fri Jan 13 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.4-2
+- Add modular xorg build conditional.
+
+* Sat Jul 30 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.4-1
+- Update to 0.99.4, which includes gcc4 fixes.
+
+* Wed Jul 13 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.3-6
+- More patches from Alex Stewart : sprintf, xftfontsize and uifixups. These
+  should fix many bugs, including broken dialog boxes and broken menus.
+
+* Tue Jul  5 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.3-5
+- Add menucrash patch from Alex Stewart, at last! :-) (for x86_64)
+
+* Fri Apr 29 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.3-4
+- Replace Christmas splash screen with another one.
+- Add gcc4 patch.
+- Replace default icons with a nicer home made one.
+
+* Tue Apr  5 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.3-3
+- Fix Exec line in desktop file to get drag and drop to work properly (%%U).
+
+* Fri Jan  7 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.3-2
+- Add a quick lib vs. lib64 replace for lirc static lib detection to work on
+  x86_64.
+
+* Mon Jan  3 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.3-1
+- Update to 0.99.3.
+- Re-enable lirc on x86_64, don't even know why it was disabled.
+- Added readline dep for the network interface.
+- Added new caca support.
+- Added libidn-devel build dep to fix libcurl support.
+
+* Sat Oct 16 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.2-1
+- Added update-desktop-database scriplet calls.
+
+* Sun Aug 01 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.99.2-1
+- Added xine.applications to application-registry.
+
+* Mon Jul 05 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;&gt; - 0.99.2-1
+- Added an improved desktop file.
+- Updated to release 0.99.2
+
+* Wed May  5 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.99.1-1
+- Update to 0.99.1.
+- Have curl enabled by default, if it's too old, it'll be disabled anyway.
+
+* Sun Jan  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.9.23-1
+- Update to 0.9.23.
+
+* Tue Dec  9 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.9.22-3
+- Fix a typo that made the package require curl-devel.
+
+* Fri Nov  7 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.9.22-2
+- Rebuild for Fedora Core 1.
+
+* Fri Aug  8 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.22.
+
+* Tue May 20 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.21.
+- Removed explicit aaxine from %%files to avoid listing twice.
+- Removed some obsolete xitk stuff.
+
+* Mon Mar 31 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuilt for Red Hat Linux 9.
+
+* Wed Mar 26 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.20.
+
+* Sat Mar 15 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Added freedesktop build option.
+
+* Mon Mar 10 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.19.
+
+* Mon Feb  3 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuild to hopefully fix an unexplained problem.
+- Fixed the aalib-devel build dependency.
+
+* Fri Jan 31 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to ui 0.9.18.
+- Removed binary lirc dependency as it's statically linked.
+- Modified man pages list to tag languages (no more aaxine exception though).
+
+* Sun Jan 12 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to ui 0.9.17.
+- This main xine package now only contains the ui source, thus needs the
+  now separate xine-lib.
+
+* Sun Oct  6 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Removed --without arts from %%description as it can't work if arts-devel
+  is installed.
+- Added vidix files.
+- Delete unpackaged xitk related files.
+
+* Mon Sep 30 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Fixed ALSA support.
+- Spec file cleanup.
+- New --without aalib, lirc and arts options.
+
+* Thu Sep 26 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuilt for Red Hat Linux 8.0.
+
+* Tue Aug 27 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Added new .desktop file support.
+- Added alsa support.
+
+* Sun Aug  4 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Fixed plugins (new API version again).
+- Rebuilt without the NVIDIA_GLX package :-/
+
+* Sun Aug  4 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.13.
+- Updated both d4d and d5d plugins.
+- Now use %%find_lang.
+
+* Tue Jun 25 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.12.
+
+* Mon Jun 17 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Split into xine (UI) and xine-libs to be able to install just the engine
+  for other frontends.
+
+* Mon May 27 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.10 final.
+- Added a quick perl regexp hack for the d4d &amp; d5d API versions.
+
+* Thu May  9 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Almost complete spec file rewrite to reflect improvements in the build
+  process (simplifications were now possible).
+- Updated the d5d plugin to 0.2.4.
+- Moved everything from %%install to %%build as it seems more logical.
+- Added %%{?_smp_mflags} and LIBRARY_PATH for the lib, thanks Ralf!
+- Added the d4d plugin as well.
+
+* Tue Apr 30 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.9.
+
+* Wed Jan 16 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.8 with new all-in-one d5d css and menu support plugin.
+- Cleaned up the docs.
+
+* Tue Dec 11 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.7.
+
+* Thu Nov 29 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.6.
+
+* Sat Nov 24 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.5, added the new LC_MESSAGEs.
+
+* Tue Nov  6 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.4 (0.9.3 had build problems).
+- Update d4d plugin to 0.2.7.
+- Put the menu navigation plugin back in and update it to 0.9.3beta
+  (yeah, Fred, I'm doing that for you ;-)).
+
+* Thu Nov  1 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Added the missing xineshot to %%files.
+- Removed the menu navigation plugin : It's so buggy and not moving very
+  fast. If you want menu support, try Ogle, it's worth it!
+- Added new man pages translations.
+- Cleaned-up the %%doc section, lots were added recently.
+- Modified the way the target cpu is forced, it should now be possible to
+  rebuild for anything else than i686.
+
+* Mon Oct 22 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Removed the libdvdcss since it was making xine mutually exclusive with
+  videolan... and moved it to a separate package instead.
+- Removed the ugly hacks from libtool problems, I guess this spec won't
+  be suited for 7.1 anymore.
+
+* Sun Oct 21 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Addedd libdvdcss library so that encrypted menus can now be played too.
+- Updated lots of dependencies (ogg vorbis, arts, zlib, esd, libpng).
+
+* Tue Oct 16 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.2 with updated CSS plugin and libvdvread.
+
+* Mon Oct  8 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuilt for Red Hat 7.2 with lirc support.
+
+* Wed Sep 19 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Updated the dvdnav plugin to the latest version.
+
+* Tue Sep 18 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.1.
+- Update libdvdread to 0.9.1 too :-)
+
+* Fri Sep 14 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.0.
+- Spec file cleanup, the configure scripts and the way they use macros
+  are still too crappy to clean up more :-(
+- Included the new menu plugin and libdvdcss...slurp!
+
+* Thu Sep 13 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.5.3 and kept d4d plugin 0.2.2 (0.2.4 doesn't compile for me).
+
+* Mon Sep  3 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.5.2.
+- Removed the &quot;aaxine&quot; binary.
+
+* Sat Aug 11 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.5.1.
+
+* Fri Aug 10 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Nothing weird with the package in one whole week, I'll release it :-)
+
+* Mon Aug  6 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.5.0.
+- Merged the new &quot;lib&quot; and &quot;ui&quot; sources in the same SRPM and split the
+  binaries in a main and a &quot;devel&quot; package.
+
+* Thu May 17 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.4.3.
+
+* Thu May 10 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Changed the spec file to now use XINE_BUILD to override the default
+  build arch and use the compilation optimisations chosen by the xine
+  authors in the configure script.
+- Doesn't work with --arch=athlon though... I wonder why!
+
+* Mon May  7 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.4.2.
+
+* Fri Apr 20 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuilt for Red Hat 7.1.
+
+* Thu Mar  8 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.4.01.
+
+* Thu Feb 15 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Updated the DeCSS plugin to the latest 0.1.2 release.
+- Added a menu entry since xine is now stable enough to not need to be
+  launched in a terminal anymore.
+
+* Wed Jan 31 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Upgraded to 0.3.7 with the subtitles patch to the plugin
+
+* Wed Jan 31 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Upgraded to 0.3.6 with the same plugin
+
+* Sat Jan 13 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Included the DeCSS dvd plugin for 0.3.5
+
+* Wed Jan 10 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- upgraded to 0.3.5
+
+* Mon Jan  8 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- upgraded to 0.3.4
+- tweak to configure.in to compile with gcc 2.96
+
+* Tue Jan  2 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- upgraded to 0.3.3
+
+* Sun Dec 17 2000 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- upgraded to 0.3.2 &quot;complete&quot; :-)
+- fixed my files section to include the new skin
+
+* Mon Nov 20 2000 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- cleaned-up the spec file for RedHat 7.0
+- added stripping, changed prefix, added docs, added defattr
+
+* Fri Oct 17 2000 Daniel Caujolle-Bert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">f1rmb at users.sourceforge.net</A>&gt;
+- first spec file.
+

Added: branches/rpms/brian/xine-lib/xine-lib.patch
===================================================================
--- branches/rpms/brian/xine-lib/xine-lib.patch	                        (rev 0)
+++ branches/rpms/brian/xine-lib/xine-lib.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,5058 @@
+Index: xine-lib/configure.ac
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/configure.ac,v
+retrieving revision 1.439
+diff -u -r1.439 configure.ac
+--- xine-lib/configure.ac	4 Dec 2006 22:25:13 -0000	1.439
++++ xine-lib/configure.ac	10 Dec 2006 19:07:34 -0000
+@@ -2500,6 +2500,7 @@
+ src/video_out/vidix/drivers/Makefile
+ src/xine-utils/Makefile
+ src/xine-engine/Makefile
++src/vdr/Makefile
+ win32/Makefile
+ win32/include/Makefile])
+ AC_CONFIG_COMMANDS([default],[[chmod +x ./misc/SlackBuild ./misc/build_rpms.sh ./misc/relchk.sh]],[[]])
+@@ -2535,7 +2536,7 @@
+ echo &quot;   - stdin_fifo    - rtp&quot;
+ echo &quot;   - http          - mms&quot;
+ echo &quot;   - pnm           - rtsp&quot;
+-echo &quot;   - dvb&quot;
++echo &quot;   - dvb           - vdr&quot;
+ if test x&quot;$external_dvdnav&quot; = &quot;xyes&quot;; then
+   echo &quot;   - dvd (external libs)&quot;
+ else
+@@ -2718,6 +2719,7 @@
+ echo &quot;   - eq              - eq2&quot;
+ echo &quot;   - boxblur         - denoise3d&quot;
+ echo &quot;   - unsharp         - tvtime&quot;
++echo &quot;   - vdr&quot;
+ echo &quot;  * SFX:&quot;
+ echo &quot;   - goom            - oscope&quot;
+ echo &quot;   - fftscope        - mosaico&quot;
+Index: xine-lib/include/xine.h.in
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/include/xine.h.in,v
+retrieving revision 1.160
+diff -u -r1.160 xine.h.in
+--- xine-lib/include/xine.h.in	28 Oct 2006 18:51:08 -0000	1.160
++++ xine-lib/include/xine.h.in	10 Dec 2006 19:07:34 -0000
+@@ -1561,6 +1561,7 @@
+ #define XINE_EVENT_VDR_MUTE             331
+ #define XINE_EVENT_VDR_AUDIO            332
+ #define XINE_EVENT_VDR_INFO             333
++#define XINE_EVENT_VDR_CHANNELPREVIOUS  334
+ /* some space for further keys */
+ #define XINE_EVENT_VDR_SETVIDEOWINDOW   350
+ #define XINE_EVENT_VDR_FRAMESIZECHANGED 351
+Index: xine-lib/src/Makefile.am
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/src/Makefile.am,v
+retrieving revision 1.54
+diff -u -r1.54 Makefile.am
+--- xine-lib/src/Makefile.am	14 Jan 2005 15:24:08 -0000	1.54
++++ xine-lib/src/Makefile.am	10 Dec 2006 19:07:34 -0000
+@@ -30,4 +30,5 @@
+ 	libfaad \
+ 	libflac \
+         libmusepack \
+-	post
++	post \
++	vdr
+Index: xine-lib/src/libffmpeg/libavcodec/mjpeg.c
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/src/libffmpeg/libavcodec/mjpeg.c,v
+retrieving revision 1.38
+diff -u -r1.38 mjpeg.c
+--- xine-lib/src/libffmpeg/libavcodec/mjpeg.c	4 Dec 2006 22:25:19 -0000	1.38
++++ xine-lib/src/libffmpeg/libavcodec/mjpeg.c	10 Dec 2006 19:07:35 -0000
+@@ -1043,7 +1043,7 @@
+         /* only 8 bit precision handled */
+         if (get_bits(&amp;s-&gt;gb, 4) != 0)
+         {
+-            dprintf(&quot;dqt: 16bit precision\n&quot;);
++            dprintf(&quot;dqt: 16bit precision\n%s&quot;, &quot;&quot;);
+             return -1;
+         }
+         index = get_bits(&amp;s-&gt;gb, 4);
+@@ -1290,7 +1290,7 @@
+     /* DC coef */
+     val = mjpeg_decode_dc(s, dc_index);
+     if (val == 0xffff) {
+-        dprintf(&quot;error dc\n&quot;);
++        dprintf(&quot;error dc\n%s&quot;, &quot;&quot;);
+         return -1;
+     }
+     val = val * quant_matrix[0] + s-&gt;last_dc[component];
+@@ -1745,7 +1745,7 @@
+     emms_c();
+     return 0;
+  out_of_range:
+-    dprintf(&quot;decode_sos: ac/dc index out of range\n&quot;);
++    dprintf(&quot;decode_sos: ac/dc index out of range\n%s&quot;, &quot;&quot;);
+     return -1;
+ }
+ 
+@@ -2251,7 +2251,7 @@
+ 
+     if (get_bits_long(&amp;hgb, 32) != be2me_32(ff_get_fourcc(&quot;mjpg&quot;)))
+     {
+-        dprintf(&quot;not mjpeg-b (bad fourcc)\n&quot;);
++        dprintf(&quot;not mjpeg-b (bad fourcc)\n%s&quot;, &quot;&quot;);
+         return 0;
+     }
+ 
+Index: xine-lib/src/libffmpeg/libavcodec/mpeg12.c
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/src/libffmpeg/libavcodec/mpeg12.c,v
+retrieving revision 1.42
+diff -u -r1.42 mpeg12.c
+--- xine-lib/src/libffmpeg/libavcodec/mpeg12.c	4 Dec 2006 22:25:19 -0000	1.42
++++ xine-lib/src/libffmpeg/libavcodec/mpeg12.c	10 Dec 2006 19:07:35 -0000
+@@ -2284,7 +2284,7 @@
+     s1-&gt;frame_rate_ext.num = get_bits(&amp;s-&gt;gb, 2)+1;
+     s1-&gt;frame_rate_ext.den = get_bits(&amp;s-&gt;gb, 5)+1;
+ 
+-    dprintf(&quot;sequence extension\n&quot;);
++    dprintf(&quot;sequence extension\n%s&quot;, &quot;&quot;);
+     s-&gt;codec_id= s-&gt;avctx-&gt;codec_id= CODEC_ID_MPEG2VIDEO;
+     s-&gt;avctx-&gt;sub_id = 2; /* indicates mpeg2 found */
+ 
+@@ -2356,7 +2356,7 @@
+ {
+     int i, v, j;
+ 
+-    dprintf(&quot;matrix extension\n&quot;);
++    dprintf(&quot;matrix extension\n%s&quot;, &quot;&quot;);
+ 
+     if (get_bits1(&amp;s-&gt;gb)) {
+         for(i=0;i&lt;64;i++) {
+@@ -2833,10 +2833,10 @@
+             s-&gt;chroma_intra_matrix[j] = v;
+         }
+ #ifdef DEBUG
+-        dprintf(&quot;intra matrix present\n&quot;);
++        dprintf(&quot;intra matrix present\n%s&quot;, &quot;&quot;);
+         for(i=0;i&lt;64;i++)
+             dprintf(&quot; %d&quot;, s-&gt;intra_matrix[s-&gt;dsp.idct_permutation[i]]);
+-        dprintf(&quot;\n&quot;);
++        dprintf(&quot;\n%s&quot;, &quot;&quot;);
+ #endif
+     } else {
+         for(i=0;i&lt;64;i++) {
+@@ -2858,10 +2858,10 @@
+             s-&gt;chroma_inter_matrix[j] = v;
+         }
+ #ifdef DEBUG
+-        dprintf(&quot;non intra matrix present\n&quot;);
++        dprintf(&quot;non intra matrix present\n%s&quot;, &quot;&quot;);
+         for(i=0;i&lt;64;i++)
+             dprintf(&quot; %d&quot;, s-&gt;inter_matrix[s-&gt;dsp.idct_permutation[i]]);
+-        dprintf(&quot;\n&quot;);
++        dprintf(&quot;\n%s&quot;, &quot;&quot;);
+ #endif
+     } else {
+         for(i=0;i&lt;64;i++) {
+@@ -3061,7 +3061,7 @@
+     int ret, input_size;
+     AVFrame *picture = data;
+     MpegEncContext *s2 = &amp;s-&gt;mpeg_enc_ctx;
+-    dprintf(&quot;fill_buffer\n&quot;);
++    dprintf(&quot;fill_buffer\n%s&quot;, &quot;&quot;);
+ 
+     if (buf_size == 0) {
+         /* special case for last picture */
+@@ -3305,7 +3305,7 @@
+     if( !(avctx-&gt;slice_flags &amp; SLICE_FLAG_CODED_ORDER) )
+         return -1;
+     if( !(avctx-&gt;slice_flags &amp; SLICE_FLAG_ALLOW_FIELD) ){
+-        dprintf(&quot;mpeg12.c: XvMC decoder will work better if SLICE_FLAG_ALLOW_FIELD is set\n&quot;);
++        dprintf(&quot;mpeg12.c: XvMC decoder will work better if SLICE_FLAG_ALLOW_FIELD is set\n%s&quot;, &quot;&quot;);
+     }
+     mpeg_decode_init(avctx);
+     s = avctx-&gt;priv_data;
+Index: xine-lib/src/libffmpeg/libavcodec/mpegaudiodec.c
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/src/libffmpeg/libavcodec/mpegaudiodec.c,v
+retrieving revision 1.17
+diff -u -r1.17 mpegaudiodec.c
+--- xine-lib/src/libffmpeg/libavcodec/mpegaudiodec.c	4 Dec 2006 22:25:19 -0000	1.17
++++ xine-lib/src/libffmpeg/libavcodec/mpegaudiodec.c	10 Dec 2006 19:07:36 -0000
+@@ -1177,15 +1177,15 @@
+     if (s-&gt;nb_channels == 2) {
+         if (s-&gt;layer == 3) {
+             if (s-&gt;mode_ext &amp; MODE_EXT_MS_STEREO)
+-                dprintf(&quot;ms-&quot;);
++                dprintf(&quot;ms-%s&quot;, &quot;&quot;);
+             if (s-&gt;mode_ext &amp; MODE_EXT_I_STEREO)
+-                dprintf(&quot;i-&quot;);
++                dprintf(&quot;i-%s&quot;, &quot;&quot;);
+         }
+-        dprintf(&quot;stereo&quot;);
++        dprintf(&quot;stereo%s&quot;, &quot;&quot;);
+     } else {
+-        dprintf(&quot;mono&quot;);
++        dprintf(&quot;mono%s&quot;, &quot;&quot;);
+     }
+-    dprintf(&quot;\n&quot;);
++    dprintf(&quot;\n%s&quot;, &quot;&quot;);
+ #endif
+     return 0;
+ }
+@@ -1363,7 +1363,7 @@
+         for(ch=0;ch&lt;s-&gt;nb_channels;ch++) {
+             for(i=0;i&lt;sblimit;i++)
+                 dprintf(&quot; %d&quot;, bit_alloc[ch][i]);
+-            dprintf(&quot;\n&quot;);
++            dprintf(&quot;\n%s&quot;, &quot;&quot;);
+         }
+     }
+ #endif
+@@ -1415,10 +1415,10 @@
+                 sf = scale_factors[ch][i];
+                 dprintf(&quot; %d %d %d&quot;, sf[0], sf[1], sf[2]);
+             } else {
+-                dprintf(&quot; -&quot;);
++                dprintf(&quot; -%s&quot;, &quot;&quot;);
+             }
+         }
+-        dprintf(&quot;\n&quot;);
++        dprintf(&quot;\n%s&quot;, &quot;&quot;);
+     }
+ #endif
+ 
+@@ -2362,7 +2362,7 @@
+                            g-&gt;scfsi, gr, ch);
+                     for(i=0;i&lt;j;i++)
+                         dprintf(&quot; %d&quot;, g-&gt;scale_factors[i]);
+-                    dprintf(&quot;\n&quot;);
++                    dprintf(&quot;\n%s&quot;, &quot;&quot;);
+                 }
+ #endif
+             } else {
+@@ -2424,7 +2424,7 @@
+                            gr, ch);
+                     for(i=0;i&lt;40;i++)
+                         dprintf(&quot; %d&quot;, g-&gt;scale_factors[i]);
+-                    dprintf(&quot;\n&quot;);
++                    dprintf(&quot;\n%s&quot;, &quot;&quot;);
+                 }
+ #endif
+             }
+@@ -2521,7 +2521,7 @@
+             dprintf(&quot;%d-%d:&quot;, i, ch);
+             for(j=0;j&lt;SBLIMIT;j++)
+                 dprintf(&quot; %0.6f&quot;, (double)s-&gt;sb_samples[ch][i][j] / FRAC_ONE);
+-            dprintf(&quot;\n&quot;);
++            dprintf(&quot;\n%s&quot;, &quot;&quot;);
+         }
+     }
+ #endif
+Index: xine-lib/src/libffmpeg/libavcodec/i386/Makefile.am
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/src/libffmpeg/libavcodec/i386/Makefile.am,v
+retrieving revision 1.28
+diff -u -r1.28 Makefile.am
+--- xine-lib/src/libffmpeg/libavcodec/i386/Makefile.am	4 Dec 2006 22:25:25 -0000	1.28
++++ xine-lib/src/libffmpeg/libavcodec/i386/Makefile.am	10 Dec 2006 19:07:39 -0000
+@@ -9,7 +9,7 @@
+ AM_CPPFLAGS = $(LIBFFMPEG_CPPFLAGS) -I$(top_srcdir)/src/libffmpeg/libavutil
+ 
+ # Avoid &quot;can't find register&quot; failures with -O1 and higher
+-dsputil_mmx.o dsputil_mmx.lo: CFLAGS=`echo @CFLAGS@ | sed -e 's/-funroll-loops//g; s/-O[0-9]/-Os/g'`
++dsputil_mmx.o dsputil_mmx.lo: CFLAGS=`echo @CFLAGS@ | sed -e 's/-funroll-loops//g; s/-O([0-9]|s|$)/-Os /g'`
+ 
+ # Avoid errors on (at least) amd64 with -O0
+ fdct_mmx.o fdct_mmx.lo: CFLAGS=`echo @CFLAGS@ | sed -e 's/^/-Os /; s/-O0\?\s/-Os /g'`
+Index: xine-lib/src/libmpeg2/decode.c
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/src/libmpeg2/decode.c,v
+retrieving revision 1.132
+diff -u -r1.132 decode.c
+--- xine-lib/src/libmpeg2/decode.c	23 Jun 2006 18:22:19 -0000	1.132
++++ xine-lib/src/libmpeg2/decode.c	10 Dec 2006 19:07:39 -0000
+@@ -236,7 +236,7 @@
+ }
+ 
+ static inline int parse_chunk (mpeg2dec_t * mpeg2dec, int code,
+-			       uint8_t * buffer)
++			       uint8_t * buffer, int next_code)
+ {
+     picture_t * picture;
+     int is_frame_done;
+@@ -393,6 +393,11 @@
+ 	    /* abort(); */
+ 	    break;
+ 	}
++
++        /* according to ISO/IEC 13818-2, an extension start code will follow.
++         * Otherwise the stream follows ISO/IEC 11172-2 which means MPEG1 */ 
++        picture-&gt;mpeg1 = (next_code != 0xb5);
++
+ 	if (mpeg2dec-&gt;force_aspect) picture-&gt;aspect_ratio_information = mpeg2dec-&gt;force_aspect;
+ 
+ 	if (mpeg2dec-&gt;is_sequence_needed ) {
+@@ -574,45 +579,135 @@
+     return is_frame_done;
+ }
+ 
++static inline int find_start_code (mpeg2dec_t * mpeg2dec,
++                                   uint8_t ** current, uint8_t * limit)
++{
++    uint8_t * p;
++
++    if (*current &gt;= limit)
++	return 0;
++    if (mpeg2dec-&gt;shift == 0x00000100)
++	return 1;
++
++    mpeg2dec-&gt;shift = (mpeg2dec-&gt;shift | *(*current)++) &lt;&lt; 8;
++
++    if (*current &gt;= limit)
++	return 0;
++    if (mpeg2dec-&gt;shift == 0x00000100)
++	return 1;
++
++    mpeg2dec-&gt;shift = (mpeg2dec-&gt;shift | *(*current)++) &lt;&lt; 8;
++
++    if (*current &gt;= limit)
++	return 0;
++    if (mpeg2dec-&gt;shift == 0x00000100)
++	return 1;
++
++    limit--;
++
++    if (*current &gt;= limit) {
++	mpeg2dec-&gt;shift = (mpeg2dec-&gt;shift | *(*current)++) &lt;&lt; 8;
++	return 0;
++    }
++
++    p = *current;
++
++    while (p &lt; limit &amp;&amp; (p = (uint8_t *)memchr(p, 0x01, limit - p))) {
++	if (p[-2] || p[-1])
++	    p += 3;
++	else {
++	    *current = ++p;
++	    return 1;
++	}
++    }
++
++    *current = ++limit;
++    p = limit - 3;
++    mpeg2dec-&gt;shift = (mpeg2dec-&gt;shift | *p++) &lt;&lt; 8;
++    mpeg2dec-&gt;shift = (mpeg2dec-&gt;shift | *p++) &lt;&lt; 8;
++    mpeg2dec-&gt;shift = (mpeg2dec-&gt;shift | *p++) &lt;&lt; 8;
++
++    return 0;
++}
++
+ static inline uint8_t * copy_chunk (mpeg2dec_t * mpeg2dec,
+ 				    uint8_t * current, uint8_t * end)
+ {
+-    uint32_t shift;
+-    uint8_t * chunk_ptr;
+     uint8_t * limit;
+-    uint8_t byte;
+ 
+-    shift = mpeg2dec-&gt;shift;
+-    chunk_ptr = mpeg2dec-&gt;chunk_ptr;
+-    limit = current + (mpeg2dec-&gt;chunk_buffer + BUFFER_SIZE - chunk_ptr);
++    /* sequence end code 0xb7 doesn't have any data and there might be the case
++     * that no start code will follow this code for quite some time (e. g. in case
++     * of a still image.
++     * Therefore, return immediately with a chunk_size of 0. Setting code to 0xb4
++     * will eat up any trailing garbage next time.
++     */
++    if (mpeg2dec-&gt;code == 0xb7) {
++       mpeg2dec-&gt;code = 0xb4;
++       mpeg2dec-&gt;chunk_size = 0;
++       return current;
++    }
++
++    limit = current + (mpeg2dec-&gt;chunk_buffer + BUFFER_SIZE - mpeg2dec-&gt;chunk_ptr);
+     if (limit &gt; end)
+ 	limit = end;
++#if 0
++    {
++	uint32_t shift = mpeg2dec-&gt;shift;
++	uint8_t * chunk_ptr = mpeg2dec-&gt;chunk_ptr;
+ 
+-    while (1) {
++	while (1) {
+ 
+-	byte = *current++;
+-	if (shift != 0x00000100) {
+-	    shift = (shift | byte) &lt;&lt; 8;
+-	    *chunk_ptr++ = byte;
+-	    if (current &lt; limit)
+-		continue;
+-	    if (current == end) {
+-		mpeg2dec-&gt;chunk_ptr = chunk_ptr;
+-		mpeg2dec-&gt;shift = shift;
+-		return NULL;
+-	    } else {
+-		/* we filled the chunk buffer without finding a start code */
+-		mpeg2dec-&gt;code = 0xb4;	/* sequence_error_code */
+-		mpeg2dec-&gt;chunk_ptr = mpeg2dec-&gt;chunk_buffer;
+-		return current;
++	    uint8_t byte = *current++;
++	    if (shift != 0x00000100) {
++		shift = (shift | byte) &lt;&lt; 8;
++		*chunk_ptr++ = byte;
++		if (current &lt; limit)
++		    continue;
++		if (current == end) {
++		    mpeg2dec-&gt;chunk_ptr = chunk_ptr;
++		    mpeg2dec-&gt;shift = shift;
++		    return NULL;
++		} else {
++		    /* we filled the chunk buffer without finding a start code */
++		    mpeg2dec-&gt;code = 0xb4;	/* sequence_error_code */
++		    mpeg2dec-&gt;chunk_ptr = mpeg2dec-&gt;chunk_buffer;
++		    return current;
++		}
+ 	    }
++	    mpeg2dec-&gt;code = byte;
++	    mpeg2dec-&gt;chunk_size = chunk_ptr - mpeg2dec-&gt;chunk_buffer - 3;
++	    mpeg2dec-&gt;chunk_ptr = mpeg2dec-&gt;chunk_buffer;
++	    mpeg2dec-&gt;shift = 0xffffff00;
++	    return current;
+ 	}
+-	mpeg2dec-&gt;code = byte;
+-	mpeg2dec-&gt;chunk_size = chunk_ptr - mpeg2dec-&gt;chunk_buffer - 3;
++    }
++#else
++    {
++	uint8_t * data = current;
++	int found = find_start_code(mpeg2dec, &amp;current, limit);
++	int bite = current - data;
++        if (bite) {
++	    xine_fast_memcpy(mpeg2dec-&gt;chunk_ptr, data, bite);
++	    mpeg2dec-&gt;chunk_ptr += bite;
++	}
++
++	if (found) {
++	    mpeg2dec-&gt;code = *current++;
++	    mpeg2dec-&gt;chunk_size = mpeg2dec-&gt;chunk_ptr - mpeg2dec-&gt;chunk_buffer - 3;
++	    mpeg2dec-&gt;chunk_ptr = mpeg2dec-&gt;chunk_buffer;
++	    mpeg2dec-&gt;shift = 0xffffff00;
++	    return current;
++	}
++    
++	if (current == end)
++	    return NULL;
++
++	/* we filled the chunk buffer without finding a start code */
++	mpeg2dec-&gt;code = 0xb4;	/* sequence_error_code */
+ 	mpeg2dec-&gt;chunk_ptr = mpeg2dec-&gt;chunk_buffer;
+-	mpeg2dec-&gt;shift = 0xffffff00;
+ 	return current;
+     }
++#endif
+ }
+ 
+ int mpeg2_decode_data (mpeg2dec_t * mpeg2dec, uint8_t * current, uint8_t * end,
+@@ -633,12 +728,12 @@
+     if (pts)
+       mpeg2dec-&gt;pts = pts;
+ 
+-    while (current != end) {
++    while (current != end || mpeg2dec-&gt;code == 0xb7) {
+ 	code = mpeg2dec-&gt;code;
+ 	current = copy_chunk (mpeg2dec, current, end);
+ 	if (current == NULL) 
+ 	    break;
+-	ret += parse_chunk (mpeg2dec, code, mpeg2dec-&gt;chunk_buffer);
++	ret += parse_chunk (mpeg2dec, code, mpeg2dec-&gt;chunk_buffer, mpeg2dec-&gt;code);
+     }
+ 
+     libmpeg2_accel_frame_completion(&amp;mpeg2dec-&gt;accel, mpeg2dec-&gt;frame_format, 
+@@ -805,7 +900,7 @@
+ void mpeg2_find_sequence_header (mpeg2dec_t * mpeg2dec,
+ 				 uint8_t * current, uint8_t * end){
+ 
+-  uint8_t code;
++  uint8_t code, next_code;
+   picture_t *picture = mpeg2dec-&gt;picture;
+ 
+   mpeg2dec-&gt;seek_mode = 1;
+@@ -815,6 +910,7 @@
+     current = copy_chunk (mpeg2dec, current, end);
+     if (current == NULL)
+       return ;
++    next_code = mpeg2dec-&gt;code;
+ 
+     /* printf (&quot;looking for sequence header... %02x\n&quot;, code);  */
+ 
+@@ -825,6 +921,11 @@
+ 	printf (&quot;libmpeg2: bad sequence header\n&quot;);
+ 	continue;
+       }
++
++      /* according to ISO/IEC 13818-2, an extension start code will follow.
++       * Otherwise the stream follows ISO/IEC 11172-2 which means MPEG1 */ 
++      picture-&gt;mpeg1 = (next_code != 0xb5);
++
+       if (mpeg2dec-&gt;force_aspect) picture-&gt;aspect_ratio_information = mpeg2dec-&gt;force_aspect;
+ 	  
+       if (mpeg2dec-&gt;is_sequence_needed) {
+Index: xine-lib/src/post/planar/expand.c
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/src/post/planar/expand.c,v
+retrieving revision 1.16
+diff -u -r1.16 expand.c
+--- xine-lib/src/post/planar/expand.c	27 Aug 2006 16:27:52 -0000	1.16
++++ xine-lib/src/post/planar/expand.c	10 Dec 2006 19:07:39 -0000
+@@ -21,7 +21,8 @@
+  *
+  * expand video filter by James Stembridge 24/05/2003
+  *            improved by Michael Roitzsch
+- * 
++ *            centre_crop_out_mode by Reinhard Nissl
++ *
+  * based on invert.c
+  *
+  */
+@@ -52,6 +53,11 @@
+  * This way, the decoder (or any other post plugin up the tree) will only
+  * see the frame area between the black bars and by that modify the
+  * enlarged version directly. No need for later copying.
++ *
++ * When centre_crop_out_mode is enabled, the plugin will detect the black
++ * bars to the left and right of the image and will then set up cropping
++ * to efficiently remove the black border around the 4:3 image, which the
++ * plugin would produce otherwise for this case.
+  */ 
+ 
+ 
+@@ -63,6 +69,7 @@
+   int enable_automatic_shift;
+   int overlay_y_offset;
+   double aspect;
++  int centre_cut_out_mode;
+ } expand_parameters_t;
+ 
+ START_PARAM_DESCR(expand_parameters_t)
+@@ -72,6 +79,8 @@
+   &quot;manually shift the overlay vertically&quot;)
+ PARAM_ITEM(POST_PARAM_TYPE_DOUBLE, aspect, NULL, 1.0, 3.5, 0,
+   &quot;target aspect ratio&quot;)
++PARAM_ITEM(POST_PARAM_TYPE_BOOL, centre_cut_out_mode, NULL, 0, 1, 0,
++  &quot;cut out centered 4:3 image contained in 16:9 frame&quot;)
+ END_PARAM_DESCR(expand_param_descr)
+ 
+ typedef struct post_expand_s {
+@@ -83,6 +92,8 @@
+   int                      overlay_y_offset;
+   double                   aspect;
+   int                      top_bar_height;
++  int                      centre_cut_out_mode;
++  int                      cropping_active;
+ } post_expand_t;
+ 
+ /* plugin class functions */
+@@ -106,6 +117,8 @@
+ static vo_frame_t    *expand_get_frame(xine_video_port_t *port_gen, uint32_t width, 
+ 				       uint32_t height, double ratio, 
+ 				       int format, int flags);
++
++/* replaced vo_frame functions */
+ static int            expand_draw(vo_frame_t *frame, xine_stream_t *stream);
+ 
+ /* overlay manager intercept check */
+@@ -153,6 +166,8 @@
+   this-&gt;enable_automatic_shift = 0;
+   this-&gt;overlay_y_offset       = 0;
+   this-&gt;aspect                 = 4.0 / 3.0;
++  this-&gt;centre_cut_out_mode    = 0;
++  this-&gt;cropping_active        = 0;
+   
+   port = _x_post_intercept_video_port(&amp;this-&gt;post, video_target[0], &amp;input, &amp;output);
+   port-&gt;new_port.get_frame     = expand_get_frame;
+@@ -166,8 +181,8 @@
+   input_param-&gt;data = &amp;post_api;
+   xine_list_push_back(this-&gt;post.input, input_param);
+   
+-  input-&gt;xine_in.name     = &quot;video&quot;;
+-  output-&gt;xine_out.name   = &quot;expanded video&quot;;
++  input-&gt;xine_in.name   = &quot;video&quot;;
++  output-&gt;xine_out.name = &quot;expanded video&quot;;
+   
+   this-&gt;post.xine_post.video_input[0] = &amp;port-&gt;new_port;
+   
+@@ -214,6 +229,8 @@
+   this-&gt;enable_automatic_shift = param-&gt;enable_automatic_shift;
+   this-&gt;overlay_y_offset       = param-&gt;overlay_y_offset;
+   this-&gt;aspect                 = param-&gt;aspect;
++  this-&gt;centre_cut_out_mode    = param-&gt;centre_cut_out_mode;
++
+   return 1;
+ }
+ 
+@@ -225,6 +242,8 @@
+   param-&gt;enable_automatic_shift = this-&gt;enable_automatic_shift;
+   param-&gt;overlay_y_offset       = this-&gt;overlay_y_offset;
+   param-&gt;aspect                 = this-&gt;aspect;
++  param-&gt;centre_cut_out_mode    = this-&gt;centre_cut_out_mode;
++  
+   return 1;
+ }
+ 
+@@ -238,22 +257,86 @@
+            &quot;  Enable_automatic_shift: Enable automatic overlay shifting\n&quot;
+            &quot;  Overlay_y_offset: Manually shift the overlay vertically\n&quot;
+            &quot;  aspect: The target aspect ratio (default 4:3)\n&quot;
++           &quot;  Centre_cut_out_mode: extracts 4:3 image contained in 16:9 frame\n&quot;
+            &quot;\n&quot;
+          );
+ }
+ 
+ 
++static int is_pixel_black(vo_frame_t *frame, int x, int y)
++{
++  int Y = 0x00, Cr = 0x00, Cb = 0x00;
++
++  if (x &lt; 0)              x = 0;
++  if (x &gt;= frame-&gt;width)  x = frame-&gt;width - 1;
++  if (y &lt; 0)              y = 0;
++  if (y &gt;= frame-&gt;height) y = frame-&gt;height - 1;
++  
++  switch (frame-&gt;format)
++  {
++  case XINE_IMGFMT_YV12:
++    Y  = *(frame-&gt;base[ 0 ] + frame-&gt;pitches[ 0 ] * y     + x);
++    Cr = *(frame-&gt;base[ 1 ] + frame-&gt;pitches[ 1 ] * y / 2 + x / 2);
++    Cb = *(frame-&gt;base[ 2 ] + frame-&gt;pitches[ 2 ] * y / 2 + x / 2);
++    break;
++    
++  case XINE_IMGFMT_YUY2:
++    Y  = *(frame-&gt;base[ 0 ] + frame-&gt;pitches[ 0 ] * y + x * 2 + 0);
++    x &amp;= ~1;
++    Cr = *(frame-&gt;base[ 0 ] + frame-&gt;pitches[ 0 ] * y + x * 2 + 1);
++    Cb = *(frame-&gt;base[ 0 ] + frame-&gt;pitches[ 0 ] * y + x * 2 + 3);
++    break;
++  }
++
++  return (Y == 0x10 &amp;&amp; Cr == 0x80 &amp;&amp; Cb == 0x80);
++}
++
++
+ static int expand_draw(vo_frame_t *frame, xine_stream_t *stream)
+ {
+-    post_video_port_t *port = (post_video_port_t *)frame-&gt;port;
+-    post_expand_t *this = (post_expand_t *)port-&gt;post;
+-    int skip;
+-
+-    frame-&gt;ratio = this-&gt;aspect;
+-    _x_post_frame_copy_down(frame, frame-&gt;next);
+-    skip = frame-&gt;next-&gt;draw(frame-&gt;next, stream);
+-    _x_post_frame_copy_up(frame, frame-&gt;next);
+-    return skip;
++  post_video_port_t *port = (post_video_port_t *)frame-&gt;port;
++  post_expand_t     *this = (post_expand_t *)port-&gt;post;
++  int                skip;
++
++  if (this-&gt;centre_cut_out_mode &amp;&amp; !frame-&gt;bad_frame)
++  {
++    /* expected area of inner 4:3 image */
++    int centre_width = frame-&gt;width * (9 * 4) / (16 * 3);
++    int centre_left  = (frame-&gt;width - centre_width ) / 2;
++
++    /* centre point for detecting a black frame */
++    int centre_x = frame-&gt;width  / 2;
++    int centre_y = frame-&gt;height / 2;
++
++    /* ignore a black frame as it could lead to wrong results */
++    if (!is_pixel_black(frame, centre_x, centre_y))
++    {
++      /* coordinates for testing black border near the centre area */
++      int test_left  = centre_left - 16;
++      int test_right = centre_left + 16 + centre_width;
++
++      /* enable cropping when these pixels are black */
++      this-&gt;cropping_active = is_pixel_black(frame, test_left, centre_y)
++        &amp;&amp; is_pixel_black(frame, test_right, centre_y);
++    }
++
++    /* crop frame */
++    if (this-&gt;centre_cut_out_mode &amp;&amp; this-&gt;cropping_active) {
++      frame-&gt;crop_left  += centre_left;
++      frame-&gt;crop_right += centre_left;
++
++      /* get_frame() allocated an extra high frame */
++      frame-&gt;crop_top    += (frame-&gt;next-&gt;height - frame-&gt;height) / 2;
++      frame-&gt;crop_bottom += (frame-&gt;next-&gt;height - frame-&gt;height) / 2;
++    }
++  }
++
++  frame-&gt;ratio = this-&gt;aspect;
++  _x_post_frame_copy_down(frame, frame-&gt;next);
++  skip = frame-&gt;next-&gt;draw(frame-&gt;next, stream);
++  _x_post_frame_copy_up(frame, frame-&gt;next);
++
++  return skip;
+ }
+ 
+ 
+@@ -338,6 +421,10 @@
+ 
+ static int expand_intercept_ovl(post_video_port_t *port)
+ {
++  post_expand_t         *this = (post_expand_t *)port-&gt;post;
++
++  if (this-&gt;centre_cut_out_mode &amp;&amp; this-&gt;cropping_active) return 0;
++  
+   /* we always intercept overlay manager */
+   return 1;
+ }
+Index: xine-lib/src/xine-engine/post.c
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/src/xine-engine/post.c,v
+retrieving revision 1.32
+diff -u -r1.32 post.c
+--- xine-lib/src/xine-engine/post.c	27 Jan 2006 07:46:15 -0000	1.32
++++ xine-lib/src/xine-engine/post.c	10 Dec 2006 19:07:40 -0000
+@@ -149,6 +149,14 @@
+   if (port-&gt;port_lock) pthread_mutex_unlock(port-&gt;port_lock);
+ }
+ 
++static void post_video_trigger_drawing(xine_video_port_t *port_gen) {
++  post_video_port_t *port = (post_video_port_t *)port_gen;
++  
++  if (port-&gt;port_lock) pthread_mutex_lock(port-&gt;port_lock);
++  port-&gt;original_port-&gt;trigger_drawing(port-&gt;original_port);
++  if (port-&gt;port_lock) pthread_mutex_unlock(port-&gt;port_lock);
++}
++
+ static int post_video_status(xine_video_port_t *port_gen, xine_stream_t *stream,
+                              int *width, int *height, int64_t *img_duration) {
+   post_video_port_t *port = (post_video_port_t *)port_gen;
+@@ -223,6 +231,7 @@
+   port-&gt;new_port.exit                = post_video_exit;
+   port-&gt;new_port.get_overlay_manager = post_video_get_overlay_manager;
+   port-&gt;new_port.flush               = post_video_flush;
++  port-&gt;new_port.trigger_drawing     = post_video_trigger_drawing;
+   port-&gt;new_port.status              = post_video_status;
+   port-&gt;new_port.get_property        = post_video_get_property;
+   port-&gt;new_port.set_property        = post_video_set_property;
+Index: xine-lib/src/xine-engine/video_out.c
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/src/xine-engine/video_out.c,v
+retrieving revision 1.225
+diff -u -r1.225 video_out.c
+--- xine-lib/src/xine-engine/video_out.c	25 Mar 2006 01:26:34 -0000	1.225
++++ xine-lib/src/xine-engine/video_out.c	10 Dec 2006 19:07:40 -0000
+@@ -127,6 +127,9 @@
+   int                       frame_drop_limit;
+   int                       frame_drop_cpt;
+   int                       crop_left, crop_right, crop_top, crop_bottom;
++
++  pthread_mutex_t           trigger_drawing_mutex;
++  pthread_cond_t            trigger_drawing;
+ } vos_t;
+ 
+ 
+@@ -568,6 +571,7 @@
+     vo_append_to_img_buf_queue (this-&gt;display_img_buf_queue, img);
+     
+   } else {
++    fprintf (stderr, &quot;bad_frame\n&quot;);
+     lprintf (&quot;bad_frame\n&quot;);
+ 
+     if (stream) {
+@@ -1039,6 +1043,24 @@
+     this-&gt;redraw_needed = 1;
+ }
+ 
++static int interruptable_sleep(vos_t *this, int usec_to_sleep)
++{
++  struct timespec abstime;
++
++  struct timeval now;
++  gettimeofday(&amp;now, 0);
++
++  abstime.tv_sec  = now.tv_sec + usec_to_sleep / 1000000;
++  abstime.tv_nsec = now.tv_usec * 1000 + (usec_to_sleep % 1000000) * 1000;
++
++  if (abstime.tv_nsec &gt; 1000000000) {
++    abstime.tv_nsec -= 1000000000;
++    abstime.tv_sec++;
++  }
++
++  return pthread_cond_timedwait(&amp;this-&gt;trigger_drawing, &amp;this-&gt;trigger_drawing_mutex, &amp;abstime);
++}
++
+ /* special loop for paused mode
+  * needed to update screen due overlay changes, resize, window
+  * movement, brightness adjusting etc.
+@@ -1084,7 +1106,7 @@
+     }
+     
+     pthread_mutex_unlock( &amp;this-&gt;free_img_buf_queue-&gt;mutex );
+-    xine_usec_sleep (20000);
++    interruptable_sleep(this, 20000);
+     pthread_mutex_lock( &amp;this-&gt;free_img_buf_queue-&gt;mutex );
+   }
+   
+@@ -1112,6 +1134,8 @@
+   nice(-2);
+ #endif /* WIN32 */
+ 
++  pthread_mutex_lock(&amp;this-&gt;trigger_drawing_mutex);
++
+   /*
+    * here it is - the heart of xine (or rather: one of the hearts
+    * of xine) : the video output loop
+@@ -1214,7 +1238,10 @@
+ 		&quot;video_out: vpts/clock error, next_vpts=%&quot; PRId64 &quot; cur_vpts=%&quot; PRId64 &quot;\n&quot;, next_frame_vpts,vpts);
+                
+       if (usec_to_sleep &gt; 0)
+-        xine_usec_sleep (usec_to_sleep);
++      {
++        if (0 == interruptable_sleep(this, usec_to_sleep))
++          break;
++      }
+ 
+       if (this-&gt;discard_frames)
+         break;
+@@ -1222,6 +1249,8 @@
+     } while ( (usec_to_sleep &gt; 0) &amp;&amp; this-&gt;video_loop_running);
+   }
+ 
++  pthread_mutex_unlock(&amp;this-&gt;trigger_drawing_mutex);
++
+   /*
+    * throw away undisplayed frames
+    */
+@@ -1597,6 +1626,9 @@
+   free (this-&gt;free_img_buf_queue);
+   free (this-&gt;display_img_buf_queue);
+ 
++  pthread_cond_destroy(&amp;this-&gt;trigger_drawing);
++  pthread_mutex_destroy(&amp;this-&gt;trigger_drawing_mutex);
++
+   free (this);
+ }
+ 
+@@ -1666,6 +1698,14 @@
+   }
+ }
+ 
++static void vo_trigger_drawing (xine_video_port_t *this_gen) {
++  vos_t      *this = (vos_t *) this_gen;
++
++  pthread_mutex_lock (&amp;this-&gt;trigger_drawing_mutex);
++  pthread_cond_signal (&amp;this-&gt;trigger_drawing);
++  pthread_mutex_unlock (&amp;this-&gt;trigger_drawing_mutex);
++}
++
+ /* crop_frame() will allocate a new frame to copy in the given image
+  * while cropping. maybe someday this will be an automatic post plugin.
+  */
+@@ -1761,6 +1801,7 @@
+   this-&gt;vo.enable_ovl            = vo_enable_overlay;
+   this-&gt;vo.get_overlay_manager   = vo_get_overlay_manager;
+   this-&gt;vo.flush                 = vo_flush;
++  this-&gt;vo.trigger_drawing       = vo_trigger_drawing;
+   this-&gt;vo.get_property          = vo_get_property;
+   this-&gt;vo.set_property          = vo_set_property;
+   this-&gt;vo.status                = vo_status;
+@@ -1780,6 +1821,9 @@
+   this-&gt;overlay_source-&gt;init (this-&gt;overlay_source);
+   this-&gt;overlay_enabled       = 1;
+ 
++  pthread_mutex_init(&amp;this-&gt;trigger_drawing_mutex, NULL);
++  pthread_cond_init(&amp;this-&gt;trigger_drawing, NULL);
++
+   this-&gt;frame_drop_limit      = 3;
+   this-&gt;frame_drop_cpt        = 0;
+ 
+Index: xine-lib/src/xine-engine/video_out.h
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/src/xine-engine/video_out.h,v
+retrieving revision 1.114
+diff -u -r1.114 video_out.h
+--- xine-lib/src/xine-engine/video_out.h	26 Sep 2006 05:19:49 -0000	1.114
++++ xine-lib/src/xine-engine/video_out.h	10 Dec 2006 19:07:40 -0000
+@@ -205,6 +205,9 @@
+   /* flush video_out fifo */
+   void (*flush) (xine_video_port_t *self);
+ 
++  /* trigger immediate drawing */
++  void (*trigger_drawing) (xine_video_port_t *self);
++
+   /* Get/Set video property
+    *
+    * See VO_PROP_* bellow
+Index: xine-lib/src/xine-engine/video_overlay.h
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/src/xine-engine/video_overlay.h,v
+retrieving revision 1.21
+diff -u -r1.21 video_overlay.h
+--- xine-lib/src/xine-engine/video_overlay.h	26 Sep 2006 05:19:49 -0000	1.21
++++ xine-lib/src/xine-engine/video_overlay.h	10 Dec 2006 19:07:40 -0000
+@@ -38,7 +38,7 @@
+ 
+ #define MAX_OBJECTS   50
+ #define MAX_EVENTS    50
+-#define MAX_SHOWING   16
++#define MAX_SHOWING   (5 + 16)
+ 
+ #define OVERLAY_EVENT_NULL             0
+ #define OVERLAY_EVENT_SHOW             1
+Index: xine-lib/src/xine-engine/xine.c
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/src/xine-engine/xine.c,v
+retrieving revision 1.335
+diff -u -r1.335 xine.c
+--- xine-lib/src/xine-engine/xine.c	16 Oct 2006 22:18:24 -0000	1.335
++++ xine-lib/src/xine-engine/xine.c	10 Dec 2006 19:07:40 -0000
+@@ -1954,14 +1954,14 @@
+ void xine_log (xine_t *this, int buf, const char *format, ...) {
+   va_list argp;
+   char    buffer[SCRATCH_LINE_LEN_MAX];
+-  
++/* disabled because it's not thread safe
+   if ( ! this-&gt;log_buffers[buf] )
+     this-&gt;log_buffers[buf] = _x_new_scratch_buffer(150);
+ 
+   va_start (argp, format);
+   this-&gt;log_buffers[buf]-&gt;scratch_printf (this-&gt;log_buffers[buf], format, argp);
+   va_end(argp);
+-
++*/
+   if(this-&gt;verbosity) {
+     va_start(argp, format);
+     vsnprintf(buffer, SCRATCH_LINE_LEN_MAX, format, argp);
+@@ -2016,3 +2016,91 @@
+   slave-&gt;master = master-&gt;master;
+   return 1;
+ }
++
++int _x_continue_stream_processing(xine_stream_t *stream)
++{
++  return stream-&gt;status != XINE_STATUS_STOP
++    &amp;&amp; stream-&gt;status != XINE_STATUS_QUIT;
++}
++
++void _x_trigger_relaxed_frame_drop_mode(xine_stream_t *stream)
++{
++  stream-&gt;first_frame_flag = 2;
++}
++
++void _x_reset_relaxed_frame_drop_mode(xine_stream_t *stream)
++{
++  stream-&gt;first_frame_flag = 1;
++}
++
++void _x_query_buffer_usage(xine_stream_t *stream, int *num_video_buffers, int *num_audio_buffers, int *num_video_frames, int *num_audio_frames)
++{
++  stream-&gt;xine-&gt;port_ticket-&gt;acquire(stream-&gt;xine-&gt;port_ticket, 0);
++
++  if (num_video_buffers)
++    *num_video_buffers = (stream-&gt;video_fifo ? stream-&gt;video_fifo-&gt;size(stream-&gt;video_fifo) : 0);
++    
++  if (num_audio_buffers)
++    *num_audio_buffers = (stream-&gt;audio_fifo ? stream-&gt;audio_fifo-&gt;size(stream-&gt;audio_fifo) : 0);
++    
++  if (num_video_frames)
++    *num_video_frames = (stream-&gt;video_out ? stream-&gt;video_out-&gt;get_property(stream-&gt;video_out, VO_PROP_BUFS_IN_FIFO) : 0);
++
++  if (num_audio_frames)
++    *num_audio_frames = (stream-&gt;audio_out ? stream-&gt;audio_out-&gt;get_property(stream-&gt;audio_out, AO_PROP_BUFS_IN_FIFO) : 0);
++
++  stream-&gt;xine-&gt;port_ticket-&gt;release(stream-&gt;xine-&gt;port_ticket, 0);
++}
++
++int _x_query_unprocessed_osd_events(xine_stream_t *stream)
++{
++  video_overlay_manager_t *ovl;
++  int redraw_needed;
++  
++  stream-&gt;xine-&gt;port_ticket-&gt;acquire(stream-&gt;xine-&gt;port_ticket, 0);
++
++  ovl = stream-&gt;video_out-&gt;get_overlay_manager(stream-&gt;video_out);
++  redraw_needed = ovl-&gt;redraw_needed(ovl, 0);
++ 
++  if (redraw_needed) 
++    stream-&gt;video_out-&gt;trigger_drawing(stream-&gt;video_out);
++
++  stream-&gt;xine-&gt;port_ticket-&gt;release(stream-&gt;xine-&gt;port_ticket, 0);
++
++  return redraw_needed;
++}
++
++int _x_demux_seek(xine_stream_t *stream, off_t start_pos, int start_time, int playing)
++{
++  if (!stream-&gt;demux_plugin)
++    return -1;
++  return stream-&gt;demux_plugin-&gt;seek(stream-&gt;demux_plugin, start_pos, start_time, playing);
++}
++
++int _x_lock_frontend(xine_stream_t *stream, int ms_to_time_out)
++{
++  if (ms_to_time_out &gt;= 0) {
++    struct timespec abstime;
++
++    struct timeval now;
++    gettimeofday(&amp;now, 0);
++
++    abstime.tv_sec = now.tv_sec + ms_to_time_out / 1000;
++    abstime.tv_nsec = now.tv_usec * 1000 + (ms_to_time_out % 1000) * 1e6;
++
++    if (abstime.tv_nsec &gt; 1e9) {
++      abstime.tv_nsec -= 1e9;
++      abstime.tv_sec++;
++    }
++
++    return (0 == pthread_mutex_timedlock(&amp;stream-&gt;frontend_lock, &amp;abstime));
++  }
++
++  pthread_mutex_lock(&amp;stream-&gt;frontend_lock);
++  return 1;
++}
++
++void _x_unlock_frontend(xine_stream_t *stream)
++{
++  pthread_mutex_unlock(&amp;stream-&gt;frontend_lock);
++}
+Index: xine-lib/src/xine-engine/xine_internal.h
+===================================================================
+RCS file: /cvsroot/xine/xine-lib/src/xine-engine/xine_internal.h,v
+retrieving revision 1.179
+diff -u -r1.179 xine_internal.h
+--- xine-lib/src/xine-engine/xine_internal.h	2 Oct 2006 15:56:06 -0000	1.179
++++ xine-lib/src/xine-engine/xine_internal.h	10 Dec 2006 19:07:40 -0000
+@@ -356,6 +356,15 @@
+  * private function prototypes:
+  */
+ 
++int _x_continue_stream_processing(xine_stream_t *stream) XINE_PROTECTED;
++void _x_trigger_relaxed_frame_drop_mode(xine_stream_t *stream) XINE_PROTECTED;
++void _x_reset_relaxed_frame_drop_mode(xine_stream_t *stream) XINE_PROTECTED;
++void _x_query_buffer_usage(xine_stream_t *stream, int *num_video_buffers, int *num_audio_buffers, int *num_video_frames, int *num_audio_frames) XINE_PROTECTED;
++int _x_query_unprocessed_osd_events(xine_stream_t *stream) XINE_PROTECTED;
++int _x_demux_seek(xine_stream_t *stream, off_t start_pos, int start_time, int playing) XINE_PROTECTED;
++int _x_lock_frontend(xine_stream_t *stream, int ms_to_time_out) XINE_PROTECTED;
++void _x_unlock_frontend(xine_stream_t *stream) XINE_PROTECTED;
++
+ void _x_handle_stream_end      (xine_stream_t *stream, int non_user) XINE_PROTECTED;
+ 
+ /* report message to UI. usually these are async errors */
+diff -Nurp ../xine-cvs/xine-lib/src/vdr/Makefile.am xine-lib/src/vdr/Makefile.am
+--- ../xine-cvs/xine-lib/src/vdr/Makefile.am	1970-01-01 01:00:00.000000000 +0100
++++ xine-lib/src/vdr/Makefile.am	2006-08-27 00:26:05.000000000 +0200
+@@ -0,0 +1,30 @@
++include $(top_srcdir)/misc/Makefile.common
++
++
++
++libdir = $(XINE_PLUGINDIR)
++
++AM_CFLAGS = -D_LARGEFILE64_SOURCE
++
++lib_LTLIBRARIES = \
++	xineplug_inp_vdr.la
++
++xineplug_inp_vdr_la_SOURCES = input_vdr.c
++xineplug_inp_vdr_la_LIBADD = $(XINE_LIB)
++xineplug_inp_vdr_la_LDFLAGS = -avoid-version -module @IMPURE_TEXT_LDFLAGS@
++
++include_HEADERS = input_vdr.h
++
++
++
++postlibdir = $(XINE_PLUGINDIR)/post
++
++postlib_LTLIBRARIES = \
++	xineplug_post_vdr.la
++
++xineplug_post_vdr_la_SOURCES = post_vdr.c post_vdr_video.c post_vdr_audio.c
++xineplug_post_vdr_la_LIBADD = $(XINE_LIB)
++xineplug_post_vdr_la_LDFLAGS = -avoid-version -module @IMPURE_TEXT_LDFLAGS@
++
++noinst_HEADERS = post_vdr.h
++
+diff -Nurp ../xine-cvs/xine-lib/src/vdr/input_vdr.c xine-lib/src/vdr/input_vdr.c
+--- ../xine-cvs/xine-lib/src/vdr/input_vdr.c	1970-01-01 01:00:00.000000000 +0100
++++ xine-lib/src/vdr/input_vdr.c	2006-04-17 22:53:54.000000000 +0200
+@@ -0,0 +1,2483 @@
++/*
++ * Copyright (C) 2003-2004 the xine project
++ *
++ * This file is part of xine, a free video player.
++ * 
++ * xine is free software; you can redistribute it and/or modify
++ * it under the terms of the GNU General Public License as published by
++ * the Free Software Foundation; either version 2 of the License, or
++ * (at your option) any later version.
++ * 
++ * xine is distributed in the hope that it will be useful,
++ * but WITHOUT ANY WARRANTY; without even the implied warranty of
++ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
++ * GNU General Public License for more details.
++ * 
++ * You should have received a copy of the GNU General Public License
++ * along with this program; if not, write to the Free Software
++ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA
++ *
++ * $Id: input_vdr.c,v 1.51 2003/05/02 15:02:11 miguelfreitas Exp $
++ */
++
++#ifdef HAVE_CONFIG_H
++#include &quot;config.h&quot;
++#endif
++
++#include &lt;stdio.h&gt;
++#include &lt;stdlib.h&gt;
++#include &lt;string.h&gt;
++#include &lt;fcntl.h&gt;
++#include &lt;unistd.h&gt;
++#include &lt;sys/stat.h&gt;
++#include &lt;sys/poll.h&gt;
++#include &lt;errno.h&gt;
++#include &lt;pthread.h&gt;
++
++#define LOG_MODULE &quot;input_vdr&quot;
++#define LOG_VERBOSE
++/*
++#define LOG
++*/
++#include &quot;xine_internal.h&quot;
++#include &quot;xineutils.h&quot;
++#include &quot;input_plugin.h&quot;
++
++#include &quot;input_vdr.h&quot;
++#include &quot;post_vdr.h&quot;
++
++
++
++#define VDR_MAX_NUM_WINDOWS 16
++#define VDR_ABS_FIFO_DIR &quot;/tmp/vdr-xine&quot;
++
++
++
++#define BUF_SIZE 1024
++
++#define LOG_OSD(x)
++/*
++#define LOG_OSD(x) x
++*/
++
++
++typedef struct
++{
++  input_plugin_t      input_plugin;
++   
++  xine_stream_t      *stream;
++  xine_stream_t      *stream_external;
++
++  int                 fh;
++  int                 fh_control;
++  int                 fh_result;
++  int                 fh_event;
++  
++  char               *mrl;
++
++  off_t               curpos;
++  char                seek_buf[ BUF_SIZE ];
++   
++  char               *preview;
++  off_t               preview_size;
++   
++  enum funcs          cur_func;
++  off_t               cur_size;
++  off_t               cur_done;
++
++  xine_osd_t         *osd_window[ VDR_MAX_NUM_WINDOWS ];
++  uint8_t            *osd_buffer;
++  uint32_t            osd_buffer_size;
++  uint8_t             osd_unscaled_blending;
++
++  uint8_t             audio_channels;
++  uint8_t             trick_speed_mode;
++  uint8_t             mute_mode;
++  uint8_t             dont_change_xine_volume;
++  int                 last_volume;
++  vdr_frame_size_changed_data_t frame_size;
++  
++  pthread_t           rpc_thread;
++  int                 rpc_thread_shutdown;
++  pthread_mutex_t     rpc_thread_shutdown_lock;
++  pthread_cond_t      rpc_thread_shutdown_cond;
++
++  xine_event_queue_t *event_queue;
++  xine_event_queue_t *event_queue_external;
++
++}
++vdr_input_plugin_t;
++
++
++
++typedef struct
++{
++  input_class_t       input_class;
++  xine_t             *xine;
++  char               *mrls[ 2 ];
++}
++vdr_input_class_t;
++
++
++
++static int vdr_write(int f, void *b, int n)
++{
++  int t = 0, r;
++  
++  while (t &lt; n)
++  {
++    /*
++     * System calls are not a thread cancellation point in Linux
++     * pthreads.  However, the RT signal sent to cancel the thread
++     * will cause recv() to return with EINTR, and we can manually
++     * check cancellation.
++     */
++    pthread_testcancel();
++    r = write(f, ((char *)b) + t, n - t);
++    pthread_testcancel();
++
++    if (r &lt; 0
++        &amp;&amp; (errno == EINTR
++          || errno == EAGAIN))
++    {
++      continue;
++    }
++    
++    if (r &lt; 0)
++      return r;
++    
++    t += r;
++  }
++  
++  return t;
++}
++
++
++
++static int internal_write_event_play_external(vdr_input_plugin_t *this, uint32_t key);
++
++static void event_handler_external(void *user_data, const xine_event_t *event)
++{
++  vdr_input_plugin_t *this = (vdr_input_plugin_t *)user_data;
++  uint32_t key = key_none;
++/*  
++  printf(&quot;event_handler_external(): event-&gt;type: %d\n&quot;, event-&gt;type);
++*/
++  switch (event-&gt;type)
++  {
++  case XINE_EVENT_UI_PLAYBACK_FINISHED:
++    break;
++
++  default:
++    return;
++  }	
++  
++  if (0 != internal_write_event_play_external(this, key))
++    xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG, 
++            _(LOG_MODULE &quot;: input event write: %s.\n&quot;), strerror(errno));
++}
++
++static void external_stream_stop(vdr_input_plugin_t *this)
++{
++  if (this-&gt;stream_external)
++  {    
++    xine_stop(this-&gt;stream_external);
++    xine_close(this-&gt;stream_external);
++
++    if (this-&gt;event_queue_external)
++    {
++      xine_event_dispose_queue(this-&gt;event_queue_external);
++      this-&gt;event_queue_external = 0;
++    }
++
++    _x_demux_flush_engine(this-&gt;stream_external);
++    
++    xine_dispose(this-&gt;stream_external);    
++    this-&gt;stream_external = 0;
++  }
++}
++
++static void external_stream_play(vdr_input_plugin_t *this, char *file_name)
++{
++  external_stream_stop(this);
++
++  this-&gt;stream_external = xine_stream_new(this-&gt;stream-&gt;xine, this-&gt;stream-&gt;audio_out, this-&gt;stream-&gt;video_out);
++  
++  this-&gt;event_queue_external = xine_event_new_queue(this-&gt;stream_external);
++
++  xine_event_create_listener_thread(this-&gt;event_queue_external, event_handler_external, this);
++
++  if (!xine_open(this-&gt;stream_external, file_name)
++      || !xine_play(this-&gt;stream_external, 0, 0))
++  {
++    uint32_t key = key_none;
++    
++    if ( 0 != internal_write_event_play_external(this, key))
++      xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG, 
++              _(LOG_MODULE &quot;: input event write: %s.\n&quot;), strerror(errno));
++  }
++}
++
++static off_t vdr_read_abort(xine_stream_t *stream, int fd, char *buf, off_t todo)
++{  
++  off_t ret;
++  
++  while (1)
++  {
++    /*
++     * System calls are not a thread cancellation point in Linux
++     * pthreads.  However, the RT signal sent to cancel the thread
++     * will cause recv() to return with EINTR, and we can manually
++     * check cancellation.
++     */
++    pthread_testcancel();
++    ret = _x_read_abort(stream, fd, buf, todo);
++    pthread_testcancel();
++    
++    if (ret &lt; 0
++        &amp;&amp; (errno == EINTR
++          || errno == EAGAIN))
++    {
++      continue;
++    }
++    
++    break;
++  }
++
++  return ret;
++}
++
++#define READ_DATA_OR_FAIL(kind, log) \
++  data_##kind##_t *data = &amp;data_union.kind; \
++  { \
++    log; \
++    n = vdr_read_abort(this-&gt;stream, this-&gt;fh_control, (char *)data + sizeof (data-&gt;header), sizeof (*data) - sizeof (data-&gt;header)); \
++    if (n != sizeof (*data) - sizeof (data-&gt;header)) \
++      return -1; \
++    \
++    this-&gt;cur_size -= n; \
++  } 
++
++static double _now()
++{
++  struct timeval tv;
++  
++  gettimeofday(&amp;tv, 0);
++
++  return (tv.tv_sec * 1000000.0 + tv.tv_usec) / 1000.0;
++}
++
++static off_t vdr_execute_rpc_command(vdr_input_plugin_t *this)
++{
++  data_union_t data_union;
++  off_t n;
++   
++  n = vdr_read_abort(this-&gt;stream, this-&gt;fh_control, (char *)&amp;data_union, sizeof (data_union.header));
++  if (n != sizeof (data_union.header))
++    return -1;
++  
++  this-&gt;cur_func = data_union.header.func;
++  this-&gt;cur_size = data_union.header.len - sizeof (data_union.header);
++  this-&gt;cur_done = 0;
++
++  switch (this-&gt;cur_func)
++  {
++  case func_nop:
++    {
++      READ_DATA_OR_FAIL(nop, lprintf(&quot;got NOP\n&quot;));
++    }
++    break;
++
++  case func_osd_new:
++    {
++      READ_DATA_OR_FAIL(osd_new, LOG_OSD(lprintf(&quot;got OSDNEW\n&quot;)));
++/*
++      LOG_OSD(lprintf(&quot;... (%d,%d)-(%d,%d)\n&quot;, data-&gt;x, data-&gt;y, data-&gt;width, data-&gt;height));
++
++      fprintf(stderr, &quot;vdr: osdnew %d\n&quot;, data-&gt;window);
++*/    
++      if (data-&gt;window &gt;= VDR_MAX_NUM_WINDOWS)
++        return -1;
++      
++      if (0 != this-&gt;osd_window[ data-&gt;window ])
++        return -1;
++      
++      this-&gt;osd_window[ data-&gt;window ] = xine_osd_new(this-&gt;stream
++                                                     , data-&gt;x
++                                                     , data-&gt;y
++                                                     , data-&gt;width
++                                                     , data-&gt;height);
++      
++      if (0 == this-&gt;osd_window[ data-&gt;window ])
++        return -1;
++    }
++    break;
++
++  case func_osd_free:
++    {
++      READ_DATA_OR_FAIL(osd_free, LOG_OSD(lprintf(&quot;got OSDFREE\n&quot;)));
++/*      
++      fprintf(stderr, &quot;vdr: osdfree %d\n&quot;, data-&gt;window);
++*/      
++      if (data-&gt;window &gt;= VDR_MAX_NUM_WINDOWS)
++        return -1;
++      
++      if (0 != this-&gt;osd_window[ data-&gt;window ])
++        xine_osd_free(this-&gt;osd_window[ data-&gt;window ]);
++      
++      this-&gt;osd_window[ data-&gt;window ] = 0;
++    }
++    break;
++    
++  case func_osd_show:
++    {
++      READ_DATA_OR_FAIL(osd_show, LOG_OSD(lprintf(&quot;got OSDSHOW\n&quot;)));
++/*      
++      fprintf(stderr, &quot;vdr: osdshow %d\n&quot;, data-&gt;window);
++*/      
++      if (data-&gt;window &gt;= VDR_MAX_NUM_WINDOWS)
++        return -1;
++      
++      if (0 != this-&gt;osd_window[ data-&gt;window ])
++      {
++        if (this-&gt;osd_unscaled_blending)
++          xine_osd_show_unscaled(this-&gt;osd_window[ data-&gt;window ], 0);
++        else
++          xine_osd_show(this-&gt;osd_window[ data-&gt;window ], 0);
++      }
++    }
++    break;
++    
++  case func_osd_hide:
++    {
++      READ_DATA_OR_FAIL(osd_hide, LOG_OSD(lprintf(&quot;got OSDHIDE\n&quot;)));
++/*      
++      fprintf(stderr, &quot;vdr: osdhide %d\n&quot;, data-&gt;window);
++*/      
++      if (data-&gt;window &gt;= VDR_MAX_NUM_WINDOWS)
++        return -1;
++      
++      if (0 != this-&gt;osd_window[ data-&gt;window ])
++      {
++        if (this-&gt;osd_unscaled_blending)
++          xine_osd_show_unscaled(this-&gt;osd_window[ data-&gt;window ], 0);
++        else
++          xine_osd_show(this-&gt;osd_window[ data-&gt;window ], 0);
++      }
++    }
++    break;
++    
++  case func_osd_flush:
++    {
++      double _t1, _t2;
++      int _n = 0;
++      int _to = 0;
++      int r = 0;
++      
++      READ_DATA_OR_FAIL(osd_flush, LOG_OSD(lprintf(&quot;got OSDFLUSH\n&quot;)));
++/*      
++      fprintf(stderr, &quot;vdr: osdflush +\n&quot;);
++*/
++      _t1 = _now();
++      
++      while ((r = _x_query_unprocessed_osd_events(this-&gt;stream)))
++      {
++        if ((_now() - _t1) &gt; 200)
++        {
++          _to = 1;
++          break;
++        }
++/*        
++        fprintf(stderr, &quot;redraw_needed: 1\n&quot;);
++*/        
++/*        sched_yield(); */
++        xine_usec_sleep(5000);
++        _n++;
++      }
++
++      _t2 = _now();
++      fprintf(stderr, &quot;vdr: osdflush: n: %d, %.1lf, timeout: %d, result: %d\n&quot;, _n, _t2 - _t1, _to, r);
++/*      
++      fprintf(stderr, &quot;redraw_needed: 0\n&quot;);        
++      
++      fprintf(stderr, &quot;vdr: osdflush -\n&quot;);
++*/
++    }
++    break;
++    
++  case func_osd_set_position:
++    {
++      READ_DATA_OR_FAIL(osd_set_position, LOG_OSD(lprintf(&quot;got OSDSETPOSITION\n&quot;)));
++/*
++      fprintf(stderr, &quot;vdr: osdsetposition %d\n&quot;, data-&gt;window);    
++*/      
++      if (data-&gt;window &gt;= VDR_MAX_NUM_WINDOWS)
++        return -1;
++      
++      if (0 != this-&gt;osd_window[ data-&gt;window ])
++        xine_osd_set_position(this-&gt;osd_window[ data-&gt;window ], data-&gt;x, data-&gt;y);
++    }
++    break;
++  
++  case func_osd_draw_bitmap:
++    {
++      READ_DATA_OR_FAIL(osd_draw_bitmap, LOG_OSD(lprintf(&quot;got OSDDRAWBITMAP\n&quot;)));
++/*
++      fprintf(stderr, &quot;vdr: osddrawbitmap %d\n&quot;, data-&gt;window);    
++*/      
++      if (this-&gt;osd_buffer_size &lt; this-&gt;cur_size)
++      {
++        if (this-&gt;osd_buffer)
++          free(this-&gt;osd_buffer);
++        
++        this-&gt;osd_buffer_size = 0;
++        
++        this-&gt;osd_buffer = xine_xmalloc(this-&gt;cur_size);
++        if (!this-&gt;osd_buffer)
++          return -1;
++        
++        this-&gt;osd_buffer_size = this-&gt;cur_size;
++      }
++      
++      n = vdr_read_abort (this-&gt;stream, this-&gt;fh_control, (char *)this-&gt;osd_buffer, this-&gt;cur_size);
++      if (n != this-&gt;cur_size)
++        return -1;
++      
++      this-&gt;cur_size -= n;
++      
++      if (data-&gt;window &gt;= VDR_MAX_NUM_WINDOWS)
++        return -1;
++      
++      if (0 != this-&gt;osd_window[ data-&gt;window ])
++        xine_osd_draw_bitmap(this-&gt;osd_window[ data-&gt;window ], this-&gt;osd_buffer, data-&gt;x, data-&gt;y, data-&gt;width, data-&gt;height, 0);
++    }
++    break;
++    
++  case func_set_color:
++    {
++      uint32_t vdr_color[ 256 ];
++      
++      READ_DATA_OR_FAIL(set_color, lprintf(&quot;got SETCOLOR\n&quot;));
++      
++      if (((data-&gt;num + 1) * sizeof (uint32_t)) != this-&gt;cur_size)
++        return -1;
++      
++      n = vdr_read_abort (this-&gt;stream, this-&gt;fh_control, (char *)&amp;vdr_color[ data-&gt;index ], this-&gt;cur_size);
++      if (n != this-&gt;cur_size)
++        return -1;
++      
++      this-&gt;cur_size -= n;
++      
++      if (data-&gt;window &gt;= VDR_MAX_NUM_WINDOWS)
++        return -1;
++      
++      if (0 != this-&gt;osd_window[ data-&gt;window ])
++      {
++        uint32_t color[ 256 ];
++        uint8_t trans[ 256 ];
++        
++        xine_osd_get_palette(this-&gt;osd_window[ data-&gt;window ], color, trans);
++        
++        {
++          int i;
++          
++          for (i = data-&gt;index; i &lt;= (data-&gt;index + data-&gt;num); i++)
++          {
++            int a = (vdr_color[ i ] &amp; 0xff000000) &gt;&gt; 0x18;
++            int r = (vdr_color[ i ] &amp; 0x00ff0000) &gt;&gt; 0x10;
++            int g = (vdr_color[ i ] &amp; 0x0000ff00) &gt;&gt; 0x08;
++            int b = (vdr_color[ i ] &amp; 0x000000ff) &gt;&gt; 0x00;
++            
++            int y  = (( 66 * r + 129 * g +  25 * b + 128) &gt;&gt; 8) +  16;
++            int cr = ((112 * r -  94 * g -  18 * b + 128) &gt;&gt; 8) + 128;
++            int cb = ((-38 * r -  74 * g + 112 * b + 128) &gt;&gt; 8) + 128;
++
++            uint8_t *dst = (uint8_t *)&amp;color[ i ];
++            *dst++ = cb;
++            *dst++ = cr;
++            *dst++ = y;
++            *dst++ = 0;
++
++            trans[ i ] = a &gt;&gt; 4;
++          }
++        }
++        
++        xine_osd_set_palette(this-&gt;osd_window[ data-&gt;window ], color, trans);
++      }
++    }
++    break;
++
++  case func_play_external:
++    {
++      char file_name[ 1024 ];
++      int file_name_len = 0;
++      
++      READ_DATA_OR_FAIL(play_external, lprintf(&quot;got PLAYEXTERNAL\n&quot;));
++
++      file_name_len = this-&gt;cur_size;
++
++      if (0 != file_name_len)
++      {
++        if (file_name_len &lt;= 1
++            || file_name_len &gt; sizeof (file_name))
++        {
++          return -1;
++        }
++      
++        n = vdr_read_abort (this-&gt;stream, this-&gt;fh_control, file_name, file_name_len);
++        if (n != file_name_len)
++          return -1;
++      
++        if (file_name[ file_name_len - 1 ] != '\0')
++          return -1;
++      
++        this-&gt;cur_size -= n;
++      }
++
++      lprintf((file_name_len &gt; 0) ? &quot;----------- play external: %s\n&quot; : &quot;---------- stop external\n&quot;, file_name);
++      
++      if (file_name_len &gt; 0)
++        external_stream_play(this, file_name);
++      else
++        external_stream_stop(this);
++    }
++    break;
++
++  case func_clear:
++    {
++      READ_DATA_OR_FAIL(clear, lprintf(&quot;got CLEAR\n&quot;));
++
++      {
++        int orig_speed = xine_get_param(this-&gt;stream, XINE_PARAM_FINE_SPEED);
++        if (orig_speed &lt;= 0)
++          xine_set_param(this-&gt;stream, XINE_PARAM_FINE_SPEED, XINE_FINE_SPEED_NORMAL);
++fprintf(stderr, &quot;+++ CLEAR(%d%c)\n&quot;, data-&gt;n, data-&gt;s ? 'b' : 'a');
++/*        
++        if (!this-&gt;dont_change_xine_volume)
++          xine_set_param(this-&gt;stream, XINE_PARAM_AUDIO_VOLUME, 0);
++*/      
++        _x_demux_flush_engine(this-&gt;stream);
++fprintf(stderr, &quot;=== CLEAR(%d.1)\n&quot;, data-&gt;n);
++        _x_demux_control_start(this-&gt;stream);
++fprintf(stderr, &quot;=== CLEAR(%d.2)\n&quot;, data-&gt;n);
++        _x_demux_seek(this-&gt;stream, 0, 0, 0);
++fprintf(stderr, &quot;=== CLEAR(%d.3)\n&quot;, data-&gt;n);
++
++        _x_stream_info_reset(this-&gt;stream, XINE_STREAM_INFO_AUDIO_BITRATE);
++fprintf(stderr, &quot;=== CLEAR(%d.4)\n&quot;, data-&gt;n);
++	_x_meta_info_reset(this-&gt;stream, XINE_META_INFO_AUDIOCODEC);
++fprintf(stderr, &quot;=== CLEAR(%d.5)\n&quot;, data-&gt;n);
++
++        _x_trigger_relaxed_frame_drop_mode(this-&gt;stream);
++/*        _x_reset_relaxed_frame_drop_mode(this-&gt;stream); */
++/*      
++        if (!this-&gt;dont_change_xine_volume)
++          xine_set_param(this-&gt;stream, XINE_PARAM_AUDIO_VOLUME, this-&gt;last_volume);
++*/
++fprintf(stderr, &quot;--- CLEAR(%d%c)\n&quot;, data-&gt;n, data-&gt;s ? 'b' : 'a');
++        if (orig_speed &lt;= 0)
++          xine_set_param(this-&gt;stream, XINE_PARAM_FINE_SPEED, orig_speed);
++      }
++    }
++    break;
++
++  case func_first_frame:
++    {
++      READ_DATA_OR_FAIL(first_frame, lprintf(&quot;got FIRST FRAME\n&quot;));
++
++      _x_trigger_relaxed_frame_drop_mode(this-&gt;stream);
++/*      _x_reset_relaxed_frame_drop_mode(this-&gt;stream); */
++    }
++    break;
++
++  case func_still_frame:
++    {
++      READ_DATA_OR_FAIL(still_frame, lprintf(&quot;got STILL FRAME\n&quot;));
++
++      _x_reset_relaxed_frame_drop_mode(this-&gt;stream);
++    }
++    break;
++
++  case func_set_video_window:
++    {
++      READ_DATA_OR_FAIL(set_video_window, lprintf(&quot;got SET VIDEO WINDOW\n&quot;));
++/*
++      fprintf(stderr, &quot;svw: (%d, %d)x(%d, %d), (%d, %d)\n&quot;, data-&gt;x, data-&gt;y, data-&gt;w, data-&gt;h, data-&gt;wRef, data-&gt;hRef);
++*/    
++      {
++        xine_event_t event;
++        vdr_set_video_window_data_t event_data;
++        
++        event_data.x = data-&gt;x;
++        event_data.y = data-&gt;y;
++        event_data.w = data-&gt;w;
++        event_data.h = data-&gt;h;
++        event_data.w_ref = data-&gt;w_ref;
++        event_data.h_ref = data-&gt;h_ref;
++        
++        event.type = XINE_EVENT_VDR_SETVIDEOWINDOW;
++        event.data = &amp;event_data;
++        event.data_length = sizeof (event_data);
++        
++        xine_event_send(this-&gt;stream, &amp;event);
++      }
++    }
++    break;
++    
++  case func_select_audio:
++    {
++      READ_DATA_OR_FAIL(select_audio, lprintf(&quot;got SELECT AUDIO\n&quot;));
++
++      this-&gt;audio_channels = data-&gt;channels;
++      
++      {
++        xine_event_t event;
++        vdr_select_audio_data_t event_data;
++        
++        event_data.channels = this-&gt;audio_channels;
++        
++        event.type = XINE_EVENT_VDR_SELECTAUDIO;
++        event.data = &amp;event_data;
++        event.data_length = sizeof (event_data);
++        
++        xine_event_send(this-&gt;stream, &amp;event);
++      }
++    }
++    break;
++    
++  case func_trick_speed_mode:
++    {
++      READ_DATA_OR_FAIL(trick_speed_mode, lprintf(&quot;got TRICK SPEED MODE\n&quot;));
++
++      this-&gt;trick_speed_mode = data-&gt;on;
++      
++      _x_demux_seek(this-&gt;stream, 0, 0, 0);
++
++      {
++        xine_event_t event;
++        
++        event.type = XINE_EVENT_VDR_TRICKSPEEDMODE;
++        event.data = 0;
++        event.data_length = this-&gt;trick_speed_mode;
++/*        fprintf(stderr, &quot;************************: %p, %d\n&quot;, event.data, event.data_length); */
++        xine_event_send(this-&gt;stream, &amp;event);
++      }
++    }
++    break;
++    
++  case func_flush:
++    {
++      READ_DATA_OR_FAIL(flush, lprintf(&quot;got FLUSH\n&quot;));
++
++      if (!data-&gt;just_wait)
++      {
++        if (this-&gt;stream-&gt;video_fifo)
++        {
++          buf_element_t *buf = this-&gt;stream-&gt;video_fifo-&gt;buffer_pool_alloc(this-&gt;stream-&gt;video_fifo);
++          if (!buf)
++          {
++            xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG, _(LOG_MODULE &quot;: buffer_pool_alloc() failed!\n&quot;));
++            return -1;
++          }
++          
++          buf-&gt;type = BUF_CONTROL_FLUSH_DECODER;
++          
++          this-&gt;stream-&gt;video_fifo-&gt;put(this-&gt;stream-&gt;video_fifo, buf);
++        }
++      }
++      
++      {
++        double _t1, _t2;
++        int _n = 0;
++        
++        int vb = -1, ab = -1, vf = -1, af = -1;
++        
++        uint8_t timed_out = 0;
++        
++        struct timeval now, then;
++        
++        if (data-&gt;ms_timeout &gt;= 0)
++        {
++          gettimeofday(&amp;now, 0);
++          
++          then = now;
++          then.tv_usec += (data-&gt;ms_timeout % 1000) * 1000;
++          then.tv_sec  += (data-&gt;ms_timeout / 1000);
++          
++          if (then.tv_usec &gt;= 1000000)
++          {
++            then.tv_usec -= 1000000;
++            then.tv_sec  += 1;
++          }
++        }
++        else
++        {
++          then.tv_usec = 0;
++          then.tv_sec  = 0;
++        }
++
++        _t1 = _now();
++        
++        while (1)
++        {
++          _x_query_buffer_usage(this-&gt;stream, &amp;vb, &amp;ab, &amp;vf, &amp;af);
++          
++          if (vb &lt;= 0 &amp;&amp; ab &lt;= 0 &amp;&amp; vf &lt;= 0 &amp;&amp; af &lt;= 0)
++            break;
++          
++          if (data-&gt;ms_timeout &gt;= 0
++              &amp;&amp; timercmp(&amp;now, &amp;then, &gt;=))
++          {
++            timed_out++;
++            break;
++          }
++          
++/*          sched_yield(); */
++          xine_usec_sleep(5000);
++          _n++;
++          
++          if (data-&gt;ms_timeout &gt;= 0)
++            gettimeofday(&amp;now, 0);          
++        }
++
++        _t2 = _now();
++        fprintf(stderr, &quot;vdr: flush: n: %d, %.1lf\n&quot;, _n, _t2 - _t1);
++        
++        xprintf(this-&gt;stream-&gt;xine
++                , XINE_VERBOSITY_LOG
++                , _(LOG_MODULE &quot;: flush buffers (vb: %d, ab: %d, vf: %d, af: %d) %s.\n&quot;)
++                , vb, ab, vf, af
++                , (timed_out ? &quot;timed out&quot; : &quot;done&quot;));
++        
++        {
++          result_flush_t result_flush;
++          result_flush.header.func = data-&gt;header.func;
++          result_flush.header.len = sizeof (result_flush);
++          
++          result_flush.timed_out = timed_out;
++          
++          if (sizeof (result_flush) != vdr_write(this-&gt;fh_result, &amp;result_flush, sizeof (result_flush)))
++            return -1;
++        }
++      }
++    }
++    break;
++
++  case func_mute:
++    {
++      READ_DATA_OR_FAIL(mute, lprintf(&quot;got MUTE\n&quot;));
++      
++      xine_set_param(this-&gt;stream, XINE_PARAM_AUDIO_MUTE, data-&gt;mute);
++    }
++    break;
++
++  case func_set_volume:
++    {
++      READ_DATA_OR_FAIL(set_volume, lprintf(&quot;got SETVOLUME\n&quot;));
++
++      {
++        int change_volume = !this-&gt;dont_change_xine_volume;
++        int do_mute   = (0 != this-&gt;last_volume &amp;&amp; 0 == data-&gt;volume);
++        int do_unmute = (0 == this-&gt;last_volume &amp;&amp; 0 != data-&gt;volume);
++        int report_change = 0;
++        
++        this-&gt;last_volume = data-&gt;volume;
++
++        if (do_mute || do_unmute)
++        {
++          switch (this-&gt;mute_mode)
++          {
++          case INPUT_VDR_MUTE_EXECUTE:
++            report_change = 1;
++            xine_set_param(this-&gt;stream, XINE_PARAM_AUDIO_MUTE, do_mute);
++            
++          case INPUT_VDR_MUTE_IGNORE:
++            if (do_mute)
++              change_volume = 0;
++            break;
++
++          case INPUT_VDR_MUTE_SIMULATE:
++            change_volume = 1;
++            break;
++
++          default:
++            return -1;
++          };
++        }
++        
++        if (change_volume)
++        {
++          report_change = 1;
++          xine_set_param(this-&gt;stream, XINE_PARAM_AUDIO_VOLUME, this-&gt;last_volume);
++        }
++
++        if (report_change)
++        {
++          xine_event_t            event;
++          xine_audio_level_data_t data;
++          
++          data.left
++            = data.right
++            = xine_get_param(this-&gt;stream, XINE_PARAM_AUDIO_VOLUME);
++          data.mute
++            = xine_get_param(this-&gt;stream, XINE_PARAM_AUDIO_MUTE);
++          
++          event.type        = XINE_EVENT_AUDIO_LEVEL;
++          event.data        = &amp;data;
++          event.data_length = sizeof (data);
++          
++          xine_event_send(this-&gt;stream, &amp;event);
++        }
++      }
++    }
++    break;
++
++  case func_set_speed:
++    {
++      READ_DATA_OR_FAIL(set_speed, lprintf(&quot;got SETSPEED\n&quot;));
++      
++      lprintf(&quot;... got SETSPEED %d\n&quot;, data-&gt;speed);
++      
++      if (data-&gt;speed != xine_get_param(this-&gt;stream, XINE_PARAM_FINE_SPEED))
++        xine_set_param(this-&gt;stream, XINE_PARAM_FINE_SPEED, data-&gt;speed);
++    }
++    break;
++
++  case func_set_prebuffer:
++    {
++      READ_DATA_OR_FAIL(set_prebuffer, lprintf(&quot;got SETPREBUFFER\n&quot;));
++
++      xine_set_param(this-&gt;stream, XINE_PARAM_METRONOM_PREBUFFER, data-&gt;prebuffer);
++    }
++    break;
++
++  case func_metronom:
++    {
++      READ_DATA_OR_FAIL(metronom, lprintf(&quot;got METRONOM\n&quot;));
++
++      _x_demux_control_newpts(this-&gt;stream, data-&gt;pts, data-&gt;flags);
++    }
++    break;
++    
++  case func_start:
++    {
++      READ_DATA_OR_FAIL(start, lprintf(&quot;got START\n&quot;));
++
++      _x_demux_control_start(this-&gt;stream);
++      _x_demux_seek(this-&gt;stream, 0, 0, 0);
++    }
++    break;
++
++  case func_wait:
++    {
++      READ_DATA_OR_FAIL(wait, lprintf(&quot;got WAIT\n&quot;));
++
++      {
++        result_wait_t result_wait;
++        result_wait.header.func = data-&gt;header.func;
++        result_wait.header.len = sizeof (result_wait);
++          
++        if (sizeof (result_wait) != vdr_write(this-&gt;fh_result, &amp;result_wait, sizeof (result_wait)))
++          return -1;
++      }
++    }
++    break;
++
++  case func_setup:
++    {
++      READ_DATA_OR_FAIL(setup, lprintf(&quot;got SETUP\n&quot;));
++
++      this-&gt;osd_unscaled_blending   = data-&gt;osd_unscaled_blending;
++      this-&gt;dont_change_xine_volume = data-&gt;dont_change_xine_volume;
++      this-&gt;mute_mode               = data-&gt;mute_mode;
++    }
++    break;
++
++  case func_grab_image:
++    {
++      READ_DATA_OR_FAIL(grab_image, lprintf(&quot;got GRABIMAGE\n&quot;));
++
++      {
++        off_t ret_val = -1;
++        
++        uint8_t *img   = 0;
++        int frame_size = 0;
++        int width      = 0;
++        int height     = 0;       
++        int ratio_code = 0;
++        int format     = 0;
++        
++        int orig_speed = xine_get_param(this-&gt;stream, XINE_PARAM_FINE_SPEED);
++        if (XINE_SPEED_PAUSE != orig_speed)
++          xine_set_param(this-&gt;stream, XINE_PARAM_FINE_SPEED, XINE_SPEED_PAUSE);
++        
++        if (xine_get_current_frame(this-&gt;stream, &amp;width, &amp;height, &amp;ratio_code, &amp;format, 0))
++        {
++          switch (format)
++          {
++          case XINE_IMGFMT_YV12:
++            frame_size = width * height
++              + ((width + 1) / 2) * ((height + 1) / 2)
++              + ((width + 1) / 2) * ((height + 1) / 2);
++            break;
++            
++          case XINE_IMGFMT_YUY2:
++            frame_size = width * height
++              + ((width + 1) / 2) * height
++              + ((width + 1) / 2) * height;
++            break;
++          }
++          
++          img = xine_xmalloc(frame_size);
++          
++          if (!xine_get_current_frame(this-&gt;stream, &amp;width, &amp;height, &amp;ratio_code, &amp;format, img))
++            frame_size = 0;
++          
++          if (ratio_code == XINE_VO_ASPECT_SQUARE)
++            ratio_code = 10000;
++          else if (ratio_code == XINE_VO_ASPECT_4_3)
++            ratio_code = 13333;
++          else if (ratio_code == XINE_VO_ASPECT_ANAMORPHIC)
++            ratio_code = 17778;
++          else if (ratio_code == XINE_VO_ASPECT_DVB)
++            ratio_code = 21100;
++          
++          if (0 == frame_size)
++          {
++            width      = 0;
++            height     = 0;
++            ratio_code = 0;
++          }          
++        }
++        
++        if (XINE_SPEED_PAUSE != orig_speed)
++          xine_set_param(this-&gt;stream, XINE_PARAM_FINE_SPEED, orig_speed);
++        
++        {
++          result_grab_image_t result_grab_image;
++          result_grab_image.header.func = data-&gt;header.func;
++          result_grab_image.header.len = sizeof (result_grab_image) + frame_size;
++          
++          result_grab_image.width  = width;
++          result_grab_image.height = height;
++          result_grab_image.ratio  = ratio_code;
++          result_grab_image.format = format;
++          
++          if (sizeof (result_grab_image) == vdr_write(this-&gt;fh_result, &amp;result_grab_image, sizeof (result_grab_image)))
++          {
++            if (frame_size == vdr_write(this-&gt;fh_result, img, frame_size))
++              ret_val = 0;
++          }
++        }
++        
++        if (img)
++          free(img);
++        
++        if (ret_val != 0)
++          return ret_val;
++      }
++    }
++    break;
++    
++  case func_get_pts:
++    {
++      READ_DATA_OR_FAIL(get_pts, lprintf(&quot;got GETPTS\n&quot;));
++      
++      {
++        result_get_pts_t result_get_pts;
++        result_get_pts.header.func = data-&gt;header.func;
++        result_get_pts.header.len = sizeof (result_get_pts);
++        
++        result_get_pts.pts = xine_get_current_vpts(this-&gt;stream) - this-&gt;stream-&gt;metronom-&gt;get_option(this-&gt;stream-&gt;metronom, METRONOM_VPTS_OFFSET);
++        
++        if (sizeof (result_get_pts) != vdr_write(this-&gt;fh_result, &amp;result_get_pts, sizeof (result_get_pts)))
++          return -1;
++      }
++    }
++    break;
++
++  case func_get_version:
++    {
++      READ_DATA_OR_FAIL(get_version, lprintf(&quot;got GETVERSION\n&quot;));
++      
++      {
++        result_get_version_t result_get_version;
++        result_get_version.header.func = data-&gt;header.func;
++        result_get_version.header.len = sizeof (result_get_version);
++        
++        result_get_version.version = XINE_INPUT_VDR_VERSION;
++        
++        if (sizeof (result_get_version) != vdr_write(this-&gt;fh_result, &amp;result_get_version, sizeof (result_get_version)))
++          return -1;
++      }
++    }
++    break;
++
++  case func_video_size:
++    {
++      READ_DATA_OR_FAIL(video_size, lprintf(&quot;got VIDEO SIZE\n&quot;));
++
++      {
++        int format;
++        
++        result_video_size_t result_video_size;
++        result_video_size.header.func = data-&gt;header.func;
++        result_video_size.header.len = sizeof (result_video_size);
++        
++        result_video_size.top    = -1;
++        result_video_size.left   = -1;
++        result_video_size.width  = -1;
++        result_video_size.height = -1;
++        result_video_size.ratio  = 0;
++        
++        xine_get_current_frame(this-&gt;stream, &amp;result_video_size.width, &amp;result_video_size.height, &amp;result_video_size.ratio, &amp;format, 0);
++        
++        if (result_video_size.ratio == XINE_VO_ASPECT_SQUARE)
++          result_video_size.ratio = 10000;
++        else if (result_video_size.ratio == XINE_VO_ASPECT_4_3)
++          result_video_size.ratio = 13333;
++        else if (result_video_size.ratio == XINE_VO_ASPECT_ANAMORPHIC)
++          result_video_size.ratio = 17778;
++        else if (result_video_size.ratio == XINE_VO_ASPECT_DVB)
++          result_video_size.ratio = 21100;
++        
++        if (0 != this-&gt;frame_size.x
++            || 0 != this-&gt;frame_size.y
++            || 0 != this-&gt;frame_size.w
++            || 0 != this-&gt;frame_size.h)
++        {
++          result_video_size.left   = this-&gt;frame_size.x;
++          result_video_size.top    = this-&gt;frame_size.y;
++          result_video_size.width  = this-&gt;frame_size.w;
++          result_video_size.height = this-&gt;frame_size.h;
++        }
++
++        result_video_size.zoom_x = xine_get_param(this-&gt;stream, XINE_PARAM_VO_ZOOM_X);
++        result_video_size.zoom_y = xine_get_param(this-&gt;stream, XINE_PARAM_VO_ZOOM_Y);
++        
++        if (sizeof (result_video_size) != vdr_write(this-&gt;fh_result, &amp;result_video_size, sizeof (result_video_size)))
++          return -1;
++      }
++    }
++    break;
++
++  case func_reset_audio:
++    {
++      double _t1, _t2;
++      int _n = 0;
++      
++      READ_DATA_OR_FAIL(reset_audio, lprintf(&quot;got RESET AUDIO\n&quot;));
++
++      if (this-&gt;stream-&gt;audio_fifo)
++      {
++        xine_set_param(this-&gt;stream, XINE_PARAM_IGNORE_AUDIO, 1);
++        xine_set_param(this-&gt;stream, XINE_PARAM_AUDIO_CHANNEL_LOGICAL, -2);
++
++        _t1 = _now();
++        
++        while (1)
++        {
++          int n = xine_get_stream_info(this-&gt;stream, XINE_STREAM_INFO_MAX_AUDIO_CHANNEL);
++          if (n &lt;= 0)
++            break;
++          
++          /* keep the decoder running */
++          if (this-&gt;stream-&gt;audio_fifo)
++          {
++            buf_element_t *buf = this-&gt;stream-&gt;audio_fifo-&gt;buffer_pool_alloc(this-&gt;stream-&gt;audio_fifo);
++            if (!buf)
++            {
++              xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG, _(LOG_MODULE &quot;: buffer_pool_alloc() failed!\n&quot;));
++              return -1;
++            }
++            
++            buf-&gt;type = BUF_CONTROL_RESET_TRACK_MAP;
++            
++            this-&gt;stream-&gt;audio_fifo-&gt;put(this-&gt;stream-&gt;audio_fifo, buf);
++          }
++          
++/*          sched_yield(); */
++          xine_usec_sleep(5000);
++          _n++;
++        }
++
++        _t2 = _now();
++        fprintf(stderr, &quot;vdr: reset_audio: n: %d, %.1lf\n&quot;, _n, _t2 - _t1);
++        
++        xine_set_param(this-&gt;stream, XINE_PARAM_AUDIO_CHANNEL_LOGICAL, -1);
++
++        _x_stream_info_reset(this-&gt;stream, XINE_STREAM_INFO_AUDIO_BITRATE);
++        _x_meta_info_reset(this-&gt;stream, XINE_META_INFO_AUDIOCODEC);
++
++        xine_set_param(this-&gt;stream, XINE_PARAM_IGNORE_AUDIO, 0);
++      }
++    }
++    break;
++    
++  default:
++    lprintf(&quot;unknown function: %d\n&quot;, this-&gt;cur_func);
++  }
++    
++  if (this-&gt;cur_size != this-&gt;cur_done)
++  {
++    off_t skip = this-&gt;cur_size - this-&gt;cur_done;
++
++    lprintf(&quot;func: %d, skipping: %lld\n&quot;, this-&gt;cur_func, skip);
++     
++    while (skip &gt; BUF_SIZE)
++    {
++      n = vdr_read_abort(this-&gt;stream, this-&gt;fh_control, this-&gt;seek_buf, BUF_SIZE);
++      if (n != BUF_SIZE)
++        return -1;
++
++      skip -= BUF_SIZE;
++    }
++
++    n = vdr_read_abort(this-&gt;stream, this-&gt;fh_control, this-&gt;seek_buf, skip);
++    if (n != skip)
++      return -1;
++
++    this-&gt;cur_done = this-&gt;cur_size;
++
++    return -1;
++  }
++
++  return 0;
++}
++
++static void *vdr_rpc_thread_loop(void *arg)
++{
++  vdr_input_plugin_t *this = (vdr_input_plugin_t *)arg;
++  int frontend_lock_failures = 0;
++  int failed = 0;
++  
++  while (!failed
++    &amp;&amp; !this-&gt;rpc_thread_shutdown)
++  {
++    struct timeval timeout;
++    fd_set rset;
++  
++    FD_ZERO(&amp;rset);
++    FD_SET(this-&gt;fh_control, &amp;rset);
++
++    timeout.tv_sec  = 0;
++    timeout.tv_usec = 50000;
++
++    if (select(this-&gt;fh_control + 1, &amp;rset, NULL, NULL, &amp;timeout) &gt; 0)
++    {
++      if (!_x_lock_frontend(this-&gt;stream, 100))
++      {
++        if (++frontend_lock_failures &gt; 50)
++        {
++          failed = 1;
++          xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG,
++                  LOG_MODULE &quot;: locking frontend for rpc command execution failed, exiting ...\n&quot;);
++        }
++      }
++      else
++      {
++        frontend_lock_failures = 0;
++        
++        if (vdr_execute_rpc_command(this) &lt; 0)
++        {
++          failed = 1;
++          xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG,
++                  LOG_MODULE &quot;: execution of rpc command %d (%s) failed, exiting ...\n&quot;, this-&gt;cur_func, &quot;&quot;);
++        }
++
++        _x_unlock_frontend(this-&gt;stream);
++      }
++    }
++  }
++
++  /* close control and result channel here to have vdr-xine initiate a disconnect for the above error case ... */
++  close(this-&gt;fh_control);
++  this-&gt;fh_control = -1;
++  
++  close(this-&gt;fh_result);
++  this-&gt;fh_result = -1;
++  
++  xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG,
++          LOG_MODULE &quot;: rpc thread done.\n&quot;);
++
++  pthread_mutex_lock(&amp;this-&gt;rpc_thread_shutdown_lock);
++  this-&gt;rpc_thread_shutdown = -1;
++  pthread_cond_broadcast(&amp;this-&gt;rpc_thread_shutdown_cond);
++  pthread_mutex_unlock(&amp;this-&gt;rpc_thread_shutdown_lock);
++  
++  return 0;
++}
++
++static int internal_write_event_key(vdr_input_plugin_t *this, uint32_t key)
++{
++  event_key_t event;
++  event.header.func = func_key;
++  event.header.len = sizeof (event);
++
++  event.key = key;
++
++  if (sizeof (event) != vdr_write(this-&gt;fh_event, &amp;event, sizeof (event)))
++    return -1;
++  
++  return 0;
++}
++
++static int internal_write_event_frame_size(vdr_input_plugin_t *this)
++{
++  event_frame_size_t event;
++  event.header.func = func_frame_size;
++  event.header.len = sizeof (event);
++
++  event.left   = this-&gt;frame_size.x;
++  event.top    = this-&gt;frame_size.y;
++  event.width  = this-&gt;frame_size.w,
++  event.height = this-&gt;frame_size.h;
++  event.zoom_x = xine_get_param(this-&gt;stream, XINE_PARAM_VO_ZOOM_X);
++  event.zoom_y = xine_get_param(this-&gt;stream, XINE_PARAM_VO_ZOOM_Y);
++
++  if (sizeof (event) != vdr_write(this-&gt;fh_event, &amp;event, sizeof (event)))
++    return -1;
++  
++  return 0;
++}
++
++static int internal_write_event_play_external(vdr_input_plugin_t *this, uint32_t key)
++{
++  event_play_external_t event;
++  event.header.func = func_play_external;
++  event.header.len = sizeof (event);
++
++  event.key = key;
++
++  if (sizeof (event) != vdr_write(this-&gt;fh_event, &amp;event, sizeof (event)))
++    return -1;
++  
++  return 0;
++}
++
++static off_t vdr_plugin_read(input_plugin_t *this_gen, 
++                             char *buf, off_t len)
++{
++  vdr_input_plugin_t  *this = (vdr_input_plugin_t *) this_gen;
++  off_t n, total;
++#ifdef LOG_READ   
++  lprintf (&quot;reading %lld bytes...\n&quot;, len);
++#endif   
++  total=0;
++  if (this-&gt;curpos &lt; this-&gt;preview_size)
++  {
++    n = this-&gt;preview_size - this-&gt;curpos;
++    if (n &gt; (len - total))
++      n = len - total;
++#ifdef LOG_READ
++    lprintf (&quot;%lld bytes from preview (which has %lld bytes)\n&quot;,
++            n, this-&gt;preview_size);
++#endif
++    memcpy (&amp;buf[total], &amp;this-&gt;preview[this-&gt;curpos], n);
++    this-&gt;curpos += n;
++    total += n;
++  }
++   
++  if( (len-total) &gt; 0 )
++  {
++    int retries = 0;
++    do
++    {
++      n = vdr_read_abort (this-&gt;stream, this-&gt;fh, &amp;buf[total], len-total);
++      if (0 == n)
++        lprintf(&quot;read 0, retries: %d\n&quot;, retries);
++    }
++    while (0 == n
++           &amp;&amp; !this-&gt;stream_external
++           &amp;&amp; _x_continue_stream_processing(this-&gt;stream)
++           &amp;&amp; 200 &gt; retries++); /* 200 * 50ms */
++#ifdef LOG_READ      
++    lprintf (&quot;got %lld bytes (%lld/%lld bytes read)\n&quot;,
++            n,total,len);
++#endif
++    if (n &lt; 0)
++    {
++      _x_message(this-&gt;stream, XINE_MSG_READ_ERROR, NULL);
++      return 0;
++    }
++
++    this-&gt;curpos += n;
++    total += n;
++  }
++  return total;
++}
++
++static buf_element_t *vdr_plugin_read_block(input_plugin_t *this_gen, fifo_buffer_t *fifo, 
++                                            off_t todo)
++{
++  off_t          total_bytes;
++  buf_element_t *buf = fifo-&gt;buffer_pool_alloc(fifo);
++
++  buf-&gt;content = buf-&gt;mem;
++  buf-&gt;type = BUF_DEMUX_BLOCK;
++
++  total_bytes = vdr_plugin_read(this_gen, (char *)buf-&gt;content, todo);
++
++  if (total_bytes != todo)
++  {
++    buf-&gt;free_buffer(buf);
++    return NULL;
++  }
++
++  buf-&gt;size = total_bytes;
++
++  return buf;
++}
++
++/* forward reference */
++static off_t vdr_plugin_get_current_pos(input_plugin_t *this_gen);
++
++static off_t vdr_plugin_seek(input_plugin_t *this_gen, off_t offset, int origin)
++{
++  vdr_input_plugin_t *this = (vdr_input_plugin_t *)this_gen;
++
++  lprintf(&quot;seek %lld offset, %d origin...\n&quot;,
++          offset, origin);
++
++  if ((origin == SEEK_CUR) &amp;&amp; (offset &gt;= 0))
++  {
++    for ( ; ((int)offset) - BUF_SIZE &gt; 0; offset -= BUF_SIZE)
++    {
++      if (!this_gen-&gt;read(this_gen, this-&gt;seek_buf, BUF_SIZE))
++        return this-&gt;curpos;
++    }
++
++    this_gen-&gt;read (this_gen, this-&gt;seek_buf, offset);
++  }
++
++  if (origin == SEEK_SET)
++  {
++    if (offset &lt; this-&gt;curpos)
++    {
++      if (this-&gt;curpos &lt;= this-&gt;preview_size) 
++        this-&gt;curpos = offset;
++      else
++        lprintf(&quot;cannot seek back! (%lld &gt; %lld)\n&quot;, this-&gt;curpos, offset);
++    }
++    else
++    {
++      offset -= this-&gt;curpos;
++
++      for ( ; ((int)offset) - BUF_SIZE &gt; 0; offset -= BUF_SIZE)
++      {
++        if (!this_gen-&gt;read(this_gen, this-&gt;seek_buf, BUF_SIZE))
++          return this-&gt;curpos;
++      }
++
++      this_gen-&gt;read(this_gen, this-&gt;seek_buf, offset);
++    }
++  }
++
++  return this-&gt;curpos;
++}
++
++static off_t vdr_plugin_get_length(input_plugin_t *this_gen)
++{
++  return 0;
++}
++
++static uint32_t vdr_plugin_get_capabilities(input_plugin_t *this_gen)
++{
++  return INPUT_CAP_NOCAP; /* INPUT_CAP_PREVIEW; */
++}
++
++static uint32_t vdr_plugin_get_blocksize(input_plugin_t *this_gen)
++{
++  return 0;
++}
++
++static off_t vdr_plugin_get_current_pos(input_plugin_t *this_gen)
++{
++  vdr_input_plugin_t *this = (vdr_input_plugin_t *)this_gen;
++
++  return this-&gt;curpos;
++}
++
++static char* vdr_plugin_get_mrl(input_plugin_t *this_gen)
++{
++  vdr_input_plugin_t *this = (vdr_input_plugin_t *)this_gen;
++
++  return this-&gt;mrl;
++}
++
++static void vdr_plugin_dispose(input_plugin_t *this_gen)
++{
++  vdr_input_plugin_t *this = (vdr_input_plugin_t *)this_gen;
++  int i;
++
++  external_stream_stop(this);
++
++  if (this-&gt;event_queue)
++    xine_event_dispose_queue(this-&gt;event_queue);
++
++  if (this-&gt;rpc_thread)
++  {
++    struct timespec abstime;
++    int ms_to_time_out = 10000;
++
++    xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG, _(LOG_MODULE &quot;: shutting down rpc thread (timeout: %d ms) ...\n&quot;), ms_to_time_out);
++
++    pthread_mutex_lock(&amp;this-&gt;rpc_thread_shutdown_lock);
++
++    if (this-&gt;rpc_thread_shutdown &gt; -1)
++    {
++      this-&gt;rpc_thread_shutdown = 1;
++      
++      {
++        struct timeval now;
++        gettimeofday(&amp;now, 0);
++        
++        abstime.tv_sec = now.tv_sec + ms_to_time_out / 1000;
++        abstime.tv_nsec = now.tv_usec * 1000 + (ms_to_time_out % 1000) * 1e6;
++        
++        if (abstime.tv_nsec &gt; 1e9)
++        {
++          abstime.tv_nsec -= 1e9;
++          abstime.tv_sec++;
++        }
++      }
++      
++      if (0 != pthread_cond_timedwait(&amp;this-&gt;rpc_thread_shutdown_cond, &amp;this-&gt;rpc_thread_shutdown_lock, &amp;abstime))
++      {
++        xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG, _(LOG_MODULE &quot;: cancelling rpc thread in function %d...\n&quot;), this-&gt;cur_func);
++        pthread_cancel(this-&gt;rpc_thread);
++      }
++    }
++    
++    pthread_mutex_unlock(&amp;this-&gt;rpc_thread_shutdown_lock);
++    
++    xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG, _(LOG_MODULE &quot;: joining rpc thread ...\n&quot;));
++    pthread_join(this-&gt;rpc_thread, 0);
++    xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG, _(LOG_MODULE &quot;: rpc thread joined.\n&quot;));
++  }
++
++  pthread_cond_destroy(&amp;this-&gt;rpc_thread_shutdown_cond);
++  pthread_mutex_destroy(&amp;this-&gt;rpc_thread_shutdown_lock);
++  
++  if (this-&gt;fh_result != -1)
++    close(this-&gt;fh_result);
++  
++  if (this-&gt;fh_control != -1)
++    close(this-&gt;fh_control);
++
++  if (this-&gt;fh_event != -1)
++    close(this-&gt;fh_event);
++  
++  for (i = 0; i &lt; VDR_MAX_NUM_WINDOWS; i++)
++  {
++    if (0 == this-&gt;osd_window[ i ])
++      continue;
++
++    xine_osd_hide(this-&gt;osd_window[ i ], 0);
++    xine_osd_free(this-&gt;osd_window[ i ]);
++  }
++
++  if (this-&gt;osd_buffer)
++    free(this-&gt;osd_buffer);
++  
++  if ((this-&gt;fh != STDIN_FILENO) &amp;&amp; (this-&gt;fh != -1))
++    close(this-&gt;fh);
++
++  free(this-&gt;mrl);
++  free(this);
++}
++
++static int vdr_plugin_get_optional_data(input_plugin_t *this_gen, 
++                                        void *data, int data_type)
++{
++  vdr_input_plugin_t *this = (vdr_input_plugin_t *)this_gen;
++  int preview_size = (this-&gt;preview_size &gt; MAX_PREVIEW_SIZE) ? MAX_PREVIEW_SIZE : this-&gt;preview_size;
++/*
++  switch (data_type)
++  {
++  case INPUT_OPTIONAL_DATA_PREVIEW:
++    memcpy (data, this-&gt;preview, preview_size);
++    return preview_size;
++  }
++*/  
++  return INPUT_OPTIONAL_UNSUPPORTED;
++}
++
++static uint8_t preview_mpg_data[] =
++{
++/* 0x0000 */ 0x00, 0x00, 0x01, 0xb3, 0x2d, 0x02, 0x40, 0x23, 0x12, 0x4f, 0xa3, 0x80, 0x00, 0x00, 0x01, 0xb5,
++/* 0x0010 */ 0x14, 0x82, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x01, 0xb5, 0x23, 0x05, 0x05, 0x05, 0x0b, 0x42,
++/* 0x0020 */ 0x12, 0x00, 0x00, 0x00, 0x01, 0xb8, 0x00, 0x08, 0x00, 0x40, 0x00, 0x00, 0x01, 0x00, 0x00, 0x0f,
++/* 0x0030 */ 0xff, 0xf8, 0x00, 0x00, 0x01, 0xb5, 0x8f, 0xff, 0xf7, 0xdd, 0x80, 0x00, 0x00, 0x01, 0x01, 0x0b,
++/* 0x0040 */ 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x0050 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x0060 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x0070 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x0080 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x0090 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x00a0 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x00b0 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x00c0 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x00d0 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x00e0 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x00f0 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x0100 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x0110 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x0120 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00,
++/* 0x0130 */ 0x01, 0x02, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x0140 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x0150 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x0160 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x0170 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x0180 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x0190 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x01a0 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x01b0 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x01c0 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x01d0 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x01e0 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x01f0 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x0200 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x0210 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x0220 */ 0x60, 0x00, 0x00, 0x01, 0x03, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x0230 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x0240 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x0250 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x0260 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x0270 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x0280 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x0290 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x02a0 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x02b0 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x02c0 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x02d0 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x02e0 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x02f0 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x0300 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x0310 */ 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x04, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x0320 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x0330 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x0340 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x0350 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x0360 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x0370 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x0380 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x0390 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x03a0 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x03b0 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x03c0 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x03d0 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x03e0 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x03f0 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x0400 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x05, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3,
++/* 0x0410 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x0420 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x0430 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x0440 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x0450 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x0460 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x0470 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x0480 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x0490 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x04a0 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x04b0 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x04c0 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x04d0 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x04e0 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x04f0 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x06, 0x0b, 0xfc,
++/* 0x0500 */ 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x0510 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x0520 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x0530 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x0540 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x0550 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x0560 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x0570 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x0580 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x0590 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x05a0 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x05b0 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x05c0 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x05d0 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x05e0 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01,
++/* 0x05f0 */ 0x07, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x0600 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x0610 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x0620 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x0630 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x0640 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x0650 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x0660 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x0670 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x0680 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x0690 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x06a0 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x06b0 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x06c0 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x06d0 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60,
++/* 0x06e0 */ 0x00, 0x00, 0x01, 0x08, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x06f0 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x0700 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x0710 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x0720 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x0730 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x0740 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x0750 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x0760 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x0770 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x0780 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x0790 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x07a0 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x07b0 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x07c0 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x07d0 */ 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x09, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x07e0 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x07f0 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x0800 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x0810 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x0820 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x0830 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x0840 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x0850 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x0860 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x0870 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x0880 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x0890 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x08a0 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x08b0 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x08c0 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x0a, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46,
++/* 0x08d0 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x08e0 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x08f0 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x0900 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x0910 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x0920 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x0930 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x0940 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x0950 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x0960 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x0970 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x0980 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x0990 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x09a0 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x09b0 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x0b, 0x0b, 0xfc, 0x3e,
++/* 0x09c0 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x09d0 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x09e0 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x09f0 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x0a00 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x0a10 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x0a20 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x0a30 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x0a40 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x0a50 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x0a60 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x0a70 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x0a80 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x0a90 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x0aa0 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x0c,
++/* 0x0ab0 */ 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x0ac0 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x0ad0 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x0ae0 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x0af0 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x0b00 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x0b10 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x0b20 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x0b30 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x0b40 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x0b50 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x0b60 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x0b70 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x0b80 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x0b90 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00,
++/* 0x0ba0 */ 0x00, 0x01, 0x0d, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x0bb0 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x0bc0 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x0bd0 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x0be0 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x0bf0 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x0c00 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x0c10 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x0c20 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x0c30 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x0c40 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x0c50 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x0c60 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x0c70 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x0c80 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x0c90 */ 0x18, 0x60, 0x00, 0x00, 0x01, 0x0e, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x0ca0 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x0cb0 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x0cc0 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x0cd0 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x0ce0 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x0cf0 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x0d00 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x0d10 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x0d20 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x0d30 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x0d40 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x0d50 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x0d60 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x0d70 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x0d80 */ 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x0f, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x0d90 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x0da0 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x0db0 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x0dc0 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x0dd0 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x0de0 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x0df0 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x0e00 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x0e10 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x0e20 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x0e30 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x0e40 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x0e50 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x0e60 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x0e70 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x10, 0x0b, 0xfc, 0x3e, 0xd1,
++/* 0x0e80 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x0e90 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x0ea0 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x0eb0 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x0ec0 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x0ed0 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x0ee0 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x0ef0 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x0f00 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x0f10 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x0f20 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x0f30 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x0f40 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x0f50 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x0f60 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x11, 0x0b,
++/* 0x0f70 */ 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x0f80 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x0f90 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x0fa0 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x0fb0 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x0fc0 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x0fd0 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x0fe0 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x0ff0 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x1000 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x1010 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x1020 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x1030 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x1040 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x1050 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00,
++/* 0x1060 */ 0x01, 0x12, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x1070 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x1080 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x1090 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x10a0 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x10b0 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x10c0 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x10d0 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x10e0 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x10f0 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x1100 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x1110 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x1120 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x1130 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x1140 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x1150 */ 0x60, 0x00, 0x00, 0x01, 0x13, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x1160 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x1170 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x1180 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x1190 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x11a0 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x11b0 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x11c0 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x11d0 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x11e0 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x11f0 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x1200 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x1210 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x1220 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x1230 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x1240 */ 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x14, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x1250 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x1260 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x1270 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x1280 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x1290 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x12a0 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x12b0 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x12c0 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x12d0 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x12e0 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x12f0 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x1300 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x1310 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x1320 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x1330 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x15, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3,
++/* 0x1340 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x1350 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x1360 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x1370 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x1380 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x1390 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x13a0 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x13b0 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x13c0 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x13d0 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x13e0 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x13f0 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x1400 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x1410 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x1420 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x16, 0x0b, 0xfc,
++/* 0x1430 */ 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x1440 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x1450 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x1460 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x1470 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x1480 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x1490 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x14a0 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x14b0 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x14c0 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x14d0 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x14e0 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x14f0 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x1500 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x1510 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01,
++/* 0x1520 */ 0x17, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x1530 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x1540 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x1550 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x1560 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x1570 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x1580 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x1590 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x15a0 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x15b0 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x15c0 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x15d0 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x15e0 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x15f0 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x1600 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60,
++/* 0x1610 */ 0x00, 0x00, 0x01, 0x18, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x1620 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x1630 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x1640 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x1650 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x1660 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x1670 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x1680 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x1690 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x16a0 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x16b0 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x16c0 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x16d0 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x16e0 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x16f0 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x1700 */ 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x19, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x1710 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x1720 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x1730 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x1740 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x1750 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x1760 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x1770 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x1780 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x1790 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x17a0 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x17b0 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x17c0 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x17d0 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x17e0 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x17f0 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x1a, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46,
++/* 0x1800 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x1810 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x1820 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x1830 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x1840 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x1850 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x1860 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x1870 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x1880 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x1890 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x18a0 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x18b0 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x18c0 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x18d0 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x18e0 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x1b, 0x0b, 0xfc, 0x3e,
++/* 0x18f0 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x1900 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x1910 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x1920 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x1930 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x1940 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x1950 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x1960 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x1970 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x1980 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x1990 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x19a0 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x19b0 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x19c0 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x19d0 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x1c,
++/* 0x19e0 */ 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x19f0 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x1a00 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x1a10 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x1a20 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x1a30 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x1a40 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x1a50 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x1a60 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x1a70 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x1a80 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x1a90 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x1aa0 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x1ab0 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x1ac0 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00,
++/* 0x1ad0 */ 0x00, 0x01, 0x1d, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x1ae0 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x1af0 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x1b00 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x1b10 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x1b20 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x1b30 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x1b40 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x1b50 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x1b60 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x1b70 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x1b80 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x1b90 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x1ba0 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x1bb0 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x1bc0 */ 0x18, 0x60, 0x00, 0x00, 0x01, 0x1e, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x1bd0 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x1be0 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x1bf0 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x1c00 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x1c10 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x1c20 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x1c30 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x1c40 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x1c50 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x1c60 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x1c70 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x1c80 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x1c90 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x1ca0 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x1cb0 */ 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x1f, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x1cc0 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x1cd0 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x1ce0 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x1cf0 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x1d00 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x1d10 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x1d20 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x1d30 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x1d40 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x1d50 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x1d60 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x1d70 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x1d80 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x1d90 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x1da0 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x20, 0x0b, 0xfc, 0x3e, 0xd1,
++/* 0x1db0 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x1dc0 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x1dd0 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x1de0 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x1df0 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x1e00 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x1e10 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x1e20 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x1e30 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x1e40 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x1e50 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x1e60 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x1e70 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x1e80 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x1e90 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x21, 0x0b,
++/* 0x1ea0 */ 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x1eb0 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x1ec0 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x1ed0 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x1ee0 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x1ef0 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x1f00 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x1f10 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x1f20 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x1f30 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x1f40 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x1f50 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x1f60 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x1f70 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x1f80 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00,
++/* 0x1f90 */ 0x01, 0x22, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x1fa0 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x1fb0 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x1fc0 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x1fd0 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x1fe0 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x1ff0 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x2000 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x2010 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x2020 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x2030 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x2040 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x2050 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x2060 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x2070 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x2080 */ 0x60, 0x00, 0x00, 0x01, 0x23, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x2090 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x20a0 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x20b0 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61,
++/* 0x20c0 */ 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86,
++/* 0x20d0 */ 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18,
++/* 0x20e0 */ 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61,
++/* 0x20f0 */ 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86,
++/* 0x2100 */ 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b,
++/* 0x2110 */ 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x2120 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x2130 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x2140 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x2150 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x2160 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x2170 */ 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0x24, 0x0b, 0xfc, 0x3e, 0xd1, 0xa3, 0x46, 0x18, 0x6e,
++/* 0x2180 */ 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8,
++/* 0x2190 */ 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3,
++/* 0x21a0 */ 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d,
++/* 0x21b0 */ 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34,
++/* 0x21c0 */ 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1,
++/* 0x21d0 */ 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46,
++/* 0x21e0 */ 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a,
++/* 0x21f0 */ 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68,
++/* 0x2200 */ 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3,
++/* 0x2210 */ 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d,
++/* 0x2220 */ 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34,
++/* 0x2230 */ 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x6e, 0x34, 0x68, 0xd1,
++/* 0x2240 */ 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18, 0x61, 0xb8, 0xd1, 0xa3, 0x46,
++/* 0x2250 */ 0x18, 0x6e, 0x34, 0x68, 0xd1, 0x86, 0x1b, 0x8d, 0x1a, 0x34, 0x61, 0x86, 0xe3, 0x46, 0x8d, 0x18,
++/* 0x2260 */ 0x61, 0xb8, 0xd1, 0xa3, 0x46, 0x18, 0x60, 0x00, 0x00, 0x01, 0xb7
++/* 0x226b */
++};
++
++static uint8_t preview_data[ sizeof (preview_mpg_data) + ((sizeof (preview_mpg_data) - 1) / (2048 - 6 - 3) + 1) * (6 + 3) ];
++
++static int vdr_plugin_open(input_plugin_t *this_gen)
++{
++  vdr_input_plugin_t *this = (vdr_input_plugin_t *)this_gen;
++
++  lprintf(&quot;trying to open '%s'...\n&quot;, this-&gt;mrl);
++
++  if (this-&gt;fh == -1)
++  {
++    char *filename;
++    int err = 0;
++
++    filename = (char *)&amp;this-&gt;mrl[ 4 ];
++    this-&gt;fh = open(filename, O_RDONLY | O_NONBLOCK);
++
++    lprintf(&quot;filename '%s'\n&quot;, filename);
++
++    if (this-&gt;fh == -1)
++    {
++      xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG,
++              _(LOG_MODULE &quot;: failed to open '%s' (%s)\n&quot;),
++              filename,
++              strerror(errno));
++      
++      return 0;
++    }
++
++    {
++      struct pollfd poll_fh = { this-&gt;fh, POLLIN, 0 };
++      
++      int r = poll(&amp;poll_fh, 1, 300);      
++      if (1 != r)
++      {
++        xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG,
++                _(LOG_MODULE &quot;: failed to open '%s' (%s)\n&quot;),
++                filename,
++                _(&quot;timeout expired during setup phase&quot;));
++        
++        return 0;
++      }
++    }
++    
++    fcntl(this-&gt;fh, F_SETFL, ~O_NONBLOCK &amp; fcntl(this-&gt;fh, F_GETFL, 0));
++    
++    {
++      char *filename_control = 0;
++      asprintf(&amp;filename_control, &quot;%s.control&quot;, filename);
++
++      this-&gt;fh_control = open(filename_control, O_RDONLY);
++
++      if (this-&gt;fh_control == -1) {
++        xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG,
++                _(LOG_MODULE &quot;: failed to open '%s' (%s)\n&quot;),
++                filename_control,
++                strerror(errno));
++
++        free(filename_control);
++        return 0;
++      }
++
++      free(filename_control);      
++    }
++
++    {
++      char *filename_result = 0;
++      asprintf(&amp;filename_result, &quot;%s.result&quot;, filename);
++
++      this-&gt;fh_result = open(filename_result, O_WRONLY);
++
++      if (this-&gt;fh_result == -1) {
++        perror(&quot;failed&quot;);
++        
++        xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG,
++                _(LOG_MODULE &quot;: failed to open '%s' (%s)\n&quot;),
++                filename_result,
++                strerror(errno));
++        
++        free(filename_result);
++        return 0;
++      }
++
++      free(filename_result);
++    }
++
++    {
++      char *filename_event = 0;
++      asprintf(&amp;filename_event, &quot;%s.event&quot;, filename);
++
++      this-&gt;fh_event = open(filename_event, O_WRONLY);
++
++      if (this-&gt;fh_event == -1) {
++        perror(&quot;failed&quot;);
++
++        xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG,
++                _(LOG_MODULE &quot;: failed to open '%s' (%s)\n&quot;),
++                filename_event,
++                strerror(errno));
++        
++        free(filename_event);
++        return 0;
++      }
++
++      free(filename_event);
++    }
++
++    this-&gt;rpc_thread_shutdown = 0;
++    if ((err = pthread_create(&amp;this-&gt;rpc_thread, NULL,
++                              vdr_rpc_thread_loop, (void *)this)) != 0)
++    {
++      xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG, 
++              _(LOG_MODULE &quot;: can't create new thread (%s)\n&quot;),
++              strerror(err));
++      
++      return 0;
++    }
++  }
++
++
++  /*
++   * mrl accepted and opened successfully at this point
++   *
++   * =&gt; create plugin instance
++   */
++
++  /*
++   * fill preview buffer
++   */
++
++  if (!preview_data[ 2 ])
++  {
++    uint8_t *src = preview_mpg_data;
++    uint8_t *dst = preview_data;
++    int todo = sizeof (preview_mpg_data);
++    int bite = 2048 - 6 - 3;
++
++    while (todo &gt; 0)
++    {
++      if (bite &gt; todo)
++        bite = todo;
++
++      *dst++ = 0x00;
++      *dst++ = 0x00;
++      *dst++ = 0x01;
++      *dst++ = 0xe0;
++
++      *dst++ = (bite + 3) &gt;&gt; 8;
++      *dst++ = (bite + 3) &amp; 0xff;
++
++      *dst++ = 0x80;
++      *dst++ = 0x00;
++      *dst++ = 0x00;
++
++      memcpy(dst, src, bite);
++      dst += bite;
++      src += bite;
++
++      todo -= bite;
++    }
++  }
++
++  this-&gt;preview      = (char *)&amp;preview_data;
++  this-&gt;preview_size = 0; /* sizeof (preview_data); */
++  this-&gt;curpos       = 0;
++
++  return 1;
++}
++
++static void event_handler(void *user_data, const xine_event_t *event)
++{
++  vdr_input_plugin_t *this = (vdr_input_plugin_t *)user_data;
++  uint32_t key = key_none;
++
++  lprintf(&quot;eventHandler(): event-&gt;type: %d\n&quot;, event-&gt;type);
++
++  if (XINE_EVENT_VDR_FRAMESIZECHANGED == event-&gt;type)
++  {
++    memcpy(&amp;this-&gt;frame_size, event-&gt;data, event-&gt;data_length);
++
++    if (0 != internal_write_event_frame_size(this))
++      xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG, 
++              _(LOG_MODULE &quot;: input event write: %s.\n&quot;), strerror(errno));
++
++    return;
++  }
++  else if (XINE_EVENT_VDR_PLUGINSTARTED == event-&gt;type)
++  {
++    if (0 == event-&gt;data_length) /* vdr_video */
++    {
++      xine_event_t event;
++        
++      event.type = XINE_EVENT_VDR_TRICKSPEEDMODE;
++      event.data = 0;
++      event.data_length = this-&gt;trick_speed_mode;
++
++      xine_event_send(this-&gt;stream, &amp;event);
++    }
++    else if (1 == event-&gt;data_length) /* vdr_audio */
++    {
++      xine_event_t event;
++      vdr_select_audio_data_t event_data;
++        
++      event_data.channels = this-&gt;audio_channels;
++        
++      event.type = XINE_EVENT_VDR_SELECTAUDIO;
++      event.data = &amp;event_data;
++      event.data_length = sizeof (event_data);
++        
++      xine_event_send(this-&gt;stream, &amp;event);
++    }
++    else
++    {
++      fprintf(stderr, &quot;input_vdr: illegal XINE_EVENT_VDR_PLUGINSTARTED: %d\n&quot;, event-&gt;data_length);
++    }
++  }
++
++  switch (event-&gt;type)
++  {
++  case XINE_EVENT_INPUT_UP:            key = key_up;               break;
++  case XINE_EVENT_INPUT_DOWN:          key = key_down;             break;
++  case XINE_EVENT_INPUT_LEFT:          key = key_left;             break;
++  case XINE_EVENT_INPUT_RIGHT:         key = key_right;            break;
++  case XINE_EVENT_INPUT_SELECT:        key = key_ok;               break;
++  case XINE_EVENT_VDR_BACK:            key = key_back;             break;
++  case XINE_EVENT_VDR_CHANNELPLUS:     key = key_channel_plus;     break;
++  case XINE_EVENT_VDR_CHANNELMINUS:    key = key_channel_minus;    break;
++  case XINE_EVENT_VDR_RED:             key = key_red;              break;
++  case XINE_EVENT_VDR_GREEN:           key = key_green;            break;
++  case XINE_EVENT_VDR_YELLOW:          key = key_yellow;           break;
++  case XINE_EVENT_VDR_BLUE:            key = key_blue;             break;
++  case XINE_EVENT_VDR_PLAY:            key = key_play;             break;
++  case XINE_EVENT_VDR_PAUSE:           key = key_pause;            break;
++  case XINE_EVENT_VDR_STOP:            key = key_stop;             break;
++  case XINE_EVENT_VDR_RECORD:          key = key_record;           break;
++  case XINE_EVENT_VDR_FASTFWD:         key = key_fast_fwd;         break;
++  case XINE_EVENT_VDR_FASTREW:         key = key_fast_rew;         break;
++  case XINE_EVENT_VDR_POWER:           key = key_power;            break;
++  case XINE_EVENT_VDR_SCHEDULE:        key = key_schedule;         break;
++  case XINE_EVENT_VDR_CHANNELS:        key = key_channels;         break;
++  case XINE_EVENT_VDR_TIMERS:          key = key_timers;           break;
++  case XINE_EVENT_VDR_RECORDINGS:      key = key_recordings;       break;
++  case XINE_EVENT_INPUT_MENU1:         key = key_menu;             break;
++  case XINE_EVENT_VDR_SETUP:           key = key_setup;            break;
++  case XINE_EVENT_VDR_COMMANDS:        key = key_commands;         break;
++  case XINE_EVENT_INPUT_NUMBER_0:      key = key_0;                break;
++  case XINE_EVENT_INPUT_NUMBER_1:      key = key_1;                break;
++  case XINE_EVENT_INPUT_NUMBER_2:      key = key_2;                break;
++  case XINE_EVENT_INPUT_NUMBER_3:      key = key_3;                break;
++  case XINE_EVENT_INPUT_NUMBER_4:      key = key_4;                break;
++  case XINE_EVENT_INPUT_NUMBER_5:      key = key_5;                break;
++  case XINE_EVENT_INPUT_NUMBER_6:      key = key_6;                break;
++  case XINE_EVENT_INPUT_NUMBER_7:      key = key_7;                break;
++  case XINE_EVENT_INPUT_NUMBER_8:      key = key_8;                break;
++  case XINE_EVENT_INPUT_NUMBER_9:      key = key_9;                break;
++  case XINE_EVENT_VDR_USER1:           key = key_user1;            break;
++  case XINE_EVENT_VDR_USER2:           key = key_user2;            break;
++  case XINE_EVENT_VDR_USER3:           key = key_user3;            break;
++  case XINE_EVENT_VDR_USER4:           key = key_user4;            break;
++  case XINE_EVENT_VDR_USER5:           key = key_user5;            break;
++  case XINE_EVENT_VDR_USER6:           key = key_user6;            break;
++  case XINE_EVENT_VDR_USER7:           key = key_user7;            break;
++  case XINE_EVENT_VDR_USER8:           key = key_user8;            break;
++  case XINE_EVENT_VDR_USER9:           key = key_user9;            break;
++  case XINE_EVENT_VDR_VOLPLUS:         key = key_volume_plus;      break;
++  case XINE_EVENT_VDR_VOLMINUS:        key = key_volume_minus;     break;
++  case XINE_EVENT_VDR_MUTE:            key = key_mute;             break;
++  case XINE_EVENT_VDR_AUDIO:           key = key_audio;            break;
++  case XINE_EVENT_VDR_INFO:            key = key_info;             break;
++  case XINE_EVENT_VDR_CHANNELPREVIOUS: key = key_channel_previous; break;
++  case XINE_EVENT_INPUT_NEXT:          key = key_next;             break;
++  case XINE_EVENT_INPUT_PREVIOUS:      key = key_previous;         break;
++  default:
++    return;
++  }
++
++  if (0 != internal_write_event_key(this, key))
++    xprintf(this-&gt;stream-&gt;xine, XINE_VERBOSITY_LOG, 
++            _(LOG_MODULE &quot;: input event write: %s.\n&quot;), strerror(errno));
++}
++
++static input_plugin_t *vdr_class_get_instance(input_class_t *cls_gen, xine_stream_t *stream,
++                                               const char *data)
++{
++  vdr_input_plugin_t *this;
++  char               *mrl = strdup(data);
++
++  if (!strncasecmp(mrl, &quot;vdr:/&quot;, 5))
++  {
++    lprintf(&quot;filename '%s'\n&quot;, (char *)&amp;mrl[ 4 ]);
++  }
++  else
++  {
++    free(mrl);
++    return NULL;
++  }
++
++  /*
++   * mrl accepted and opened successfully at this point
++   *
++   * =&gt; create plugin instance
++   */
++
++  this = (vdr_input_plugin_t *)xine_xmalloc(sizeof (vdr_input_plugin_t));
++
++  this-&gt;stream     = stream;
++  this-&gt;curpos     = 0;
++  this-&gt;mrl        = mrl;
++  this-&gt;fh         = -1;
++  this-&gt;fh_control = -1;
++  this-&gt;fh_result  = -1;
++  this-&gt;fh_event   = -1;
++
++  this-&gt;input_plugin.open              = vdr_plugin_open;
++  this-&gt;input_plugin.get_capabilities  = vdr_plugin_get_capabilities;
++  this-&gt;input_plugin.read              = vdr_plugin_read;
++  this-&gt;input_plugin.read_block        = vdr_plugin_read_block;
++  this-&gt;input_plugin.seek              = vdr_plugin_seek;
++  this-&gt;input_plugin.get_current_pos   = vdr_plugin_get_current_pos;
++  this-&gt;input_plugin.get_length        = vdr_plugin_get_length;
++  this-&gt;input_plugin.get_blocksize     = vdr_plugin_get_blocksize;
++  this-&gt;input_plugin.get_mrl           = vdr_plugin_get_mrl;
++  this-&gt;input_plugin.dispose           = vdr_plugin_dispose;
++  this-&gt;input_plugin.get_optional_data = vdr_plugin_get_optional_data;
++  this-&gt;input_plugin.input_class       = cls_gen;
++
++  this-&gt;cur_func = func_unknown;
++  this-&gt;cur_size = 0;
++  this-&gt;cur_done = 0;
++
++  memset(this-&gt;osd_window, 0, sizeof (this-&gt;osd_window));
++
++  this-&gt;osd_buffer              = 0;
++  this-&gt;osd_buffer_size         = 0;
++  this-&gt;osd_unscaled_blending   = 0;
++  this-&gt;trick_speed_mode        = 0;
++  this-&gt;audio_channels          = 0;
++  this-&gt;mute_mode               = INPUT_VDR_MUTE_SIMULATE;
++  this-&gt;dont_change_xine_volume = 0;
++  this-&gt;last_volume             = 0;
++  this-&gt;frame_size.x            = 0;
++  this-&gt;frame_size.y            = 0;
++  this-&gt;frame_size.w            = 0;
++  this-&gt;frame_size.h            = 0;
++  
++  this-&gt;stream_external      = 0;
++  this-&gt;event_queue_external = 0;
++
++  pthread_mutex_init(&amp;this-&gt;rpc_thread_shutdown_lock, 0);
++  pthread_cond_init(&amp;this-&gt;rpc_thread_shutdown_cond, 0);  
++  
++  this-&gt;event_queue = xine_event_new_queue(this-&gt;stream);
++  if (this-&gt;event_queue)
++    xine_event_create_listener_thread(this-&gt;event_queue, event_handler, this);
++
++  return &amp;this-&gt;input_plugin;
++}
++
++/*
++ * vdr input plugin class stuff
++ */
++
++static char *vdr_class_get_description(input_class_t *this_gen)
++{
++  return _(&quot;VDR display device plugin&quot;);
++}
++
++static const char *vdr_class_get_identifier (input_class_t *this_gen)
++{
++  return &quot;VDR&quot;;
++}
++
++static void vdr_class_dispose (input_class_t *this_gen)
++{
++  vdr_input_class_t *this = (vdr_input_class_t *)this_gen;
++
++  free(this);
++}
++
++static char **vdr_class_get_autoplay_list(input_class_t *this_gen,
++                                          int *num_files)
++{
++  vdr_input_class_t *class = (vdr_input_class_t *)this_gen;
++
++  *num_files = 1;
++  return class-&gt;mrls;
++}
++
++static void *init_class(xine_t *xine, void *data)
++{
++  vdr_input_class_t *this;
++  
++  lprintf(&quot;init_class\n&quot;);
++  
++  this = (vdr_input_class_t *)xine_xmalloc(sizeof (vdr_input_class_t));
++  
++  this-&gt;xine = xine;
++
++  this-&gt;mrls[ 0 ] = &quot;vdr:&quot; VDR_ABS_FIFO_DIR &quot;/stream#demux:mpeg_pes&quot;;
++  this-&gt;mrls[ 1 ] = 0;
++
++  this-&gt;input_class.get_instance      = vdr_class_get_instance;
++  this-&gt;input_class.get_identifier    = vdr_class_get_identifier;
++  this-&gt;input_class.get_description   = vdr_class_get_description;
++  this-&gt;input_class.get_dir           = NULL;
++  this-&gt;input_class.get_autoplay_list = vdr_class_get_autoplay_list;
++  this-&gt;input_class.dispose           = vdr_class_dispose;
++  this-&gt;input_class.eject_media       = NULL;
++
++  return this;
++}
++
++/*
++ * exported plugin catalog entry
++ */
++
++plugin_info_t xine_plugin_info[] =
++{
++  /* type, API, &quot;name&quot;, version, special_info, init_function */
++  { PLUGIN_INPUT, 17, &quot;VDR&quot;, XINE_VERSION_CODE, NULL, init_class },
++  { PLUGIN_NONE, 0, &quot;&quot;, 0, NULL, NULL }
++};
++
+diff -Nurp ../xine-cvs/xine-lib/src/vdr/input_vdr.h xine-lib/src/vdr/input_vdr.h
+--- ../xine-cvs/xine-lib/src/vdr/input_vdr.h	1970-01-01 01:00:00.000000000 +0100
++++ xine-lib/src/vdr/input_vdr.h	2006-04-17 23:00:09.000000000 +0200
+@@ -0,0 +1,588 @@
++
++#ifndef __INPUT_VDR_H
++#define __INPUT_VDR_H
++
++
++#define XINE_INPUT_VDR_VERSION 708
++
++
++enum funcs
++{
++  func_unknown = -1
++  , func_nop
++  , func_osd_new
++  , func_osd_free
++  , func_osd_show
++  , func_osd_hide
++  , func_osd_set_position
++  , func_osd_draw_bitmap
++  , func_set_color
++  , func_clear
++  , func_mute
++  , func_set_volume
++  , func_set_speed
++  , func_set_prebuffer
++  , func_metronom
++  , func_start
++  , func_wait
++  , func_setup
++  , func_grab_image
++  , func_get_pts
++  , func_flush
++  , func_first_frame
++  , func_still_frame
++  , func_video_size
++  , func_set_video_window
++  , func_osd_flush
++  , func_play_external
++  , func_key
++  , func_frame_size
++  , func_reset_audio
++  , func_select_audio
++  , func_trick_speed_mode
++  , func_get_version
++};
++
++enum keys
++{
++  key_none,
++  key_up,
++  key_down,
++  key_menu,
++  key_ok,
++  key_back,
++  key_left,
++  key_right,
++  key_red,
++  key_green,
++  key_yellow,
++  key_blue,
++  key_0,
++  key_1,
++  key_2,
++  key_3,
++  key_4,
++  key_5,
++  key_6,
++  key_7,
++  key_8,
++  key_9,
++  key_play,
++  key_pause,
++  key_stop,
++  key_record,
++  key_fast_fwd,
++  key_fast_rew,
++  key_power,
++  key_channel_plus,
++  key_channel_minus,
++  key_volume_plus,
++  key_volume_minus,
++  key_mute,
++  key_schedule,
++  key_channels,
++  key_timers,
++  key_recordings,
++  key_setup,
++  key_commands,
++  key_user1,
++  key_user2,
++  key_user3,
++  key_user4,
++  key_user5,
++  key_user6,
++  key_user7,
++  key_user8,
++  key_user9,
++  key_audio,
++  key_info,
++  key_channel_previous,
++  key_next,
++  key_previous,
++};
++
++
++
++typedef struct __attribute__((packed)) data_header_s
++{
++  uint32_t func:8;
++  uint32_t len:24;
++} 
++data_header_t;
++
++
++
++typedef data_header_t result_header_t;
++typedef data_header_t event_header_t;
++
++
++
++typedef struct __attribute__((packed)) data_nop_s
++{
++  data_header_t header;
++}
++data_nop_t;
++
++
++
++typedef struct __attribute__((packed)) data_osd_new_s
++{
++  data_header_t header;
++  
++  uint8_t  window;
++  int16_t  x;
++  int16_t  y;
++  uint16_t width;
++  uint16_t height;
++}
++data_osd_new_t;
++
++
++
++typedef struct __attribute__((packed)) data_osd_free_s
++{
++  data_header_t header;
++  
++  uint8_t window;
++}
++data_osd_free_t;
++
++
++
++typedef struct __attribute__((packed)) data_osd_show_s
++{
++  data_header_t header;
++  
++  uint8_t window;
++}
++data_osd_show_t;
++
++
++
++typedef struct __attribute__((packed)) data_osd_hide_s
++{
++  data_header_t header;
++  
++  uint8_t window;
++}
++data_osd_hide_t;
++
++
++
++typedef struct __attribute__((packed)) data_osd_flush_s
++{
++  data_header_t header;
++}
++data_osd_flush_t;
++
++
++
++typedef struct __attribute__((packed)) data_play_external_s
++{
++  data_header_t header;
++}
++data_play_external_t;
++
++
++
++typedef struct __attribute__((packed)) data_osd_set_position_s
++{
++  data_header_t header;
++  
++  uint8_t window;
++  int16_t x;
++  int16_t y;
++}
++data_osd_set_position_t;
++
++
++
++typedef struct __attribute__((packed)) data_osd_draw_bitmap_s
++{
++  data_header_t header;
++  
++  uint8_t  window;
++  int16_t  x;
++  int16_t  y;
++  uint16_t width;
++  uint16_t height;
++}
++data_osd_draw_bitmap_t;
++
++
++
++typedef struct __attribute__((packed)) data_set_color_s
++{
++  data_header_t header;
++  
++  uint8_t window;
++  uint8_t index;
++  uint8_t num;
++}
++data_set_color_t;
++
++
++
++typedef struct __attribute__((packed)) data_flush_s
++{
++  data_header_t header;
++
++  int32_t ms_timeout;
++  uint8_t just_wait;
++}
++data_flush_t;
++
++
++
++typedef struct __attribute__((packed)) result_flush_s
++{
++  result_header_t header;
++  
++  uint8_t timed_out;
++}
++result_flush_t;
++
++
++
++typedef struct __attribute__((packed)) data_clear_s
++{
++  data_header_t header;
++
++  int32_t n;
++  int8_t s;
++}
++data_clear_t;
++
++
++
++typedef struct __attribute__((packed)) data_mute_s
++{
++  data_header_t header;
++
++  uint8_t mute;
++}
++data_mute_t;
++
++
++
++typedef struct __attribute__((packed)) data_set_volume_s
++{
++  data_header_t header;
++
++  uint8_t volume;
++}
++data_set_volume_t;
++
++
++
++typedef struct __attribute__((packed)) data_set_speed_s
++{
++  data_header_t header;
++
++  int32_t speed;
++}
++data_set_speed_t;
++
++
++
++typedef struct __attribute__((packed)) data_set_prebuffer_s
++{
++  data_header_t header;
++
++  uint32_t prebuffer;
++}
++data_set_prebuffer_t;
++
++
++
++typedef struct __attribute__((packed)) data_metronom_s
++{
++  data_header_t header;
++
++  int64_t  pts;
++  uint32_t flags;
++}
++data_metronom_t;
++
++
++
++typedef struct __attribute__((packed)) data_start_s
++{
++  data_header_t header;
++}
++data_start_t;
++
++
++
++typedef struct __attribute__((packed)) data_wait_s
++{
++  data_header_t header;
++}
++data_wait_t;
++
++
++
++typedef struct __attribute__((packed)) result_wait_s
++{
++  result_header_t header;
++}
++result_wait_t;
++
++
++
++#define INPUT_VDR_MUTE_IGNORE   0
++#define INPUT_VDR_MUTE_EXECUTE  1
++#define INPUT_VDR_MUTE_SIMULATE 2
++
++typedef struct __attribute__((packed)) data_setup_s
++{
++  data_header_t header;
++
++  uint8_t osd_unscaled_blending;
++  uint8_t dont_change_xine_volume;
++  uint8_t mute_mode;
++}
++data_setup_t;
++
++
++
++typedef struct __attribute__((packed)) data_first_frame_s
++{
++  data_header_t header;
++}
++data_first_frame_t;
++
++
++
++typedef struct __attribute__((packed)) data_still_frame_s
++{
++  data_header_t header;
++}
++data_still_frame_t;
++
++
++
++typedef struct __attribute__((packed)) data_set_video_window_s
++{
++  data_header_t header;
++
++  uint32_t x;
++  uint32_t y;
++  uint32_t w;
++  uint32_t h;
++  uint32_t w_ref;
++  uint32_t h_ref;
++}
++data_set_video_window_t;
++
++
++
++typedef struct __attribute__((packed)) data_grab_image_s
++{
++  data_header_t header;
++}
++data_grab_image_t;
++
++
++
++typedef struct __attribute__((packed)) result_grab_image_s
++{
++  result_header_t header;
++
++  int32_t width;
++  int32_t height;
++  int32_t ratio;
++  int32_t format;
++}
++result_grab_image_t;
++
++
++
++typedef struct __attribute__((packed)) data_get_pts_s
++{
++  data_header_t header;
++}
++data_get_pts_t;
++
++
++
++typedef struct __attribute__((packed)) result_get_pts_s
++{
++  result_header_t header;
++
++  int64_t pts;
++}
++result_get_pts_t;
++
++
++
++typedef struct __attribute__((packed)) data_get_version_s
++{
++  data_header_t header;
++}
++data_get_version_t;
++
++
++
++typedef struct __attribute__((packed)) result_get_version_s
++{
++  result_header_t header;
++
++  int32_t version;
++}
++result_get_version_t;
++
++
++
++typedef struct __attribute__((packed)) data_video_size_s
++{
++  data_header_t header;
++}
++data_video_size_t;
++
++
++
++typedef struct __attribute__((packed)) result_video_size_s
++{
++  result_header_t header;
++
++  int32_t left;
++  int32_t top;
++  int32_t width;
++  int32_t height;
++  int32_t ratio;
++  int32_t zoom_x;
++  int32_t zoom_y;
++}
++result_video_size_t;
++
++
++
++typedef struct __attribute__((packed)) data_reset_audio_s
++{
++  data_header_t header;
++}
++data_reset_audio_t;
++
++
++
++typedef struct __attribute__((packed)) event_key_s
++{
++  event_header_t header;
++  
++  uint32_t key;
++}
++event_key_t;
++
++
++
++typedef struct __attribute__((packed)) event_frame_size_s
++{
++  event_header_t header;
++  
++  int32_t left;
++  int32_t top;
++  int32_t width;
++  int32_t height;
++  int32_t zoom_x;
++  int32_t zoom_y;
++}
++event_frame_size_t;
++
++
++
++typedef struct __attribute__((packed)) event_play_external_s
++{
++  event_header_t header;
++  
++  uint32_t key;
++}
++event_play_external_t;
++
++
++
++typedef struct __attribute__((packed)) data_select_audio_s
++{
++  data_header_t header;
++  
++  uint8_t channels;
++}
++data_select_audio_t;
++
++
++
++typedef struct __attribute__((packed)) data_trick_speed_mode_s
++{
++  data_header_t header;
++
++  uint8_t on;
++}
++data_trick_speed_mode_t;
++
++
++
++typedef union __attribute__((packed)) data_union_u
++{
++  data_header_t           header;
++  data_nop_t              nop;
++  data_osd_new_t          osd_new;
++  data_osd_free_t         osd_free;
++  data_osd_show_t         osd_show;
++  data_osd_hide_t         osd_hide;
++  data_osd_set_position_t osd_set_position;
++  data_osd_draw_bitmap_t  osd_draw_bitmap;
++  data_set_color_t        set_color;
++  data_flush_t            flush;
++  data_clear_t            clear;
++  data_mute_t             mute;
++  data_set_volume_t       set_volume;
++  data_set_speed_t        set_speed;
++  data_set_prebuffer_t    set_prebuffer;
++  data_metronom_t         metronom;
++  data_start_t            start;
++  data_wait_t             wait;
++  data_setup_t            setup;
++  data_grab_image_t       grab_image;
++  data_get_pts_t          get_pts;
++  data_first_frame_t      first_frame;
++  data_still_frame_t      still_frame;
++  data_video_size_t       video_size;
++  data_set_video_window_t set_video_window;
++  data_osd_flush_t        osd_flush;
++  data_play_external_t    play_external;
++  data_reset_audio_t      reset_audio;
++  data_select_audio_t     select_audio;
++  data_trick_speed_mode_t trick_speed_mode;
++  data_get_version_t      get_version;
++}
++data_union_t;
++
++
++
++typedef union __attribute__((packed)) result_union_u
++{
++  result_header_t         header;
++  result_grab_image_t     grab_image;
++  result_get_pts_t        get_pts;
++  result_flush_t          flush;
++  result_video_size_t     video_size;
++  result_get_version_t    get_version;
++  result_wait_t           wait;
++}
++result_union_t;
++
++
++
++typedef union __attribute__((packed)) event_union_u
++{
++  event_header_t          header;
++  event_key_t             key;
++  event_frame_size_t      frame_size;
++  event_play_external_t   play_external;
++}
++event_union_t;
++
++
++
++#endif /* __INPUT_VDR_H */
++
+diff -Nurp ../xine-cvs/xine-lib/src/vdr/post_vdr.c xine-lib/src/vdr/post_vdr.c
+--- ../xine-cvs/xine-lib/src/vdr/post_vdr.c	1970-01-01 01:00:00.000000000 +0100
++++ xine-lib/src/vdr/post_vdr.c	2005-06-29 22:39:12.000000000 +0200
+@@ -0,0 +1,44 @@
++/*
++ * Copyright (C) 2000-2004 the xine project
++ * 
++ * This file is part of xine, a free video player.
++ * 
++ * xine is free software; you can redistribute it and/or modify
++ * it under the terms of the GNU General Public License as published by
++ * the Free Software Foundation; either version 2 of the License, or
++ * (at your option) any later version.
++ * 
++ * xine is distributed in the hope that it will be useful,
++ * but WITHOUT ANY WARRANTY; without even the implied warranty of
++ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
++ * GNU General Public License for more details.
++ * 
++ * You should have received a copy of the GNU General Public License
++ * along with this program; if not, write to the Free Software
++ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA
++ *
++ * $Id: vdr.c,v 1.20 2004/04/17 19:54:32 mroi Exp $
++ */
++ 
++/*
++ * plugins for VDR
++ */
++
++#include &quot;xine_internal.h&quot;
++#include &quot;post.h&quot;
++#include &quot;post_vdr.h&quot;
++
++
++
++static post_info_t vdr_video_special_info = { XINE_POST_TYPE_VIDEO_FILTER };
++static post_info_t vdr_audio_special_info = { XINE_POST_TYPE_AUDIO_FILTER };
++
++plugin_info_t xine_plugin_info[] =
++{
++  /* type, API, &quot;name&quot;, version, special_info, init_function */  
++  { PLUGIN_POST, 9, &quot;vdr&quot;      , XINE_VERSION_CODE, &amp;vdr_video_special_info, &amp;vdr_video_init_plugin },
++  { PLUGIN_POST, 9, &quot;vdr_video&quot;, XINE_VERSION_CODE, &amp;vdr_video_special_info, &amp;vdr_video_init_plugin },
++  { PLUGIN_POST, 9, &quot;vdr_audio&quot;, XINE_VERSION_CODE, &amp;vdr_audio_special_info, &amp;vdr_audio_init_plugin },
++  { PLUGIN_NONE, 0, &quot;&quot;, 0, NULL, NULL }
++};
++
+diff -Nurp ../xine-cvs/xine-lib/src/vdr/post_vdr.h xine-lib/src/vdr/post_vdr.h
+--- ../xine-cvs/xine-lib/src/vdr/post_vdr.h	1970-01-01 01:00:00.000000000 +0100
++++ xine-lib/src/vdr/post_vdr.h	2005-08-14 13:56:05.000000000 +0200
+@@ -0,0 +1,71 @@
++
++#ifndef __POST_VDR_H
++#define __POST_VDR_H
++
++
++
++typedef struct vdr_set_video_window_data_s {
++  int32_t x;
++  int32_t y;
++  int32_t w;
++  int32_t h;
++  int32_t w_ref;
++  int32_t h_ref;
++
++} vdr_set_video_window_data_t;
++
++
++
++typedef struct vdr_frame_size_changed_data_s {
++  int32_t x;
++  int32_t y;
++  int32_t w;
++  int32_t h;
++
++} vdr_frame_size_changed_data_t;
++
++
++
++typedef struct vdr_select_audio_data_s {
++  uint8_t channels;
++
++} vdr_select_audio_data_t;
++
++
++
++inline static int vdr_is_vdr_stream(xine_stream_t *stream)
++{
++  if (!stream
++      || !stream-&gt;input_plugin
++      || !stream-&gt;input_plugin-&gt;input_class)
++  {
++    return 0;
++  }
++
++  {
++    input_class_t *input_class = stream-&gt;input_plugin-&gt;input_class;
++
++    if (input_class-&gt;get_identifier)
++    {
++      const char *identifier = input_class-&gt;get_identifier(input_class);
++      if (identifier
++          &amp;&amp; 0 == strcmp(identifier, &quot;VDR&quot;))
++      {
++        return 1;
++      }
++    }
++  }
++
++  return 0;
++}
++
++
++
++/* plugin class initialization function */
++void *vdr_video_init_plugin(xine_t *xine, void *);
++void *vdr_audio_init_plugin(xine_t *xine, void *);
++
++
++
++#endif /* __POST_VDR_H */
++
+diff -Nurp ../xine-cvs/xine-lib/src/vdr/post_vdr_audio.c xine-lib/src/vdr/post_vdr_audio.c
+--- ../xine-cvs/xine-lib/src/vdr/post_vdr_audio.c	1970-01-01 01:00:00.000000000 +0100
++++ xine-lib/src/vdr/post_vdr_audio.c	2005-08-14 13:46:41.000000000 +0200
+@@ -0,0 +1,287 @@
++/*
++ * Copyright (C) 2000-2004 the xine project
++ * 
++ * This file is part of xine, a free video player.
++ * 
++ * xine is free software; you can redistribute it and/or modify
++ * it under the terms of the GNU General Public License as published by
++ * the Free Software Foundation; either version 2 of the License, or
++ * (at your option) any later version.
++ * 
++ * xine is distributed in the hope that it will be useful,
++ * but WITHOUT ANY WARRANTY; without even the implied warranty of
++ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
++ * GNU General Public License for more details.
++ * 
++ * You should have received a copy of the GNU General Public License
++ * along with this program; if not, write to the Free Software
++ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA
++ *
++ * $Id: vdr.c,v 1.20 2004/04/17 19:54:32 mroi Exp $
++ */
++ 
++/*
++ * select audio channel plugin for VDR
++ */
++
++#define LOG_MODULE &quot;vdr_audio&quot;
++#define LOG_VERBOSE
++/*
++#define LOG
++*/
++
++#include &quot;xine_internal.h&quot;
++#include &quot;post.h&quot;
++#include &quot;post_vdr.h&quot;
++
++
++
++typedef struct vdr_audio_post_plugin_s
++{
++  post_plugin_t post_plugin;
++
++  xine_event_queue_t *event_queue;
++  xine_stream_t      *vdr_stream;
++  
++  uint8_t audio_channels;
++  int num_channels;
++  
++}
++vdr_audio_post_plugin_t;
++
++
++static void vdr_audio_select_audio(vdr_audio_post_plugin_t *this, uint8_t channels)
++{
++  this-&gt;audio_channels = channels;
++}
++
++ 
++/* plugin class functions */
++static post_plugin_t *vdr_audio_open_plugin(post_class_t *class_gen, int inputs,
++                                            xine_audio_port_t **audio_target,
++                                            xine_video_port_t **video_target);
++static char          *vdr_audio_get_identifier(post_class_t *class_gen);
++static char          *vdr_audio_get_description(post_class_t *class_gen);
++static void           vdr_audio_class_dispose(post_class_t *class_gen);
++
++/* plugin instance functions */
++static void           vdr_audio_dispose(post_plugin_t *this_gen);
++
++/* replaced ao_port functions */
++static int            vdr_audio_port_open(xine_audio_port_t *port_gen, xine_stream_t *stream,
++                                          uint32_t bits, uint32_t rate, int mode);
++static void           vdr_audio_port_put_buffer(xine_audio_port_t *port_gen, audio_buffer_t *buf, xine_stream_t *stream);
++
++
++
++void *vdr_audio_init_plugin(xine_t *xine, void *data)
++{
++  post_class_t *class = (post_class_t *)malloc(sizeof (post_class_t));
++  
++  if (!class)
++    return NULL;
++  
++  class-&gt;open_plugin     = vdr_audio_open_plugin;
++  class-&gt;get_identifier  = vdr_audio_get_identifier;
++  class-&gt;get_description = vdr_audio_get_description;
++  class-&gt;dispose         = vdr_audio_class_dispose;
++  
++  return class;
++}
++
++static post_plugin_t *vdr_audio_open_plugin(post_class_t *class_gen, int inputs,
++				      xine_audio_port_t **audio_target,
++				      xine_video_port_t **video_target)
++{
++  vdr_audio_post_plugin_t *this = (vdr_audio_post_plugin_t *)xine_xmalloc(sizeof (vdr_audio_post_plugin_t));
++  post_in_t               *input;
++  post_out_t              *output;
++  post_audio_port_t       *port;
++/*  
++fprintf(stderr, &quot;~~~~~~~~~~ vdr open plugin\n&quot;);
++*/
++  if (!this || !audio_target || !audio_target[ 0 ])
++  {
++    free(this);
++    return NULL;
++  }
++
++  _x_post_init(&amp;this-&gt;post_plugin, 1, 0);
++  this-&gt;post_plugin.dispose = vdr_audio_dispose;
++
++  port = _x_post_intercept_audio_port(&amp;this-&gt;post_plugin, audio_target[ 0 ], &amp;input, &amp;output);
++  port-&gt;new_port.open       = vdr_audio_port_open;
++  port-&gt;new_port.put_buffer = vdr_audio_port_put_buffer;
++
++  this-&gt;post_plugin.xine_post.audio_input[ 0 ] = &amp;port-&gt;new_port;
++
++  
++
++  this-&gt;audio_channels = 0;
++  
++  return &amp;this-&gt;post_plugin;
++}
++
++static char *vdr_audio_get_identifier(post_class_t *class_gen)
++{
++  return &quot;vdr_audio&quot;;
++}
++
++static char *vdr_audio_get_description(post_class_t *class_gen)
++{
++  return &quot;modifies every audio frame as requested by VDR&quot;;
++}
++
++static void vdr_audio_class_dispose(post_class_t *class_gen)
++{
++  free(class_gen);
++}
++
++
++static void vdr_audio_dispose(post_plugin_t *this_gen)
++{
++/*
++fprintf(stderr, &quot;~~~~~~~~~~ vdr dispose\n&quot;);
++*/
++  if (_x_post_dispose(this_gen))
++  {
++    vdr_audio_post_plugin_t *this = (vdr_audio_post_plugin_t *)this_gen;
++    
++    if (this-&gt;vdr_stream)
++      xine_event_dispose_queue(this-&gt;event_queue);
++    
++    free(this_gen);
++  }
++}
++
++static int vdr_audio_port_open(xine_audio_port_t *port_gen, xine_stream_t *stream,
++                               uint32_t bits, uint32_t rate, int mode) {
++
++  post_audio_port_t       *port = (post_audio_port_t *)port_gen;
++  vdr_audio_post_plugin_t *this = (vdr_audio_post_plugin_t *)port-&gt;post;
++
++  _x_post_rewire(&amp;this-&gt;post_plugin);
++  _x_post_inc_usage(port);
++/*
++fprintf(stderr, &quot;~~~~~~~~~~ vdr port open\n&quot;);
++*/
++  port-&gt;stream = stream;
++  port-&gt;bits = bits;
++  port-&gt;rate = rate;
++  port-&gt;mode = mode;
++
++  this-&gt;num_channels = _x_ao_mode2channels(mode);
++
++  return port-&gt;original_port-&gt;open(port-&gt;original_port, stream, bits, rate, mode );
++}
++
++
++static void vdr_audio_port_put_buffer(xine_audio_port_t *port_gen, audio_buffer_t *buf, xine_stream_t *stream)
++{
++  post_audio_port_t       *port = (post_audio_port_t *)port_gen;
++  vdr_audio_post_plugin_t *this = (vdr_audio_post_plugin_t *)port-&gt;post;
++  xine_event_t *event;
++/*
++fprintf(stderr, &quot;~~~~~~ vdr_audio\n&quot;);
++*/
++  if (this-&gt;vdr_stream
++      &amp;&amp; !_x_continue_stream_processing(this-&gt;vdr_stream))
++  {
++    this-&gt;vdr_stream = 0;
++    
++    xine_event_dispose_queue(this-&gt;event_queue);
++    this-&gt;event_queue = 0;
++    
++    this-&gt;audio_channels = 0;
++  }
++  
++  if (!this-&gt;vdr_stream
++      &amp;&amp; vdr_is_vdr_stream(stream))
++  {
++    this-&gt;event_queue = xine_event_new_queue(stream);
++    if (this-&gt;event_queue)
++    {
++      this-&gt;vdr_stream = stream;
++      
++      {
++        xine_event_t event;
++        
++        event.type = XINE_EVENT_VDR_PLUGINSTARTED;
++        event.data = 0;
++        event.data_length = 1; /* vdr_audio */
++        
++        xine_event_send(this-&gt;vdr_stream, &amp;event);
++      }
++    }
++  }
++  
++  if (this-&gt;event_queue)
++  {
++    while ((event = xine_event_get(this-&gt;event_queue)))
++    {
++      if (event-&gt;type == XINE_EVENT_VDR_SELECTAUDIO)
++      {
++        vdr_select_audio_data_t *data = (vdr_select_audio_data_t *)event-&gt;data;
++        
++        vdr_audio_select_audio(this, data-&gt;channels);
++      }
++
++      xine_event_free(event);
++    }
++  }
++ 
++  if (this-&gt;num_channels == 2
++      &amp;&amp; this-&gt;audio_channels != 0
++      &amp;&amp; this-&gt;audio_channels != 3)
++  {
++    audio_buffer_t *vdr_buf = port-&gt;original_port-&gt;get_buffer(port-&gt;original_port);
++    vdr_buf-&gt;num_frames = buf-&gt;num_frames;
++    vdr_buf-&gt;vpts = buf-&gt;vpts;
++    vdr_buf-&gt;frame_header_count = buf-&gt;frame_header_count;
++    vdr_buf-&gt;first_access_unit = buf-&gt;first_access_unit;
++    /* FIXME: The audio buffer should contain this info.
++     *        We should not have to get it from the open call.
++     */
++    vdr_buf-&gt;format.bits = buf-&gt;format.bits;
++    vdr_buf-&gt;format.rate = buf-&gt;format.rate;
++    vdr_buf-&gt;format.mode = buf-&gt;format.mode;
++    _x_extra_info_merge(vdr_buf-&gt;extra_info, buf-&gt;extra_info);
++
++    {
++      int step = buf-&gt;format.bits / 8;
++      uint8_t *src = (uint8_t *)buf-&gt;mem;
++      uint8_t *dst = (uint8_t *)vdr_buf-&gt;mem;
++
++      if (this-&gt;audio_channels == 2)
++        src += step;
++/*      
++      fprintf(stderr, &quot;~~~~~~~~~~ vdr port put buffer: channels: %d, %d\n&quot;
++              , this-&gt;audio_channels
++              , buf-&gt;format.bits);
++*/      
++      int i, k;
++      for (i = 0; i &lt; buf-&gt;num_frames; i++)
++      {
++        for (k = 0; k &lt; step; k++)
++          *dst++ = *src++;
++
++        src -= step;
++        
++        for (k = 0; k &lt; step; k++)
++          *dst++ = *src++;
++
++        src += step;
++      }
++    }
++    
++    /* pass data to original port */
++    port-&gt;original_port-&gt;put_buffer(port-&gt;original_port, vdr_buf, stream);
++
++    /* free data from origial buffer */
++    buf-&gt;num_frames = 0; /* UNDOCUMENTED, but hey, it works! Force old audio_out buffer free. */
++  }
++ 
++  port-&gt;original_port-&gt;put_buffer(port-&gt;original_port, buf, stream);
++
++  return;
++}
+diff -Nurp ../xine-cvs/xine-lib/src/vdr/post_vdr_video.c xine-lib/src/vdr/post_vdr_video.c
+--- ../xine-cvs/xine-lib/src/vdr/post_vdr_video.c	1970-01-01 01:00:00.000000000 +0100
++++ xine-lib/src/vdr/post_vdr_video.c	2005-08-14 13:46:29.000000000 +0200
+@@ -0,0 +1,485 @@
++/*
++ * Copyright (C) 2000-2004 the xine project
++ * 
++ * This file is part of xine, a free video player.
++ * 
++ * xine is free software; you can redistribute it and/or modify
++ * it under the terms of the GNU General Public License as published by
++ * the Free Software Foundation; either version 2 of the License, or
++ * (at your option) any later version.
++ * 
++ * xine is distributed in the hope that it will be useful,
++ * but WITHOUT ANY WARRANTY; without even the implied warranty of
++ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
++ * GNU General Public License for more details.
++ * 
++ * You should have received a copy of the GNU General Public License
++ * along with this program; if not, write to the Free Software
++ * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA
++ *
++ * $Id: vdr.c,v 1.20 2004/04/17 19:54:32 mroi Exp $
++ */
++ 
++/*
++ * frame scaler plugin for VDR
++ */
++
++#define LOG_MODULE &quot;vdr_video&quot;
++#define LOG_VERBOSE
++/*
++#define LOG
++*/
++
++#include &quot;xine_internal.h&quot;
++#include &quot;post.h&quot;
++#include &quot;post_vdr.h&quot;
++
++
++
++typedef struct vdr_video_post_plugin_s
++{
++  post_plugin_t post_plugin;
++
++  xine_event_queue_t *event_queue;
++  xine_stream_t      *vdr_stream;
++  
++  int8_t trick_speed_mode;
++  int8_t enabled;
++  
++  int32_t x;
++  int32_t y;
++  int32_t w;
++  int32_t h;
++  int32_t w_ref;
++  int32_t h_ref;
++
++  int32_t old_frame_left;
++  int32_t old_frame_top;
++  int32_t old_frame_width;
++  int32_t old_frame_height;
++  
++}
++vdr_video_post_plugin_t;
++
++
++static void vdr_video_set_video_window(vdr_video_post_plugin_t *this, int32_t x, int32_t y, int32_t w, int32_t h, int32_t w_ref, int32_t h_ref)
++{
++  this-&gt;enabled = 0;
++  
++  this-&gt;x     = x;
++  this-&gt;y     = y;
++  this-&gt;w     = w;
++  this-&gt;h     = h;
++  this-&gt;w_ref = w_ref;
++  this-&gt;h_ref = h_ref;
++
++  if (w != w_ref || h != h_ref)
++    this-&gt;enabled = 1;
++}
++
++ 
++/* plugin class functions */
++static post_plugin_t *vdr_video_open_plugin(post_class_t *class_gen, int inputs,
++                                            xine_audio_port_t **audio_target,
++                                            xine_video_port_t **video_target);
++static char          *vdr_video_get_identifier(post_class_t *class_gen);
++static char          *vdr_video_get_description(post_class_t *class_gen);
++static void           vdr_video_class_dispose(post_class_t *class_gen);
++
++/* plugin instance functions */
++static void           vdr_video_dispose(post_plugin_t *this_gen);
++
++/* frame intercept check */
++static int            vdr_video_intercept_frame(post_video_port_t *port, vo_frame_t *frame);
++
++/* replaced vo_frame functions */
++static int            vdr_video_draw(vo_frame_t *frame, xine_stream_t *stream);
++
++
++void *vdr_video_init_plugin(xine_t *xine, void *data)
++{
++  post_class_t *class = (post_class_t *)malloc(sizeof (post_class_t));
++  
++  if (!class)
++    return NULL;
++  
++  class-&gt;open_plugin     = vdr_video_open_plugin;
++  class-&gt;get_identifier  = vdr_video_get_identifier;
++  class-&gt;get_description = vdr_video_get_description;
++  class-&gt;dispose         = vdr_video_class_dispose;
++  
++  return class;
++}
++
++static post_plugin_t *vdr_video_open_plugin(post_class_t *class_gen, int inputs,
++                                            xine_audio_port_t **audio_target,
++                                            xine_video_port_t **video_target)
++{
++  vdr_video_post_plugin_t *this = (vdr_video_post_plugin_t *)xine_xmalloc(sizeof (vdr_video_post_plugin_t));
++  post_in_t               *input;
++  post_out_t              *output;
++  post_video_port_t       *port;
++  
++  if (!this || !video_target || !video_target[ 0 ])
++  {
++    free(this);
++    return NULL;
++  }
++
++  _x_post_init(&amp;this-&gt;post_plugin, 0, 1);
++  this-&gt;post_plugin.dispose = vdr_video_dispose;
++
++  port = _x_post_intercept_video_port(&amp;this-&gt;post_plugin, video_target[ 0 ], &amp;input, &amp;output);
++  port-&gt;intercept_frame = vdr_video_intercept_frame;
++  port-&gt;new_frame-&gt;draw = vdr_video_draw;
++  this-&gt;post_plugin.xine_post.video_input[ 0 ] = &amp;port-&gt;new_port;
++  
++  
++  
++  this-&gt;enabled          = 0;
++  this-&gt;vdr_stream       = 0;
++  this-&gt;event_queue      = 0;
++  this-&gt;old_frame_left   = 0;
++  this-&gt;old_frame_top    = 0;
++  this-&gt;old_frame_width  = 0;
++  this-&gt;old_frame_height = 0;
++  this-&gt;trick_speed_mode = 0;
++  
++  return &amp;this-&gt;post_plugin;
++}
++
++static char *vdr_video_get_identifier(post_class_t *class_gen)
++{
++  return &quot;vdr&quot;;
++}
++
++static char *vdr_video_get_description(post_class_t *class_gen)
++{
++  return &quot;modifies every video frame as requested by VDR&quot;;
++}
++
++static void vdr_video_class_dispose(post_class_t *class_gen)
++{
++  free(class_gen);
++}
++
++
++static void vdr_video_dispose(post_plugin_t *this_gen)
++{
++  if (_x_post_dispose(this_gen))
++  {
++    vdr_video_post_plugin_t *this = (vdr_video_post_plugin_t *)this_gen;
++    
++    if (this-&gt;vdr_stream)
++    {
++      xine_event_t event;
++      vdr_frame_size_changed_data_t event_data;
++
++      event_data.x = 0;
++      event_data.y = 0;
++      event_data.w = 0;
++      event_data.h = 0;
++      
++      event.type        = XINE_EVENT_VDR_FRAMESIZECHANGED;
++      event.data        = &amp;event_data;
++      event.data_length = sizeof (event_data);
++      
++      xine_event_send(this-&gt;vdr_stream, &amp;event);
++
++      xine_event_dispose_queue(this-&gt;event_queue);
++    }
++    
++    free(this_gen);
++  }
++}
++
++
++static int vdr_video_intercept_frame(post_video_port_t *port, vo_frame_t *frame)
++{
++  return (frame-&gt;format == XINE_IMGFMT_YUY2
++          || frame-&gt;format == XINE_IMGFMT_YV12);
++}
++
++
++static inline void vdr_video_scale(uint8_t *src, uint8_t *dst, int y_inc, int x_inc, int w_dst, int h_dst, int x, int y, int w, int h, int w_ref, int h_ref, int init)
++{
++  int x0 = x * w_dst / w_ref;
++  int y0 = y * h_dst / h_ref;
++
++  int x1 = ((x + w) * w_dst - 1 + w_ref) / w_ref;
++  int y1 = ((y + h) * h_dst - 1 + h_ref) / h_ref;
++
++  int dx = x1 - x0;
++  int dy = y1 - y0;
++
++  int yy, xx;
++
++  int dy2    = dy + dy;
++  int h_dst2 = h_dst + h_dst;
++  int y_eps  = h_dst - dy2;
++
++  int dx2    = dx + dx;
++  int w_dst2 = w_dst + w_dst;
++  int x_eps0 = w_dst - dx2;
++    
++  for (yy = 0; yy &lt; y0; yy++)
++  {
++    uint8_t *dst0 = dst;
++    
++    for (xx = 0; xx &lt; w_dst; xx++)
++    {
++      *dst0 = init;
++      dst0 += x_inc;
++    }
++
++    dst += y_inc;
++  }
++
++  for (yy = y0; yy &lt; y1; yy++)
++  {
++    uint8_t *dst0 = dst;
++    uint8_t *src0 = src;
++
++    int x_eps = x_eps0;
++    
++    for (xx = 0; xx &lt; x0; xx++)
++    {
++      *dst0 = init;
++      dst0 += x_inc;
++    }
++    
++    for (xx = x0; xx &lt; x1; xx++)
++    {
++      *dst0 = *src0;
++      dst0 += x_inc;
++      
++      x_eps += w_dst2;
++      while (x_eps &gt;= 0)
++      {
++        src0  += x_inc;
++        x_eps -= dx2;
++      }
++    }
++    
++    for (xx = x1; xx &lt; w_dst; xx++)
++    {
++      *dst0 = init;
++      dst0 += x_inc;
++    }
++
++    dst += y_inc;
++
++    y_eps += h_dst2;
++    while (y_eps &gt;= 0)
++    {
++      src   += y_inc;
++      y_eps -= dy2;
++    }
++  }
++  
++  for (yy = y1; yy &lt; h_dst; yy++)
++  {
++    uint8_t *dst0 = dst;
++    
++    for (xx = 0; xx &lt; w_dst; xx++)
++    {
++      *dst0 = init;
++      dst0 += x_inc;
++    }
++
++    dst += y_inc;
++  }  
++}
++
++static void vdr_video_scale_YUY2(vdr_video_post_plugin_t *this, vo_frame_t *src, vo_frame_t *dst)
++{
++  int w = dst-&gt;width  - dst-&gt;crop_left - dst-&gt;crop_right;
++  int h = dst-&gt;height - dst-&gt;crop_top  - dst-&gt;crop_bottom;
++  int offset;
++  
++  if (w &lt; 0)
++    w = 0;
++  
++  if (h &lt; 0)
++    h = 0;
++
++  offset = dst-&gt;pitches[ 0 ] * dst-&gt;crop_top + 2 *   dst-&gt;crop_left;
++  vdr_video_scale(&amp;src-&gt;base[ 0 ][ 0 ] + offset, &amp;dst-&gt;base[ 0 ][ 0 ] + offset, dst-&gt;pitches[ 0 ], 2,  w         , h, this-&gt;x, this-&gt;y, this-&gt;w, this-&gt;h, this-&gt;w_ref, this-&gt;h_ref, 0x00);
++  offset = dst-&gt;pitches[ 0 ] * dst-&gt;crop_top + 4 * ((dst-&gt;crop_left + 1) / 2);
++  vdr_video_scale(&amp;src-&gt;base[ 0 ][ 1 ] + offset, &amp;dst-&gt;base[ 0 ][ 1 ] + offset, dst-&gt;pitches[ 0 ], 4, (w + 1) / 2, h, this-&gt;x, this-&gt;y, this-&gt;w, this-&gt;h, this-&gt;w_ref, this-&gt;h_ref, 0x80);
++  offset = dst-&gt;pitches[ 0 ] * dst-&gt;crop_top + 4 * ((dst-&gt;crop_left + 1) / 2);
++  vdr_video_scale(&amp;src-&gt;base[ 0 ][ 3 ] + offset, &amp;dst-&gt;base[ 0 ][ 3 ] + offset, dst-&gt;pitches[ 0 ], 4, (w + 1) / 2, h, this-&gt;x, this-&gt;y, this-&gt;w, this-&gt;h, this-&gt;w_ref, this-&gt;h_ref, 0x80);
++}
++
++static void vdr_video_scale_YV12(vdr_video_post_plugin_t *this, vo_frame_t *src, vo_frame_t *dst)
++{
++  int w = dst-&gt;width  - dst-&gt;crop_left - dst-&gt;crop_right;
++  int h = dst-&gt;height - dst-&gt;crop_top  - dst-&gt;crop_bottom;
++  int offset;
++  
++  if (w &lt; 0)
++    w = 0;
++  
++  if (h &lt; 0)
++    h = 0;
++
++  offset = dst-&gt;pitches[ 0 ] *   dst-&gt;crop_top           + 1 *   dst-&gt;crop_left;
++  vdr_video_scale(&amp;src-&gt;base[ 0 ][ 0 ] + offset, &amp;dst-&gt;base[ 0 ][ 0 ] + offset, dst-&gt;pitches[ 0 ], 1,  w         ,  h         , this-&gt;x, this-&gt;y, this-&gt;w, this-&gt;h, this-&gt;w_ref, this-&gt;h_ref, 0x00);
++  offset = dst-&gt;pitches[ 1 ] * ((dst-&gt;crop_top + 1) / 2) + 1 * ((dst-&gt;crop_left + 1) / 2);
++  vdr_video_scale(&amp;src-&gt;base[ 1 ][ 0 ] + offset, &amp;dst-&gt;base[ 1 ][ 0 ] + offset, dst-&gt;pitches[ 1 ], 1, (w + 1) / 2, (h + 1) / 2, this-&gt;x, this-&gt;y, this-&gt;w, this-&gt;h, this-&gt;w_ref, this-&gt;h_ref, 0x80);
++  offset = dst-&gt;pitches[ 2 ] * ((dst-&gt;crop_top + 1) / 2) + 1 * ((dst-&gt;crop_left + 1) / 2);
++  vdr_video_scale(&amp;src-&gt;base[ 2 ][ 0 ] + offset, &amp;dst-&gt;base[ 2 ][ 0 ] + offset, dst-&gt;pitches[ 2 ], 1, (w + 1) / 2, (h + 1) / 2, this-&gt;x, this-&gt;y, this-&gt;w, this-&gt;h, this-&gt;w_ref, this-&gt;h_ref, 0x80);
++}
++
++
++static int vdr_video_draw(vo_frame_t *frame, xine_stream_t *stream)
++{
++  post_video_port_t       *port = (post_video_port_t *)frame-&gt;port;
++  vdr_video_post_plugin_t *this = (vdr_video_post_plugin_t *)port-&gt;post;
++  vo_frame_t *vdr_frame;
++  xine_event_t *event;
++  int skip;
++
++  if (this-&gt;vdr_stream
++      &amp;&amp; !_x_continue_stream_processing(this-&gt;vdr_stream))
++  {
++    this-&gt;vdr_stream = 0;
++    
++    xine_event_dispose_queue(this-&gt;event_queue);
++    this-&gt;event_queue = 0;
++    
++    this-&gt;old_frame_left   = 0;
++    this-&gt;old_frame_top    = 0;
++    this-&gt;old_frame_width  = 0;
++    this-&gt;old_frame_height = 0;
++  }
++  
++  if (!this-&gt;vdr_stream
++      &amp;&amp; vdr_is_vdr_stream(stream))
++  {
++    this-&gt;event_queue = xine_event_new_queue(stream);
++    if (this-&gt;event_queue)
++    {
++      this-&gt;vdr_stream = stream;
++      
++      {
++        xine_event_t event;
++        
++        event.type = XINE_EVENT_VDR_PLUGINSTARTED;
++        event.data = 0;
++        event.data_length = 0; /* vdr_video */
++        
++        xine_event_send(this-&gt;vdr_stream, &amp;event);
++      }
++    }
++  }
++  
++  if (this-&gt;event_queue)
++  {
++    while ((event = xine_event_get(this-&gt;event_queue)))
++    {
++      if (event-&gt;type == XINE_EVENT_VDR_SETVIDEOWINDOW)
++      {
++        vdr_set_video_window_data_t *data = (vdr_set_video_window_data_t *)event-&gt;data;
++        
++        vdr_video_set_video_window(this, data-&gt;x, data-&gt;y, data-&gt;w, data-&gt;h, data-&gt;w_ref, data-&gt;h_ref);
++      }
++      else if (event-&gt;type == XINE_EVENT_VDR_TRICKSPEEDMODE)
++      {
++/*
++        fprintf(stderr, &quot;###############################: %p, %d\n&quot;, event-&gt;data, event-&gt;data_length);
++        this-&gt;trick_speed_mode = (0 != event-&gt;data_length);
++*/
++      }
++
++      xine_event_free(event);
++    }
++  }
++
++  {
++    int frame_left   = frame-&gt;crop_left;
++    int frame_width  = frame-&gt;width - frame-&gt;crop_left - frame-&gt;crop_right;
++    int frame_top    = frame-&gt;crop_top;
++    int frame_height = frame-&gt;height - frame-&gt;crop_top - frame-&gt;crop_bottom;
++
++    if (frame_left &lt; 0)
++      frame_left = 0;
++    if (frame_width &gt; frame-&gt;width)
++      frame_width = frame-&gt;width;
++    if (frame_top &lt; 0)
++      frame_top = 0;
++    if (frame_height &gt; frame-&gt;height)
++      frame_height = frame-&gt;height;
++    
++    if (this-&gt;vdr_stream
++        &amp;&amp; (this-&gt;old_frame_left != frame_left
++          || this-&gt;old_frame_top != frame_top
++          || this-&gt;old_frame_width != frame_width
++          || this-&gt;old_frame_height != frame_height))
++    {
++      xine_event_t event;
++      vdr_frame_size_changed_data_t event_data;
++
++      event_data.x = frame_left;
++      event_data.y = frame_top;
++      event_data.w = frame_width;
++      event_data.h = frame_height;
++      
++      xprintf(this-&gt;vdr_stream-&gt;xine, XINE_VERBOSITY_LOG,
++            _(LOG_MODULE &quot;: osd: (%d, %d)-(%d, %d)\n&quot;), frame_left, frame_top, frame_width, frame_height);
++      
++      event.type        = XINE_EVENT_VDR_FRAMESIZECHANGED;
++      event.data        = &amp;event_data;
++      event.data_length = sizeof (event_data);
++      
++      xine_event_send(this-&gt;vdr_stream, &amp;event);
++    
++      this-&gt;old_frame_left   = frame_left;
++      this-&gt;old_frame_top    = frame_top;
++      this-&gt;old_frame_width  = frame_width;
++      this-&gt;old_frame_height = frame_height;
++    }
++  }
++/*
++  fprintf(stderr, &quot;~~~~~~~~~~~~ trickspeedmode: %d\n&quot;, this-&gt;trick_speed_mode);  
++  
++  if (this-&gt;vdr_stream
++      &amp;&amp; this-&gt;trick_speed_mode)
++  {
++    frame-&gt;pts = 0;
++    frame-&gt;next-&gt;pts = 0;
++  }
++*/  
++  if (!this-&gt;enabled 
++      || frame-&gt;bad_frame
++      || (frame-&gt;format != XINE_IMGFMT_YUY2
++          &amp;&amp; frame-&gt;format != XINE_IMGFMT_YV12))
++  {
++    _x_post_frame_copy_down(frame, frame-&gt;next);
++    skip = frame-&gt;next-&gt;draw(frame-&gt;next, stream);
++    _x_post_frame_copy_up(frame, frame-&gt;next);
++    return skip;
++  }
++
++  vdr_frame = port-&gt;original_port-&gt;get_frame(port-&gt;original_port,
++    frame-&gt;width, frame-&gt;height, frame-&gt;ratio, frame-&gt;format, frame-&gt;flags | VO_BOTH_FIELDS);
++
++  _x_post_frame_copy_down(frame, vdr_frame);
++    
++  switch (vdr_frame-&gt;format)
++  {
++  case XINE_IMGFMT_YUY2:
++    vdr_video_scale_YUY2(this, frame, vdr_frame);
++    break;
++    
++  case XINE_IMGFMT_YV12:
++    vdr_video_scale_YV12(this, frame, vdr_frame);    
++    break;
++  }
++  
++  skip = vdr_frame-&gt;draw(vdr_frame, stream);
++  _x_post_frame_copy_up(frame, vdr_frame);
++  vdr_frame-&gt;free(vdr_frame);
++  
++  return skip;
++}

Added: branches/rpms/brian/xine-lib/xine-lib.spec
===================================================================
--- branches/rpms/brian/xine-lib/xine-lib.spec	                        (rev 0)
+++ branches/rpms/brian/xine-lib/xine-lib.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,574 @@
+# $Id: xine-lib.spec 5231 2007-03-18 20:46:57Z dag $
+# Authority: matthias
+# Upstream: &lt;xine-user$lists,sf,net&gt;
+
+%{?dist: %{expand: %%define %dist 1}}
+%{?fedora: %{expand: %%define fc%{fedora} 1}}
+
+%{!?dist:%define _with_modxorg 1}
+%{?el5:  %define _with_modxorg 1}
+%{?fc6:  %define _with_modxorg 1}
+%{?fc5:  %define _with_modxorg 1}
+
+%{?fc2:%define _without_gettextdevel 1}
+
+%{?fc1:%define _without_alsa 1}
+%{?fc1:%define _without_gettextdevel 1}
+%{?fc1:%define _without_theora 1}
+%{?fc1:%define _without_xvmc 1}
+
+%{?el3:%define _without_alsa 1}
+%{?el3:%define _without_freetype2_pc 1}
+%{?el3:%define _without_fribidi 1}
+%{?el3:%define _without_gettextdevel 1}
+%{?el3:%define _without_theora 1}
+%{?el3:%define _without_xvmc 1}
+
+%{?rh9:%define _without_alsa 1}
+%{?rh9:%define _without_freetype2_pc 1}
+%{?rh9:%define _without_fribidi 1}
+%{?rh9:%define _without_gettextdevel 1}
+%{?rh9:%define _without_theora 1}
+%{?rh9:%define _without_xvmc 1}
+
+%{?rh8:%define _without_alsa 1}
+%{?rh8:%define _without_freetype2_pc 1}
+%{?rh8:%define _without_fribidi 1}
+%{?rh8:%define _without_gettextdevel 1}
+%{?rh8:%define _without_theora 1}
+%{?rh8:%define _without_xvmc 1}
+
+%{?rh7:%define _without_alsa 1}
+%{?rh7:%define _without_freetype2_pc 1}
+%{?rh7:%define _without_fribidi 1}
+%{?rh7:%define _without_gettextdevel 1}
+%{?rh7:%define _without_theora 1}
+%{?rh7:%define _without_gnomevfs2 1}
+%{?rh7:%define _without_xvmc 1}
+
+%{?yd3:%define _without_alsa 1}
+%{?yd3:%define _without_freetype2_pc 1}
+%{?yd3:%define _without_fribidi 1}
+%{?yd3:%define _without_gettextdevel 1}
+%{?yd3:%define _without_theora 1}
+%{?yd3:%define _without_xvmc 1}
+
+%define libname libxine1
+
+Summary: Core library of the xine multimedia player
+Name: xine-lib
+Version: 0.99.5.cvs20061209220000
+Release: 1.bs.1
+License: GPL
+Group: Applications/Multimedia
+URL: <A HREF="http://xinehq.de/">http://xinehq.de/</A>
+
+Packager: Brian Schueler
+Vendor: Matthias Saou
+
+Source: <A HREF="http://downloads.sf.net/xine/xine-lib-%{version">http://downloads.sf.net/xine/xine-lib-%{version</A>}.tar.bz2
+Patch0: xine-lib.patch
+
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+Requires: libdvdcss
+BuildRequires: gcc-c++, pkgconfig, zlib-devel, libtiff-devel, libsysfs-devel
+BuildRequires: libvorbis-devel, SDL-devel, bzip2-devel
+# BUG : libmng-devel should apparently require libjpeg-devel for includes
+BuildRequires: libpng-devel, libmng-devel, libjpeg-devel, freetype-devel
+BuildRequires: gtk2-devel
+BuildRequires: libcdio-devel, vcdimager-devel, a52dec-devel, libmad-devel
+%{?_with_modxorg:BuildRequires: libXt-devel, libXv-devel, libGL-devel, libGLU-devel, libXinerama-devel, libXvMC-devel}
+%{!?_with_modxorg:BuildRequires: XFree86-devel}
+%{!?_with_modxorg:%{!?_without_xvmc:BuildRequires: libXvMCW-devel}}
+%{?_with_rte:BuildRequires: rte-devel}
+%{?_with_extdvdnav:BuildRequires: libdvdnav-devel &gt;= 0.1.4}
+%{?_with_extffmpeg:BuildRequires: ffmpeg-devel}
+%{!?_without_alsa:BuildRequires: alsa-lib-devel}
+%{!?_without_esound:BuildRequires: esound-devel}
+%{!?_without_aalib:BuildRequires: aalib-devel}
+%{!?_without_directfb:BuildRequires: directfb-devel}
+%{!?_without_flac:BuildRequires: flac-devel}
+%{!?_without_libfame:BuildRequires: libfame-devel}
+%{!?_without_arts:BuildRequires: arts-devel}
+%{!?_without_gnomevfs2:BuildRequires: gnome-vfs2-devel}
+%{!?_without_speex:BuildRequires: speex-devel}
+%{!?_without_caca:BuildRequires: libcaca-devel}
+%{!?_without_theora:BuildRequires: libtheora-devel}
+%{!?_without_samba:BuildRequires: samba-common}
+%{!?_without_modplug:BuildRequires: libmodplug-devel}
+%{!?_without_magick:BuildRequires: ImageMagick-devel}
+%{!?_without_gettextdevel:BuildRequires: gettext-devel}
+%{?_without_gettextdevel:BuildRequires: gettext}
+%{!?dist:BuildRequires: freeglut-devel}
+%{?fc6:BuildRequires: freeglut-devel}
+%{?fc5:BuildRequires: freeglut-devel}
+%{?fc4:BuildRequires: freeglut-devel}
+%{?fc3:BuildRequires: freeglut-devel}
+%{?fc2:BuildRequires: freeglut-devel}
+%{?fc1:BuildRequires: freeglut-devel}
+%{?rh9:BuildRequires: glut-devel}
+Obsoletes: xine-libs &lt;= 1.0.0
+Obsoletes: libxine &lt;= %{version}
+Obsoletes: xine-libs-moles &lt;= %{version}-%{release}
+
+%description
+Xine is a free multimedia player. It plays back CDs, DVDs, and VCDs. It also
+decodes multimedia files like AVI, MOV, WMV, and MP3 from local disk drives,
+and displays multimedia streamed over the Internet. It interprets many of the
+most common multimedia formats available - and some of the most uncommon
+formats, too.
+
+This package contains the backend files for the Xine multimedia player.
+
+Available rpmbuild rebuild options :
+--with : rte extdvdnav extffmpeg
+--without : alsa aalib libfame flac esound arts gnomevfs2 speex caca xvmc samba
+            modplug magick
+(only alsa can be really disabled, others only remove explicit package
+ dependency which won't make much difference if devel files are found)
+
+
+%package devel
+Summary: Development files for the xine library
+Group: Development/Libraries
+Requires: %{name} = %{version}, pkgconfig, zlib-devel
+%{?_with_modxorg:Requires: libXt-devel, libXv-devel, libGL-devel, libGLU-devel, libXinerama-devel, libXvMC-devel}
+%{!?_with_modxorg:Requires: XFree86-devel}
+Obsoletes: xine-libs-devel &lt;= 1.0.0
+
+%description devel
+Xine is a free multimedia player. It plays back CDs, DVDs, and VCDs. It also
+decodes multimedia files like AVI, MOV, WMV, and MP3 from local disk drives,
+and displays multimedia streamed over the Internet. It interprets many of the
+most common multimedia formats available - and some of the most uncommon
+formats, too.
+
+This package contains the development files needed to build applications that
+use the Xine library.
+
+
+%prep
+%setup
+%patch0 -p1 
+./autogen.sh
+%{__perl} -pi -e 's|&quot;/lib /usr/lib\b|&quot;/%{_lib} %{_libdir}|' configure
+
+%build
+%{?_without_freetype2_pc:export FT2_CFLAGS=&quot;$(freetype-config --cflags)&quot;}
+%{?_without_freetype2_pc:export FT2_LIBS=&quot;$(freetype-config --libs)&quot;}
+%configure \
+%{?_with_modxorg:--with-xv-path=&quot;%{_libdir}&quot;} \
+%{?_without_alsa:--disable-alsa} \
+	--enable-antialiasing \
+%{!?_without_directfb:--enable-directfb} \
+	--enable-ipv6 \
+%{?_with_extffmpeg:--with-external-ffmpeg} \
+%{!?_with_extdvdnav:--with-included-dvdnav} \
+	--with-external-a52dec \
+	--with-external-libmad \
+        --with-fontconfig \
+        --with-freetype \
+	--with-pic
+%{__make} %{?_smp_mflags}
+
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+%find_lang %{libname}
+# Remove all those unused docs
+%{__rm} -rf %{buildroot}%{_docdir}/xine/ || :
+
+
+%clean
+%{__rm} -rf %{buildroot}
+
+
+%post -p /sbin/ldconfig
+
+%postun -p /sbin/ldconfig
+
+
+%files -f %{libname}.lang
+%defattr(-, root, root, 0755)
+%doc AUTHORS COPYING ChangeLog NEWS README TODO
+%doc doc/README.* doc/faq/faq.txt doc/faq/faq.html
+%{_libdir}/libxine.so.*
+%{_libdir}/xine/
+%{_datadir}/xine/
+%{_mandir}/man5/xine.5*
+
+%files devel
+%defattr(-, root, root, 0755)
+%{_bindir}/xine-config
+%{_includedir}/xine.h
+%{_includedir}/xine/
+%exclude %{_libdir}/libxine.la
+%{_libdir}/libxine.so
+%{_libdir}/pkgconfig/libxine.pc
+%{_datadir}/aclocal/xine.m4
+%{_mandir}/man1/xine-config.1*
+
+
+%changelog
+* Sat Apr 21 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.1.6-1 - 5231+/dag
+- Updated to release 1.1.6.
+
+* Sun Apr 15 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.1.5-1
+- Updated to release 1.1.5.
+
+* Sun Mar 11 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.1.4-1
+- Updated to release 1.1.4.
+- Added Fedora Extras patches.
+
+* Sun Sep 24 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.2-2
+- Rebuild against new libcdio.
+
+* Tue Jul 11 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.2-1
+- Update to 1.1.2.
+- Source is now a .bz2 file.
+- Build require gettext-devel.
+- Build require gtk2-devel (for gdk-pixbuf-2.0).
+- Enable samba support by default.
+- Enable modplug support by default.
+- Enable ImageMagick support by default.
+- Switch to external libcdio, vcdimager, a52dec and libmad. Keep internal
+  dvdnav and libdts since those have extrnal development (mostly) stopped.
+  (note that a52dec-devel seems to be missing a52_internal.h for now)
+
+* Mon Mar  6 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.1-2
+- Add freetype support.
+- Add many missing modular X build requirements.
+- Force Xv path to prefix for modular X, otherwise it it not found.
+
+* Tue Jan 10 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.1-1
+- Update to 1.1.1 (missed that one in Nov.!).
+- Remove no longer needed faad patch.
+- Don't use external ffmpeg (on FC4), as it's nearly never a good idea, so
+  let only people who really want to do it... do it.
+
+* Tue Aug  2 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.0-1
+- Move xine.5 man page from devel to the main package.
+- Add some READMEs from doc/.
+- Change the devel doc from sgml to html/png, makes more sense.
+
+* Sat Jul 30 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.1.0-1
+- Update to 1.1.0, which includes gcc4 fixes.
+
+* Tue May  3 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.1-2
+- Remove ffmpeg MMX disabling, it works, go figure.
+- No longer run autogen.sh or libtool. Same, it works... confusing.
+- Use external ffmpeg lib only for FC4, as there are issues (at least on FC3).
+
+* Thu Apr 28 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.1-1
+- Update to 1.0.1.
+- Add patch for GCC4 from Ville.
+- Disable ffmpeg's MMX, build fails otherwise.
+- Run autogen to fix lib linking problem.
+- Add missing buildroot removal in %%install.
+
+* Fri Feb  4 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-2
+- Added patch to fix faad on x86_64, thanks to Nicholas Miell.
+
+* Mon Jan  3 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-1
+- Update to 1.0 final! (had to keep 1.0.0 as the version, though)
+- Added libXvMCW support (for the VIA Unichrome, mostly).
+- Change --enable-shared-xv to --disable-static-xv to keep x86_64 working.
+
+* Thu Dec 16 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.17.rc8
+- Update to 1.0rc8 and remove obsolete memleak patch.
+- Add --enable-shared-xv as compilation against static Xv fails on x86_64.
+
+* Fri Dec  3 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.17.rc7
+- Added xine-lib-1-rc7-memleak.patch, thanks to Bastien Nocera.
+
+* Wed Dec  1 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.16.rc7
+- Update to 1.0rc7.
+
+* Fri Nov  5 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.15.rc6a
+- Removed most explicit deps, only libdvdcss is really needed.
+
+* Tue Oct 12 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0.0-0.15.rc6a
+- Build against newer flac-1.1.1.
+
+* Fri Sep 17 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.14.rc6a
+- Update to 1.0rc6a.
+- Removed wrong &quot;not x86 = 64bit&quot; assumptions and build changes which seem
+  properly autodetected now anyway.
+
+* Wed Jun 30 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.14.rc5
+- Update to 1.0rc5.
+
+* Tue Jun 15 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.13.rc4a
+- Remove explicit xvidcore dependencies, as they don't exist anymore.
+
+* Wed May 19 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.13.rc4a
+- Update to 1.0rc4a.
+- Remove the plugin stripping since now all goes into the debuginfo package.
+- Added libtheora support by default.
+
+* Tue May  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.12.rc4
+- Update to 1.0rc4.
+
+* Thu Apr 15 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.11.rc3c
+- Update to 1.0rc3c.
+
+* Thu Mar 25 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.10.rc3b
+- Removed explicit XFree86 dependency.
+
+* Thu Mar 18 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.9.rc3b
+- Update to 1.0rc3b.
+
+* Tue Feb 24 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.8.rc3a
+- Rebuild against new libfame.
+
+* Tue Feb 24 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.7.rc3a
+- Rebuilt to get the debuginfo package.
+
+* Sun Jan  4 2004 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.6.rc3a
+- Update to 1.0rc3a.
+
+* Thu Dec 18 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.5.rc3
+- Update to 1.0rc3.
+
+* Tue Dec  2 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.4.rc2
+- Added an obsoletes tag for libxine.
+- Added --with-pic configure option to allow prelinking.
+- Added libdvdcss dependency to be sure it gets pulled in.
+
+* Fri Nov  7 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.0-0.3.rc2
+- Update to 1.0rc2.
+- Rebuild for Fedora Core 1.
+
+* Tue Oct 21 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0rc1.
+- Disable ALSA by default for ppc, as it can't be supported with YDL kernels.
+
+* Thu Aug  7 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0rc0a.
+- Added speex support.
+- Removed all .la files of the plugins, not built by default anymore.
+
+* Mon May 12 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta12.
+
+* Tue Apr 29 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta11.
+
+* Wed Apr  9 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta10.
+
+* Mon Mar 31 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuilt for Red Hat Linux 9.
+- Exclude .la files.
+
+* Sun Mar 23 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta9.
+
+* Mon Mar 10 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta8, no really, I mean it this time.
+- Exclude vidix plugins for non x86 archs.
+
+* Sun Mar  9 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta8.
+
+* Thu Feb 27 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta6.
+
+* Sat Feb 22 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta5.
+
+* Tue Feb  4 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuild now defaults to use the internal libdvdnav since many people
+  reported problems using the external CVS snapshot.
+
+* Thu Jan 30 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta4 since beta3 had a build bug un mmx cpus.
+
+* Wed Jan 29 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 1.0beta3.
+- Added flac, libfame, rte and gnomevfs2 build options.
+
+* Sun Jan 12 2003 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Repackage the latest 1.0beta2 at last, it's usable now.
+- Split pack into xine/xine-lib instead of xine/xine-libs and two source
+  packages.
+
+* Sun Oct  6 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Removed --without arts from %%description as it can't work if arts-devel
+  is installed.
+- Added vidix files.
+- Delete unpackaged xitk related files.
+
+* Mon Sep 30 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Fixed ALSA support.
+- Spec file cleanup.
+- New --without aalib, lirc and arts options.
+
+* Thu Sep 26 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuilt for Red Hat Linux 8.0.
+
+* Tue Aug 27 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Added new .desktop file support.
+- Added alsa support.
+
+* Sun Aug  4 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Fixed plugins (new API version again).
+- Rebuilt without the NVIDIA_GLX package :-/
+
+* Sun Aug  4 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.13.
+- Updated both d4d and d5d plugins.
+- Now use %%find_lang.
+
+* Tue Jun 25 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.12.
+
+* Mon Jun 17 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Split into xine (UI) and xine-libs to be able to install just the engine
+  for other frontends.
+
+* Mon May 27 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.10 final.
+- Added a quick perl regexp hack for the d4d &amp; d5d API versions.
+
+* Thu May  9 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Almost complete spec file rewrite to reflect improvements in the build
+  process (simplifications were now possible).
+- Updated the d5d plugin to 0.2.4.
+- Moved everything from %%install to %%build as it seems more logical.
+- Added %%{?_smp_mflags} and LIBRARY_PATH for the lib, thanks Ralf!
+- Added the d4d plugin as well.
+
+* Tue Apr 30 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.9.
+
+* Wed Jan 16 2002 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.8 with new all-in-one d5d css and menu support plugin.
+- Cleaned up the docs.
+
+* Tue Dec 11 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.7.
+
+* Thu Nov 29 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.6.
+
+* Sat Nov 24 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.5, added the new LC_MESSAGEs.
+
+* Tue Nov  6 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.4 (0.9.3 had build problems).
+- Update d4d plugin to 0.2.7.
+- Put the menu navigation plugin back in and update it to 0.9.3beta
+  (yeah, Fred, I'm doing that for you ;-)).
+
+* Thu Nov  1 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Added the missing xineshot to %files.
+- Removed the menu navigation plugin : It's so buggy and not moving very
+  fast. If you want menu support, try Ogle, it's worth it!
+- Added new man pages translations.
+- Cleaned-up the %doc section, lots were added recently.
+- Modified the way the target cpu is forced, it should now be possible to
+  rebuild for anything else than i686.
+
+* Mon Oct 22 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Removed the libdvdcss since it was making xine mutually exclusive with
+  videolan... and moved it to a separate package instead.
+- Removed the ugly hacks from libtool problems, I guess this spec won't
+  be suited for 7.1 anymore.
+
+* Sun Oct 21 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Addedd libdvdcss library so that encrypted menus can now be played too.
+- Updated lots of dependencies (ogg vorbis, arts, zlib, esd, libpng).
+
+* Tue Oct 16 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.2 with updated CSS plugin and libvdvread.
+
+* Mon Oct  8 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuilt for Red Hat 7.2 with lirc support.
+
+* Wed Sep 19 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Updated the dvdnav plugin to the latest version.
+
+* Tue Sep 18 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.1.
+- Update libdvdread to 0.9.1 too :-)
+
+* Fri Sep 14 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.9.0.
+- Spec file cleanup, the configure scripts and the way they use macros
+  are still too crappy to clean up more :-(
+- Included the new menu plugin and libdvdcss...slurp!
+
+* Thu Sep 13 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.5.3 and kept d4d plugin 0.2.2 (0.2.4 doesn't compile for me).
+
+* Mon Sep  3 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.5.2.
+- Removed the &quot;aaxine&quot; binary.
+
+* Sat Aug 11 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.5.1.
+
+* Fri Aug 10 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Nothing weird with the package in one whole week, I'll release it :-)
+
+* Mon Aug  6 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.5.0.
+- Merged the new &quot;lib&quot; and &quot;ui&quot; sources in the same SRPM and split the
+  binaries in a main and a &quot;devel&quot; package.
+
+* Thu May 17 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.4.3.
+
+* Thu May 10 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Changed the spec file to now use XINE_BUILD to override the default
+  build arch and use the compilation optimisations chosen by the xine
+  authors in the configure script.
+- Doesn't work with --arch=athlon though... I wonder why!
+
+* Mon May  7 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.4.2.
+
+* Fri Apr 20 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Rebuilt for Red Hat 7.1.
+
+* Thu Mar  8 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Update to 0.4.01.
+
+* Thu Feb 15 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Updated the DeCSS plugin to the latest 0.1.2 release.
+- Added a menu entry since xine is now stable enough to not need to be
+  launched in a terminal anymore.
+
+* Wed Jan 31 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Upgraded to 0.3.7 with the subtitles patch to the plugin
+
+* Wed Jan 31 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Upgraded to 0.3.6 with the same plugin
+
+* Sat Jan 13 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- Included the DeCSS dvd plugin for 0.3.5
+
+* Wed Jan 10 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- upgraded to 0.3.5
+
+* Mon Jan  8 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- upgraded to 0.3.4
+- tweak to configure.in to compile with gcc 2.96
+
+* Tue Jan  2 2001 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- upgraded to 0.3.3
+
+* Sun Dec 17 2000 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- upgraded to 0.3.2 &quot;complete&quot; :-)
+- fixed my files section to include the new skin
+
+* Mon Nov 20 2000 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt;
+- cleaned-up the spec file for RedHat 7.0
+- added stripping, changed prefix, added docs, added defattr
+
+* Fri Oct 17 2000 Daniel Caujolle-Bert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">f1rmb at users.sourceforge.net</A>&gt;
+- first spec file.
+

Added: branches/rpms/brian/xournal/x-xoj.desktop
===================================================================
--- branches/rpms/brian/xournal/x-xoj.desktop	                        (rev 0)
+++ branches/rpms/brian/xournal/x-xoj.desktop	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,11 @@
+[Desktop Entry]
+Encoding=UTF-8
+Type=MimeType
+MimeType=application/x-xoj
+Icon=application-x-xoj
+Patterns=*.xoj;*.XOJ;*.Xoj;
+Comment=Xournal note file
+Comment[fr]=Fichier Xournal
+[Property::X-KDE-pdf]
+Type=bool
+Value=true

Added: branches/rpms/brian/xournal/xournal-configure.in-freetype.patch
===================================================================
--- branches/rpms/brian/xournal/xournal-configure.in-freetype.patch	                        (rev 0)
+++ branches/rpms/brian/xournal/xournal-configure.in-freetype.patch	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,15 @@
+--- configure.in.orig	2007-09-21 19:12:00.000000000 -0600
++++ configure.in	2007-09-21 19:12:52.000000000 -0600
+@@ -8,11 +8,11 @@
+ AC_ISC_POSIX
+ AC_PROG_CC
+ AM_PROG_CC_STDC
+ AC_HEADER_STDC
+ 
+-pkg_modules=&quot;gtk+-2.0 &gt;= 2.4.0 libgnomecanvas-2.0 &gt;= 2.4.0 libgnomeprintui-2.2 &gt;= 2.0.0&quot;
++pkg_modules=&quot;gtk+-2.0 &gt;= 2.4.0 libgnomecanvas-2.0 &gt;= 2.4.0 libgnomeprintui-2.2 &gt;= 2.0.0 freetype2&quot;
+ PKG_CHECK_MODULES(PACKAGE, [$pkg_modules])
+ AC_SUBST(PACKAGE_CFLAGS)
+ AC_SUBST(PACKAGE_LIBS)
+ 
+ AC_OUTPUT([

Added: branches/rpms/brian/xournal/xournal.desktop
===================================================================
--- branches/rpms/brian/xournal/xournal.desktop	                        (rev 0)
+++ branches/rpms/brian/xournal/xournal.desktop	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,15 @@
+[Desktop Entry]
+Encoding=UTF-8
+Type=Application
+
+Name=Xournal
+Comment=Take notes, sketch and annotate PDFs
+Name[fr]=Xournal
+Comment[fr]=Prise de notes manuscrites
+
+Exec=xournal %f
+Terminal=false
+StartupNotify=true
+MimeType=application/x-xoj;application/pdf;application/x-pdf
+Icon=xournal
+Categories=GNOME;GTK;Office;Graphics;Utility;TextEditor;

Added: branches/rpms/brian/xournal/xournal.spec
===================================================================
--- branches/rpms/brian/xournal/xournal.spec	                        (rev 0)
+++ branches/rpms/brian/xournal/xournal.spec	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,152 @@
+Name:		xournal
+Version:	0.4.2.1
+Release:	1%{?dist}
+Summary:	Xournal notetaking, sketching and PDF annotation
+
+Group:		Applications/Editors
+License:	GPLv2
+URL:		<A HREF="http://xournal.sourceforge.net/">http://xournal.sourceforge.net/</A>
+Source0:	<A HREF="http://downloads.sourceforge.net/xournal/%{name">http://downloads.sourceforge.net/xournal/%{name</A>}-%{version}.tar.gz
+Source1:	xournal.desktop
+Source2:	xournal.xml
+Source3:	x-xoj.desktop
+Patch0:		xournal-configure.in-freetype.patch
+BuildRoot:	%{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+
+BuildRequires:	gtk2-devel &gt;= 2.4.0 
+BuildRequires:	libgnomecanvas-devel &gt;= 2.4.0 
+BuildRequires:	libgnomeprintui22-devel &gt;= 2.0.0 
+BuildRequires:	freetype-devel &gt;= 2.0.0
+BuildRequires:	desktop-file-utils
+BuildRequires:	ImageMagick
+
+Requires:	poppler-utils
+Requires:	ghostscript
+
+%description
+Xournal is an application for notetaking, sketching, keeping a journal and 
+annotating PDFs. Xournal aims to provide superior graphical quality (subpixel 
+resolution) and overall functionality.
+
+%prep
+%setup -q
+%patch
+
+%build
+NOCONFIGURE=1 ./autogen.sh
+CFLAGS=&quot;%optflags -DPACKAGE_LOCALE_DIR=\\\&quot;\&quot;%{_datadir}/locale\&quot;\\\&quot; -DPACKAGE_DATA_DIR=\\\&quot;\&quot;%{_datadir}\&quot;\\\&quot;&quot; %configure
+%{__make} %{?_smp_mflags}
+
+
+%install
+%{__rm} -rf $RPM_BUILD_ROOT
+%{__make} install DESTDIR=$RPM_BUILD_ROOT INSTALL=&quot;%{__install} -p&quot;
+
+# xournal icons and mime icons
+# create 16x16, 32x32, 64x64, 128x128 icons and copy the 48x48 icon
+for s in 16 32 48 64 128 ; do
+	%{__mkdir_p} $RPM_BUILD_ROOT%{_datadir}/icons/hicolor/${s}x${s}/apps/
+	convert -scale ${s}x${s} \
+		pixmaps/%{name}.png \
+		$RPM_BUILD_ROOT%{_datadir}/icons/hicolor/${s}x${s}/apps/%{name}.png
+	%{__mkdir_p} ${RPM_BUILD_ROOT}%{_datadir}/icons/hicolor/${s}x${s}/mimetypes
+	pushd ${RPM_BUILD_ROOT}%{_datadir}/icons/hicolor/${s}x${s}/mimetypes
+	%{__ln_s} ../apps/xournal.png application-x-xoj.png
+	%{__ln_s} application-x-xoj.png gnome-mime-application-x-xoj.png
+	popd
+done
+
+# Desktop entry
+%{__install} -p -m 0644 -D pixmaps/xournal.png ${RPM_BUILD_ROOT}%{_datadir}/pixmaps/xournal.png
+desktop-file-install --vendor fedora \
+	--dir ${RPM_BUILD_ROOT}%{_datadir}/applications \
+	%{SOURCE1}
+
+# GNOME (shared-mime-info) MIME type registration
+%{__install} -p -m 0644 -D %{SOURCE2} ${RPM_BUILD_ROOT}%{_datadir}/mime/packages/xournal.xml
+
+# KDE (legacy) MIME type registration
+%{__install} -p -m 0644 -D %{SOURCE3} ${RPM_BUILD_ROOT}%{_datadir}/mimelnk/application/x-xoj.desktop
+
+
+%post
+touch --no-create %{_datadir}/icons/hicolor || :
+%{_bindir}/gtk-update-icon-cache --quiet %{_datadir}/icons/hicolor || :
+update-mime-database %{_datadir}/mime &gt; /dev/null 2&gt;&amp;1 || :
+update-desktop-database %{_datadir}/applications &gt; /dev/null 2&gt;&amp;1 || :
+
+%postun
+touch --no-create %{_datadir}/icons/hicolor || :
+%{_bindir}/gtk-update-icon-cache --quiet %{_datadir}/icons/hicolor || :
+update-mime-database %{_datadir}/mime &gt; /dev/null 2&gt;&amp;1 || :
+update-desktop-database %{_datadir}/applications &gt; /dev/null 2&gt;&amp;1 || :
+
+%clean
+%{__rm} -rf $RPM_BUILD_ROOT
+
+
+%files
+%defattr(-,root,root,-)
+%{_bindir}/xournal
+%{_datadir}/icons/hicolor/*x*/apps/%{name}.png
+%{_datadir}/icons/hicolor/*x*/mimetypes/application-x-xoj.png
+%{_datadir}/icons/hicolor/*x*/mimetypes/gnome-mime-application-x-xoj.png
+%{_datadir}/pixmaps/xournal.png
+%{_datadir}/applications/fedora-xournal.desktop
+%{_datadir}/mime/packages/xournal.xml
+%{_datadir}/mimelnk/application/x-xoj.desktop
+%{_datadir}/xournal/
+%doc AUTHORS ChangeLog COPYING
+
+
+
+%changelog
+* Mon Apr  7 2008 Jeremy Katz &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">katzj at redhat.com</A>&gt; - 0.4.2.1-1
+- Update to 0.4.2.1 to fix problems with newer xorg
+
+* Tue Feb 19 2008 Fedora Release Engineering &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rel-eng at fedoraproject.org</A>&gt; - 0.4.1-4
+- Autorebuild for GCC 4.3
+
+* Wed Oct 10 2007 Rick L Vinyard Jr &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rvinyard at cs.nmsu.edu</A>&gt; 0.4.1-3
+- Changed permission on xournal.png from 0755 to 0644
+
+* Fri Sep 21 2007 Rick L Vinyard Jr &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rvinyard at cs.nmsu.edu</A>&gt; 0.4.1-2
+- Added freetype to build requires
+- Created patch to add freetype to configure.in pkgconfig
+
+* Thu Sep 20 2007 Rick L Vinyard Jr &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rvinyard at cs.nmsu.edu</A>&gt; 0.4.1-1
+- New upstream release
+- Changed source to use name and version variables
+- Updated xournal.desktop to reflect upstream changes
+- Updated x-xoj.desktop to reflect upstream changes
+- Updated license to reflect specific GPL version
+
+* Mon Jun 11 2007 Rick L Vinyard Jr &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rvinyard at cs.nmsu.edu</A>&gt; 0.3.3-5
+- Added Requires for poppler-utils (#243750)
+- Added Requires for ghostscript
+
+* Wed May 30 2007 Rick L Vinyard Jr &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rvinyard at cs.nmsu.edu</A>&gt; 0.3.3-4
+- Added optflags and PACKAGE_DATA_DIR to CFLAGS
+
+* Tue May 29 2007 Rick L Vinyard Jr &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rvinyard at cs.nmsu.edu</A>&gt; 0.3.3-3
+- Changed all commands to macros
+- Removed icon sources and create icons in spec from xournal icon
+- Added 64x64 and 128x128 icons
+- Consolidated icon directories with wildcards
+- Added timestamp preservation to install
+- Removed desktop categories Application and X-Fedora
+- Added NOCONFIGURE to autogen.sh to stop auto-conf from running twice
+- Removed desktop-file-utils post and postun requires
+- Removed manual from doc section; it is already installed by the package
+- Changed xournal.desktop, xournal.xml and x-xoj.desktop from here documents to files
+- Add ImageMagick buildrequires for convert command
+- Separated BuildRequires into one per line for easier reading
+- Added PACKAGE_LOCALE_DIR CFLAG to configure
+
+* Fri May 18 2007 Rick L Vinyard Jr &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rvinyard at cs.nmsu.edu</A>&gt; 0.3.3-2
+- Added mimetype support for gnome and kde
+- Made xournal.desktop a here document
+
+* Sat May 12 2007 Rick L Vinyard Jr &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">rvinyard at cs.nmsu.edu</A>&gt; 0.3.3-1
+- Initial version
+

Added: branches/rpms/brian/xournal/xournal.xml
===================================================================
--- branches/rpms/brian/xournal/xournal.xml	                        (rev 0)
+++ branches/rpms/brian/xournal/xournal.xml	2008-06-09 23:04:09 UTC (rev 6349)
@@ -0,0 +1,8 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
+&lt;mime-info xmlns=&quot;<A HREF="http://www.freedesktop.org/standards/shared-mime-info">http://www.freedesktop.org/standards/shared-mime-info</A>&quot;&gt;
+  &lt;mime-type type=&quot;application/x-xoj&quot;&gt;
+    &lt;sub-class-of type=&quot;application/x-pdf&quot; /&gt;
+    &lt;comment&gt;Xournal Notes&lt;/comment&gt;
+    &lt;glob pattern=&quot;*.[xX][oO][jJ]&quot; /&gt;
+  &lt;/mime-type&gt;
+&lt;/mime-info&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005147.html">[svn] r6348 - branches/rpms
</A></li>
	<LI>Next message: <A HREF="005149.html">[svn] r6350 - in branches/rpms/brian: . i386-pc-minix-binutils	i386-pc-minix-gcc-static noarch-novendor-nosystem-binutils	noarch-novendor-nosystem-gcc noarch-novendor-nosystem-glibc	noarch-novendor-nosystem-linux-kernel-headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5148">[ date ]</a>
              <a href="thread.html#5148">[ thread ]</a>
              <a href="subject.html#5148">[ subject ]</a>
              <a href="author.html#5148">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
