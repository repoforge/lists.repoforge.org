<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r9297 - in /trunk/rpms: libkate/ libkate/libkate.spec liboggz/ liboggz/liboggz-1.1.1-multilib.patch liboggz/liboggz.spec
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r9297%20-%20in%20/trunk/rpms%3A%20libkate/%20libkate/libkate.spec%20liboggz/%0A%20liboggz/liboggz-1.1.1-multilib.patch%20liboggz/liboggz.spec&In-Reply-To=%3C201011170904.oAH945nq025209%40surya.karan.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008080.html">
   <LINK REL="Next"  HREF="008082.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r9297 - in /trunk/rpms: libkate/ libkate/libkate.spec liboggz/ liboggz/liboggz-1.1.1-multilib.patch liboggz/liboggz.spec</H1>
    <B>Dag Wieers</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r9297%20-%20in%20/trunk/rpms%3A%20libkate/%20libkate/libkate.spec%20liboggz/%0A%20liboggz/liboggz-1.1.1-multilib.patch%20liboggz/liboggz.spec&In-Reply-To=%3C201011170904.oAH945nq025209%40surya.karan.org%3E"
       TITLE="[svn] r9297 - in /trunk/rpms: libkate/ libkate/libkate.spec liboggz/ liboggz/liboggz-1.1.1-multilib.patch liboggz/liboggz.spec">dag at wieers.com
       </A><BR>
    <I>Wed Nov 17 10:04:05 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008080.html">[svn] r9296 - in /trunk/tools/mrepo: config/dists/rhel6s.conf	gensystemid
</A></li>
        <LI>Next message: <A HREF="008082.html">[svn] r9298 - in /trunk/rpms: perl-Algorithm-Diff/ perl-AppConfig/ perl-Archive-Extract/ perl-Archive-Tar/ perl-Authen-SASL/ perl-B-Keywords/ perl-BSD-Resource/ perl-Bit-Vector/ perl-Business-ISBN-Data/ perl-Business-ISBN/ perl-CGI-Persistent/ perl-CGI-Session/ perl-CGI/ perl-CSS-Tiny/ perl-Cache-Memcached/ perl-Carp-Clan/ perl-Class-Accessor/ perl-Class-Data-Inheritable/ perl-Class-Inspector/ perl-Class-Singleton/ perl-Class-Trigger/ perl-Clone/ perl-Compress-Raw-Zlib/ perl-Compress-Zlib/ perl-Config-General/ perl-Config-Simple/ perl-Config-Tiny/ perl-Convert-ASN1/ perl-Convert-BinHex/ perl-Crypt-OpenSSL-Bignum/ perl-Crypt-OpenSSL-RSA/ perl-Crypt-OpenSSL-Random/ perl-Crypt-PasswdMD5/ perl-Crypt-SSLeay/ perl-DBD-Pg/ perl-DBD-SQLite/ perl-DBI/ perl-DBIx-Simple/ perl-DB_File/ perl-Data-OptList/ perl-Date-Calc/ perl-Date-Manip/ perl-DateTime-Format-DateParse/ perl-DateTime-Format-Mail/ perl-DateTime-Format-W3CDTF/ perl-DateTime/ perl-Devel-Cover/ perl-Devel-Cycle/ perl-Devel-Leak/ perl-Devel-StackTrace/ perl-Devel-Symdump/ perl-Digest-BubbleBabble/ perl-Digest-HMAC/ perl-Digest-MD5/ perl-Digest-SHA/ perl-Digest-SHA1/
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8081">[ date ]</a>
              <a href="thread.html#8081">[ thread ]</a>
              <a href="subject.html#8081">[ subject ]</a>
              <a href="author.html#8081">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: Wed Nov 17 09:04:04 2010
New Revision: 9297

URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge?rev=9297&amp;view=rev">http://svn.rpmforge.net/viewvc/rpmforge?rev=9297&amp;view=rev</A>
Log:
Updates

Added:
    trunk/rpms/libkate/
    trunk/rpms/libkate/libkate.spec   (with props)
    trunk/rpms/liboggz/
    trunk/rpms/liboggz/liboggz-1.1.1-multilib.patch
    trunk/rpms/liboggz/liboggz.spec   (with props)

Added: trunk/rpms/libkate/libkate.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/libkate/libkate.spec?rev=9297&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/libkate/libkate.spec?rev=9297&amp;view=markup</A>
==============================================================================
--- trunk/rpms/libkate/libkate.spec (added)
+++ trunk/rpms/libkate/libkate.spec Wed Nov 17 09:04:04 2010
@@ -1,0 +1,126 @@
+# $Id$
+# Authority: dag
+
+%define python_sitelib %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib()')
+
+Summary: Libraries to handle the Kate bitstream format
+Name: libkate
+Version: 0.3.7
+Release: 1%{?dist}
+License: BSD
+Group: System Environment/Libraries
+URL: <A HREF="http://code.google.com/p/libkate/">http://code.google.com/p/libkate/</A>
+
+Source: <A HREF="http://libkate.googlecode.com/files/libkate-%{version">http://libkate.googlecode.com/files/libkate-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: bison
+BuildRequires: flex
+BuildRequires: doxygen
+BuildRequires: libogg-devel
+BuildRequires: liboggz
+BuildRequires: libpng-devel
+BuildRequires: python-devel
+ 
+%description
+This is libkate, the reference implementation of a codec for the Kate bitstream
+format. Kate is a karaoke and text codec meant for encapsulation in an Ogg
+container.  It can carry text, images, and animate them.
+
+Kate is meant to be used for karaoke alongside audio/video streams (typically
+Vorbis and Theora), movie subtitles, song lyrics, and anything that needs text
+data at arbitrary time intervals.
+
+%package devel
+Summary: Development files for %{name}
+Group: Development/Libraries
+Requires: %{name} = %{version}-%{release}
+Requires: libogg-devel
+
+%description devel
+The %{name}-devel package contains libraries and header files for
+developing applications that use %{name}.
+
+%package utils
+Summary: Encoder/Decoder utilities for %{name}
+Group: Applications/Multimedia
+Requires: %{name} = %{version}-%{release}
+Requires: liboggz
+
+%description utils
+The %{name}-utils package contains the katedec/kateenc binaries for %{name}.
+
+%package docs
+Summary: Documentation for %{name}
+Group: Documentation
+#BuildArch: noarch
+
+%description docs
+The %{name}-docs package contains the docs for %{name}.
+
+%prep
+%setup
+
+### We regenerate theses files at built step
+%{__rm} tools/kate_parser.{c,h}
+%{__rm} tools/kate_lexer.c
+
+%build
+%configure --disable-static \
+  --docdir=%{_docdir}/%{name}-%{version}
+
+### Remove rpath
+sed -i 's|^hardcode_libdir_flag_spec=.*|hardcode_libdir_flag_spec=&quot;&quot;|g' libtool
+sed -i 's|^runpath_var=LD_RUN_PATH|runpath_var=DIE_RPATH_DIE|g' libtool
+
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot; INSTALL=&quot;install -p&quot;
+
+### Fix for header timestamps
+touch -r %{buildroot}%{_includedir}/kate/{kate_config.h,kate.h}
+
+%check
+%{__make} check
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
+
+%files
+%defattr(-, root, root, 0755)
+%doc %{_docdir}/libkate-%{version}
+%{_libdir}/*.so.*
+%exclude %{_docdir}/libkate-%{version}/html
+
+%files devel
+%defattr(-, root, root, 0755)
+%doc examples/
+%{_includedir}/kate/
+%{_libdir}/*.so
+%{_libdir}/pkgconfig/*.pc
+%exclude %{_libdir}/*.la
+
+%files utils
+%defattr(-, root, root, 0755)
+%doc %{_mandir}/man1/KateDJ.*
+%doc %{_mandir}/man1/katalyzer.*
+%doc %{_mandir}/man1/katedec.*
+%doc %{_mandir}/man1/kateenc.*
+%{_bindir}/KateDJ
+%{_bindir}/katalyzer
+%{_bindir}/katedec
+%{_bindir}/kateenc
+%{python_sitelib}/kdj/
+
+%files docs
+%defattr(-, root, root, 0755)
+%doc %{_docdir}/libkate-%{version}/html
+
+%changelog
+* Wed Nov 17 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.3.7-1
+- Initial package. (based on fedora)

Propchange: trunk/rpms/libkate/libkate.spec
------------------------------------------------------------------------------
    svn:eol-style = native

Propchange: trunk/rpms/libkate/libkate.spec
------------------------------------------------------------------------------
    svn:keywords = Id Revision

Added: trunk/rpms/liboggz/liboggz-1.1.1-multilib.patch
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/liboggz/liboggz-1.1.1-multilib.patch?rev=9297&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/liboggz/liboggz-1.1.1-multilib.patch?rev=9297&amp;view=markup</A>
==============================================================================
--- trunk/rpms/liboggz/liboggz-1.1.1-multilib.patch (added)
+++ trunk/rpms/liboggz/liboggz-1.1.1-multilib.patch Wed Nov 17 09:04:04 2010
@@ -1,0 +1,11 @@
+--- liboggz-1.1.1.org/include/oggz/oggz_off_t_generated.h.in	2010-01-30 11:25:59.000000000 +0530
++++ liboggz-1.1.1/include/oggz/oggz_off_t_generated.h.in	2010-05-29 13:06:00.503337547 +0530
+@@ -59,7 +59,7 @@
+ 
+ #include &lt;sys/types.h&gt;
+ 
+-typedef @TYPEOF_OGGZ_OFF_T@ oggz_off_t;
++typedef loff_t oggz_off_t;
+ 
+ #define PRI_OGGZ_OFF_T &quot;@PRI_OGGZ_OFF_T@&quot;
+ 

Added: trunk/rpms/liboggz/liboggz.spec
URL: <A HREF="http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/liboggz/liboggz.spec?rev=9297&amp;view=markup">http://svn.rpmforge.net/viewvc/rpmforge/trunk/rpms/liboggz/liboggz.spec?rev=9297&amp;view=markup</A>
==============================================================================
--- trunk/rpms/liboggz/liboggz.spec (added)
+++ trunk/rpms/liboggz/liboggz.spec Wed Nov 17 09:04:04 2010
@@ -1,0 +1,105 @@
+# $Id$
+# Authority: dag
+
+Summary: Simple programming interface for Ogg files and streams
+Name: liboggz
+Version: 1.1.1
+Release: 1%{?dist}
+License: BSD
+Group: System Environment/Libraries
+URL: <A HREF="http://www.annodex.net/">http://www.annodex.net/</A>
+
+#Source: <A HREF="http://www.annodex.net/software/liboggz/download/liboggz-%{version">http://www.annodex.net/software/liboggz/download/liboggz-%{version</A>}.tar.gz
+Source: <A HREF="http://downloads.xiph.org/releases/liboggz/liboggz-%{version">http://downloads.xiph.org/releases/liboggz/liboggz-%{version</A>}.tar.gz
+### Always have oggz_off_t == loff_t even on 64-bit platforms
+Patch0: liboggz-1.1.1-multilib.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: docbook-utils
+BuildRequires: doxygen
+BuildRequires: libogg-devel &gt;= 1.0
+
+%description
+Oggz provides a simple programming interface for reading and writing
+Ogg files and streams. Ogg is an interleaving data container developed
+by Monty at Xiph.Org, originally to support the Ogg Vorbis audio
+format.
+
+%package devel
+Summary: Header files, libraries and development documentation for %{name}.
+Group: Development/Libraries
+Requires: %{name} = %{version}-%{release}
+Requires: libogg-devel &gt;= 1.0
+Requires: pkgconfig
+
+%description devel
+This package contains the header files, static libraries and development
+documentation for %{name}. If you like to develop programs using %{name},
+you will need to install %{name}-devel.
+
+%package doc
+Summary: Documentation for liboggz
+Group: Documentation
+Requires: liboggz = %{version}-%{release}
+
+%description doc
+Oggz provides a simple programming interface for reading and writing
+Ogg files and streams. Ogg is an interleaving data container developed
+by Monty at Xiph.Org, originally to support the Ogg Vorbis audio
+format.
+
+This package contains HTML documentation needed for development using
+liboggz.
+
+%prep
+%setup
+%patch0 -p1 -b .multilib
+
+%build
+%configure --disable-static
+sed -i 's|^hardcode_libdir_flag_spec=.*|hardcode_libdir_flag_spec=&quot;&quot;|g' libtool
+sed -i 's|^runpath_var=LD_RUN_PATH|runpath_var=DIE_RPATH_DIE|g' libtool
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%makeinstall docdir=&quot;%{buildroot}%{_datadir}/doc/%{name}-doc-%{version}&quot; \
+         INSTALL=&quot;%{__install} -p&quot;
+
+# not particularly interested in the tex docs, the html version has everything
+%{__rm} -rf %{buildroot}%{_datadir}/doc/%{name}-doc-%{version}/latex
+
+# Multilib fix: ensure generated headers have timestamps
+# independent of build time
+(cd include/oggz &amp;&amp;
+    touch -r oggz_off_t_generated.h.in.multilib \
+      %{buildroot}%{_includedir}/oggz/oggz_off_t_generated.h
+)
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
+
+%files
+%defattr(-, root, root, 0755)
+%doc AUTHORS ChangeLog COPYING NEWS README
+%doc %{_mandir}/man1/*
+%{_bindir}/oggz*
+%{_libdir}/liboggz.so.*
+
+%files devel
+%defattr(-, root, root, 0755)
+%{_includedir}/oggz
+%{_libdir}/liboggz.so
+%{_libdir}/pkgconfig/oggz.pc
+%exclude %{_libdir}/*.la
+
+%files doc
+%defattr(-, root, root, 0755)
+%doc %{_docdir}/%{name}-doc-%{version}
+
+%changelog
+* Wed Nov 17 2010 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.1.1-1
+- Initial package. (based on fedora)

Propchange: trunk/rpms/liboggz/liboggz.spec
------------------------------------------------------------------------------
    svn:eol-style = native

Propchange: trunk/rpms/liboggz/liboggz.spec
------------------------------------------------------------------------------
    svn:keywords = Id Revision


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008080.html">[svn] r9296 - in /trunk/tools/mrepo: config/dists/rhel6s.conf	gensystemid
</A></li>
	<LI>Next message: <A HREF="008082.html">[svn] r9298 - in /trunk/rpms: perl-Algorithm-Diff/ perl-AppConfig/ perl-Archive-Extract/ perl-Archive-Tar/ perl-Authen-SASL/ perl-B-Keywords/ perl-BSD-Resource/ perl-Bit-Vector/ perl-Business-ISBN-Data/ perl-Business-ISBN/ perl-CGI-Persistent/ perl-CGI-Session/ perl-CGI/ perl-CSS-Tiny/ perl-Cache-Memcached/ perl-Carp-Clan/ perl-Class-Accessor/ perl-Class-Data-Inheritable/ perl-Class-Inspector/ perl-Class-Singleton/ perl-Class-Trigger/ perl-Clone/ perl-Compress-Raw-Zlib/ perl-Compress-Zlib/ perl-Config-General/ perl-Config-Simple/ perl-Config-Tiny/ perl-Convert-ASN1/ perl-Convert-BinHex/ perl-Crypt-OpenSSL-Bignum/ perl-Crypt-OpenSSL-RSA/ perl-Crypt-OpenSSL-Random/ perl-Crypt-PasswdMD5/ perl-Crypt-SSLeay/ perl-DBD-Pg/ perl-DBD-SQLite/ perl-DBI/ perl-DBIx-Simple/ perl-DB_File/ perl-Data-OptList/ perl-Date-Calc/ perl-Date-Manip/ perl-DateTime-Format-DateParse/ perl-DateTime-Format-Mail/ perl-DateTime-Format-W3CDTF/ perl-DateTime/ perl-Devel-Cover/ perl-Devel-Cycle/ perl-Devel-Leak/ perl-Devel-StackTrace/ perl-Devel-Symdump/ perl-Digest-BubbleBabble/ perl-Digest-HMAC/ perl-Digest-MD5/ perl-Digest-SHA/ perl-Digest-SHA1/
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8081">[ date ]</a>
              <a href="thread.html#8081">[ thread ]</a>
              <a href="subject.html#8081">[ subject ]</a>
              <a href="author.html#8081">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
