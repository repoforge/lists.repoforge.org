<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r6593 - in trunk/rpms: . gscan2pdf gtkimageview hplip	perl-Gtk2-ImageView perl-HTML-Parser unixbench unpaper vlc
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r6593%20-%20in%20trunk/rpms%3A%20.%20gscan2pdf%20gtkimageview%20hplip%0A%09perl-Gtk2-ImageView%20perl-HTML-Parser%20unixbench%20unpaper%20vlc&In-Reply-To=%3C200812101605.mBAG5xBD003119%40surya.karan.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005391.html">
   <LINK REL="Next"  HREF="005393.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r6593 - in trunk/rpms: . gscan2pdf gtkimageview hplip	perl-Gtk2-ImageView perl-HTML-Parser unixbench unpaper vlc</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r6593%20-%20in%20trunk/rpms%3A%20.%20gscan2pdf%20gtkimageview%20hplip%0A%09perl-Gtk2-ImageView%20perl-HTML-Parser%20unixbench%20unpaper%20vlc&In-Reply-To=%3C200812101605.mBAG5xBD003119%40surya.karan.org%3E"
       TITLE="[svn] r6593 - in trunk/rpms: . gscan2pdf gtkimageview hplip	perl-Gtk2-ImageView perl-HTML-Parser unixbench unpaper vlc">packagers at lists.rpmforge.net
       </A><BR>
    <I>Wed Dec 10 17:05:59 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="005391.html">[svn] r6592 - trunk/tools/unoconv
</A></li>
        <LI>Next message: <A HREF="005393.html">[svn] r6594 - in trunk/rpms: . elisa pigment python-fpconst	python-nose python-pigment python-simplejson python-soap	python-twisted-core python-twisted-web python-twisted-web2	python-xdg python-zope-interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5392">[ date ]</a>
              <a href="thread.html#5392">[ thread ]</a>
              <a href="subject.html#5392">[ subject ]</a>
              <a href="author.html#5392">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2008-12-10 16:05:58 +0000 (Wed, 10 Dec 2008)
New Revision: 6593

Added:
   trunk/rpms/gscan2pdf/
   trunk/rpms/gscan2pdf/gscan2pdf.spec
   trunk/rpms/gtkimageview/
   trunk/rpms/gtkimageview/gtkimageview.spec
   trunk/rpms/hplip/
   trunk/rpms/hplip/hplip-alloc.patch
   trunk/rpms/hplip/hplip-desktop.patch
   trunk/rpms/hplip/hplip-guest.patch
   trunk/rpms/hplip/hplip-libsane.patch
   trunk/rpms/hplip/hplip-marker-supply.patch
   trunk/rpms/hplip/hplip-no-root-config.patch
   trunk/rpms/hplip/hplip-systray.patch
   trunk/rpms/hplip/hplip-ui-optional.patch
   trunk/rpms/hplip/hplip.fdi
   trunk/rpms/hplip/hplip.spec
   trunk/rpms/perl-Gtk2-ImageView/
   trunk/rpms/perl-Gtk2-ImageView/perl-Gtk2-ImageView.spec
   trunk/rpms/unpaper/
   trunk/rpms/unpaper/unpaper.spec
Modified:
   trunk/rpms/perl-HTML-Parser/perl-HTML-Parser.spec
   trunk/rpms/unixbench/unixbench.spec
   trunk/rpms/vlc/vlc.spec
Log:
Updates

Added: trunk/rpms/gscan2pdf/gscan2pdf.spec
===================================================================
--- trunk/rpms/gscan2pdf/gscan2pdf.spec	                        (rev 0)
+++ trunk/rpms/gscan2pdf/gscan2pdf.spec	2008-12-10 16:05:58 UTC (rev 6593)
@@ -0,0 +1,86 @@
+# $Id$
+# Authority: dag
+
+%define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
+%define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
+
+%define desktop_vendor rpmforge
+
+%{?rh7:%define _without_freedesktop 1}
+%{?el2:%define _without_freedesktop 1}
+
+Summary: Graphical tool for producing a multipage PDF from a scan
+Name: gscan2pdf
+Version: 0.9.26
+Release: 1
+License: GPL
+Group: Applications/Publishing
+URL: <A HREF="http://gscan2pdf.sourceforge.net/">http://gscan2pdf.sourceforge.net/</A>
+
+Source: <A HREF="http://dl.sf.net/gscan2pdf/gscan2pdf-%{version">http://dl.sf.net/gscan2pdf/gscan2pdf-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildArch: noarch
+BuildRequires: gettext
+BuildRequires: perl(ExtUtils::MakeMaker)
+%{!?_without_freedesktop:BuildRequires: desktop-file-utils}
+Requires: djvulibre
+Requires: gocr
+Requires: perl(Gtk2::Ex::PodViewer)
+Requires: perl(PDF::API2)
+Requires: sane-backends &gt;= 1.0.17
+Requires: sane-frontends
+Requires: unpaper
+Requires: xdg-utils
+
+%description
+A GUI to ease the process of producing a multipage PDF from a scan.
+
+%prep
+%setup
+
+%build
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} pure_install locale_install icon_install
+%find_lang %{name}
+
+### Clean up buildroot
+find %{buildroot} -name .packlist -exec %{__rm} {} \;
+
+%if %{!?_without_freedesktop:1}0
+desktop-file-install --delete-original \
+    --vendor=&quot;%{desktop_vendor}&quot; \
+    --dir=%{buildroot}%{_datadir}/applications \
+    %{buildroot}%{_datadir}/applications/gscan2pdf.desktop
+%endif
+
+%post
+update-desktop-database &amp;&gt;/dev/null ||:
+touch --no-create %{_datadir}/icons/hicolor || :
+%{_bindir}/gtk-update-icon-cache --quiet %{_datadir}/icons/hicolor || :
+
+%postun
+update-desktop-database &amp;&gt;/dev/null ||:
+touch --no-create %{_datadir}/icons/hicolor || :
+%{_bindir}/gtk-update-icon-cache --quiet %{_datadir}/icons/hicolor || :
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files -f %{name}.lang
+%defattr(-, root, root, 0755)
+%doc History LICENCE
+%doc %{_mandir}/man1/gscan2pdf.1*
+%{_bindir}/gscan2pdf
+%{!?_without_freedesktop:%{_datadir}/applications/%{desktop_vendor}-gscan2pdf.desktop}
+%{?_without_freedesktop:%{_datadir}/applications/gscan2pdf.desktop}
+%{_datadir}/gscan2pdf/
+%{perl_vendorlib}/Gscan2pdf.pm
+
+%changelog
+* Tue Dec 09 2008 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.9.26-1
+- Initial package. (using DAR)


Property changes on: trunk/rpms/gscan2pdf/gscan2pdf.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Added: trunk/rpms/gtkimageview/gtkimageview.spec
===================================================================
--- trunk/rpms/gtkimageview/gtkimageview.spec	                        (rev 0)
+++ trunk/rpms/gtkimageview/gtkimageview.spec	2008-12-10 16:05:58 UTC (rev 6593)
@@ -0,0 +1,69 @@
+# $Id$
+# Authority: dag
+
+Summary: Simple image viewer widget
+Name: gtkimageview
+Version: 1.6.3
+Release: 1
+License: LGPL
+Group: System Environment/Libraries
+URL: <A HREF="http://trac.bjourne.webfactional.com/">http://trac.bjourne.webfactional.com/</A>
+
+#Source: <A HREF="http://trac.bjourne.webfactional.com/attachment/wiki/WikiStart/gtkimageview-%{version">http://trac.bjourne.webfactional.com/attachment/wiki/WikiStart/gtkimageview-%{version</A>}.tar.gz?format=raw
+Source: gtkimageview-%{version}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: glib2-devel
+BuildRequires: gtk2-devel &gt;= 2.6
+BuildRequires: gtk-doc &gt;= 1.0
+BuildRequires: pkgconfig
+
+%description
+GtkImageView is a simple image viewer widget for GTK. It makes writing image
+viewing and editing applications easy.
+
+%package devel
+Summary: Header files, libraries and development documentation for %{name}.
+Group: Development/Libraries
+Requires: %{name} = %{version}-%{release}
+Requires: gtk-doc
+Requires: pkgconfig
+
+%description devel
+This package contains the header files, static libraries and development
+documentation for %{name}. If you like to develop programs using %{name},
+you will need to install %{name}-devel.
+
+%prep
+%setup
+
+%build
+%configure --disable-static
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
+
+%files
+%defattr(-, root, root, 0755)
+%doc COPYING README
+%{_libdir}/libgtkimageview.so.*
+
+%files devel
+%defattr(-, root, root, 0755)
+%doc %{_datadir}/gtk-doc/html/gtkimageview/
+%{_includedir}/*
+%{_libdir}/libgtkimageview.so
+%{_libdir}/pkgconfig/gtkimageview.pc
+%exclude %{_libdir}/libgtkimageview.la
+
+%changelog
+* Tue Dec 09 2008 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.6.1-1
+- Initial package. (using DAR)


Property changes on: trunk/rpms/gtkimageview/gtkimageview.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Added: trunk/rpms/hplip/hplip-alloc.patch
===================================================================
--- trunk/rpms/hplip/hplip-alloc.patch	                        (rev 0)
+++ trunk/rpms/hplip/hplip-alloc.patch	2008-12-10 16:05:58 UTC (rev 6593)
@@ -0,0 +1,37 @@
+diff -up hplip-2.7.12/prnt/hpijs/compression.cpp.alloc hplip-2.7.12/prnt/hpijs/compression.cpp
+--- hplip-2.7.12/prnt/hpijs/compression.cpp.alloc	2008-01-25 12:16:45.000000000 +0000
++++ hplip-2.7.12/prnt/hpijs/compression.cpp	2008-01-25 12:18:02.000000000 +0000
+@@ -104,12 +104,12 @@ Mode9::Mode9 (SystemServices* pSys,unsig
+     if (constructor_error != NO_ERROR)  // if error in base constructor
+         return;
+ 
+-	// In the worst case, compression expands data by 50%
+-	compressBuf = (BYTE*)pSS-&gt;AllocMem(RasterSize + RasterSize/2);
++	// In the worst case, compression expands data by 100%
++	compressBuf = (BYTE*)pSS-&gt;AllocMem(2 * RasterSize);
+ 	if (compressBuf == NULL)
+ 		constructor_error=ALLOCMEM_ERROR;
+ 
+-	memset(compressBuf, 0, RasterSize + RasterSize/2);
++	memset(compressBuf, 0, 2 * RasterSize);
+     memset(SeedRow,0,RasterSize);
+ 
+ 	ResetSeedRow = FALSE;
+@@ -199,7 +199,7 @@ BOOL Mode9::Process(RASTERDATA* input)
+ 		return TRUE;
+ 	}
+ 
+-	memset(compressBuf, 0, inputsize + inputsize/2);
++	memset(compressBuf, 0, 2 * inputsize);
+ 
+     unsigned int originalsize=input-&gt;rastersize[myplane];
+ 	unsigned int size=input-&gt;rastersize[myplane];
+@@ -571,7 +571,7 @@ Mode3::Mode3 (SystemServices* pSys, Prin
+     // Worst case is when two rows are completely different
+     // In that case, one command byte is added for every 8 bytes
+ 		// In the worst case, compression expands data by 50%
+-	compressBuf = (BYTE*)pSS-&gt;AllocMem(RasterSize + RasterSize/2);
++	compressBuf = (BYTE*)pSS-&gt;AllocMem(2 * RasterSize);
+ 	if (compressBuf == NULL)
+ 		constructor_error=ALLOCMEM_ERROR;
+ 	

Added: trunk/rpms/hplip/hplip-desktop.patch
===================================================================
--- trunk/rpms/hplip/hplip-desktop.patch	                        (rev 0)
+++ trunk/rpms/hplip/hplip-desktop.patch	2008-12-10 16:05:58 UTC (rev 6593)
@@ -0,0 +1,10 @@
+diff -up hplip-2.8.5/hplip.desktop.in.desktop hplip-2.8.5/hplip.desktop.in
+--- hplip-2.8.5/hplip.desktop.in.desktop	2008-05-08 17:26:03.000000000 +0100
++++ hplip-2.8.5/hplip.desktop.in	2008-06-03 12:03:18.000000000 +0100
+@@ -1,5 +1,5 @@
+ [Desktop Entry]
+-Version=0.6
++Encoding=UTF-8
+ Type=Application
+ Name=HP Device Manager
+ GenericName=Printer Management Application

Added: trunk/rpms/hplip/hplip-guest.patch
===================================================================
--- trunk/rpms/hplip/hplip-guest.patch	                        (rev 0)
+++ trunk/rpms/hplip/hplip-guest.patch	2008-12-10 16:05:58 UTC (rev 6593)
@@ -0,0 +1,12 @@
+--- hplip-1.6.7/fax/backend/hpfax.py.guest	2006-08-21 17:35:34.000000000 +0100
++++ hplip-1.6.7/fax/backend/hpfax.py	2006-08-21 17:38:48.000000000 +0100
+@@ -188,9 +188,6 @@
+     except IndexError:
+         input_fd = 0
+         
+-    pdb = pwd.getpwnam(username)
+-    home_folder, uid, gid = pdb[5], pdb[2], pdb[3]
+-    
+     sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
+     try:
+         sock.connect((prop.hpssd_host, prop.hpssd_port))

Added: trunk/rpms/hplip/hplip-libsane.patch
===================================================================
--- trunk/rpms/hplip/hplip-libsane.patch	                        (rev 0)
+++ trunk/rpms/hplip/hplip-libsane.patch	2008-12-10 16:05:58 UTC (rev 6593)
@@ -0,0 +1,24 @@
+diff -up hplip-2.8.6/Makefile.am.libsane hplip-2.8.6/Makefile.am
+--- hplip-2.8.6/Makefile.am.libsane	2008-06-23 12:13:10.000000000 +0100
++++ hplip-2.8.6/Makefile.am	2008-06-23 12:14:24.000000000 +0100
+@@ -187,7 +187,7 @@ else
+ libsane_hpaio_la_LDFLAGS = $(BB_SCAN_VERSION)
+ endif
+ # The following is a interlibrary dependency that must be compiled first.
+-libsane_hpaio_la_LIBADD = libhpip.la libhpmud.la $(DBUS_LIBS) -lcups
++libsane_hpaio_la_LIBADD = libhpip.la libhpmud.la $(DBUS_LIBS) -lcups -lsane
+ #libsane_hpaio_la_CFLAGS = -DWITH_NONAMESPACES -DSOAP_DEBUG
+ libsane_hpaio_la_CFLAGS = $(DBUS_CFLAGS) $(BB_SCAN_CFLAGS)
+ 
+diff -up hplip-2.8.6/Makefile.in.libsane hplip-2.8.6/Makefile.in
+--- hplip-2.8.6/Makefile.in.libsane	2008-06-23 12:13:10.000000000 +0100
++++ hplip-2.8.6/Makefile.in	2008-06-23 12:14:39.000000000 +0100
+@@ -1679,7 +1679,7 @@ lib_LTLIBRARIES = $(am__append_4)
+ @DARWIN_BUILD_FALSE@@HPLIP_BUILD_TRUE@@<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">SCAN_BUILD_TRUE at libsane_hpaio_la_LDFLAGS</A> = $(BB_SCAN_VERSION)
+ @DARWIN_BUILD_TRUE@@HPLIP_BUILD_TRUE@@<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">SCAN_BUILD_TRUE at libsane_hpaio_la_LDFLAGS</A> = -module -framework CoreFoundation $(BB_SCAN_VERSION)
+ # The following is a interlibrary dependency that must be compiled first.
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">+- at HPLIP_BUILD_TRUE</A>@@<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">SCAN_BUILD_TRUE at libsane_hpaio_la_LIBADD</A> = libhpip.la libhpmud.la $(DBUS_LIBS) -lcups
<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">++ at HPLIP_BUILD_TRUE</A>@@<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">SCAN_BUILD_TRUE at libsane_hpaio_la_LIBADD</A> = libhpip.la libhpmud.la $(DBUS_LIBS) -lcups -lsane
+ #libsane_hpaio_la_CFLAGS = -DWITH_NONAMESPACES -DSOAP_DEBUG
+ @HPLIP_BUILD_TRUE@@<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">SCAN_BUILD_TRUE at libsane_hpaio_la_CFLAGS</A> = $(DBUS_CFLAGS) $(BB_SCAN_CFLAGS)
+ 

Added: trunk/rpms/hplip/hplip-marker-supply.patch
===================================================================
--- trunk/rpms/hplip/hplip-marker-supply.patch	                        (rev 0)
+++ trunk/rpms/hplip/hplip-marker-supply.patch	2008-12-10 16:05:58 UTC (rev 6593)
@@ -0,0 +1,17 @@
+diff -up hplip-2.8.2/prnt/hpijs/hpijs.cpp.marker-supply hplip-2.8.2/prnt/hpijs/hpijs.cpp
+--- hplip-2.8.2/prnt/hpijs/hpijs.cpp.marker-supply	2008-02-08 19:36:38.000000000 +0000
++++ hplip-2.8.2/prnt/hpijs/hpijs.cpp	2008-03-04 17:51:02.000000000 +0000
+@@ -541,11 +541,11 @@ int main (int argc, char *argv[], char *
+ 			case WARN_LOW_INK_YELLOW:
+ 			case WARN_LOW_INK_MULTIPLE_PENS:
+                         {
+-			   bug (&quot;STATE: marker-supply-low-warning\n&quot;);
++			   bug (&quot;STATE: +marker-supply-low-warning\n&quot;);
+                            break;
+                         }
+ 			default:
+-			   bug (&quot;STATE: -marker-supply-low-warning&quot;);
++			   bug (&quot;STATE: -marker-supply-low-warning\n&quot;);
+ 		}
+     }
+ 

Added: trunk/rpms/hplip/hplip-no-root-config.patch
===================================================================
--- trunk/rpms/hplip/hplip-no-root-config.patch	                        (rev 0)
+++ trunk/rpms/hplip/hplip-no-root-config.patch	2008-12-10 16:05:58 UTC (rev 6593)
@@ -0,0 +1,54 @@
+diff -up hplip-2.7.7/base/g.py.no-root-config hplip-2.7.7/base/g.py
+--- hplip-2.7.7/base/g.py.no-root-config	2007-06-18 17:56:32.000000000 +0100
++++ hplip-2.7.7/base/g.py	2007-09-25 15:23:23.000000000 +0100
+@@ -105,6 +105,10 @@ class Config(dict):
+ 
+         log.debug(&quot;Reading config file %s&quot; % filename)
+ 
++        if filename.startswith (&quot;/root/&quot;) or filename.startswith (&quot;/var/&quot;):
++            # Don't try opening a file in root's home directory.
++            return
++
+         try:
+             f = file(filename, 'r')
+             self.config_obj.readfp(f)
+@@ -134,23 +138,25 @@ class Config(dict):
+ # Config file: directories and ports
+ prop.sys_config_file = '/etc/hp/hplip.conf'
+ prop.user_dir = os.path.expanduser('~/.hplip')
+-
+-os.umask(0037)
+-try:
+-    if not os.path.exists(prop.user_dir):
+-        os.makedirs(prop.user_dir)
+-except OSError:
+-    pass # This is sometimes OK, if running hpfax: for example
+-    
+ prop.user_config_file = os.path.join(prop.user_dir, 'hplip.conf')
+ 
+-if not os.path.exists(prop.user_config_file):
++if (not (prop.user_config_file.startswith (&quot;/root/&quot;) or
++         prop.user_config_file.startswith (&quot;/var/&quot;)) and
++    not os.getuid () == 0):
++    os.umask(0037)
+     try:
+-        file(prop.user_config_file, 'w').close()
+-        s = os.stat(os.path.dirname(prop.user_config_file))
+-        os.chown(prop.user_config_file, s[stat.ST_UID], s[stat.ST_GID])
+-    except IOError:
+-        pass
++        if not os.path.exists(prop.user_dir):
++            os.makedirs(prop.user_dir)
++    except OSError:
++        pass # This is sometimes OK, if running hpfax: for example
++    
++    if not os.path.exists(prop.user_config_file):
++        try:
++            file(prop.user_config_file, 'w').close()
++            s = os.stat(os.path.dirname(prop.user_config_file))
++            os.chown(prop.user_config_file, s[stat.ST_UID], s[stat.ST_GID])
++        except IOError:
++            pass
+     
+ sys_cfg = Config(prop.sys_config_file, True)
+ user_cfg = Config(prop.user_config_file)

Added: trunk/rpms/hplip/hplip-systray.patch
===================================================================

Added: trunk/rpms/hplip/hplip-ui-optional.patch
===================================================================
--- trunk/rpms/hplip/hplip-ui-optional.patch	                        (rev 0)
+++ trunk/rpms/hplip/hplip-ui-optional.patch	2008-12-10 16:05:58 UTC (rev 6593)
@@ -0,0 +1,16 @@
+--- hplip-1.7.2/base/utils.py.ui-optional	2007-02-07 19:21:31.000000000 +0000
++++ hplip-1.7.2/base/utils.py	2007-06-11 14:29:16.000000000 +0100
+@@ -644,6 +644,13 @@
+         log.error(&quot;PyQt not installed. GUI not available. Exiting.&quot;)
+         return False
+ 
++    # hplip-gui sub-package (Fedora)
++    try:
++        import ui
++    except ImportError:
++        log.error(&quot;hplip-gui not installed.  GUI not available. Exiting.&quot;)
++        return False
++
+     # check version of Qt
+     qtMajor = int(qt.qVersion().split('.')[0])
+ 

Added: trunk/rpms/hplip/hplip.fdi
===================================================================
--- trunk/rpms/hplip/hplip.fdi	                        (rev 0)
+++ trunk/rpms/hplip/hplip.fdi	2008-12-10 16:05:58 UTC (rev 6593)
@@ -0,0 +1,20 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; 
+
+&lt;deviceinfo version=&quot;0.2&quot;&gt;
+  &lt;device&gt;
+    &lt;!-- HPLIP-driven printers and scanners --&gt;
+    &lt;match key=&quot;info.subsystem&quot; contains=&quot;usb_device&quot;&gt;
+      &lt;match key=&quot;usb_device.vendor_id&quot; int=&quot;0x03f0&quot;&gt;
+        &lt;append key=&quot;info.capabilities&quot; type=&quot;strlist&quot;&gt;scanner&lt;/append&gt;
+        &lt;append key=&quot;access_control.grant_group&quot; type=&quot;strlist&quot;&gt;lp&lt;/append&gt;
+      &lt;/match&gt;
+    &lt;/match&gt;
+
+    &lt;!-- Set ACLs --&gt;
+    &lt;match key=&quot;info.capabilities&quot; contains=&quot;scanner&quot;&gt;
+      &lt;append key=&quot;info.capabilities&quot; type=&quot;strlist&quot;&gt;access_control&lt;/append&gt;
+      &lt;merge key=&quot;access_control.file&quot; type=&quot;copy_property&quot;&gt;linux.device_file&lt;/merge&gt;
+      &lt;merge key=&quot;access_control.type&quot; type=&quot;string&quot;&gt;scanner&lt;/merge&gt;
+    &lt;/match&gt;
+  &lt;/device&gt;
+&lt;/deviceinfo&gt;

Added: trunk/rpms/hplip/hplip.spec
===================================================================
--- trunk/rpms/hplip/hplip.spec	                        (rev 0)
+++ trunk/rpms/hplip/hplip.spec	2008-12-10 16:05:58 UTC (rev 6593)
@@ -0,0 +1,727 @@
+# $Id$
+# Authority: dag
+
+# ExclusiveDist: el5
+
+# Tag: test
+
+%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
+
+Summary: HP Linux Imaging and Printing Project
+Name: hplip
+Version: 2.8.10
+Release: 0.1
+License: GPL
+Group: System Environment/Daemons
+URL: <A HREF="http://hplip.sourceforge.net/">http://hplip.sourceforge.net/</A>
+
+Source0: <A HREF="http://dl.sf.net/hplip/hplip-%{version">http://dl.sf.net/hplip/hplip-%{version</A>}.tar.gz
+Source1: hplip.fdi
+Patch1: hplip-desktop.patch
+Patch4: hplip-marker-supply.patch
+Patch8: hplip-libsane.patch
+Patch12: hplip-no-root-config.patch
+Patch13: hplip-ui-optional.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: cups-devel
+BuildRequires: dbus-devel
+BuildRequires: desktop-file-utils
+BuildRequires: libjpeg-devel
+BuildRequires: libusb-devel
+BuildRequires: net-snmp-devel
+BuildRequires: openssl-devel
+BuildRequires: python-devel
+BuildRequires: sane-backends-devel
+Requires: /sbin/service
+Requires: /sbin/chkconfig
+Requires: hal
+Requires: hpijs = 1:%{version}-%{release}
+Requires: python-imaging
+Conflicts: system-config-printer &lt; 0.6.132
+Obsoletes: hpoj &lt;= 0.91
+Obsoletes: xojpanel &lt;= 0.91
+
+%description
+The Hewlett-Packard Linux Imaging and Printing Project provides
+drivers for HP printers and multi-function peripherals.
+
+%package -n hpijs
+Summary: HP Printer Drivers
+Group: Applications/Publishing
+License: BSD
+Epoch: 1
+Requires: %{name} = %{version}-%{release}
+#Requires: cupsddk-drivers
+Requires: net-snmp
+#Requires: python-reportlab
+
+%description -n hpijs
+hpijs is a collection of optimized drivers for HP printers.
+hpijs supports the DeskJet 350C, 600C, 600C Photo, 630C, Apollo 2000,
+Apollo 2100, Apollo 2560, DeskJet 800C, DeskJet 825, DeskJet 900,
+PhotoSmart, DeskJet 990C, and PhotoSmart 100 series.
+
+%package -n libsane-hpaio
+Summary: SANE driver for scanners in HP's multi-function devices
+Group: System Environment/Daemons
+License: GPLv2+
+Obsoletes: libsane-hpoj &lt;= 0.91
+Requires: sane-backends
+Requires: %{name} = %{version}-%{release}
+ExcludeArch: s390 s390x
+
+%description -n libsane-hpaio
+SANE driver for scanners in HP's multi-function devices (from HPOJ).
+
+%prep
+%setup
+
+# Fix desktop file.
+%patch1 -p1 -b .desktop
+
+# Low ink is a warning condition, not an error.
+%patch4 -p1 -b .marker-supply
+
+# Link libsane-hpaio against libsane (bug #234813).
+%patch8 -p1 -b .libsane
+
+# Prevent SELinux audit message from the CUPS backends (bug #241776)
+%patch12 -p1 -b .no-root-config
+
+# Make utils.checkPyQtImport() look for the gui sub-package (bug #243273).
+%patch13 -p1 -b .ui-optional
+
+%build
+%configure \
+    --disable-cups-install \
+    --disable-foomatic-rip-hplip-install \
+    --disable-foomatic-xml-install \
+    --enable-dbus \
+    --enable-fax-build \
+    --enable-gui-build \
+    --enable-scan-build
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__install} -d -m0755 %{buildroot}%{_bindir}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+
+%{__install} -Dp -m0644 %{SOURCE1} %{buildroot}%{_datadir}/hal/fdi/policy/10osvendor/10-hplip.fdi
+
+#%{__install} -p -m0644 ppd/*.ppd.gz %{buildroot}%{_datadir}/ppd/HP/
+
+%{__install} -d -m0755 %{buildroot}%{_datadir}/applications/
+desktop-file-install --vendor HP                \
+    --dir %{buildroot}%{_datadir}/applications/ \
+    --add-category Application                  \
+    --add-category HardwareSettings             \
+    --add-category Settings                     \
+    --add-category System                       \
+    hplip.desktop
+
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{_sysconfdir}/sane.d/ \
+    %{buildroot}%{_docdir} \
+    %{buildroot}%{_sysconfdir}/udev/rules.d/ \
+    %{buildroot}%{_datadir}/hplip/install.*
+
+%{__rm} -f %{buildroot}%{_bindir}/foomatic-rip \
+    %{buildroot}%{_datadir}/applications/hplip.desktop \
+    %{buildroot}%{_datadir}/cups/model/foomatic-ppds \
+    %{buildroot}%{_datadir}/hplip/hpaio.desc \
+    %{buildroot}%{_datadir}/hplip/hpijs.drv.in.template \
+    %{buildroot}%{_datadir}/hplip/hplip-install \
+    %{buildroot}%{_libdir}/cups/filter/foomatic-rip \
+    %{buildroot}%{_libdir}/*.la \
+    %{buildroot}%{_libdir}/*.so
+
+# Images in docdir should not be executable (bug #440552).
+find doc/images -type f -exec chmod 644 {} \;
+
+# The systray applet doesn't work properly (displays icon as a
+# window), so don't ship the launcher yet. Needs python-dbus 0.80+
+#rm -f %{buildroot}%{_sysconfdir}/xdg/autostart/hplip-systray.desktop
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc COPYING doc/*
+%{_datadir}/hal/fdi/policy/10osvendor/10-hplip.fdi
+%dir %{_sysconfdir}/hp/
+%config(noreplace) %{_sysconfdir}/hp/hplip.conf
+%config %{_sysconfdir}/xdg/autostart/hplip-systray.desktop
+%{_bindir}/hp-align
+%{_bindir}/hp-check
+%{_bindir}/hp-clean
+%{_bindir}/hp-colorcal
+%{_bindir}/hp-fab
+%{_bindir}/hp-firmware
+%{_bindir}/hp-info
+%{_bindir}/hp-levels
+%{_bindir}/hp-makecopies
+%{_bindir}/hp-makeuri
+%{_bindir}/hp-mkuri
+%{_bindir}/hp-plugin
+%{_bindir}/hp-print
+%{_bindir}/hp-probe
+%{_bindir}/hp-scan
+%{_bindir}/hp-sendfax
+%{_bindir}/hp-setup
+%{_bindir}/hp-systray
+%{_bindir}/hp-testpage
+%{_bindir}/hp-timedate
+%{_bindir}/hp-toolbox
+%{_bindir}/hp-unload
+%{_datadir}/applications/*.desktop
+%dir %{_datadir}/hplip/
+%{_datadir}/hplip/align.py*
+%{_datadir}/hplip/clean.py*
+%{_datadir}/hplip/colorcal.py*
+#%{_datadir}/hplip/dat2drv.py*
+%{_datadir}/hplip/fab.py*
+%{_datadir}/hplip/fax
+%{_datadir}/hplip/firmware.py*
+%{_datadir}/hplip/hpssd*
+%{_datadir}/hplip/info.py*
+%{_datadir}/hplip/__init__.py*
+%{_datadir}/hplip/levels.py*
+%{_datadir}/hplip/makecopies.py*
+%{_datadir}/hplip/makeuri.py*
+%{_datadir}/hplip/plugin.py*
+%{_datadir}/hplip/probe.py*
+%{_datadir}/hplip/scan.py*
+%{_datadir}/hplip/sendfax.py*
+%{_datadir}/hplip/setup.py*
+%{_datadir}/hplip/testpage.py*
+%{_datadir}/hplip/timedate.py*
+%{_datadir}/hplip/unload.py*
+%{_datadir}/hplip/base/
+%{_datadir}/hplip/copier/
+%dir %{_datadir}/hplip/data/
+%{_datadir}/hplip/data/ldl/
+%{_datadir}/hplip/data/localization/
+%{_datadir}/hplip/data/models/
+%{_datadir}/hplip/data/pcl/
+%{_datadir}/hplip/data/ps/
+%{_datadir}/hplip/installer/
+%{_datadir}/hplip/pcard/
+%{_datadir}/hplip/prnt/
+%{_datadir}/hplip/scan/
+%{_datadir}/hplip/check.py*
+%{_datadir}/hplip/print.py*
+%{_datadir}/hplip/systray.py*
+%{_datadir}/hplip/toolbox.py*
+%{_datadir}/hplip/data/images/
+%{_datadir}/hplip/plugins/
+%{_datadir}/hplip/ui/
+%{_libdir}/libhpmud.so*
+%{python_sitearch}/*.so
+%{_libdir}/python*/site-packages/*
+### Must be /usr/lib, since that is the CUPS serverbin directory
+%{_prefix}/lib/cups/backend/hp
+%{_prefix}/lib/cups/backend/hpfax
+%exclude %{python_sitearch}/*.la
+
+%files -n hpijs
+%defattr(-, root, root, 0755)
+%{_bindir}/hpijs
+%{_datadir}/ppd/HP/
+%{_datadir}/cups/drv/*
+%{_libdir}/libhpip.so*
+#### Must be /usr/lib, since that is the CUPS serverbin directory
+%{_prefix}/lib/cups/filter/hplipjs
+
+%files -n libsane-hpaio
+%defattr(-, root, root, 0755)
+%{_libdir}/sane/libsane-*.so*
+%exclude %{_libdir}/sane/libsane-*.la
+
+%pre
+### No daemons any more.
+/sbin/chkconfig --del hplip 2&gt;/dev/null || :
+if [ -x /etc/init.d/hplip ]; then
+    /sbin/service hplip stop
+fi
+
+%post
+/usr/bin/update-desktop-database &amp;&gt;/dev/null || :
+
+%postun
+/usr/bin/update-desktop-database &amp;&gt;/dev/null || :
+
+%postun -n libsane-hpaio -p /sbin/ldconfig
+%post -n libsane-hpaio
+/sbin/ldconfig
+if [ -f /etc/sane.d/dll.conf ]; then
+    if ! grep -q ^hpaio /etc/sane.d/dll.conf; then
+        echo hpaio &gt;&gt; /etc/sane.d/dll.conf
+    fi
+fi
+exit 0
+
+%changelog
+* Wed Dec 10 2008 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.8.10-1
+- Updated to release 2.8.10.
+
+* Tue Oct 21 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.8.7-3
+- Ship PPDs in the correct location (bug #343841).
+
+* Fri Sep 26 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.8.7-2
+- Moved Python extension into libs sub-package (bug #461236).
+
+* Mon Aug  4 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.8.7-1
+- 2.8.7.
+- Avoid hard-coded rpaths.
+- New libs sub-package (bug #444016).
+
+* Thu Jul 31 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt;
+- Move libhpip.so* to the main package to avoid libsane-hpaio
+  depending on hpijs (bug #457440).
+
+* Thu Jul 31 2008 Tom &quot;spot&quot; Callaway &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">tcallawa at redhat.com</A>&gt; 2.8.6b-2
+- fix license tag
+
+* Mon Jul 28 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.8.6b-1
+- 2.8.6b.
+
+* Mon Jun 23 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.8.6-1
+- 2.8.6.  No longer need libm patch.
+
+* Fri Jun  6 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.8.5-2
+- Make --qt4 the default for the systray applet, so that it appears
+  in the right place.  Requires PyQt4.
+
+* Tue Jun  3 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.8.5-1
+- 2.8.5.
+- Configure with --enable-dbus.  Build requires dbus-devel.
+- Fix chmod 644 line.
+- Ship hp-systray in the gui sub-package, but don't ship the desktop
+  launcher yet as the systray applet is quite broken.
+- Don't run autoconf.
+
+* Tue May 13 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.8.2-3
+- Move installer directory to main package (bug #446171).
+
+* Fri Apr  4 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.8.2-2
+- Update hplip.fdi for Fedora 9: info.bus -&gt; info.subsystem.
+- Images in docdir should not be executable (bug #440552).
+
+* Tue Mar  4 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.8.2-1
+- 2.8.2.  No longer need alloc, unload-traceback or media-empty patches.
+- Ship cupsddk driver.  The hpijs sub-package now requires cupsddk-drivers.
+
+* Tue Mar  4 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.12-6
+- Fixed marker-supply-low strings.
+
+* Wed Feb 13 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.12-5
+- Rebuild for GCC 4.3.
+
+* Fri Jan 25 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.12-4
+- The hpijs compression module doesn't allocate enough memory (bug #428536).
+
+* Wed Jan 23 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.12-3
+- Really grant the ACL for the lp group (bug #424331).
+
+* Fri Jan 18 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.12-2
+- Ship installer directory (bug #428246).
+- Avoid multilib conflict (bug #341531).
+- The hpijs sub-package requires net-snmp (bug #376641).
+
+* Fri Jan 18 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.12-1
+- 2.7.12.  No longer need ljdot4 patch.
+
+* Fri Jan  4 2008 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.10-2
+- Don't ship udev rules; instead, grant an ACL for group lp (bug #424331).
+
+* Fri Dec 07 2007 Release Engineering &lt;rel-eng at fedoraproject dot org&gt; - 2.7.10-2
+- Rebuild for deps
+
+* Mon Oct 22 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.10-1
+- 2.7.10.
+
+* Fri Oct 12 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.9-3
+- Applied patch to fix remnants of CVE-2007-5208 (bug #329111).
+
+* Tue Oct  9 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.9-2
+- Use raw instead of 1284.4 communication for LJ4000 series (bug #249191).
+- Build requires openssl-devel.
+
+* Wed Oct  3 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.9-1
+- 2.7.9.
+- Adjusted udev rules to be less permissive.  We use ConsoleKit to add
+  ACLs to the device nodes, so world-writable device nodes can be avoided.
+
+* Tue Sep 25 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.7-5
+- Prevent hpfax trying to load configuration files as user lp.
+
+* Thu Sep  6 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.7-4
+- Reverted udev rules change.
+- Ship a HAL FDI file to get correct access control on the USB device
+  nodes (bug #251470).
+- Make libsane-hpaio requires the main hplip package, needed for
+  libhpip.so (bug #280281).
+
+* Thu Aug 30 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.7-3
+- Updated udev rules to allow scanning by console user.
+
+* Wed Aug 29 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.7-2
+- Better buildroot tag.
+- More specific license tag.
+
+* Fri Aug  3 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.7-1
+- 2.7.7.
+
+* Mon Jul 23 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.6-10
+- Move libhpmud to hpijs package (bug #248978).
+
+* Fri Jul 20 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.6-9
+- Remove hplip service on upgrade.
+- Updated selinux-policy conflict for bug #249014.
+- Fixed the udev rules file (bug #248740, bug #249025).
+
+* Tue Jul 17 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.6-8
+- Fixed hp-toolbox desktop file (bug #248560).
+
+* Mon Jul 16 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.6-7
+- Low ink is a warning condition, not an error.
+
+* Wed Jul 11 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.6-6
+- Add hp-check back, but in the gui sub-package.
+- Show the HP Toolbox menu entry again.
+
+* Mon Jul  9 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.6-5
+- Read system config when run as root (bug #242974).
+
+* Mon Jul  9 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.6-4
+- Moved reportlab requirement to gui sub-package (bug #189030).
+- Patchlevel 1.
+
+* Sat Jul  7 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.6-3
+- Fixed pre scriptlet (bug #247349, bug #247322).
+
+* Fri Jul  6 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.6-2
+- Main package requires python-reportlab for hp-sendfax (bug #189030).
+- Explicitly enable scanning.
+- Main package requires python-imaging for hp-scan (bug #247210).
+
+* Mon Jul  2 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt;
+- Updated selinux-policy conflict for bug #246257.
+
+* Fri Jun 29 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 2.7.6-1
+- 2.7.6.
+
+* Thu Jun 28 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.7.4a-3
+- Another go at avoiding AVC messages on boot (bug #244205).
+
+* Thu Jun 14 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.7.4a-2
+- Don't try to write a /root/.hplip.conf file when running as a CUPS
+  backend (bug #244205).
+
+* Wed Jun 13 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.7.4a-1
+- Don't put the version in the desktop file; let desktop-file-install do it.
+- 1.7.4a.  No longer need marker-supply or faxing-with-low-supplies
+  patches.  Cheetah and cherrypy directories no longer shipped in source
+  tarball.
+
+* Mon Jun 11 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt;
+- Don't ship hp-check (bug #243273).
+- Moved hp-setup back to the base package, and put code in
+  utils.checkPyQtImport() to check for the gui sub-package as well as
+  PyQt (bug #243273).
+
+* Fri Jun  8 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt;
+- Moved hp-setup to the ui package (bug #243273).
+- Prevent SELinux audit message from the CUPS backends (bug #241776)
+
+* Thu May 10 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.7.2-10
+- Prevent a traceback when unloading a photo card (bug #238617).
+
+* Fri May  4 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.7.2-9
+- When faxing, low ink/paper is not a problem (bug #238664).
+
+* Tue Apr 17 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.7.2-8
+- Update desktop database on %%postun as well (bug #236163).
+
+* Mon Apr 16 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.7.2-7
+- Some parts can run without GUI support after all (bug #236161).
+- Added /sbin/service and /sbin/chkconfig requirements for the scriptlets
+  (bug #236445).
+- Fixed %%post scriptlet's condrestart logic (bug #236445).
+
+* Fri Apr 13 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.7.2-6
+- Fixed dangling symlinks (bug #236156).
+- Move all fax bits to the gui package (bug #236161).
+- Don't ship fax PPD and backend twice (bug #236092).
+- Run update-desktop-database in the gui package's %%post scriptlet
+  (bug #236163).
+- Moved desktop-file-utils requirement to gui package (bug #236163).
+- Bumped selinux-policy conflict version (bug #236092).
+
+* Thu Apr  5 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.7.2-5
+- Better media-empty-error state handling: always set the state.
+
+* Wed Apr  4 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.7.2-4
+- Clear the media-empty-error printer state.
+
+* Wed Apr  4 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.7.2-3
+- Fixed typo in marker-supply-low patch.
+
+* Wed Apr  4 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.7.2-2
+- Split out a gui sub-package (bug #193661).
+- Build requires sane-backends-devel (bug #234813).
+
+* Tue Apr  3 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt;
+- Change 'Hidden' to 'NoDisplay' in the desktop file, and use the System
+  category instead of Utility (bug #170762).
+- Link libsane-hpaio against libsane (bug #234813).
+
+* Fri Mar 30 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt;
+- Use marker-supply-low IPP message.
+
+* Wed Mar  1 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.7.2-1
+- 1.7.2.
+
+* Wed Feb 14 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.7.1-1
+- 1.7.1.
+
+* Wed Jan 10 2007 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.6.12-1
+- 1.6.12.  No longer need broken-conf, loop, out-of-paper or
+  sane-debug patches.
+
+* Thu Dec  7 2006 Jeremy Katz &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">katzj at redhat.com</A>&gt; - 1.6.10-7
+- rebuild against python 2.5
+
+* Wed Dec  6 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt;
+- Minor state fixes for out-of-paper patch.
+
+* Thu Nov 23 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.6.10-6
+- Report out-of-paper and offline conditions in CUPS backend (bug #216477).
+
+* Wed Nov  1 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.6.10-5
+- Fixed debugging patch.
+
+* Wed Nov  1 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.6.10-4
+- Allow debugging of the SANE backend.
+
+* Mon Oct 30 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.6.10-3
+- IPv6 support (bug #198377).  Local-only sockets are IPv4, and ought
+  to be changed to unix domain sockets in future.
+
+* Fri Oct 27 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.6.10-2
+- 1.6.10.  No longer need compile patch.
+- Fixed default config file (bug #211072).
+- Moved libhpip to hpijs sub-package (bug #212531).
+
+* Fri Sep 29 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.6.7-4
+- Don't wake up every half a second (bug #204725).
+
+* Mon Sep 25 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt;
+- Fixed package URL.
+
+* Mon Aug 21 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.6.7-3
+- Don't look up username in PWDB in the fax backend (removed redundant code).
+
+* Mon Aug  7 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.6.7-2
+- 1.6.7.
+- Conflict with selinux-policy &lt; 2.3.4 to make sure new port numbers are
+  known about (bug #201357).
+
+* Wed Jul 12 2006 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt; - (none):1.6.6a-3.1
+- rebuild
+
+* Tue Jul  4 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.6.6a-3
+- libhpip should link against libm (bug #197599).
+
+* Wed Jun 28 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.6.6a-2
+- 1.6.6a.
+
+* Mon Jun 26 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt;
+- Patchlevel 1.
+- Fixed libsane-hpaio %%post scriptlet (bug #196663).
+
+* Fri Jun 16 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 1.6.6-2
+- 1.6.6.
+
+* Mon Jun 12 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.11-6
+- Build requires autoconf (bug #194682).
+
+* Fri May 26 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.11-5
+- Include doc files (bug #192790).
+
+* Mon May 15 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.11-4
+- Patchlevel 2.
+
+* Wed May 10 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.11-3
+- Move hpijs to 0.9.11 too.
+
+* Wed May 10 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.11-2
+- 0.9.11.
+- Keep hpijs at 0.9.8 for now.
+
+* Fri Apr 21 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.10-6
+- Patchlevel 2.
+
+* Wed Apr 19 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt;
+- Don't package COPYING twice (bug #189162).
+
+* Tue Apr 18 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.10-5
+- Patchlevel 1.
+- Fixed another case-sensitive match.
+- Require hpijs sub-package (bug #189140).
+- Don't package unneeded files (bug #189162).
+- Put fax PPD in the right place (bug #186213).
+
+* Tue Apr  4 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.10-4
+- Use case-insensitive matching.  0.9.8 gave all-uppercase in some
+  situations.
+- Last known working hpijs comes from 0.9.8, so use that.
+
+* Tue Mar 28 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.10-3
+- Always use /usr/lib/cups/backend.
+
+* Tue Mar 28 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.10-2
+- 0.9.10.
+- Ship PPDs.
+
+* Fri Mar 24 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.9-7
+- Include hpfax.
+- Build requires libusb-devel.
+
+* Thu Mar 23 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.9-6
+- CUPS backend directory is always in /usr/lib.
+
+* Mon Mar 13 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.9-4
+- Quieten hpssd on startup.
+
+* Sat Mar 11 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.9-3
+- Patchlevel 1.
+
+* Thu Mar  9 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.9-2
+- 0.9.9.  No longer need quiet or 0.9.8-4 patches.
+
+* Wed Mar 01 2006 Karsten Hopp &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">karsten at redhat.de</A>&gt; 0.9.8-6
+- Buildrequires: desktop-file-utils
+
+* Mon Feb 27 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.8-5
+- Patchlevel 4.
+
+* Tue Feb 14 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.8-4
+- Added Obsoletes: hpoj tags back in (bug #181476).
+
+* Fri Feb 10 2006 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt; - (none):0.9.8-3.1
+- bump again for double-long bug on ppc(64)
+
+* Tue Feb  7 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.8-3
+- Patchlevel 3.
+
+* Fri Feb  3 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.8-2
+- Patchlevel 2.
+
+* Thu Feb  2 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.8-1
+- 0.9.8.
+- No longer need initscript patch.
+- Don't package hpfax yet.
+
+* Wed Jan 18 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.7-8
+- Don't package PPD files.
+
+* Thu Jan  5 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.7-7
+- Fix initscript (bug #176966).
+
+* Mon Jan  2 2006 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.7-6
+- Rebuild.
+
+* Fri Dec 23 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.7-5
+- Rebuild.
+
+* Wed Dec 21 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.7-4
+- Build requires python-devel, libjpeg-devel (bug #176317).
+
+* Fri Dec 09 2005 Jesse Keating &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">jkeating at redhat.com</A>&gt;
+- rebuilt
+
+* Wed Dec  7 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.7-3
+- Use upstream patch 0.9.7-2.
+- No longer need lpgetstatus or compile patches.
+
+* Fri Nov 25 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.7-2
+- Prevent LPGETSTATUS overrunning format buffer.
+
+* Thu Nov 24 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.7-1
+- 0.9.7.
+
+* Fri Nov 18 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.6-7
+- Fix compilation.
+
+* Wed Nov  9 2005 Tomas Mraz &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">tmraz at redhat.com</A>&gt; 0.9.6-6
+- rebuilt against new openssl
+
+* Mon Nov  7 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.6-5
+- Rebuilt.
+
+* Wed Oct 26 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.6-4
+- Ship initscript in %%{_sysconfdir}/rc.d/init.d.
+
+* Fri Oct 14 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt;
+- Install the desktop file with Hidden=True (bug #170762).
+
+* Fri Oct 14 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.6-3
+- Don't install desktop file (bug #170762).
+- Quieten the hpssd daemon at startup (bug #170762).
+
+* Wed Oct 12 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.6-2
+- 0.9.6.
+
+* Tue Sep 20 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.5-3
+- Apply upstream patch to fix scanning in LaserJets and parallel InkJets.
+
+* Mon Sep 19 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.5-2
+- 0.9.5.
+- No longer need condrestart patch.
+- Fix compile errors.
+
+* Tue Jul 26 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.4-3
+- Fix condrestart in the initscript.
+
+* Mon Jul 25 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.4-2
+- Use 'condrestart' not 'restart' in %%post scriptlet.
+
+* Fri Jul 22 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.4-1
+- forward-decl patch not needed.
+- 0.9.4.
+
+* Fri Jul  1 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.3-8
+- Removed Obsoletes: hpoj tags (bug #162222).
+
+* Thu Jun 30 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.3-7
+- Rebuild to get Python modules precompiled.
+
+* Wed Jun 22 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.3-6
+- For libsane-hpaio ExcludeArch: s390 s390x, because it requires
+  sane-backends.
+
+* Wed Jun 15 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.3-5
+- Use static IP ports (for SELinux policy).
+
+* Tue Jun 14 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.3-4
+- Conflicts: hpijs from before this package provided it.
+- Conflicts: system-config-printer &lt; 0.6.132 (i.e. before HPLIP support
+  was added)
+
+* Thu Jun  9 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.3-3
+- Added Obsoletes: for xojpanel and hpoj-devel (but we don't actually package
+  devel files yet).
+
+* Thu Jun  9 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.3-2
+- Add 'hpaio' to SANE config file, not 'hpoj' (bug #159954).
+
+* Thu Jun  9 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.3-1
+- Use /usr/share/applications for putting desktop files in (bug #159932).
+- Requires PyQt (bug #159932).
+
+* Tue Jun  7 2005 Tim Waugh &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">twaugh at redhat.com</A>&gt; 0.9.3-0.1
+- Initial package, based on Mandriva spec file.


Property changes on: trunk/rpms/hplip/hplip.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Added: trunk/rpms/perl-Gtk2-ImageView/perl-Gtk2-ImageView.spec
===================================================================
--- trunk/rpms/perl-Gtk2-ImageView/perl-Gtk2-ImageView.spec	                        (rev 0)
+++ trunk/rpms/perl-Gtk2-ImageView/perl-Gtk2-ImageView.spec	2008-12-10 16:05:58 UTC (rev 6593)
@@ -0,0 +1,66 @@
+# $Id$
+# Authority: dag
+# Upstream: Jeffrey Ratcliffe
+
+%define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
+%define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
+
+%define real_name Gtk2-ImageView
+
+Summary: Perl bindings for the GtkImageView widget
+Name: perl-Gtk2-ImageView
+Version: 0.04
+Release: 1
+License: Artistic/GPL
+Group: Applications/CPAN
+URL: <A HREF="http://search.cpan.org/dist/Gtk2-ImageView/">http://search.cpan.org/dist/Gtk2-ImageView/</A>
+
+Source: <A HREF="http://www.cpan.org/modules/by-module/Gtk2/Gtk2-ImageView-%{version">http://www.cpan.org/modules/by-module/Gtk2/Gtk2-ImageView-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: gtkimageview-devel
+BuildRequires: perl
+
+%description
+Perl bindings for the GtkImageView widget.
+
+%prep
+%setup -n %{real_name}-%{version}
+
+%build
+CFLAGS=&quot;%{optflags}&quot; %{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
+%{__make} %{?_smp_mflags} OPTIMIZE=&quot;%{optflags}&quot;
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} pure_install
+
+### Clean up buildroot
+find %{buildroot} -name .packlist -exec %{__rm} {} \;
+
+### Clean up docs
+find examples/ -type f -exec %{__chmod} a-x {} \;
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc AUTHORS COPYING.LESSER INSTALL MANIFEST META.yml README examples/
+%doc %{_mandir}/man3/Gtk2::Gdk::Pixbuf::Draw::Cache.3pm*
+%doc %{_mandir}/man3/Gtk2::ImageView.3pm*
+%doc %{_mandir}/man3/Gtk2::ImageView::*.3pm*
+%dir %{perl_vendorarch}/auto/Gtk2/
+%{perl_vendorarch}/auto/Gtk2/ImageView/
+%dir %{perl_vendorarch}/Gtk2/
+%dir %{perl_vendorarch}/Gtk2/Gdk/
+%dir %{perl_vendorarch}/Gtk2/Gdk/Pixbuf/
+%dir %{perl_vendorarch}/Gtk2/Gdk/Pixbuf/Draw/
+%{perl_vendorarch}/Gtk2/Gdk/Pixbuf/Draw/Cache.pod
+%{perl_vendorarch}/Gtk2/ImageView/
+%{perl_vendorarch}/Gtk2/ImageView.pm
+%{perl_vendorarch}/Gtk2/ImageView.pod
+
+%changelog
+* Tue Dec 09 2008 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.04-1
+- Initial package. (using DAR)


Property changes on: trunk/rpms/perl-Gtk2-ImageView/perl-Gtk2-ImageView.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Modified: trunk/rpms/perl-HTML-Parser/perl-HTML-Parser.spec
===================================================================
--- trunk/rpms/perl-HTML-Parser/perl-HTML-Parser.spec	2008-12-05 00:59:00 UTC (rev 6592)
+++ trunk/rpms/perl-HTML-Parser/perl-HTML-Parser.spec	2008-12-10 16:05:58 UTC (rev 6593)
@@ -1,6 +1,6 @@
 # $Id$
 # Authority: dag
-# Upstream: Gisle Aas &lt;gisle$ActiveState,com&gt;
+# Upstream: Gisle Aas &lt;gisle$activestate,com&gt;
 
 ##ExcludeDist: el5
 # Rationale: spamassasin 3.20 needs this core package to be updated
@@ -12,17 +12,19 @@
 
 Summary: Perl module that implements a HTML parser class
 Name: perl-HTML-Parser
-Version: 3.56
+Version: 3.59
 Release: 1
-License: Artistic
+License: Artistic/GPL
 Group: Applications/CPAN
 URL: <A HREF="http://search.cpan.org/dist/HTML-Parser/">http://search.cpan.org/dist/HTML-Parser/</A>
 
 Source: <A HREF="http://www.cpan.org/modules/by-module/HTML/HTML-Parser-%{version">http://www.cpan.org/modules/by-module/HTML/HTML-Parser-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: perl
+BuildRequires: perl &gt;= 0:5.006
 BuildRequires: perl(ExtUtils::MakeMaker)
+BuildRequires: perl(Test::More)
+Requires: perl &gt;= 0:5.006
 
 %description
 HTML-Parser is a Perl module that implements a HTML parser class.

Modified: trunk/rpms/unixbench/unixbench.spec
===================================================================
--- trunk/rpms/unixbench/unixbench.spec	2008-12-05 00:59:00 UTC (rev 6592)
+++ trunk/rpms/unixbench/unixbench.spec	2008-12-10 16:05:58 UTC (rev 6593)
@@ -1,40 +1,31 @@
 # $Id$
 # Authority: dag
+# Upstream: Ian Smith &lt;johantheghost$yahoo,com&gt;
 
 Summary: BYTE's UNIX Benchmarks
 Name: unixbench
-Version: 4.0.1
+Version: 5.1.2
 Release: 1
 License: Distributable
 Group: Applications/System
-URL: <A HREF="http://www.tux.org/pub/tux/niemi/unixbench/">http://www.tux.org/pub/tux/niemi/unixbench/</A>
+URL: <A HREF="http://www.hermit.org/Linux/Benchmarking/">http://www.hermit.org/Linux/Benchmarking/</A>
 
-Source: <A HREF="http://www.tux.org/pub/tux/niemi/unixbench/unixbench-%{version">http://www.tux.org/pub/tux/niemi/unixbench/unixbench-%{version</A>}.tgz
-Patch0: unixbench-4.0.1-altpackage.patch
-Patch1: unixbench-4.0.1-buildflags.patch
+Source: <A HREF="http://www.hermit.org/Linux/Benchmarking/unixbench-%{version">http://www.hermit.org/Linux/Benchmarking/unixbench-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-Requires: gcc
-
 %description
-The BYTE Unix benchmarks that we published in March, 1990, we
-expected that they fill our needs for several years. It was only a
-few months before we started to see that UNIX workstation performance
-was going to make the benchmark design questionable.
+This page presents some information on Linux benchmarking; and in particular,
+UnixBench Version 5, a version of the venerable Byte benchmarks updated to
+handle multi-CPU systems.
 
-The design flaw was that the benchmarks timed a fixed number of loops;
-if there were too few loops, the times were too small to be reliable.
-Perhaps we could have increased the number of loops and been safe for
-another few years (months?). But with IBM's introduction of the RS/6000,
-it became obvious that we needed to redesign our benchmarks.
-
 %prep
 %setup
-%patch0 -p1
-%patch1 -p1
 
+### Add old XFree86 library path, add -lm for EL2
+%{__perl} -pi.orig -e 's|(GL_LIBS\s*=\s*)(.*)$|$1 -L%{_prefix}/X11R6/%{_lib} -lm $2|' Makefile
+
 %build
-%{__make} %{?_smp_mflags}
+%{__make} %{?_smp_mflags} OPTION=&quot;%{optflags}&quot;
 
 %install
 %{__rm} -rf %{buildroot}
@@ -47,10 +38,13 @@
 %{__rm} -rf %{buildroot}
 
 %files
-%doc README old-doc/bench.doc old-doc/bench3.doc
+%doc README USAGE WRITING_TESTS
 %{_bindir}/unixbench
 %{_libdir}/unixbench/
 
 %changelog
+* Wed Dec 10 2008 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 5.1.2-1
+- Updated to release 5.1.2.
+
 * Fri Feb 16 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 4.0.1-1
 - Initial package. (using DAR)

Added: trunk/rpms/unpaper/unpaper.spec
===================================================================
--- trunk/rpms/unpaper/unpaper.spec	                        (rev 0)
+++ trunk/rpms/unpaper/unpaper.spec	2008-12-10 16:05:58 UTC (rev 6593)
@@ -0,0 +1,49 @@
+# $Id$
+# Authority: dag
+
+
+Summary: Post-processing of scanned and photocopied book pages
+Name: unpaper
+Version: 0.3
+Release: 1
+License: GPL
+Group: Applications/Publishing
+URL: <A HREF="http://unpaper.berlios.de/">http://unpaper.berlios.de/</A>
+
+Source: <A HREF="http://download.berlios.de/unpaper/unpaper-%{version">http://download.berlios.de/unpaper/unpaper-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+%description
+unpaper is a post-processing tool for scanned sheets of paper, especially for
+book pages that have been scanned from previously created photocopies. The
+main purpose is to make scanned book pages better readable on screen after
+conversion to PDF. Additionally, unpaper might be useful to enhance the
+quality of scanned pages before performing optical character recognition (OCR).
+unpaper tries to clean scanned images by removing dark edges that appeared
+through scanning or copying on areas outside the actual page content (e.g. dark
+areas between the left-hand-side and the right-hand-side of a double- sided
+book-page scan). The program also tries to detect disaligned centering and
+rotation of pages and will automatically straighten each page by rotating it to
+the correct angle. This process is called &quot;deskewing&quot;.
+
+%prep
+%setup
+
+%build
+%{__cc} %{optflags} -lm -o unpaper src/unpaper.c
+
+%install
+%{__rm} -rf %{buildroot}
+%{__install} -Dp -m0755 unpaper %{buildroot}%{_bindir}/unpaper
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc CHANGELOG LICENSE README doc/
+%{_bindir}/unpaper
+
+%changelog
+* Tue Dec 09 2008 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.3-1
+- Initial package. (using DAR)


Property changes on: trunk/rpms/unpaper/unpaper.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Modified: trunk/rpms/vlc/vlc.spec
===================================================================
--- trunk/rpms/vlc/vlc.spec	2008-12-05 00:59:00 UTC (rev 6592)
+++ trunk/rpms/vlc/vlc.spec	2008-12-10 16:05:58 UTC (rev 6593)
@@ -123,7 +123,7 @@
 
 Summary: The VideoLAN client, also a very good standalone video player
 Name: vlc
-Version: 0.9.6
+Version: 0.9.8a
 Release: 1
 License: GPL
 Group: Applications/Multimedia
@@ -468,6 +468,9 @@
 %endif
 
 %changelog
+* Fri Dec 05 2008 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.9.8a-1
+- Updated to release 0.9.8a.
+
 * Mon Nov 10 2008 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.9.6-1
 - Updated to release 0.9.6.
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005391.html">[svn] r6592 - trunk/tools/unoconv
</A></li>
	<LI>Next message: <A HREF="005393.html">[svn] r6594 - in trunk/rpms: . elisa pigment python-fpconst	python-nose python-pigment python-simplejson python-soap	python-twisted-core python-twisted-web python-twisted-web2	python-xdg python-zope-interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5392">[ date ]</a>
              <a href="thread.html#5392">[ thread ]</a>
              <a href="subject.html#5392">[ subject ]</a>
              <a href="author.html#5392">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
