<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r5263 - in trunk/rpms: R armagetronad aterm bochs bzflag camE	dxfscope dxpc frontline ghc giftoxic gruler libvisual	neverball ocaml orsa pearpc perl-GD powermanga prismstumbler	pyrpm python-opengl soundconverter streamdvd twin valgrind	xawtv xforms xpenguins-applet xtraceroute xvattr
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5263%20-%20in%20trunk/rpms%3A%20R%20armagetronad%20aterm%20bochs%20bzflag%20camE%0A%09dxfscope%20dxpc%20frontline%20ghc%20giftoxic%20gruler%20libvisual%0A%09neverball%20ocaml%20orsa%20pearpc%20perl-GD%20powermanga%20prismstumbler%0A%09pyrpm%20python-opengl%20soundconverter%20streamdvd%20twin%20valgrind%0A%09xawtv%20xforms%20xpenguins-applet%20xtraceroute%20xvattr&In-Reply-To=%3C20070401151226.A2B55944B48%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004061.html">
   <LINK REL="Next"  HREF="004063.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r5263 - in trunk/rpms: R armagetronad aterm bochs bzflag camE	dxfscope dxpc frontline ghc giftoxic gruler libvisual	neverball ocaml orsa pearpc perl-GD powermanga prismstumbler	pyrpm python-opengl soundconverter streamdvd twin valgrind	xawtv xforms xpenguins-applet xtraceroute xvattr</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5263%20-%20in%20trunk/rpms%3A%20R%20armagetronad%20aterm%20bochs%20bzflag%20camE%0A%09dxfscope%20dxpc%20frontline%20ghc%20giftoxic%20gruler%20libvisual%0A%09neverball%20ocaml%20orsa%20pearpc%20perl-GD%20powermanga%20prismstumbler%0A%09pyrpm%20python-opengl%20soundconverter%20streamdvd%20twin%20valgrind%0A%09xawtv%20xforms%20xpenguins-applet%20xtraceroute%20xvattr&In-Reply-To=%3C20070401151226.A2B55944B48%40pooch.vmhosting.org%3E"
       TITLE="[svn] r5263 - in trunk/rpms: R armagetronad aterm bochs bzflag camE	dxfscope dxpc frontline ghc giftoxic gruler libvisual	neverball ocaml orsa pearpc perl-GD powermanga prismstumbler	pyrpm python-opengl soundconverter streamdvd twin valgrind	xawtv xforms xpenguins-applet xtraceroute xvattr">packagers at lists.rpmforge.net
       </A><BR>
    <I>Sun Apr  1 17:12:26 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="004061.html">[svn] r5262 - in trunk/rpms: klavaro krename pbzip2 radlib	white_dune
</A></li>
        <LI>Next message: <A HREF="004063.html">[svn] r5264 - in trunk/rpms: bbkeys biew cabletv gtkglext hackedbox	libXvMCW libvisual-gforce libvisual-plugins lincity openrm	paintlib peeper perl-SDL pike pointless spit thunderbird	tightvnc torcs tpb tvtime vncselector white_dune windowmaker	x2 xautolock xdesktopwaves xephem xfrisk xkobo xlockmore xrestop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4062">[ date ]</a>
              <a href="thread.html#4062">[ thread ]</a>
              <a href="subject.html#4062">[ subject ]</a>
              <a href="author.html#4062">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2007-04-01 17:12:22 +0200 (Sun, 01 Apr 2007)
New Revision: 5263

Added:
   trunk/rpms/soundconverter/soundconverter-0.8.6.spec
Modified:
   trunk/rpms/R/R.spec
   trunk/rpms/armagetronad/armagetronad.spec
   trunk/rpms/aterm/aterm.spec
   trunk/rpms/bochs/bochs.spec
   trunk/rpms/bzflag/bzflag.spec
   trunk/rpms/camE/camE.spec
   trunk/rpms/dxfscope/dxfscope.spec
   trunk/rpms/dxpc/dxpc.spec
   trunk/rpms/frontline/frontline.spec
   trunk/rpms/ghc/ghc.spec
   trunk/rpms/giftoxic/giftoxic.spec
   trunk/rpms/gruler/gruler.spec
   trunk/rpms/libvisual/libvisual.spec
   trunk/rpms/neverball/neverball.spec
   trunk/rpms/ocaml/ocaml.spec
   trunk/rpms/orsa/orsa.spec
   trunk/rpms/pearpc/pearpc.spec
   trunk/rpms/perl-GD/perl-GD-1.x.spec
   trunk/rpms/powermanga/powermanga.spec
   trunk/rpms/prismstumbler/prismstumbler.spec
   trunk/rpms/pyrpm/pyrpm.spec
   trunk/rpms/python-opengl/python-opengl.spec
   trunk/rpms/streamdvd/streamdvd.spec
   trunk/rpms/twin/twin.spec
   trunk/rpms/valgrind/valgrind.spec
   trunk/rpms/xawtv/xawtv.spec
   trunk/rpms/xforms/xforms.spec
   trunk/rpms/xpenguins-applet/xpenguins-applet.spec
   trunk/rpms/xtraceroute/xtraceroute.spec
   trunk/rpms/xvattr/xvattr.spec
Log:
Improved modxorg macros.

Modified: trunk/rpms/R/R.spec
===================================================================
--- trunk/rpms/R/R.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/R/R.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -1,6 +1,19 @@
 # $Id$
 # Authority: dag
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 Summary: Language for data analysis and graphics
 Name: R
 Version: 2.4.1
@@ -14,10 +27,11 @@
 
 BuildRequires: gcc-c++, gcc-g77, tetex-latex, texinfo 
 BuildRequires: libpng-devel, libjpeg-devel, readline-devel, libtermcap-devel
-BuildRequires: XFree86-devel
 BuildRequires: tcl-devel, tk-devel
 BuildRequires: blas &gt;= 3.0, pcre-devel, zlib-devel
 BuildRequires: java-1.4.2-gcj-compat
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 Requires: ggv, cups, firefox
 
 ### These are the submodules that R provides. Sometimes R modules say they

Modified: trunk/rpms/armagetronad/armagetronad.spec
===================================================================
--- trunk/rpms/armagetronad/armagetronad.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/armagetronad/armagetronad.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -4,11 +4,19 @@
 %{?dist: %{expand: %%define %dist 1}}
 %{?fedora: %{expand: %%define fc%{fedora} 1}}
 
-%{!?dist:%define _with_modxorg 1}
-%{?el5:  %define _with_modxorg 1}
-%{?fc6:  %define _with_modxorg 1}
-%{?fc5:  %define _with_modxorg 1}
+%{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %{?fc1:%define _without_xorg 1}
 %{?el3:%define _without_xorg 1}
 %{?rh9:%define _without_xorg 1}
@@ -37,7 +45,7 @@
 BuildRequires: SDL_image-devel, SDL_mixer-devel, SDL-devel, esound-devel
 BuildRequires: libxml2-devel, /usr/bin/find, unzip, gcc-c++, which
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
-%if 0%{!?_with_modxorg:1}
+%if 0%{?_without_modxorg:1}
 %{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
 %{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
 %else

Modified: trunk/rpms/aterm/aterm.spec
===================================================================
--- trunk/rpms/aterm/aterm.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/aterm/aterm.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -6,14 +6,16 @@
 %{?rh7:%define _without_freedesktop 1}
 %{?el2:%define _without_freedesktop 1}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-# %{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 %define desktop_vendor rpmforge
 
@@ -28,8 +30,8 @@
 Source: <A HREF="http://dl.sf.net/aterm/aterm-%{version">http://dl.sf.net/aterm/aterm-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 
 %description
@@ -99,8 +101,5 @@
 %{?_without_freedesktop:%{_datadir}/gnome/apps/System/aterm.desktop}
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.4.2-1.2
-- Rebuild for Fedora Core 5.
-
 * Sun Mar 20 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.4.2-1
 - Initial package. (using DAR)

Modified: trunk/rpms/bochs/bochs.spec
===================================================================
--- trunk/rpms/bochs/bochs.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/bochs/bochs.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -6,14 +6,17 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 %define logmsg logger -t %{name}/rpm
 
@@ -30,8 +33,8 @@
 Patch: bochs-2.1.1-gcc342.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gcc-c++
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
 
 %description
 Bochs is a portable x86 PC emulation software package that emulates enough of

Modified: trunk/rpms/bzflag/bzflag.spec
===================================================================
--- trunk/rpms/bzflag/bzflag.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/bzflag/bzflag.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -3,6 +3,18 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %define desktop_vendor rpmforge
 %define date           20050318
 
@@ -15,11 +27,13 @@
 URL: <A HREF="http://bzflag.org/">http://bzflag.org/</A>
 Source: <A HREF="http://dl.sf.net/bzflag/bzflag-%{version">http://dl.sf.net/bzflag/bzflag-%{version</A>}.%{date}.tar.bz2
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: XFree86-devel, gcc-c++, desktop-file-utils
+BuildRequires: gcc-c++, desktop-file-utils
 BuildRequires: ncurses-devel, curl-devel, SDL-devel
 # This one should have been required by curl-devel
 %{!?dist:BuildRequires: libidn-devel}
 %{?fc3:BuildRequires: libidn-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
 
 %description
 BZFlag is a 3D multi-player tank battle game  that  allows users to play

Modified: trunk/rpms/camE/camE.spec
===================================================================
--- trunk/rpms/camE/camE.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/camE/camE.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -1,6 +1,19 @@
 # $Id$
 # Authority: matthias
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 Summary: Rewrite of the xawtv webcam app, which adds imlib2 support
 Name: camE
 Version: 1.9
@@ -11,8 +24,10 @@
 URL: <A HREF="http://linuxbrit.co.uk/camE/">http://linuxbrit.co.uk/camE/</A>
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 Requires: giblib &gt;= 1.2.3, imlib2, curl, zlib
-BuildRequires: XFree86-devel, giblib-devel &gt;= 1.2.3, imlib2-devel, curl-devel
+BuildRequires: giblib-devel &gt;= 1.2.3, imlib2-devel, curl-devel
 BuildRequires: zlib-devel
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 camE is a rewrite of the xawtv webcam app, which adds imlib2 support and
@@ -39,7 +54,7 @@
 %files
 %defattr(-, root, root, 0755)
 %doc *.style AUTHORS COPYING example.camErc*
-%{_bindir}/%{name}
+%{_bindir}/camE
 
 
 %changelog

Modified: trunk/rpms/dxfscope/dxfscope.spec
===================================================================
--- trunk/rpms/dxfscope/dxfscope.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/dxfscope/dxfscope.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -6,14 +6,17 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 Summary: Viewer for DXF drawings
 Name: dxfscope
@@ -26,8 +29,8 @@
 Source: <A HREF="http://wildspark.com/dxfscope/dxfscope-current.tar.gz">http://wildspark.com/dxfscope/dxfscope-current.tar.gz</A>
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 DXFscope is a viewer for DXF drawings. It supports the most commonly used

Modified: trunk/rpms/dxpc/dxpc.spec
===================================================================
--- trunk/rpms/dxpc/dxpc.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/dxpc/dxpc.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -1,18 +1,19 @@
 # $Id$
-
 # Authority: dag
 # Upstream: Kevin Vigor &lt;kevin$vigor,nu&gt;
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 Summary: Differential X protocol compressor
 Name: dxpc
@@ -26,8 +27,8 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: lzo-devel, gcc-c++
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 dxpc is an X protocol compressor designed to improve the

Modified: trunk/rpms/frontline/frontline.spec
===================================================================
--- trunk/rpms/frontline/frontline.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/frontline/frontline.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -3,14 +3,17 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 %define gimp %(rpm -q gimp-devel | grep -q 1\.2; echo $?)
 
@@ -29,8 +32,8 @@
 BuildRequires: gnome-libs-devel, autotrace
 BuildRequires: ImageMagick-devel, libtiff-devel, freetype-devel
 BuildRequires: libjpeg-devel, libpng-devel, bzip2-devel, libxml2-devel, zlib-devel
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 Frontline provides a Gtk+/GNOME based GUI frontend for
@@ -75,9 +78,6 @@
 %endif
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.5.4-2.2
-- Rebuild for Fedora Core 5.
-
 * Tue Nov 26 2002 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.4
 - Updated to 0.5.4
 

Modified: trunk/rpms/ghc/ghc.spec
===================================================================
--- trunk/rpms/ghc/ghc.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/ghc/ghc.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -3,6 +3,18 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %{?fc1:%define _without_xorg 1}
 %{?el3:%define _without_xorg 1}
 %{?rh9:%define _without_xorg 1}
@@ -10,6 +22,7 @@
 %{?rh7:%define _without_xorg 1}
 %{?el2:%define _without_xorg 1}
 %{?rh6:%define _without_xorg 1}
+%{?yd3:%define _without_xorg 1}
 
 # Warning: you need a lot of diskspace if you want to build this rpm!
 
@@ -28,9 +41,13 @@
 BuildRequires: m4, python, perl
 BuildRequires: python-devel, docbook-dtds
 BuildRequires: openjade, jadetex
-%{?fc4:BuildRequires:compat-readline43}
-%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU, XFree86-Mesa-libGL}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU, xorg-x11-Mesa-libGL}
+%{?fc4:BuildRequires: compat-readline43}
+%if 0%{?_without_modxorg:1}
+%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%else
+BuildRequires: libXt-devel, mesa-libGLU-devel
+%endif
 Requires: readline
 
 %description

Modified: trunk/rpms/giftoxic/giftoxic.spec
===================================================================
--- trunk/rpms/giftoxic/giftoxic.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/giftoxic/giftoxic.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -6,15 +6,18 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
-
 %define real_name giFToxic
 
 Summary: GUI for the peer2peer tool gift
@@ -29,8 +32,8 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: gift-devel, gtk2-devel, gettext, bison
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 Requires: gift
 
 %description
@@ -49,12 +52,9 @@
 %makeinstall
 %find_lang %{real_name}
 
-%post
-/sbin/ldconfig 2&gt;/dev/null
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
 
-%postun
-/sbin/ldconfig 2&gt;/dev/null
-
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -68,8 +68,5 @@
 %{_datadir}/giFToxic/logo.png
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.0.10-1.2
-- Rebuild for Fedora Core 5.
-
 * Mon Jun 07 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.0.10-1
 - Initial package.

Modified: trunk/rpms/gruler/gruler.spec
===================================================================
--- trunk/rpms/gruler/gruler.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/gruler/gruler.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -71,9 +71,6 @@
 %{_datadir}/gruler/
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.6-1.2
-- Rebuild for Fedora Core 5.
-
 * Thu Feb 10 2005 Dan Allen &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dan.allen at mojavelinux.com</A>&gt; - 0.6
 - Updated to release 0.6.
 - Improved desktop file.

Modified: trunk/rpms/libvisual/libvisual.spec
===================================================================
--- trunk/rpms/libvisual/libvisual.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/libvisual/libvisual.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -4,7 +4,19 @@
 # ScreenshotURL: <A HREF="http://libvisual.sourceforge.net/v2/index.php?page=screenshots">http://libvisual.sourceforge.net/v2/index.php?page=screenshots</A>
 
 %{?dist: %{expand: %%define %dist 1}}
-
+   
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+   
 %{?fc1:%define _without_xorg 1}
 %{?el3:%define _without_xorg 1}
 %{?rh9:%define _without_xorg 1}
@@ -14,7 +26,6 @@
 %{?rh6:%define _without_xorg 1}
 %{?yd3:%define _without_xorg 1}
 
-
 Summary: Abstraction library between applications and visualisation plugins
 Name: libvisual
 Version: 0.2.0
@@ -27,8 +38,12 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: gcc-c++
+%if 0%{?_without_modxorg:1}
 %{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
 %{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%else
+BuildRequires: libXt-devel, mesa-libGLU-devel
+%endif
 
 %description
 Libvisual is a library that acts as a middle layer between applications that
@@ -64,12 +79,9 @@
 %{__rm} -rf %{buildroot}
 %makeinstall
 
-%post
-/sbin/ldconfig 2&gt;/dev/null
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
 
-%postun
-/sbin/ldconfig 2&gt;/dev/null
-
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -86,9 +98,6 @@
 %exclude %{_libdir}/*.la
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.2.0-1.2
-- Rebuild for Fedora Core 5.
-
 * Mon Aug 15 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.2.0-1
 - Update to release 0.2.0.
 

Modified: trunk/rpms/neverball/neverball.spec
===================================================================
--- trunk/rpms/neverball/neverball.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/neverball/neverball.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -3,6 +3,18 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %{?fc1:%define _without_xorg 1}
 %{?el3:%define _without_xorg 1}
 %{?rh9:%define _without_xorg 1}
@@ -25,10 +37,14 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: perl, zlib-devel
 BuildRequires: SDL-devel, SDL_image-devel, SDL_mixer-devel, SDL_ttf-devel
+%{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 # Mesa libGLU is required for correct linking
+%if 0%{?_without_modxorg:1}
 %{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
 %{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
-%{!?_without_freedesktop:BuildRequires: desktop-file-utils}
+%else
+BuildRequires: libXt-devel, mesa-libGLU-devel
+%endif
 
 %description
 Tilt the floor to roll a ball through an obstacle course before time runs out.

Modified: trunk/rpms/ocaml/ocaml.spec
===================================================================
--- trunk/rpms/ocaml/ocaml.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/ocaml/ocaml.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -3,26 +3,24 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 %{?rh9:%define _without_tcltk_devel 1}
-%{?rh9:%define _without_xorg 1}
-
 %{?rh8:%define _without_tcltk_devel 1}
-%{?rh8:%define _without_xorg 1}
-
 %{?rh7:%define _without_tcltk_devel 1}
-%{?rh7:%define _without_xorg 1}
-
 %{?el2:%define _without_tcltk_devel 1}
-%{?el2:%define _without_xorg 1}
-
 %{?rh6:%define _without_tcltk_devel 1}
-%{?rh6:%define _without_xorg 1}
 
-%{?yd3:%define _without_xorg 1}
-
 Summary: Objective Caml
 Name: ocaml
 Version: 3.09.1
@@ -38,8 +36,8 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: ncurses-devel, gdbm-devel, emacs
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
-%{?_without_xorg:BuildRequires: XFree86-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 %{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3, tk-devel}
 %{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3, tk}
 Obsoletes: ocaml-ocamldoc, labltk, camlp4

Modified: trunk/rpms/orsa/orsa.spec
===================================================================
--- trunk/rpms/orsa/orsa.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/orsa/orsa.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -7,9 +7,17 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?rh7:%define _without_freedesktop 1}
-%{?el2:%define _without_freedesktop 1}
-%{?rh6:%define _without_freedesktop 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 %{?fc1:%define _without_xorg 1}
 %{?el3:%define _without_xorg 1}
@@ -20,6 +28,10 @@
 %{?rh6:%define _without_xorg 1}
 %{?yd3:%define _without_xorg 1}
 
+%{?rh7:%define _without_freedesktop 1}
+%{?el2:%define _without_freedesktop 1}
+%{?rh6:%define _without_freedesktop 1}
+
 Summary: Interactive tool for scientific grade Celestial Mechanics computations
 Name: orsa
 Version: 0.6.2
@@ -33,8 +45,12 @@
 
 BuildRequires: fftw-devel, qt-devel, readline-devel, gcc-c++
 BuildRequires: desktop-file-utils, zlib-devel, libjpeg-devel
+%if 0%{?_without_modxorg:1}
 %{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
 %{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%else
+BuildRequires: libXt-devel, mesa-libGLU-devel
+%endif
 
 %description
 ORSA is an interactive tool for scientific grade Celestial Mechanics
@@ -73,12 +89,9 @@
 	--dir %{buildroot}%{_datadir}/applications \
 	%{name}.desktop
 
-%post
-/sbin/ldconfig 2&gt;/dev/null
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
 
-%postun
-/sbin/ldconfig 2&gt;/dev/null
-
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -94,8 +107,5 @@
 %exclude %{_libdir}/*.la
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.6.2-1.2
-- Rebuild for Fedora Core 5.
-
 * Sat Oct 02 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.6.2-1
 - Initial package.

Modified: trunk/rpms/pearpc/pearpc.spec
===================================================================
--- trunk/rpms/pearpc/pearpc.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/pearpc/pearpc.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -1,6 +1,20 @@
 # $Id$
 # Authority: matthias
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %define desktop_vendor rpmforge
 
 Summary: PowerPC Architecture Emulator
@@ -15,11 +29,12 @@
 Source2: <A HREF="http://dl.sf.net/pearpc/pearpc-3gib.img.bz2">http://dl.sf.net/pearpc/pearpc-3gib.img.bz2</A>
 Source3: <A HREF="http://dl.sf.net/pearpc/pearpc-6gib.img.bz2">http://dl.sf.net/pearpc/pearpc-6gib.img.bz2</A>
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: XFree86-devel, SDL-devel
-BuildRequires: desktop-file-utils, gcc-c++
+BuildRequires: desktop-file-utils, gcc-c++, SDL-devel
 %ifarch %{ix86}
 BuildRequires: nasm
 %endif
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 PearPC is an architecture-independent PowerPC platform emulator capable of

Modified: trunk/rpms/perl-GD/perl-GD-1.x.spec
===================================================================
--- trunk/rpms/perl-GD/perl-GD-1.x.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/perl-GD/perl-GD-1.x.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -5,13 +5,16 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 Summary: GD Perl interface to the GD Graphics Library
 Name: perl-GD
@@ -27,8 +30,8 @@
 BuildRequires: perl &gt;= 0:5.8.0, gd-devel &gt;= 1.8.4, libpng-devel, zlib-devel
 BuildRequires: freetype-devel, libjpeg-devel
 Requires: perl &gt;= 0:5.8.0
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 perl-GD is a Perl interface to the gd graphics library. GD allows you

Modified: trunk/rpms/powermanga/powermanga.spec
===================================================================
--- trunk/rpms/powermanga/powermanga.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/powermanga/powermanga.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -5,8 +5,19 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
+%{?rh7:%define _without_freedesktop 1}
 %{?el2:%define _without_freedesktop 1}
-%{?rh7:%define _without_freedesktop 1}
 
 Summary: Arcade 2D shoot-them-up game
 Name: powermanga
@@ -18,7 +29,9 @@
 Source0: <A HREF="http://linux.tlk.fr/games/Powermanga/download/powermanga-%{version">http://linux.tlk.fr/games/Powermanga/download/powermanga-%{version</A>}.tgz
 Source1: powermanga.png
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: XFree86-devel, SDL-devel, SDL_mixer-devel, gcc-c++
+BuildRequires: gcc-c++, SDL-devel, SDL_mixer-devel
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 
 %description

Modified: trunk/rpms/prismstumbler/prismstumbler.spec
===================================================================
--- trunk/rpms/prismstumbler/prismstumbler.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/prismstumbler/prismstumbler.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -8,15 +8,28 @@
 %{?el5:%define _with_libpcapdevel 1}
 %{?fc6:%define _with_libpcapdevel 1}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
+%{!?dist:%define _with_lesstif 1}
+%{?el5:%define _with_openmotif 1}
+%{?fc6:%define _with_lesstif 1}
+%{?fc5:%define _with_openmotif 1}
+%{?fc4:%define _with_openmotif 1}
+%{?fc3:%define _with_lesstif 1}
+%{?el4:%define _with_openmotif 1}
+%{?el3:%define _with_openmotif 1}
+%{?el2:%define _with_lesstif 1}
+
 Summary: Wireless LAN (WLAN) accesspoint discovery tool
 Name: prismstumbler
 Version: 0.7.3
@@ -30,16 +43,10 @@
 
 BuildRequires: gtk2-devel, sqlite-devel, autoconf, automake, libtool
 BuildRequires: libpcap, gcc-c++
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: libXt-devel, libXpm-devel, libXaw-devel}
-%{?el5:BuildRequires: lesstif-devel}
-%{?fc6:BuildRequires: lesstif-devel}
-%{?fc5:BuildRequires: openmotif-devel}
-%{?fc4:BuildRequires: openmotif-devel}
-%{?fc3:BuildRequires: lesstif-devel}
-%{?el4:BuildRequires: openmotif-devel}
-%{?el3:BuildRequires: openmotif-devel}
-%{?el2:BuildRequires: lesstif-devel}
+%{!?_without_modxorg:BuildRequires: libXt-devel, libXpm-devel, libXaw-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
+%{?_with_lesstif:BuildRequires: lesstif-devel}
+%{?_with_openmotif:BuildRequires: openmotif-devel}
 %{?_with_libpcapdevel:BuildRequires:libpcap-devel}
 
 %description

Modified: trunk/rpms/pyrpm/pyrpm.spec
===================================================================
--- trunk/rpms/pyrpm/pyrpm.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/pyrpm/pyrpm.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -3,7 +3,7 @@
 
 Summary: RPM implementation in python
 Name: pyrpm
-Version: 0.63
+Version: 0.66
 Release: 1
 License: GPL
 Group: System Environment/Base
@@ -45,6 +45,9 @@
 %ghost %{_datadir}/pyrpm/*/*.pyo
 
 %changelog
+* Sun Apr 01 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.66-1
+- Updated to release 0.66.
+
 * Wed Feb 07 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.63-1
 - Updated to release 0.63.
 

Modified: trunk/rpms/python-opengl/python-opengl.spec
===================================================================
--- trunk/rpms/python-opengl/python-opengl.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/python-opengl/python-opengl.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -3,10 +3,23 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %{?rh9:%define _without_tcltk_devel 1}
 %{?rh8:%define _without_tcltk_devel 1}
 %{?rh7:%define _without_tcltk_devel 1}
 %{?el2:%define _without_tcltk_devel 1}
+%{?rh6:%define _without_tcltk_devel 1}
 
 %define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
 
@@ -25,7 +38,8 @@
 
 BuildRequires: python-devel, glut-devel, python-numeric
 BuildRequires: tcl &gt;= 8.3, tk &gt;= 8.3
-BuildRequires: XFree86-devel
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 %{!?_without_tcltk_devel:BuildRequires: tcl-devel &gt;= 8.3, tk-devel}
 %{?_without_tcltk_devel:BuildRequires: tcl &gt;= 8.3, tk}
 Requires: python-numeric, python-imaging

Added: trunk/rpms/soundconverter/soundconverter-0.8.6.spec
===================================================================
--- trunk/rpms/soundconverter/soundconverter-0.8.6.spec	                        (rev 0)
+++ trunk/rpms/soundconverter/soundconverter-0.8.6.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -0,0 +1,76 @@
+# $Id$
+# Authority: dag
+
+%define desktop_vendor rpmforge
+
+Summary: Simple sound converter application
+Name: soundconverter
+Version: 0.8.6
+Release: 1
+License: GPL
+Group: Applications/Multimedia
+URL: <A HREF="http://soundconverter.berlios.de/">http://soundconverter.berlios.de/</A>
+
+Source: <A HREF="http://download.berlios.de/soundconverter/soundconverter-%{version">http://download.berlios.de/soundconverter/soundconverter-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+BuildArch: noarch
+
+BuildRequires: desktop-file-utils
+Requires: pygtk2, gstreamer-python, gnome-python2-gconf
+
+
+%description
+A simple sound converter application. It can convert from and to all
+gstreamer supported formats.
+
+%prep
+%setup
+
+%{__perl} -pi.orig -e 's|^GLADE\s*=.*|GLADE=&quot;%{_datadir}/soundconverter/soundconverter.glade&quot;|' soundconverter.py
+
+%{__cat} &lt;&lt;EOF &gt;soundconverter.desktop
+[Desktop Entry]
+Encoding=UTF-8
+Name=SoundConverter
+Comment=Convert audio using GStreamer
+Exec=soundconverter
+Terminal=false
+Type=Application
+Icon=soundconverter.png
+Categories=GNOME;Application;AudioVideo;
+EOF
+
+%build
+
+%install
+%{__rm} -rf %{buildroot}
+%{__install} -Dp -m0755 soundconverter.py %{buildroot}%{_bindir}/soundconverter
+%{__install} -Dp -m0644 soundconverter.glade %{buildroot}%{_datadir}/soundconverter/soundconverter.glade
+%{__install} -Dp -m0644 logo.png %{buildroot}%{_datadir}/soundconverter/logo.png
+%{__install} -Dp -m0644 logo.png %{buildroot}%{_datadir}/pixmaps/soundconverter.png
+
+desktop-file-install --vendor %{desktop_vendor}    \
+	--dir %{buildroot}%{_datadir}/applications \
+	--add-category X-Red-Hat-Base              \
+	soundconverter.desktop
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc ChangeLog COPYING README TODO
+%{_bindir}/soundconverter
+%{_datadir}/soundconverter/
+%{_datadir}/applications/*soundconverter.desktop
+%{_datadir}/pixmaps/soundconverter.png
+
+%changelog
+* Fri Jun 02 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.8.6-1
+- Updated to release 0.8.6.
+
+* Sun May 28 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.8.5-1
+- Updated to release 0.8.5.
+
+* Sat Jan 07 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.8.1-1
+- Initial package. (using DAR)


Property changes on: trunk/rpms/soundconverter/soundconverter-0.8.6.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Modified: trunk/rpms/streamdvd/streamdvd.spec
===================================================================
--- trunk/rpms/streamdvd/streamdvd.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/streamdvd/streamdvd.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -6,48 +6,88 @@
 Summary: Tool to backup DVDs
 Name: streamdvd
 Version: 0.4
-Release: 1.2
+Release: 2
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://www.badabum.de/streamdvd.html">http://www.badabum.de/streamdvd.html</A>
 
 Source: <A HREF="http://www.badabum.de/down/streamdvd-%{version">http://www.badabum.de/down/streamdvd-%{version</A>}.tar.gz
+Patch0: streamdvd-0.4-makefile.patch
+Patch1: streamdvd-0.4-streamdvd.patch
+Patch2: streamdvd-0.4-lsdvd.patch
+Patch3: streamdvd-0.4-gui.patch
+Patch4: streamdvd-0.4-gcc41.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: libdvdread-devel &gt;= 0.9.2
-BuildRequires: gcc-c++
+BuildRequires: gcc-c++, libdvdread-devel &gt;= 0.9.2, perl
+Requires: lsdvd
 
+Obsoletes: streamdvd-streamanalyze &lt;= %{version}-%{release}
+Provides: streamdvd-streamanalyze = %{version}-%{release}
+
 %description
-StreamDVD is a fast tool to backup Video DVDs. You can select the desired
-title, chapters, video, audio and subpicture streams and also a resize
-factor and StreamDVD will write a 'ready to author' vob file to stdout.
+StreamDVD is a fast tool to backup Video DVDs 'on the fly', there will be
+no ripping, demultiplexing, recoding, remultiplexing ....
 
+You can select the wanted title, chapters, video, audio and subpicture
+streams and also a resize factor and StreamDVD will write a 'ready to
+author' vob file to stdout. 
+
+%package gui
+Summary: Graphical user interface for streamdvd
+Group: User Interface/X
+Requires: %{name} = %{version}-%{release}
+Requires: dvdauthor &gt;= 0.6.5, mkisofs &gt;= 1.15, dvd+rw-tools &gt;= 5.13.4.7.4
+Requires: perl(Tk), perl(Tk::BrowseEntry), perl(Tk::Photo), perl(Tk::JPEG)
+
+%description gui
+Graphical user interface for streamdvd
+
 %prep
 %setup -n %{real_name}-%{version}
+%patch0
+%patch1
+%patch2
+%patch3
+%patch4 -p1
 
+%{__perl} -pi.orig -e 's|(Tk::JPEG)::Lite|$1|' Gui/StreamDVD/Gui.pm
+
 %build
-%{__make} %{?_smp_mflags} \
-	CFLAGS=&quot;%{optflags}&quot;
-%{__make} %{?_smp_mflags} -C contrib/StreamAnalyze \
-	CFLAGS=&quot;%{optflags}&quot;
+%{__make} %{?_smp_mflags} gui CFLAGS=&quot;%{optflags}&quot;
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -Dp -m0755 streamdvd %{buildroot}%{_bindir}/streamdvd
-%{__install} -Dp -m0755 contrib/StreamAnalyze/streamanalyze %{buildroot}%{_bindir}/streamanalyze
+%{__install} -d -m0755 %{buildroot}%{_bindir}
+%{__make} install INSTALLDIR=&quot;%{buildroot}%{_bindir}&quot;
 
+%{__install} -d -m0755 %{buildroot}%{perl_vendorarch}/StreamDVD/
+%{__install} -Dp -m0644 Gui/StreamDVD/*.pm %{buildroot}%{perl_vendorarch}/StreamDVD/
+%{__install} -Dp -m0755 Gui/StreamDVD.pl %{buildroot}%{_bindir}/StreamDVD
+
+### Clean up buildroot
+%{__rm} rf %{buildroot}%{_bindir}/lsdvd
+
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
 %doc COPYING README
+%doc contrib/StreamAnalyze/README contrib/StreamAnalyze/COPYING
+%doc contrib/lsdvd/AUTHORS contrib/lsdvd/COPYING contrib/lsdvd/README
 %{_bindir}/streamanalyze
 %{_bindir}/streamdvd
 
+%files gui
+%defattr(-, root, root, 0755)
+%doc Gui/README
+%{_bindir}/StreamDVD
+%{perl_vendorarch}/StreamDVD/
+
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.4-1.2
-- Rebuild for Fedora Core 5.
+* Sun Apr 01 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.4-2
+- Added Livna patches.
 
 * Fri Dec 03 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.4-1
 - Initial package. (using DAR)

Modified: trunk/rpms/twin/twin.spec
===================================================================
--- trunk/rpms/twin/twin.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/twin/twin.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -4,16 +4,17 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
-
 ### FIXME: Makefiles don't allow -jX (parallel compilation)
 # Distcc: 0
 
@@ -32,8 +33,8 @@
 BuildRequires: libtermcap-devel
 %{?fc5:BuildRequires: libtool-ltdl-devel}
 %{?fc4:BuildRequires: libtool-ltdl-devel}
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: libX11-devel}
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 Twin is a windowing environment with mouse support, window manager,

Modified: trunk/rpms/valgrind/valgrind.spec
===================================================================
--- trunk/rpms/valgrind/valgrind.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/valgrind/valgrind.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -2,9 +2,37 @@
 # Authority: matthias
 # Upstream: Julian Seward &lt;jseward$acm,org&gt;
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 ### Valgrind ships with FC3
 # ExcludeDist: fc3 el4
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %define _use_internal_dependency_generator 0
 
 %define _pkglibdir %{_libdir}/%{name}
@@ -22,8 +50,9 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 ExclusiveArch: %{ix86}
-BuildRequires: XFree86-devel
 #BuildRequires: gdb
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 Valgrind is a GPL'd tool to help you find memory-management problems in

Modified: trunk/rpms/xawtv/xawtv.spec
===================================================================
--- trunk/rpms/xawtv/xawtv.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/xawtv/xawtv.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -16,6 +16,16 @@
 %{?fc2:%define _without_modxorg 1}
 %{?fc1:%define _without_modxorg 1}
 
+%{!?dist:%define _with_lesstif 1}
+%{?el5:%define _with_openmotif 1}
+%{?fc6:%define _with_lesstif 1}
+%{?fc5:%define _with_openmotif 1}
+%{?fc4:%define _with_openmotif 1}
+%{?fc3:%define _with_lesstif 1}
+%{?el4:%define _with_openmotif 1}
+%{?el3:%define _with_openmotif 1}
+%{?el2:%define _with_lesstif 1}
+
 %define desktop_vendor rpmforge
 
 Summary: Television application for video4linux compliant devices
@@ -33,15 +43,8 @@
 %{!?_without_modxorg:BuildRequires: libX11-devel}
 BuildRequires: ncurses-devel, Xaw3d-devel, libjpeg-devel
 BuildRequires: zvbi-devel
-%{?el5:BuildRequires: openmotif-devel}
-%{?fc6:BuildRequires: lesstif-devel}
-%{?fc5:BuildRequires: openmotif-devel}
-%{?fc4:BuildRequires: openmotif-devel}
-%{?fc3:BuildRequires: lesstif-devel}
-%{?el4:BuildRequires: openmotif-devel}
-%{?el3:BuildRequires: openmotif-devel}
-%{?el2:BuildRequires: lesstif-devel}
-#%{!?rh62:BuildRequires: openmotif-devel}
+%{?_with_lesstif:BuildRequires: lesstif-devel}
+%{?_with_openmotif:BuildRequires: openmotif-devel}
 %{?rh62:BuildRequires: Mesa-devel}
 %{!?_without_freedesktop:BuildRequires: desktop-file-utils}
 #BuildRequires: libdv-devel, libquicktime-devel

Modified: trunk/rpms/xforms/xforms.spec
===================================================================
--- trunk/rpms/xforms/xforms.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/xforms/xforms.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -4,6 +4,18 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 %{?fc1:%define _without_xorg 1}
 %{?el3:%define _without_xorg 1}
 %{?rh9:%define _without_xorg 1}
@@ -25,8 +37,12 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: libjpeg-devel
+%if 0%{?_without_modxorg:1}
 %{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
 %{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%else
+BuildRequires: mesa-libGLU-devel
+%endif
 
 %description
 XForms is a GUI toolkit based on Xlib for X Window Systems. It features a

Modified: trunk/rpms/xpenguins-applet/xpenguins-applet.spec
===================================================================
--- trunk/rpms/xpenguins-applet/xpenguins-applet.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/xpenguins-applet/xpenguins-applet.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -3,14 +3,16 @@
 
 %{?dist: %{expand: %%define %dist 1}}
 
-%{?fc1:%define _without_xorg 1}
-%{?el3:%define _without_xorg 1}
-%{?rh9:%define _without_xorg 1}
-%{?rh8:%define _without_xorg 1}
-%{?rh7:%define _without_xorg 1}
-%{?el2:%define _without_xorg 1}
-%{?rh6:%define _without_xorg 1}
-%{?yd3:%define _without_xorg 1}
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 Summary: Cute little penguins that walk along the top of your windows
 Name: xpenguins-applet
@@ -27,8 +29,8 @@
 BuildRequires: gnome-libs-devel, automake, autoconf, gnome-panel-devel
 # configure checks if the themes are available
 BuildRequires: xpenguins
-%{?_without_xorg:BuildRequires: XFree86-devel}
-%{!?_without_xorg:BuildRequires: libXpm-devel}
+%{!?_without_modxorg:BuildRequires: libXpm-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
 
 %description
 This program is a GNOME panel applet that animates a friendly family

Modified: trunk/rpms/xtraceroute/xtraceroute.spec
===================================================================
--- trunk/rpms/xtraceroute/xtraceroute.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/xtraceroute/xtraceroute.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -1,13 +1,22 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Bj&#246;rn Augustsson &lt;d3august $ dtek , chalmers , se&gt;
+
 # Screenshot: <A HREF="http://www.dtek.chalmers.se/~d3august/xt/bigshot.jpg">http://www.dtek.chalmers.se/~d3august/xt/bigshot.jpg</A>
 
 %{?dist: %{expand: %%define %dist 1}}
 
-# Tag: test
-# ExcludeDist: fc1
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?rh6:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
 
 %{?fc1:%define _without_xorg 1}
 %{?el3:%define _without_xorg 1}
@@ -16,7 +25,11 @@
 %{?rh7:%define _without_xorg 1}
 %{?el2:%define _without_xorg 1}
 %{?rh6:%define _without_xorg 1}
+%{?yd3:%define _without_xorg 1}
 
+# Tag: test
+# ExcludeDist: fc1
+
 Summary: Graphical version of the traceroute program
 Name: xtraceroute
 Version: 0.9.1
@@ -31,8 +44,12 @@
 BuildRequires: bind-utils, traceroute, gettext, gtk2-devel, gtk+-devel
 BuildRequires: gdk-pixbuf-devel
 %{?fc4:BuildRequires: gtkglarea2}
-%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU, XFree86-Mesa-libGL}
-%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU, xorg-x11-Mesa-libGL}
+%if 0%{?_without_modxorg:1}
+%{?_without_xorg:BuildRequires: XFree86-devel, XFree86-Mesa-libGLU}
+%{!?_without_xorg:BuildRequires: xorg-x11-devel, xorg-x11-Mesa-libGLU}
+%else
+BuildRequires: mesa-libGLU-devel
+%endif
 
 %description
 Xtraceroute is a graphical version of the traceroute program, which traces

Modified: trunk/rpms/xvattr/xvattr.spec
===================================================================
--- trunk/rpms/xvattr/xvattr.spec	2007-04-01 12:31:47 UTC (rev 5262)
+++ trunk/rpms/xvattr/xvattr.spec	2007-04-01 15:12:22 UTC (rev 5263)
@@ -2,6 +2,19 @@
 # Authority: matthias
 # Upstream: Bj&#246;rn Englund &lt;d4bjorn$dtek,chalmers,se&gt;
 
+%{?dist: %{expand: %%define %dist 1}}
+
+%{?fc4:%define _without_modxorg 1}
+%{?el4:%define _without_modxorg 1}
+%{?fc3:%define _without_modxorg 1}
+%{?fc2:%define _without_modxorg 1}
+%{?fc1:%define _without_modxorg 1}
+%{?el3:%define _without_modxorg 1}
+%{?rh9:%define _without_modxorg 1}
+%{?rh7:%define _without_modxorg 1}
+%{?el2:%define _without_modxorg 1}
+%{?yd3:%define _without_modxorg 1}
+
 Summary: Utility for getting and setting Xv attributes
 Name: xvattr
 Version: 1.3
@@ -11,8 +24,11 @@
 URL: <A HREF="http://www.dtek.chalmers.se/groups/dvd/">http://www.dtek.chalmers.se/groups/dvd/</A>
 Source: <A HREF="http://www.dtek.chalmers.se/groups/dvd/dist/xvattr-%{version">http://www.dtek.chalmers.se/groups/dvd/dist/xvattr-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: XFree86-devel, gtk+-devel
 
+BuildRequires: gtk+-devel
+%{!?_without_modxorg:BuildRequires: libX11-devel}
+%{?_without_modxorg:BuildRequires: XFree86-devel}
+
 %description
 This program is used for getting and setting Xv attributes such as
 XV_BRIGHTNESS, XV_CONTRAST, XV_SATURATION, XV_HUE, XV_COLORKEY, ...


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004061.html">[svn] r5262 - in trunk/rpms: klavaro krename pbzip2 radlib	white_dune
</A></li>
	<LI>Next message: <A HREF="004063.html">[svn] r5264 - in trunk/rpms: bbkeys biew cabletv gtkglext hackedbox	libXvMCW libvisual-gforce libvisual-plugins lincity openrm	paintlib peeper perl-SDL pike pointless spit thunderbird	tightvnc torcs tpb tvtime vncselector white_dune windowmaker	x2 xautolock xdesktopwaves xephem xfrisk xkobo xlockmore xrestop
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4062">[ date ]</a>
              <a href="thread.html#4062">[ thread ]</a>
              <a href="subject.html#4062">[ subject ]</a>
              <a href="author.html#4062">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
