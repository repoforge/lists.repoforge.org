<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r5258 - in trunk/rpms: . dvd95 gqview k3b-extras lxdvdrip
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5258%20-%20in%20trunk/rpms%3A%20.%20dvd95%20gqview%20k3b-extras%20lxdvdrip&In-Reply-To=%3C20070331234843.6C634944B48%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="004058.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r5258 - in trunk/rpms: . dvd95 gqview k3b-extras lxdvdrip</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5258%20-%20in%20trunk/rpms%3A%20.%20dvd95%20gqview%20k3b-extras%20lxdvdrip&In-Reply-To=%3C20070331234843.6C634944B48%40pooch.vmhosting.org%3E"
       TITLE="[svn] r5258 - in trunk/rpms: . dvd95 gqview k3b-extras lxdvdrip">packagers at lists.rpmforge.net
       </A><BR>
    <I>Sun Apr  1 01:48:43 CEST 2007</I>
    <P><UL>
        
        <LI>Next message: <A HREF="004058.html">[svn] r5259 - trunk/rpms/tagtool
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4057">[ date ]</a>
              <a href="thread.html#4057">[ thread ]</a>
              <a href="subject.html#4057">[ subject ]</a>
              <a href="author.html#4057">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2007-04-01 01:48:41 +0200 (Sun, 01 Apr 2007)
New Revision: 5258

Added:
   trunk/rpms/gqview/
   trunk/rpms/gqview/gqview-1.4.4-mimetype.patch
   trunk/rpms/gqview/gqview-1.4.5.spec
   trunk/rpms/gqview/gqview-2.0.0-editors.patch
   trunk/rpms/gqview/gqview.spec
   trunk/rpms/k3b-extras/k3b-extras-0.11.spec
   trunk/rpms/k3b-extras/k3b-extras.spec
Removed:
   trunk/rpms/k3b-extras/k3b-extras-nonfree.spec
   trunk/rpms/k3b-extras/k3b-mp3-0.11.spec
Modified:
   trunk/rpms/dvd95/dvd95.spec
   trunk/rpms/lxdvdrip/lxdvdrip.spec
Log:
Updates

Modified: trunk/rpms/dvd95/dvd95.spec
===================================================================
--- trunk/rpms/dvd95/dvd95.spec	2007-03-30 16:51:11 UTC (rev 5257)
+++ trunk/rpms/dvd95/dvd95.spec	2007-03-31 23:48:41 UTC (rev 5258)
@@ -16,9 +16,9 @@
 BuildRequires: libdvdread-devel, gtk2-devel &gt;= 2.6
 
 %description
-DVD95 is an gnome application to convert DVD9 to DVD5 (4,7Gigas).
+DVD95 is a GNOME application to convert DVD9 (8.5G) to DVD5 (4.7G).
 
-It need no additional packages, an onboard version of vamps and dvdauthor
+It needs no additional packages, an onboard version of vamps and dvdauthor
 is used, to be as fast as possible. Interface is pretty simple yo use.
 Shrinking factor may be computed for best results, or an adaptive
 compression ratio method may be used.
@@ -27,8 +27,8 @@
 with xine, vlc, or mplayer or burned using third party software (k3b).
 
 DVD95 support two copy modes :
- - Menus less, one video title set, multiple audios and subtitles.
- - With menus, one video title set, multiple audios and subtitles.
+ - Without menus, one video title set, multiple audio and subtitles.
+ - With menus, one video title set, multiple audio and subtitles.
 
 %prep
 %setup
@@ -49,8 +49,8 @@
 %defattr(-, root, root, 0755)
 %doc AUTHORS ChangeLog COPYING NEWS README TODO
 %{_bindir}/dvd95
+%{_datadir}/applications/dvd95.desktop
 %{_datadir}/pixmaps/dvd95/
-%{_datadir}/applications/dvd95.desktop
 
 %changelog
 * Fri Mar 30 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.2p0-1

Added: trunk/rpms/gqview/gqview-1.4.4-mimetype.patch
===================================================================
--- trunk/rpms/gqview/gqview-1.4.4-mimetype.patch	                        (rev 0)
+++ trunk/rpms/gqview/gqview-1.4.4-mimetype.patch	2007-03-31 23:48:41 UTC (rev 5258)
@@ -0,0 +1,11 @@
+diff -Nur gqview-1.4.4-orig/gqview.desktop gqview-1.4.4/gqview.desktop
+--- gqview-1.4.4-orig/gqview.desktop	2004-03-01 21:45:33.000000000 +0100
++++ gqview-1.4.4/gqview.desktop	2004-09-25 14:29:06.380678632 +0200
+@@ -10,6 +10,7 @@
+ Exec=gqview
+ Icon=gqview.png
+ Type=Application
++MimeType=image/jpeg;image/gif;image/png;image/x-png;image/xpm;image/bmp;image/x-bmp;image/tiff;image/x-ico;image/x-pcx;image/x-tga;image/vnd.wap.wbmp;image/x-portable-anymap;image/x-portable-bitmap;image/x-portable-graymap;image/x-portable-pixmap;image/x-xbitmap;image/x-xpixmap;image/vnd.wap.wbmp;
+ Terminal=false
+ StartupNotify=false
+ StartupWMClass=gqview

Added: trunk/rpms/gqview/gqview-1.4.5.spec
===================================================================
--- trunk/rpms/gqview/gqview-1.4.5.spec	                        (rev 0)
+++ trunk/rpms/gqview/gqview-1.4.5.spec	2007-03-31 23:48:41 UTC (rev 5258)
@@ -0,0 +1,71 @@
+# $Id$
+# Authority: dag
+
+%define desktop_vendor rpmforge
+
+Summary: Image browser and viewer
+Name: gqview
+Version: 1.4.5
+Release: 1
+License: GPL
+Group: Applications/File
+URL: <A HREF="http://gqview.sourceforge.net/">http://gqview.sourceforge.net/</A>
+
+Source: <A HREF="http://dl.sf.net/sourceforge/gqview/gqview-%{version">http://dl.sf.net/sourceforge/gqview/gqview-%{version</A>}.tar.gz
+Patch1: gqview-1.4.4-mimetype.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: gettext, gtk2-devel &gt;= 2.2, libpng-devel
+Requires: desktop-file-utils
+
+%description
+GQview is an image viewer for browsing through graphics files. GQview
+features include single click file viewing, support for external
+editors, previewing images using thumbnails, and zoom.
+
+%prep
+%setup
+%patch1 -p1 -b .mimetype
+
+%{__perl} -pi.orig -e '
+		s|^#define\s+GQVIEW_HELPDIR.*$|#define GQVIEW_HELPDIR &quot;%{_docdir}/gqview-%{version}&quot;|;
+		s|^#define\s+GQVIEW_HTMLDIR.*$|#define GQVIEW_HTMLDIR &quot;%{_docdir}/gqview-%{version}/html&quot;|;
+	' configure
+	
+%{__perl} -pi.orig -e '
+		s|^Name=GQview$|Name=GQview Image Viewer|;
+		s|^Comment=Image Viewer$|Comment=View and organize images|;
+	' gqview.desktop
+
+%build
+%configure
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+%find_lang %{name}
+
+### Clean up buildroot
+%{__rm} -f %{buildroot}%{_datadir}/gqview/README
+
+%post
+update-desktop-database %{_datadir}/applications &amp;&gt; /dev/null || :
+
+%postun
+update-desktop-database %{_datadir}/applications &amp;&gt; /dev/null || :
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files -f %{name}.lang
+%defattr(-, root, root, 0755)
+%doc ChangeLog COPYING README TODO
+%doc %{_mandir}/man1/gqview.1*
+%{_bindir}/gqview
+%{_datadir}/applications/gqview.desktop
+%{_datadir}/pixmaps/gqview.png
+
+%changelog
+* Sun Apr 03 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.4.5-1
+- Initial package. (using DAR)


Property changes on: trunk/rpms/gqview/gqview-1.4.5.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Added: trunk/rpms/gqview/gqview-2.0.0-editors.patch
===================================================================
--- trunk/rpms/gqview/gqview-2.0.0-editors.patch	                        (rev 0)
+++ trunk/rpms/gqview/gqview-2.0.0-editors.patch	2007-03-31 23:48:41 UTC (rev 5258)
@@ -0,0 +1,14 @@
+diff -Nur gqview-2.0.0-orig/src/editors.c gqview-2.0.0/src/editors.c
+--- gqview-2.0.0-orig/src/editors.c	2004-12-14 16:48:05.000000000 +0100
++++ gqview-2.0.0/src/editors.c	2005-02-26 22:18:47.794673928 +0100
+@@ -48,8 +48,8 @@
+ 
+ static gchar *editor_slot_defaults[] = {
+ 	N_(&quot;The Gimp&quot;), &quot;gimp-remote -n %f&quot;,
+-	N_(&quot;XV&quot;), &quot;xv %f&quot;,
+-	N_(&quot;Xpaint&quot;), &quot;xpaint %f&quot;,
++	NULL, NULL,
++	NULL, NULL,
+ 	NULL, NULL,
+ 	NULL, NULL,
+ 	NULL, NULL,

Added: trunk/rpms/gqview/gqview.spec
===================================================================
--- trunk/rpms/gqview/gqview.spec	                        (rev 0)
+++ trunk/rpms/gqview/gqview.spec	2007-03-31 23:48:41 UTC (rev 5258)
@@ -0,0 +1,71 @@
+# $Id$
+# Authority: dag
+
+%define desktop_vendor rpmforge
+
+Summary: Image browser and viewer
+Name: gqview
+Version: 2.0.4
+Release: 1
+License: GPL
+Group: Applications/File
+URL: <A HREF="http://gqview.sourceforge.net/">http://gqview.sourceforge.net/</A>
+
+Source: <A HREF="http://dl.sf.net/sourceforge/gqview/gqview-%{version">http://dl.sf.net/sourceforge/gqview/gqview-%{version</A>}.tar.gz
+Patch1: gqview-2.0.0-editors.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: gettext, gtk2-devel &gt;= 2.4
+Requires: desktop-file-utils
+
+%description
+GQview is an image viewer for browsing through graphics files. GQview
+features include single click file viewing, support for external
+editors, previewing images using thumbnails, and zoom.
+
+%prep
+%setup
+%patch1 -p1 -b .editors
+
+%{__perl} -pi.orig -e '
+		s|^#define\s+GQVIEW_HELPDIR.*$|#define GQVIEW_HELPDIR &quot;%{_docdir}/gqview-%{version}&quot;|;
+		s|^#define\s+GQVIEW_HTMLDIR.*$|#define GQVIEW_HTMLDIR &quot;%{_docdir}/gqview-%{version}/html&quot;|;
+	' configure
+	
+%{__perl} -pi.orig -e '
+		s|^Name=GQview$|Name=GQview Image Viewer|;
+		s|^Comment=Image Viewer$|Comment=View and organize images|;
+	' gqview.desktop
+
+%build
+%configure
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+%find_lang %{name}
+
+### Clean up buildroot
+%{__mv} -vf %{buildroot}%{_docdir}/gqview-%{version}/ rpm-doc/
+
+%post
+update-desktop-database %{_datadir}/applications &amp;&gt; /dev/null || :
+
+%postun
+update-desktop-database %{_datadir}/applications &amp;&gt; /dev/null || :
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files -f %{name}.lang
+%defattr(-, root, root, 0755)
+%doc ChangeLog COPYING README TODO rpm-doc/html/
+%doc %{_mandir}/man1/gqview.1*
+%{_bindir}/gqview
+%{_datadir}/applications/gqview.desktop
+%{_datadir}/pixmaps/gqview.png
+
+%changelog
+* Sun Apr 03 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.0.4-1
+- Initial package. (using DAR)


Property changes on: trunk/rpms/gqview/gqview.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Copied: trunk/rpms/k3b-extras/k3b-extras-0.11.spec (from rev 5257, trunk/rpms/k3b-extras/k3b-mp3-0.11.spec)
===================================================================
--- trunk/rpms/k3b-extras/k3b-extras-0.11.spec	                        (rev 0)
+++ trunk/rpms/k3b-extras/k3b-extras-0.11.spec	2007-03-31 23:48:41 UTC (rev 5258)
@@ -0,0 +1,102 @@
+# $Id$
+# Authority: dag
+
+# ExclusiveDist: el4
+
+%{?dist: %{expand: %%define %dist 1}}
+
+%{!?dist:%define _with_modxorg 1}
+%{?fc7:  %define _with_modxorg 1}
+%{?el5:  %define _with_modxorg 1}
+%{?fc6:  %define _with_modxorg 1}
+%{?fc5:  %define _with_modxorg 1}
+
+%{?fc1:%define _without_kde32 1}
+%{?el3:%define _without_kde32 1}
+%{?rh9:%define _without_kde32 1}
+%{?rh7:%define _without_kde32 1}
+%{?el2:%define _without_kde32 1}
+
+%{!?k3b_version:%define k3b_version %(rpm -q k3b --qf '%{RPMTAG_VERSION}' | tail -1)}
+
+Summary: Additional codec plugins for the k3b CD/DVD burning application
+Name: k3b-extras
+Version: %{k3b_version}
+Release: 2
+License: GPL
+Group: Applications/Multimedia
+URL: <A HREF="http://www.k3b.org/">http://www.k3b.org/</A>
+
+Source: <A HREF="http://dl.sf.net/k3b/k3b-%{version">http://dl.sf.net/k3b/k3b-%{version</A>}.tar.bz2
+Patch0: k3b-0.11.23-statfs.patch
+Patch1: k3b-0.11.24-no-bad-gcc.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+ExcludeArch: s390 s390x
+BuildRequires: k3b
+# Some of these are only to make the configure script happy.
+BuildRequires: kdelibs-devel &gt;= 6:3.1, libart_lgpl-devel, arts-devel
+BuildRequires: zlib-devel, libpng-devel, libjpeg-devel, libmusicbrainz-devel
+BuildRequires: gettext, taglib-devel, libmad-devel, lame-devel, ffmpeg-devel
+BuildRequires: libmpcdec-devel, libsndfile-devel
+%{!?_without_kde32:BuildRequires: libmng-devel fam-devel glib2-devel alsa-lib-devel esound-devel}
+%{?_with_modxorg:BuildRequires: libX11-devel}
+%{!?_with_modxorg:BuildRequires: XFree86-devel}
+
+Requires: k3b = %{k3b_version}
+
+Obsoletes: k3b-mp3 &lt;= %{version}-%{release}
+Provides: k3b-mp3 = %{version}-%{release}
+Obsoletes: k3b-extras-nonfree &lt;= %{version}-%{release}
+Provides: k3b-extras-nonfree = %{version}-%{release}
+
+%description
+Additional decoder/encoder plugins for k3b, a feature-rich and easy to
+handle CD/DVD burning application.
+
+%prep
+%setup -n k3b-%{k3b_version}
+%patch0 -p1 -b .statfs
+#patch1 -p1 -b .no-bad-gcc
+
+%build
+source /etc/profile.d/qt.sh
+%configure \
+	--disable-rpath \
+	--without-flac \
+	--without-oggvorbis \
+	--with-external-libsamplerate=&quot;no&quot; \
+	--with-k3bsetup=&quot;no&quot; \
+	--with-musepack \
+	--with-qt-libraries=&quot;$QTDIR/lib&quot; \
+	--with-sndfile
+
+%{__ln_s} -f %{_libdir}/libk3bdevice.la src/device/libk3bdevice.la
+%{__ln_s} -f %{_libdir}/libk3bcore.la src/core/libk3bcore.la
+%{__ln_s} -f %{_libdir}/libk3bplugin.la src/plugin/libk3bplugin.la
+
+%{__make} -C src/audiodecoding/mp3 %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} -C src/audiodecoding/mp3 install DESTDIR=&quot;%{buildroot}&quot;
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%dir %{_libdir}/kde3/
+%{_libdir}/kde3/libk3bmaddecoder.*
+%dir %{_datadir}/apps/
+%dir %{_datadir}/apps/k3b/
+%dir %{_datadir}/apps/k3b/plugins/
+%{_datadir}/apps/k3b/plugins/k3bmaddecoder.plugin
+
+%changelog
+* Fri Mar 30 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - %{version}-2
+- Renamed k3b-mp3 to k3b-extras.
+
+* Sun Mar 05 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - %{version}-1
+- Imported based on Livna SPEC file.
+- Initial package. (using DAR)

Deleted: trunk/rpms/k3b-extras/k3b-extras-nonfree.spec
===================================================================
--- trunk/rpms/k3b-extras/k3b-extras-nonfree.spec	2007-03-30 16:51:11 UTC (rev 5257)
+++ trunk/rpms/k3b-extras/k3b-extras-nonfree.spec	2007-03-31 23:48:41 UTC (rev 5258)
@@ -1,96 +0,0 @@
-# $Id$
-# Authority: dag
-
-%{?dist: %{expand: %%define %dist 1}}
-
-%{!?dist:%define _with_modxorg 1}
-%{?fc7:  %define _with_modxorg 1}
-%{?el5:  %define _with_modxorg 1}
-%{?fc6:  %define _with_modxorg 1}
-%{?fc5:  %define _with_modxorg 1}
-
-%{?fc1:%define _without_kde32 1}
-%{?el3:%define _without_kde32 1}
-%{?rh9:%define _without_kde32 1}
-%{?rh7:%define _without_kde32 1}
-%{?el2:%define _without_kde32 1}
-
-%{!?k3b_version:%define k3b_version %(rpm -q k3b --qf '%{RPMTAG_VERSION}' | tail -1)}
-
-Summary: Additional codec plugins for the k3b CD/DVD burning application
-Name: k3b-extras
-Version: %{k3b_version}
-Release: 1
-License: GPL
-Group: Applications/Multimedia
-URL: <A HREF="http://www.k3b.org/">http://www.k3b.org/</A>
-
-Source: <A HREF="http://dl.sf.net/k3b/k3b-%{version">http://dl.sf.net/k3b/k3b-%{version</A>}.tar.bz2
-# Patch touches globals, better include this.
-Patch0: k3b-0.12.2-statfs.patch
-Patch1: k3b-0.11.24-no-bad-gcc.patch
-BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-
-ExcludeArch: s390 s390x
-BuildRequires: k3b
-# Some of these are only to make the configure script happy.
-BuildRequires: kdelibs-devel &gt;= 6:3.1, libart_lgpl-devel, arts-devel
-BuildRequires: zlib-devel, libpng-devel, libjpeg-devel, libmusicbrainz-devel
-BuildRequires: gettext, taglib-devel, libmad-devel, lame-devel, ffmpeg-devel
-BuildRequires: libmng-devel, fam-devel, glib2-devel, alsa-lib-devel, esound-devel
-%{!?_without_kde32:BuildRequires: libmng-devel fam-devel glib2-devel alsa-lib-devel esound-devel}
-%{?_with_modxorg:BuildRequires: libX11-devel}
-%{!?_with_modxorg:BuildRequires: XFree86-devel}
-
-Requires: k3b = %{k3b_version}
-
-Obsoletes: k3b-mp3 &lt;= %{version}-%{release}
-Provides: k3b-mp3 = %{version}-%{release}
-
-%description
-Additional decoder/encoder plugins for k3b, a feature-rich and easy to
-handle CD/DVD burning application.
-
-%prep
-%setup -n k3b-%{version}
-#patch0 -p1 -b .statfs
-#patch1 -p1 -b .no-bad-gcc
-
-%build
-source /etc/profile.d/qt.sh
-%configure \
-	--disable-rpath \
-	--with-external-libsamplerate=&quot;no&quot; \
-	--without-oggvorbis \
-	--without-flac \
-	--with-qt-libraries=&quot;$QTDIR/lib&quot;
-
-%{__ln_s} -f %{_libdir}/libk3bcore.la libk3b/libk3b.la
-#%{__cp} -av %{_libdir}/libk3bcore.la libk3b/libk3b.la
-
-%{__make} -C plugins/decoder/mp3 %{?_smp_mflags}
-%{__make} -C plugins/encoder/lame %{?_smp_mflags}
-
-%install
-%{__rm} -rf %{buildroot}
-%{__make} -C plugins/decoder/mp3 install DESTDIR=&quot;%{buildroot}&quot;
-%{__make} -C plugins/encoder/lame install DESTDIR=&quot;%{buildroot}&quot;
-
-%clean
-%{__rm} -rf %{buildroot}
-
-%files
-%defattr(-, root, root, 0755)
-%dir %{_libdir}/kde3/
-%{_libdir}/kde3/libk3bmaddecoder.*
-%{_libdir}/kde3/libk3blameencoder.*
-%dir %{_datadir}/apps/
-%dir %{_datadir}/apps/k3b/
-%dir %{_datadir}/apps/k3b/plugins/
-%{_datadir}/apps/k3b/plugins/k3bmaddecoder.plugin
-%{_datadir}/apps/k3b/plugins/k3blameencoder.plugin
-
-%changelog
-* Sun Mar 05 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.12.10-1
-- Imported based on Livna SPEC file.
-- Initial package. (using DAR)

Copied: trunk/rpms/k3b-extras/k3b-extras.spec (from rev 5257, trunk/rpms/k3b-extras/k3b-extras-nonfree.spec)
===================================================================
--- trunk/rpms/k3b-extras/k3b-extras.spec	                        (rev 0)
+++ trunk/rpms/k3b-extras/k3b-extras.spec	2007-03-31 23:48:41 UTC (rev 5258)
@@ -0,0 +1,116 @@
+# $Id$
+# Authority: dag
+
+# ExclusiveDist: el5
+
+%{?dist: %{expand: %%define %dist 1}}
+
+%{!?dist:%define _with_modxorg 1}
+%{?fc7:  %define _with_modxorg 1}
+%{?el5:  %define _with_modxorg 1}
+%{?fc6:  %define _with_modxorg 1}
+%{?fc5:  %define _with_modxorg 1}
+
+%{?fc1:%define _without_kde32 1}
+%{?el3:%define _without_kde32 1}
+%{?rh9:%define _without_kde32 1}
+%{?rh7:%define _without_kde32 1}
+%{?el2:%define _without_kde32 1}
+
+%{!?k3b_version:%define k3b_version %(rpm -q k3b --qf '%{RPMTAG_VERSION}' | tail -1)}
+
+Summary: Additional codec plugins for the k3b CD/DVD burning application
+Name: k3b-extras
+Version: %{k3b_version}
+Release: 2
+License: GPL
+Group: Applications/Multimedia
+URL: <A HREF="http://www.k3b.org/">http://www.k3b.org/</A>
+
+Source: <A HREF="http://dl.sf.net/k3b/k3b-%{version">http://dl.sf.net/k3b/k3b-%{version</A>}.tar.bz2
+# Patch touches globals, better include this.
+Patch0: k3b-0.12.2-statfs.patch
+Patch1: k3b-0.11.24-no-bad-gcc.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+ExcludeArch: s390 s390x
+BuildRequires: k3b
+# Some of these are only to make the configure script happy.
+BuildRequires: kdelibs-devel &gt;= 6:3.1, libart_lgpl-devel, arts-devel
+BuildRequires: zlib-devel, libpng-devel, libjpeg-devel, libmusicbrainz-devel
+BuildRequires: gettext, taglib-devel, libmad-devel, lame-devel, ffmpeg-devel
+BuildRequires: libmpcdec-devel, libsndfile-devel
+%{!?_without_kde32:BuildRequires: libmng-devel fam-devel glib2-devel alsa-lib-devel esound-devel}
+%{?_with_modxorg:BuildRequires: libX11-devel}
+%{!?_with_modxorg:BuildRequires: XFree86-devel}
+
+Requires: k3b = %{k3b_version}
+
+Obsoletes: k3b-mp3 &lt;= %{version}-%{release}
+Provides: k3b-mp3 = %{version}-%{release}
+Obsoletes: k3b-extras-nonfree &lt;= %{version}-%{release}
+Provides: k3b-extras-nonfree = %{version}-%{release}
+
+%description
+Additional decoder/encoder plugins for k3b, a feature-rich and easy to
+handle CD/DVD burning application.
+
+%prep
+%setup -n k3b-%{version}
+
+%build
+source /etc/profile.d/qt.sh
+%configure \
+	--disable-rpath \
+	--without-flac \
+	--without-oggvorbis \
+	--with-external-libsamplerate=&quot;no&quot; \
+	--with-k3bsetup=&quot;no&quot; \
+	--with-musepack \
+	--with-qt-libraries=&quot;$QTDIR/lib&quot; \
+	--with-sndfile
+
+%{__make} -C libk3bdevice %{?_smp_mflags}
+%{__make} -C libk3b %{?_smp_mflags}
+
+%{__make} -C plugins/decoder/ffmpeg %{?_smp_mflags}
+%{__make} -C plugins/decoder/libsndfile %{?_smp_mflags}
+%{__make} -C plugins/decoder/mp3 %{?_smp_mflags}
+%{__make} -C plugins/decoder/musepack %{?_smp_mflags}
+%{__make} -C plugins/encoder/lame %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} -C plugins/decoder/ffmpeg install DESTDIR=&quot;%{buildroot}&quot;
+%{__make} -C plugins/decoder/libsndfile install DESTDIR=&quot;%{buildroot}&quot;
+%{__make} -C plugins/decoder/mp3 install DESTDIR=&quot;%{buildroot}&quot;
+%{__make} -C plugins/decoder/musepack install DESTDIR=&quot;%{buildroot}&quot;
+%{__make} -C plugins/encoder/lame install DESTDIR=&quot;%{buildroot}&quot;
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%dir %{_libdir}/kde3/
+%{_libdir}/kde3/libk3bffmpegdecoder.*
+%{_libdir}/kde3/libk3blameencoder.*
+%{_libdir}/kde3/libk3blibsndfiledecoder.*
+%{_libdir}/kde3/libk3bmaddecoder.*
+%{_libdir}/kde3/libk3bmpcdecoder.*
+%dir %{_datadir}/apps/
+%dir %{_datadir}/apps/k3b/
+%dir %{_datadir}/apps/k3b/plugins/
+%{_datadir}/apps/k3b/plugins/k3bffmpegdecoder.plugin
+%{_datadir}/apps/k3b/plugins/k3blameencoder.plugin
+%{_datadir}/apps/k3b/plugins/k3blibsndfiledecoder.plugin
+%{_datadir}/apps/k3b/plugins/k3bmaddecoder.plugin
+%{_datadir}/apps/k3b/plugins/k3bmpcdecoder.plugin
+
+%changelog
+* Fri Mar 30 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - %{version}-2
+- Added ffmpeg, libsndfile and mpcdec codecs.
+
+* Sun Mar 05 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - %{version}-1
+- Imported based on Livna SPEC file.
+- Initial package. (using DAR)

Deleted: trunk/rpms/k3b-extras/k3b-mp3-0.11.spec
===================================================================
--- trunk/rpms/k3b-extras/k3b-mp3-0.11.spec	2007-03-30 16:51:11 UTC (rev 5257)
+++ trunk/rpms/k3b-extras/k3b-mp3-0.11.spec	2007-03-31 23:48:41 UTC (rev 5258)
@@ -1,77 +0,0 @@
-# $Id$
-# Authority: dag
-
-%{?fc1:%define _without_kde32 1}
-%{?el3:%define _without_kde32 1}
-%{?rh9:%define _without_kde32 1}
-%{?rh7:%define _without_kde32 1}
-%{?el2:%define _without_kde32 1}
-
-%{!?k3b_version:%define k3b_version %(rpm -q k3b --qf '%{RPMTAG_VERSION}' | tail -1)}
-
-Summary: MP3 decoder plugin for k3b CD/DVD burner
-Name: k3b-mp3
-Version: %{k3b_version}
-Release: 1
-License: GPL
-Group: Applications/Multimedia
-URL: <A HREF="http://www.k3b.org/">http://www.k3b.org/</A>
-
-Source: <A HREF="http://dl.sf.net/k3b/k3b-%{version">http://dl.sf.net/k3b/k3b-%{version</A>}.tar.bz2
-Patch0: k3b-0.11.23-statfs.patch
-Patch1: k3b-0.11.24-no-bad-gcc.patch
-BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-
-BuildRequires: k3b
-# Some of these are only to make the configure script happy.
-BuildRequires: XFree86-devel, kdelibs-devel &gt;= 6:3.1, libart_lgpl-devel, arts-devel
-BuildRequires: zlib-devel, libpng-devel, libjpeg-devel
-BuildRequires: gettext, taglib-devel libmad-devel lame-devel
-%{!?_without_kd32:BuildRequires: libmng-devel fam-devel glib2-devel alsa-lib-devel esound-devel}
-
-Requires: k3b = %{k3b_version}
-
-%description
-MP3 decoder plugin for k3b, a feature-rich and easy to handle CD/DVD
-burning application.
-
-%prep
-%setup -n k3b-%{k3b_version}
-%patch0 -p1 -b .statfs
-#patch1 -p1 -b .no-bad-gcc
-
-%build
-source /etc/profile.d/qt.sh
-%configure \
-	--disable-rpath \
-	--with-external-libsamplerate=&quot;no&quot; \
-	--without-oggvorbis \
-	--without-flac \
-	--with-qt-libraries=&quot;$QTDIR/lib&quot;
-
-%{__ln_s} -f %{_libdir}/libk3bdevice.la src/device/libk3bdevice.la
-%{__ln_s} -f %{_libdir}/libk3bcore.la src/core/libk3bcore.la
-%{__ln_s} -f %{_libdir}/libk3bplugin.la src/plugin/libk3bplugin.la
-
-%{__make} -C src/audiodecoding/mp3 %{?_smp_mflags}
-
-%install
-%{__rm} -rf %{buildroot}
-%{__make} -C src/audiodecoding/mp3 install DESTDIR=&quot;%{buildroot}&quot;
-
-%clean
-%{__rm} -rf %{buildroot}
-
-%files
-%defattr(-, root, root, 0755)
-%dir %{_libdir}/kde3/
-%{_libdir}/kde3/libk3bmaddecoder.*
-%dir %{_datadir}/apps/
-%dir %{_datadir}/apps/k3b/
-%dir %{_datadir}/apps/k3b/plugins/
-%{_datadir}/apps/k3b/plugins/k3bmaddecoder.plugin
-
-%changelog
-* Sun Mar 05 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - %{k3b_version}-1
-- Imported based on Livna SPEC file.
-- Initial package. (using DAR)

Modified: trunk/rpms/lxdvdrip/lxdvdrip.spec
===================================================================
--- trunk/rpms/lxdvdrip/lxdvdrip.spec	2007-03-30 16:51:11 UTC (rev 5257)
+++ trunk/rpms/lxdvdrip/lxdvdrip.spec	2007-03-31 23:48:41 UTC (rev 5258)
@@ -3,8 +3,8 @@
 
 Summary: DVD backup tool
 Name: lxdvdrip
-Version: 1.40
-Release: 1.2
+Version: 1.70
+Release: 1
 License: GPL
 Group: Applications/Multimedia
 URL: <A HREF="http://lxdvdrip.berlios.de/">http://lxdvdrip.berlios.de/</A>
@@ -21,19 +21,32 @@
 %prep
 %setup -n %{name}
 
-%{__perl} -pi.orig -e 's|(-ldvdread)|$1 -ldl|g' Makefile */Makefile
+### I never saw so many Makefiles being inconsistent in 1 project
+%{__perl} -pi.orig -e '
+		s|(-ldvdread)|$1 -ldl|g;
+		s|\$\(INSTALLDIR\)/bin|\$(DESTDIR)%{_bindir}|g;
+		s|\$\(INSTALLDIR\)/man/man1|\$(DESTDIR)%{_mandir}/man1|g;
+		s|\$\(INSTALLDIR\)/share|\$(DESTDIR)%{_datadir}/lxdvdrip|g;
+		s|/etc\b|\$(DESTDIR)%{_sysconfdir}|g;
+		s|\$\(PREFIX\)/bin|\$(DESTDIR)%{_bindir}|g;
+		s|\$\(INSTBIN\)|\$(DESTDIR)%{_bindir}|g;
+	' Makefile */Makefile
 
 %build
-%{__make} %{?_smp_mflags} \
-	CFLAGS=&quot;%{optflags}&quot;
-%{__make} %{?_smp_mflags} -C vamps \
-	CFLAGS=&quot;%{optflags}&quot;
+%{__make} %{?_smp_mflags} CFLAGS=&quot;%{optflags}&quot;
+#%{__make} %{?_smp_mflags} -C vamps \
+#	CFLAGS=&quot;%{optflags}&quot;
 
 %install
 %{__rm} -rf %{buildroot}
-%{__install} -Dp -m0755 lxdvdrip %{buildroot}%{_bindir}/lxdvdrip
-%{__install} -Dp -m0755 mpgtx/mpgtx %{buildroot}%{_bindir}/mpgtx
-%{__install} -Dp -m0755 vamps/vamps %{buildroot}%{_bindir}/vamps
+%{__install} -d -m0755 %{buildroot}%{_bindir}
+%{__install} -d -m0755 %{buildroot}%{_datadir}/lxdvdrip/
+%{__install} -d -m0755 %{buildroot}%{_mandir}/man1/
+%{__install} -d -m0755 %{buildroot}%{_sysconfdir}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+#%{__install} -Dp -m0755 lxdvdrip %{buildroot}%{_bindir}/lxdvdrip
+#%{__install} -Dp -m0755 mpgtx/mpgtx %{buildroot}%{_bindir}/mpgtx
+#%{__install} -Dp -m0755 vamps/vamps %{buildroot}%{_bindir}/vamps
 %{__install} -Dp -m0644 doc-pak/lxdvdrip.conf.EN %{buildroot}%{_sysconfdir}/lxdvdrip.conf
 
 %clean
@@ -42,14 +55,23 @@
 %files
 %defattr(-, root, root, 0755)
 %doc doc-pak/*
+%doc %{_mandir}/man1/lxdvdrip.1*
 %config(noreplace) %{_sysconfdir}/lxdvdrip.conf
 %{_bindir}/lxdvdrip
-%{_bindir}/mpgtx
-%{_bindir}/vamps
+%{_bindir}/lxac3scan
+%{_bindir}/buffer_lxdvdrip
+%{_bindir}/dvdbackup_lxdvdrip
+#%{_bindir}/mpgtx_lxdvdrip
+%{_bindir}/play_cell_lxdvdrip
+%{_bindir}/vamps_lxdvdrip
+%{_datadir}/lxdvdrip/lxdvdrip.wav
 
 %changelog
-* Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.40-1.2
-- Rebuild for Fedora Core 5.
+* Sat Mar 31 2007 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.70-1
+- Updated to release 1.70.
 
+* Tue Jan 03 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.51-1
+- Updated to release 1.51.
+
 * Fri Dec 03 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.40-1
 - Initial package. (using DAR)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="004058.html">[svn] r5259 - trunk/rpms/tagtool
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4057">[ date ]</a>
              <a href="thread.html#4057">[ thread ]</a>
              <a href="subject.html#4057">[ subject ]</a>
              <a href="author.html#4057">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
