<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r5837 - in trunk/rpms: cppunit libxml++ perl-Filesys-SmbClient
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5837%20-%20in%20trunk/rpms%3A%20cppunit%20libxml%2B%2B%20perl-Filesys-SmbClient&In-Reply-To=%3C20070912120910.BEF5F944AE1%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004635.html">
   <LINK REL="Next"  HREF="004637.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r5837 - in trunk/rpms: cppunit libxml++ perl-Filesys-SmbClient</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r5837%20-%20in%20trunk/rpms%3A%20cppunit%20libxml%2B%2B%20perl-Filesys-SmbClient&In-Reply-To=%3C20070912120910.BEF5F944AE1%40pooch.vmhosting.org%3E"
       TITLE="[svn] r5837 - in trunk/rpms: cppunit libxml++ perl-Filesys-SmbClient">packagers at lists.rpmforge.net
       </A><BR>
    <I>Wed Sep 12 14:09:10 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="004635.html">[svn] r5836 - in trunk/rpms: . cppunit
</A></li>
        <LI>Next message: <A HREF="004637.html">[svn] r5838 - trunk/rpms/ati-x11-drv
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4636">[ date ]</a>
              <a href="thread.html#4636">[ thread ]</a>
              <a href="subject.html#4636">[ subject ]</a>
              <a href="author.html#4636">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2007-09-12 14:09:07 +0200 (Wed, 12 Sep 2007)
New Revision: 5837

Modified:
   trunk/rpms/cppunit/cppunit.spec
   trunk/rpms/libxml++/libxml++.spec
   trunk/rpms/perl-Filesys-SmbClient/perl-Filesys-SmbClient.spec
Log:
Updates

Modified: trunk/rpms/cppunit/cppunit.spec
===================================================================
--- trunk/rpms/cppunit/cppunit.spec	2007-09-11 20:49:21 UTC (rev 5836)
+++ trunk/rpms/cppunit/cppunit.spec	2007-09-12 12:09:07 UTC (rev 5837)
@@ -1,17 +1,17 @@
 # $Id$
-# Authority:    hadams
+# Authority: hadams
 
+Summary: C++ unit testing framework
 Name: cppunit
 Version: 1.12.0
 Release: 3
-
-Summary: C++ unit testing framework
 License: LGPL
 Group: Development/Libraries
-Url: <A HREF="http://cppunit.sourceforge.net/">http://cppunit.sourceforge.net/</A>
-Source: <A HREF="http://download.sf.net/cppunit/cppunit-%{version">http://download.sf.net/cppunit/cppunit-%{version</A>}.tar.gz
+URL: <A HREF="http://cppunit.sourceforge.net/">http://cppunit.sourceforge.net/</A>
 
-BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root-%(%{__id_u} -n)
+Source: <A HREF="http://dl.sf.net/cppunit/cppunit-%{version">http://dl.sf.net/cppunit/cppunit-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
 BuildRequires: doxygen, graphviz
 
 %description
@@ -19,67 +19,58 @@
 Test output is in XML for automatic testing and GUI based for supervised tests.
 
 %package devel
-Summary: Libraries and headers for cppunit development
+Summary: Header files, libraries and development documentation for %{name}.
 Group: Development/Libraries
 Requires: %{name} = %{version}-%{release}
+Provides: cppunit-doc = %{version}-%{release}
+Obsoletes: cppunit-doc &lt;= %{version}-%{release}
 
 %description devel
-This package contains the libraries and headers necessary for developing
-programs that use cppunit.
+This package contains the header files, static libraries and development
+documentation for %{name}. If you like to develop programs using %{name},
+you will need to install %{name}-devel.
 
-%package doc
-Summary: HTML formatted API documention for cppunit
-Group: Documentation
-Requires: %{name} = %{version}-%{release}
-
-%description doc
-The cppunit-doc package contains HTML formatted API documention generated by
-the popular doxygen documentation generation tool.
-
 %prep
-%setup -q
+%setup
 
 %build
 %configure --enable-doxygen
-make %{?_smp_mflags}
+%{__make} %{?_smp_mflags}
 
 %install
-rm -rf $RPM_BUILD_ROOT
-make install DESTDIR=$RPM_BUILD_ROOT
-rm -f $RPM_BUILD_ROOT/%{_libdir}/*.la
-# remove double of doc
-rm -rf $RPM_BUILD_ROOT/%{_datadir}/cppunit
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{_datadir}/cppunit/
+
 %clean
-rm -rf $RPM_BUILD_ROOT
+%{__rm} -rf %{buildroot}
 
 %post -p /sbin/ldconfig
-
 %postun -p /sbin/ldconfig
 
 %files
-%defattr(-,root,root,-)
+%defattr(-, root, root, 0755)
+%doc AUTHORS BUGS ChangeLog COPYING NEWS README THANKS TODO doc/FAQ
+%doc %{_mandir}/man1/*.1*
 %{_bindir}/DllPlugInTester
-%{_mandir}/man1/*
-%{_datadir}/aclocal/*
+%{_datadir}/aclocal/cppunit.m4
 %{_libdir}/libcppunit*.so.*
-%doc AUTHORS COPYING NEWS README THANKS ChangeLog TODO BUGS doc/FAQ
 
 %files devel
-%defattr(-,root,root,-)
+%defattr(-, root, root, 0755)
+%doc doc/html/*
 %{_bindir}/cppunit-config
-%{_includedir}/cppunit
+%{_includedir}/cppunit/
 %{_libdir}/libcppunit.a
 %{_libdir}/libcppunit.so
 %{_libdir}/pkgconfig/cppunit.pc
+%exclude %{_libdir}/libcppunit.la
 
-%files doc
-%defattr(-,root,root,-)
-%doc doc/html/*
-
 %changelog
-* Thu Sep 11 2007 Heiko Adams &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">info at fedora-blog.de</A>&gt; 1.12.0-3
-- rebuild for rpmforge
+* Thu Sep 11 2007 Heiko Adams &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">info at fedora-blog.de</A>&gt; - 1.12.0-3
+- Rebuild for RPMforge.
 
 * Sun Sep 10 2006 Patrice Dumas &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">pertusus at free.fr</A>&gt; 1.12.0-2
 - rebuild for FC6

Modified: trunk/rpms/libxml++/libxml++.spec
===================================================================
--- trunk/rpms/libxml++/libxml++.spec	2007-09-11 20:49:21 UTC (rev 5836)
+++ trunk/rpms/libxml++/libxml++.spec	2007-09-12 12:09:07 UTC (rev 5837)
@@ -2,7 +2,7 @@
 # Authority: dag
 # Upstream: &lt;libxmlplusplus-general$lists,sf,net&gt;
 
-Summary: C++ interface for working with XML files
+Summary: C++ wrapper for working with XML files
 Name: libxml++
 Version: 2.19.1
 Release: 1

Modified: trunk/rpms/perl-Filesys-SmbClient/perl-Filesys-SmbClient.spec
===================================================================
--- trunk/rpms/perl-Filesys-SmbClient/perl-Filesys-SmbClient.spec	2007-09-11 20:49:21 UTC (rev 5836)
+++ trunk/rpms/perl-Filesys-SmbClient/perl-Filesys-SmbClient.spec	2007-09-12 12:09:07 UTC (rev 5837)
@@ -2,8 +2,8 @@
 # Authority: dries
 # Upstream: Alain Barbet &lt;alian$alianwebserver,com&gt;
 
-%define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
-%define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
+%define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
+%define perl_vendorarch %(eval &quot;`%{__perl} -V:installvendorarch`&quot;; echo $installvendorarch)
 
 %define real_name Filesys-SmbClient
 
@@ -15,7 +15,7 @@
 Group: Applications/CPAN
 URL: <A HREF="http://search.cpan.org/dist/Filesys-SmbClient/">http://search.cpan.org/dist/Filesys-SmbClient/</A>
 
-Source: <A HREF="http://search.cpan.org/CPAN/authors/id/A/AL/ALIAN/Filesys-SmbClient-%{version">http://search.cpan.org/CPAN/authors/id/A/AL/ALIAN/Filesys-SmbClient-%{version</A>}.tar.gz
+Source: <A HREF="http://www.cpan.org/modules/by-module/Filesys/Filesys-SmbClient-%{version">http://www.cpan.org/modules/by-module/Filesys/Filesys-SmbClient-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: perl, perl(ExtUtils::MakeMaker), samba-common
@@ -27,24 +27,25 @@
 %setup -n %{real_name}-%{version}
 
 %build
-echo | %{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
-%{__make} %{?_smp_mflags}
+echo | CFLAGS=&quot;%{optflags}&quot; %{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
+%{__make} %{?_smp_mflags} OPTIMIZE=&quot;%{optflags}&quot;
 
 %install
 %{__rm} -rf %{buildroot}
-%{__make} install
-%{__rm} -rf %{buildroot}%{perl_archlib}/perllocal.pod %{buildroot}%{perl_vendorarch}/auto/*/*/.packlist
+%{__make} pure_install
 
+### Clean up buildroot
+find %{buildroot} -name .packlist -exec %{__rm} {} \;
+
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
-%doc Changes README
-%doc %{_mandir}/man3/Filesys::SmbClient*
+%doc Changes COPYING MANIFEST META.yml README
+%doc %{_mandir}/man3/Filesys::SmbClient.3pm*
 %dir %{perl_vendorarch}/Filesys/
 %{perl_vendorarch}/Filesys/SmbClient.pm
-%dir %{perl_vendorarch}/auto/
 %dir %{perl_vendorarch}/auto/Filesys/
 %{perl_vendorarch}/auto/Filesys/SmbClient/
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004635.html">[svn] r5836 - in trunk/rpms: . cppunit
</A></li>
	<LI>Next message: <A HREF="004637.html">[svn] r5838 - trunk/rpms/ati-x11-drv
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4636">[ date ]</a>
              <a href="thread.html#4636">[ thread ]</a>
              <a href="subject.html#4636">[ subject ]</a>
              <a href="author.html#4636">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
