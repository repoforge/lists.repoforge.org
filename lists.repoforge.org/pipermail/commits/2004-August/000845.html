<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [SVN] r2039 - in trunk/rpms: . acroread bind bing e2fsprogs gcvs	gpm gringotts gspy logwatch most openssh perl-Date-Pcalc	perl-Email-Valid perl-XML-LibXML perl-XML-SAX plan qemu samba	spamassassin switcher unfs3 wireless-tools xmms-infopipe yam
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r2039%20-%20in%20trunk/rpms%3A%20.%20acroread%20bind%20bing%20e2fsprogs%20gcvs%0A%09gpm%20gringotts%20gspy%20logwatch%20most%20openssh%20perl-Date-Pcalc%0A%09perl-Email-Valid%20perl-XML-LibXML%20perl-XML-SAX%20plan%20qemu%20samba%0A%09spamassassin%20switcher%20unfs3%20wireless-tools%20xmms-infopipe%20yam&In-Reply-To=%3C20040818121219.DB43218E77%40web22.us.megagiga.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000844.html">
   <LINK REL="Next"  HREF="000846.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[SVN] r2039 - in trunk/rpms: . acroread bind bing e2fsprogs gcvs	gpm gringotts gspy logwatch most openssh perl-Date-Pcalc	perl-Email-Valid perl-XML-LibXML perl-XML-SAX plan qemu samba	spamassassin switcher unfs3 wireless-tools xmms-infopipe yam</H1>
    <B>svn-commits at rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r2039%20-%20in%20trunk/rpms%3A%20.%20acroread%20bind%20bing%20e2fsprogs%20gcvs%0A%09gpm%20gringotts%20gspy%20logwatch%20most%20openssh%20perl-Date-Pcalc%0A%09perl-Email-Valid%20perl-XML-LibXML%20perl-XML-SAX%20plan%20qemu%20samba%0A%09spamassassin%20switcher%20unfs3%20wireless-tools%20xmms-infopipe%20yam&In-Reply-To=%3C20040818121219.DB43218E77%40web22.us.megagiga.com%3E"
       TITLE="[SVN] r2039 - in trunk/rpms: . acroread bind bing e2fsprogs gcvs	gpm gringotts gspy logwatch most openssh perl-Date-Pcalc	perl-Email-Valid perl-XML-LibXML perl-XML-SAX plan qemu samba	spamassassin switcher unfs3 wireless-tools xmms-infopipe yam">svn-commits at rpmforge.net
       </A><BR>
    <I>Wed Aug 18 14:12:19 CEST 2004</I>
    <P><UL>
        <LI>Previous message: <A HREF="000844.html">[SVN] r2038 - trunk/tools/checkspec
</A></li>
        <LI>Next message: <A HREF="000846.html">[SVN] r2040 - in trunk/rpms: gnome-chess perl-Locale-gettext
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#845">[ date ]</a>
              <a href="thread.html#845">[ thread ]</a>
              <a href="subject.html#845">[ subject ]</a>
              <a href="author.html#845">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2004-08-18 14:12:16 +0200 (Wed, 18 Aug 2004)
New Revision: 2039

Added:
   trunk/rpms/acroread/acroread.png
   trunk/rpms/bind/bind-manpages.tar.bz2
   trunk/rpms/bing/bing-1.0.4.diff
   trunk/rpms/e2fsprogs/e2fsprogs-1.27-nostrip.patch
   trunk/rpms/e2fsprogs/e2fsprogs-1.32-mainframe.patch
   trunk/rpms/e2fsprogs/e2fsprogs-1.32-nosync.patch
   trunk/rpms/e2fsprogs/e2fsprogs-1.32-s390.patch
   trunk/rpms/gcvs/gcvs-1.0-fc2-fix.patch
   trunk/rpms/gpm/gpm.init
   trunk/rpms/gringotts/gringotts-1.2.8-gtk24.patch
   trunk/rpms/gspy/gspy-autogen.patch
   trunk/rpms/gspy/gspy-configure.patch
   trunk/rpms/logwatch/logwatch-5.2-RejectedAtt.patch
   trunk/rpms/most/
   trunk/rpms/most/most.spec
   trunk/rpms/openssh/openssh-2.9p1-groups.patch
   trunk/rpms/openssh/openssh-3.5p1-multilib-pam.patch
   trunk/rpms/openssh/openssh-3.5p1-pam-timing.patch
   trunk/rpms/openssh/openssh-3.5p1-skip-initial.patch
   trunk/rpms/openssh/openssh-3.6.1p2-owl-realloc.diff
   trunk/rpms/openssh/openssh-SNAP-20020220-redhat.patch
   trunk/rpms/openssh/openssh-buffer-size.patch
   trunk/rpms/perl-Date-Pcalc/
   trunk/rpms/perl-Date-Pcalc/perl-Date-Pcalc.spec
   trunk/rpms/perl-Email-Valid/
   trunk/rpms/perl-Email-Valid/perl-Email-Valid.spec
   trunk/rpms/perl-XML-LibXML/perl-XML-LibXML-parsers.patch
   trunk/rpms/perl-XML-SAX/ParserDetails.ini
   trunk/rpms/perl-XML-SAX/perl-XML-SAX-parsers.patch
   trunk/rpms/plan/plan.wmconfig
   trunk/rpms/qemu/qemu-0.6.0-glibc-private.patch
   trunk/rpms/samba/swat.desktop
   trunk/rpms/spamassassin/spamassassin-2.63-init.patch
   trunk/rpms/spamassassin/spamassassin-2.63-krb5-backcompat.patch
   trunk/rpms/switcher/egg-sharp.dll
   trunk/rpms/unfs3/
   trunk/rpms/unfs3/unfs3.spec
   trunk/rpms/wireless-tools/wireless-tools-26-makefile.patch
   trunk/rpms/xmms-infopipe/
   trunk/rpms/xmms-infopipe/xmms-infopipe.spec
Modified:
   trunk/rpms/yam/yam.spec
Log:
Missing patches.
Initial import.


Added: trunk/rpms/acroread/acroread.png
===================================================================
(Binary files differ)


Property changes on: trunk/rpms/acroread/acroread.png
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/rpms/bind/bind-manpages.tar.bz2
===================================================================
(Binary files differ)


Property changes on: trunk/rpms/bind/bind-manpages.tar.bz2
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: trunk/rpms/bing/bing-1.0.4.diff
===================================================================
--- trunk/rpms/bing/bing-1.0.4.diff	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/bing/bing-1.0.4.diff	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,101 @@
+--- bing.c
++++ bing.c	2000/02/02 16:03:23
+@@ -171,6 +171,8 @@
+ #include &lt;errno.h&gt;
+ #include &lt;string.h&gt;
+ #include &lt;limits.h&gt;
++#include &lt;pwd.h&gt;
++#include &lt;grp.h&gt;
+ 
+ #include &quot;sysdep.h&quot;
+ 
+@@ -527,7 +529,7 @@
+ 	(void)printf(&quot;   %1x %04x&quot;, ((ip-&gt;ip_off) &amp; 0xe000) &gt;&gt; 13,
+ 	    (ip-&gt;ip_off) &amp; 0x1fff);
+ 	(void)printf(&quot;  %02x  %02x %04x&quot;, ip-&gt;ip_ttl, ip-&gt;ip_p, ip-&gt;ip_sum);
+-#ifdef linux
++#if defined linux &amp;&amp; !defined __NETINET_IP_ICMP_H
+ 	(void)printf(&quot; %s &quot;, inet_ntoa(ip-&gt;ip_src));
+ 	(void)printf(&quot; %s &quot;, inet_ntoa(ip-&gt;ip_dst));
+ #else
+@@ -641,7 +643,7 @@
+ 			(void)printf(&quot;Redirect, Bad Code: %d&quot;, icp-&gt;icmp_code);
+ 			break;
+ 		}
+-#ifdef linux
++#if defined linux &amp;&amp; !defined __NETINET_IP_ICMP_H
+ 		(void)printf(&quot;(New addr: 0x%08lx)\n&quot;, icp-&gt;icmp_gwaddr);
+ #else
+ 		(void)printf(&quot;(New addr: 0x%08lx)\n&quot;, icp-&gt;icmp_gwaddr.s_addr);
+@@ -668,7 +670,7 @@
+ 		pr_retip((struct ip *)ICMP_TO_DATA(icp));
+ 		break;
+ 	case ICMP_PARAMPROB:
+-#ifdef linux
++#if defined linux &amp;&amp; !defined __NETINET_IP_ICMP_H
+ 		(void)printf(&quot;Parameter problem: pointer = 0x%02x\n&quot;,
+ 		    icp-&gt;un.gateway);
+ #else
+@@ -722,9 +724,9 @@
+ 
+ 	if ((options &amp; F_NUMERIC) ||
+ 	    !(hp = gethostbyaddr((char *)&amp;l, 4, AF_INET)))
+-		(void)sprintf(buf, &quot;%s&quot;, inet_ntoa(*(struct in_addr *)&amp;l));
++		(void)snprintf(buf, sizeof(buf), &quot;%s&quot;, inet_ntoa(*(struct in_addr *)&amp;l));
+ 	else
+-		(void)sprintf(buf, &quot;%s (%s)&quot;, hp-&gt;h_name,
++		(void)snprintf(buf, sizeof(buf), &quot;%s (%s)&quot;, hp-&gt;h_name,
+ 		    inet_ntoa(*(struct in_addr *)&amp;l));
+ 	return(buf);
+ }
+@@ -1226,6 +1228,7 @@
+ 	struct protoent *proto;
+ 	struct in_addr ifaddr;
+ 	struct hoststats *hs1, *hs2;
++  struct passwd *pwd;
+ 	int ntrans, nloops, bits;
+ 	int i;
+ 	int ch, hold, recv_packlen, preload;
+@@ -1403,6 +1406,21 @@
+ 		perror(&quot;bing: socket&quot;);
+ 		exit(1);
+ 	}
++
++  // drop root privs
++  if((pwd = getpwuid(getuid())) == NULL)
++  {
++    perror(&quot;bing: getpwuid()&quot;);
++    exit(1);
++  }
++  if(initgroups(pwd-&gt;pw_name, pwd-&gt;pw_gid) &lt; 0)
++  {
++    perror(&quot;bing: initgroups()&quot;);
++    exit(1);
++  }
++  setgid(getgid());
++  setuid(getuid());
++
+ 	hold = 1;
+ 	if (options &amp; F_SO_DEBUG)
+ 		(void)setsockopt(s, SOL_SOCKET, SO_DEBUG, (char *)&amp;hold,
+--- sysdep.h
++++ sysdep.h	2000/02/02 16:03:05
+@@ -46,7 +46,7 @@
+ #ifndef _SYSDEP_H_
+ #define _SYSDEP_H_
+ 
+-#ifdef linux
++#if defined linux &amp;&amp; !defined __NETINET_IP_ICMP_H
+ #define icmp		icmphdr
+ #define ip		iphdr
+ #define icmp_type	type
+@@ -66,7 +66,9 @@
+ #define ip_sum		check
+ #define ip_src		saddr
+ #define ip_dst		daddr
++#ifndef MAX_IPOPTLEN
+ #define MAX_IPOPTLEN	4096
++#endif
+ #define ICMP_MINLEN	16
+ 
+ #define IPOPT_MINOFF	4

Added: trunk/rpms/e2fsprogs/e2fsprogs-1.27-nostrip.patch
===================================================================

Added: trunk/rpms/e2fsprogs/e2fsprogs-1.32-mainframe.patch
===================================================================

Added: trunk/rpms/e2fsprogs/e2fsprogs-1.32-nosync.patch
===================================================================

Added: trunk/rpms/e2fsprogs/e2fsprogs-1.32-s390.patch
===================================================================

Added: trunk/rpms/gcvs/gcvs-1.0-fc2-fix.patch
===================================================================
--- trunk/rpms/gcvs/gcvs-1.0-fc2-fix.patch	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/gcvs/gcvs-1.0-fc2-fix.patch	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,31 @@
+--- ./common/UCvsFolders.cpp.fc2-fix	2004-05-27 14:12:26.000000000 -0600
++++ ./common/UCvsFolders.cpp	2004-05-27 14:23:51.000000000 -0600
+@@ -828,7 +828,7 @@
+ 		if(fileView != 0L)
+ 		{
+ 			ASSERT(fileView-&gt;IsKindOf(URUNTIME_CLASS(UCvsFiles)));
+-			fileView-&gt;ResetView(path);
++			fileView-&gt;ResetView(path.c_str(), true);
+ 		}
+ 	}
+ 
+--- ./common/UCvsFiles.cpp.fc2-fix	2004-05-27 14:35:53.000000000 -0600
++++ ./common/UCvsFiles.cpp	2004-05-27 14:34:31.000000000 -0600
+@@ -1214,7 +1214,7 @@
+ {
+ 	UStr uppath, filename;
+ 	SplitPath(m_path, uppath, filename);
+-	ResetView(uppath, true);
++	ResetView(uppath.c_str(), true);
+ 	return 0;
+ }
+ 
+@@ -1895,7 +1895,7 @@
+ 	fullpath &lt;&lt; (*data)[EntnodeData::kName];
+ 	if(data-&gt;GetType() == ENT_SUBDIR)
+ 	{
+-		ResetView(fullpath, true);
++		ResetView(fullpath.c_str(), true);
+ 	}
+ 	else
+ 	{

Added: trunk/rpms/gpm/gpm.init
===================================================================

Added: trunk/rpms/gringotts/gringotts-1.2.8-gtk24.patch
===================================================================
--- trunk/rpms/gringotts/gringotts-1.2.8-gtk24.patch	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/gringotts/gringotts-1.2.8-gtk24.patch	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,10 @@
+--- src/gringotts.c.orig	2004-06-30 01:41:06.799151944 +0200
++++ src/gringotts.c	2004-06-30 01:41:18.137428264 +0200
+@@ -28,6 +28,7 @@
+ #include &lt;time.h&gt;
+ #include &lt;fcntl.h&gt;
+ 
++#undef GTK_DISABLE_DEPRECATED
+ #include &lt;gtk/gtk.h&gt;
+ 
+ #include &quot;grg_defs.h&quot;

Added: trunk/rpms/gspy/gspy-autogen.patch
===================================================================

Added: trunk/rpms/gspy/gspy-configure.patch
===================================================================

Added: trunk/rpms/logwatch/logwatch-5.2-RejectedAtt.patch
===================================================================
--- trunk/rpms/logwatch/logwatch-5.2-RejectedAtt.patch	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/logwatch/logwatch-5.2-RejectedAtt.patch	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,36 @@
+--- scripts/services/sendmail.orig	2004-06-21 23:14:32.712400144 +0200
++++ scripts/services/sendmail	2004-06-21 23:14:18.529556000 +0200
+@@ -162,7 +162,7 @@
+       ( $ThisLine =~ m/X-Spam/ ) or
+       ( $ThisLine =~ m/Milter message: body replaced/ ) or
+       ( $ThisLine =~ m/Milter: data/ ) or
+-      ( $ThisLine =~ m/Milter (change|delete): header/ ) or
++      ( $ThisLine =~ m/Milter (add|change|delete): header/ ) or
+       ( $ThisLine =~ m/Milter add: header: X-Virus-Scanned/ ) or
+       ( $ThisLine =~ m/AUTH=server, relay=/ ) or
+       ( $ThisLine =~ m/discarded/ ) or
+@@ -282,6 +282,10 @@
+       # We block some particularly annoying spam domains with the following in /etc/mail/access...
+       # From:worduphosting.com	ERROR:550 5.7.1 Relaying Denied (Spammer)
+       $KnownSpammer{$1}++;
++   } elsif ( ($Name) = ($ThisLine =~ /^Milter: data, reject=554 5\.6\.1 Rejecting dangerous E-mail attachment: ([^ \n]*)/) ) {
++      $RejectedAttNum++;
++      $RejectedAtt{$Name}++;
++
+    } elsif ($ThisLine =~ /ruleset=check_relay, arg1=([^ ]*),.* reject=550 5\.7\.1 Access denied/) {
+       # We block some particularly annoying spam domains with the
+       # following in /etc/mail/access...
+@@ -602,6 +606,13 @@
+    }
+ }
+ 
++if (keys %RejectedAtt) {
++   print &quot;\n\nRejected attachments Total: $RejectedAttNum Time(s)\n&quot;;
++   foreach $ThisOne (sort {$RejectedAtt{$b}&lt;=&gt;$RejectedAtt{$a}} keys %RejectedAtt) {
++      print &quot;    &quot; . $ThisOne . &quot;: &quot; . $RejectedAtt{$ThisOne} . &quot; Times(s)\n&quot;;
++   }
++}
++
+ if (keys %LoadAvg) {
+    print &quot;\n\nWarning!!!:\n&quot;;
+    print &quot;Connections Rejected due to high load average $LoadAvgReject Time(s)\n&quot;;

Added: trunk/rpms/most/most.spec
===================================================================
--- trunk/rpms/most/most.spec	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/most/most.spec	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,51 @@
+# $Id$
+# Authority: dag
+# Upstream: John E. Davis &lt;davis$space,mit,edu&gt;
+
+Summary: text viewer similar to more or less, but with additional capabilities
+Name: most
+Version: 4.9.5
+Release: 1
+License: GPL
+Group: Applications/Text
+URL: <A HREF="ftp://space.mit.edu/pub/davis/most/">ftp://space.mit.edu/pub/davis/most/</A>
+
+Packager: Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;
+Vendor: Dag Apt Repository, <A HREF="http://dag.wieers.com/apt/">http://dag.wieers.com/apt/</A>
+
+Source: <A HREF="ftp://space.mit.edu/pub/davis/most/most-%{version">ftp://space.mit.edu/pub/davis/most/most-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: slang-devel
+
+%description
+most is a paging program that displays, one windowful at a time, the
+contents of a file on a terminal. It pauses after each windowful and
+prints on the window status line the screen the file name, current line
+number, and the percentage of the file so far displayed.
+
+%prep
+%setup
+
+%build
+%{__perl} -pi.orig -e 's|/usr/lib|%{_libdir}|' configure
+%configure
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__install} -D -m0755 src/objs/most %{buildroot}%{_bindir}/most
+%{__install} -D -m0644 most.1 %{buildroot}%{_mandir}/man1/most.1
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr (-, root, root, 0755)
+%doc COPYRIGHT README *.doc *.rc *.txt
+%doc %{_mandir}/man1/most.1*
+%{_bindir}/most
+
+%changelog
+* Sun Aug 08 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 4.9.5-1
+- Initial package. (using DAR)


Property changes on: trunk/rpms/most/most.spec
___________________________________________________________________
Name: svn:keywords
   + Id
Name: svn:eol-style
   + native

Added: trunk/rpms/openssh/openssh-2.9p1-groups.patch
===================================================================

Added: trunk/rpms/openssh/openssh-3.5p1-multilib-pam.patch
===================================================================

Added: trunk/rpms/openssh/openssh-3.5p1-pam-timing.patch
===================================================================

Added: trunk/rpms/openssh/openssh-3.5p1-skip-initial.patch
===================================================================

Added: trunk/rpms/openssh/openssh-3.6.1p2-owl-realloc.diff
===================================================================

Added: trunk/rpms/openssh/openssh-SNAP-20020220-redhat.patch
===================================================================

Added: trunk/rpms/openssh/openssh-buffer-size.patch
===================================================================

Added: trunk/rpms/perl-Date-Pcalc/perl-Date-Pcalc.spec
===================================================================
--- trunk/rpms/perl-Date-Pcalc/perl-Date-Pcalc.spec	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/perl-Date-Pcalc/perl-Date-Pcalc.spec	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,58 @@
+# $Id$
+# Authority: dag
+
+%define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
+%define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
+
+%define real_name Date-Pcalc
+
+Summary: Gregorian calendar date calculations
+Name: perl-Date-Pcalc
+Version: 1.2
+Release: 1
+License: distributable
+Group: Applications/CPAN
+URL: <A HREF="http://search.cpan.org/dist/Date-Pcalc/">http://search.cpan.org/dist/Date-Pcalc/</A>
+
+Packager: Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;
+Vendor: Dag Apt Repository, <A HREF="http://dag.wieers.com/apt/">http://dag.wieers.com/apt/</A>
+
+Source: <A HREF="http://search.cpan.org/CPAN/authors/id/S/ST/STBEY/Date-Pcalc-%{version">http://search.cpan.org/CPAN/authors/id/S/ST/STBEY/Date-Pcalc-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildArch: noarch
+BuildRequires: perl
+Requires: perl
+
+%description
+Gregorian calendar date calculations
+
+%prep
+%setup -n %{real_name}-%{version} 
+
+%build
+CFLAGS=&quot;%{optflags}&quot; %{__perl} Makefile.PL \
+	PREFIX=&quot;%{buildroot}%{_prefix}&quot; \
+	INSTALLDIRS=&quot;vendor&quot;
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%makeinstall
+
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib}
+%{__rm} -rf %{buildroot}%{perl_vendorarch}
+
+%clean 
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc *.html *.txt
+%doc %{_mandir}/man3/Date::Pcalc.3pm*
+%{perl_vendorlib}/Date/Pcalc.pm
+
+%changelog
+* Sat Aug 07 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.2-1
+- Initial package. (using DAR)


Property changes on: trunk/rpms/perl-Date-Pcalc/perl-Date-Pcalc.spec
___________________________________________________________________
Name: svn:keywords
   + Id
Name: svn:eol-style
   + native

Added: trunk/rpms/perl-Email-Valid/perl-Email-Valid.spec
===================================================================
--- trunk/rpms/perl-Email-Valid/perl-Email-Valid.spec	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/perl-Email-Valid/perl-Email-Valid.spec	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,58 @@
+# $Id$
+# Authority: dag
+
+%define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
+%define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
+
+%define real_name Email-Valid
+
+Summary: Check validity of Internet email addresses 
+Name: perl-Email-Valid
+Version: 0.15
+Release: 1
+License: distributable
+Group: Applications/CPAN
+URL: <A HREF="http://search.cpan.org/dist/Email-Valid/">http://search.cpan.org/dist/Email-Valid/</A>
+
+Packager: Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;
+Vendor: Dag Apt Repository, <A HREF="http://dag.wieers.com/apt/">http://dag.wieers.com/apt/</A>
+
+Source: <A HREF="http://search.cpan.org/CPAN/authors/id/M/MA/MAURICE/Email-Valid-%{version">http://search.cpan.org/CPAN/authors/id/M/MA/MAURICE/Email-Valid-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildArch: noarch
+BuildRequires: perl
+Requires: perl
+
+%description
+Check validity of Internet email addresses 
+
+%prep
+%setup -n %{real_name}-%{version} 
+
+%build
+CFLAGS=&quot;%{optflags}&quot; %{__perl} Makefile.PL \
+	PREFIX=&quot;%{buildroot}%{_prefix}&quot; \
+	INSTALLDIRS=&quot;vendor&quot;
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%makeinstall
+
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib}
+%{__rm} -rf %{buildroot}%{perl_vendorarch}
+
+%clean 
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc Changes README
+%doc %{_mandir}/man3/Email::Valid.3pm*
+%{perl_vendorlib}/Email/Valid.pm
+
+%changelog
+* Sat Aug 07 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.2-1
+- Initial package. (using DAR)


Property changes on: trunk/rpms/perl-Email-Valid/perl-Email-Valid.spec
___________________________________________________________________
Name: svn:keywords
   + Id
Name: svn:eol-style
   + native

Added: trunk/rpms/perl-XML-LibXML/perl-XML-LibXML-parsers.patch
===================================================================
--- trunk/rpms/perl-XML-LibXML/perl-XML-LibXML-parsers.patch	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/perl-XML-LibXML/perl-XML-LibXML-parsers.patch	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,25 @@
+--- Makefile.PL.old	2002-11-29 01:39:58.000000000 -0400
++++ Makefile.PL	2002-11-29 01:44:00.000000000 -0400
+@@ -162,14 +162,14 @@
+ sub MY::install {
+     package MY;
+     my $script = shift-&gt;SUPER::install(@_);
+-    $script =~ s/install :: (.*)$/install :: $1 install_sax_driver/m;
+-    $script .= &lt;&lt;&quot;INSTALL&quot;;
+-
+-install_sax_driver :
+-\t\@\$(PERL) -MXML::SAX -e &quot;XML::SAX-&gt;add_parser(q(XML::LibXML::SAX::Parser))-&gt;save_parsers()&quot;
+-\t\@\$(PERL) -MXML::SAX -e &quot;XML::SAX-&gt;add_parser(q(XML::LibXML::SAX))-&gt;save_parsers()&quot;
+- 
+-INSTALL
++#    $script =~ s/install :: (.*)$/install :: $1 install_sax_driver/m;
++#    $script .= &lt;&lt;&quot;INSTALL&quot;;
++#
++#install_sax_driver :
++#\t\@\$(PERL) -MXML::SAX -e &quot;XML::SAX-&gt;add_parser(q(XML::LibXML::SAX::Parser))-&gt;save_parsers()&quot;
++#\t\@\$(PERL) -MXML::SAX -e &quot;XML::SAX-&gt;add_parser(q(XML::LibXML::SAX))-&gt;save_parsers()&quot;
++# 
++#INSTALL
+  
+     return $script;
+ }

Added: trunk/rpms/perl-XML-SAX/ParserDetails.ini
===================================================================
--- trunk/rpms/perl-XML-SAX/ParserDetails.ini	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/perl-XML-SAX/ParserDetails.ini	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,4 @@
+[XML::SAX::PurePerl]
+<A HREF="http://xml.org/sax/features/namespaces">http://xml.org/sax/features/namespaces</A> = 1
+
+

Added: trunk/rpms/perl-XML-SAX/perl-XML-SAX-parsers.patch
===================================================================
--- trunk/rpms/perl-XML-SAX/perl-XML-SAX-parsers.patch	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/perl-XML-SAX/perl-XML-SAX-parsers.patch	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,29 @@
+--- Makefile.PL.old	2002-11-29 01:08:24.000000000 -0400
++++ Makefile.PL	2002-11-29 01:08:50.000000000 -0400
+@@ -12,16 +12,16 @@
+ sub MY::install {
+     package MY;
+     my $script = shift-&gt;SUPER::install(@_);
+-    if (ExtUtils::MakeMaker::prompt(&quot;Do you want XML::SAX to alter ParserDetails.ini?&quot;, &quot;Y&quot;) =~ /^y/i) {
+-        $script =~ s/install :: (.*)$/install :: $1 install_sax_pureperl/m;
+-        $script .= &lt;&lt;&quot;INSTALL&quot;;
+-
+-install_sax_pureperl :
+-\t\@\$(PERL) -MXML::SAX -e &quot;XML::SAX-&gt;add_parser(q(XML::SAX::PurePerl))-&gt;save_parsers()&quot;
+-
+-INSTALL
+-
+-    }
++#    if (ExtUtils::MakeMaker::prompt(&quot;Do you want XML::SAX to alter ParserDetails.ini?&quot;, &quot;Y&quot;) =~ /^y/i) {
++#        $script =~ s/install :: (.*)$/install :: $1 install_sax_pureperl/m;
++#        $script .= &lt;&lt;&quot;INSTALL&quot;;
++#
++#install_sax_pureperl :
++#\t\@\$(PERL) -MXML::SAX -e &quot;XML::SAX-&gt;add_parser(q(XML::SAX::PurePerl))-&gt;save_parsers()&quot;
++#
++#INSTALL
++#
++#    }
+ 
+     return $script;
+ }

Added: trunk/rpms/plan/plan.wmconfig
===================================================================

Added: trunk/rpms/qemu/qemu-0.6.0-glibc-private.patch
===================================================================
--- trunk/rpms/qemu/qemu-0.6.0-glibc-private.patch	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/qemu/qemu-0.6.0-glibc-private.patch	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,20 @@
+--- vl.c.orig	2004-07-10 20:20:09.000000000 +0200
++++ vl.c	2004-07-21 06:17:48.864891472 +0200
+@@ -68,17 +68,6 @@
+ #ifdef __APPLE__
+ #include &lt;SDL/SDL.h&gt;
+ #endif
+-#if defined(__linux__)
+-/* SDL use the pthreads and they modify sigaction. We don't
+-   want that. */
+-#if (__GLIBC__ &gt; 2 || (__GLIBC__ == 2 &amp;&amp; __GLIBC_MINOR__ &gt;= 2))
+-extern void __libc_sigaction();
+-#define sigaction(sig, act, oact) __libc_sigaction(sig, act, oact)
+-#else
+-extern void __sigaction();
+-#define sigaction(sig, act, oact) __sigaction(sig, act, oact)
+-#endif
+-#endif /* __linux__ */
+ #endif /* CONFIG_SDL */
+ 
+ #include &quot;disas.h&quot;

Added: trunk/rpms/samba/swat.desktop
===================================================================

Added: trunk/rpms/spamassassin/spamassassin-2.63-init.patch
===================================================================
--- trunk/rpms/spamassassin/spamassassin-2.63-init.patch	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/spamassassin/spamassassin-2.63-init.patch	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,13 @@
+--- spamd/redhat-rc-script.sh~	2004-01-18 01:56:18.000000000 +0200
++++ spamd/redhat-rc-script.sh	2004-05-02 15:00:02.000000000 +0300
+@@ -4,8 +4,8 @@
+ #
+ # chkconfig: 2345 80 30
+ #
+-# description: spamd is a daemon process which uses SpamAssassin to check
+-#              email messages for SPAM.  It is normally called by spamc
++# description: spamd is a daemon process which uses SpamAssassin to check \
++#              email messages for SPAM.  It is normally called by spamc \
+ #	       from a MDA.
+ 
+ # Source function library.

Added: trunk/rpms/spamassassin/spamassassin-2.63-krb5-backcompat.patch
===================================================================
--- trunk/rpms/spamassassin/spamassassin-2.63-krb5-backcompat.patch	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/spamassassin/spamassassin-2.63-krb5-backcompat.patch	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,12 @@
+diff -urN Mail-SpamAssassin-2.63.orig/Makefile.PL Mail-SpamAssassin-2.63/Makefile.PL
+--- Mail-SpamAssassin-2.63.orig/Makefile.PL	2004-01-17 18:56:12.000000000 -0500
++++ Mail-SpamAssassin-2.63/Makefile.PL	2004-01-21 07:45:14.000000000 -0500
+@@ -962,7 +962,7 @@
+ 	$(MAKE) -f spamd/binaries.mk $@
+ 
+ spamd/binaries.mk: spamd/configure
+-	cd spamd; ./configure --prefix=&quot;$(I_PREFIX)&quot; --sysconfdir=&quot;$(I_SYSCONFDIR)&quot; --datadir=&quot;$(I_DATADIR)&quot; --enable-ssl=&quot;$(ENABLE_SSL)&quot;
++	cd spamd; ./configure --prefix=&quot;$(I_PREFIX)&quot; --sysconfdir=&quot;$(I_SYSCONFDIR)&quot; --datadir=&quot;$(I_DATADIR)&quot; --enable-ssl=&quot;$(ENABLE_SSL) --includedir=/usr/kerberos/include&quot;
+ 
+ conf__install:
+ 	-$(MKPATH) $(B_CONFDIR)

Added: trunk/rpms/switcher/egg-sharp.dll
===================================================================
(Binary files differ)


Property changes on: trunk/rpms/switcher/egg-sharp.dll
___________________________________________________________________
Name: svn:executable
   + *
Name: svn:mime-type
   + application/octet-stream

Added: trunk/rpms/unfs3/unfs3.spec
===================================================================
--- trunk/rpms/unfs3/unfs3.spec	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/unfs3/unfs3.spec	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,45 @@
+# $Id$
+# Authority: dag
+
+### FIXME: This package needs a sysv script
+
+Summary: UNFS3 user-space NFSv3 server
+Name: unfs3
+Version: 0.9.10
+Release: 1
+License: BSD
+Group: Applications/System
+URL: <A HREF="http://unfs3.sourceforge.net/">http://unfs3.sourceforge.net/</A>
+
+Packager: Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;
+Vendor: Dag Apt Repository, <A HREF="http://dag.wieers.com/apt/">http://dag.wieers.com/apt/</A>
+
+Source: <A HREF="http://dl.sf.net/unfs3/unfs3-%{version">http://dl.sf.net/unfs3/unfs3-%{version</A>}.tar.gz
+Buildroot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+%description
+UNFS3 is a user-space implementation of the NFS (Network File System)
+version 3 server specification. It provides a daemon that supports both
+the MOUNT and NFS protocol.
+
+%prep
+%setup
+
+%build
+%configure \
+	--enable-cluster
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%makeinstall
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc CREDITS LICENSE NEWS README contrib/ doc/
+%doc %{_mandir}/man7/tags.7*
+%doc %{_mandir}/man8/unfsd.8*
+%{_sbindir}/unfsd


Property changes on: trunk/rpms/unfs3/unfs3.spec
___________________________________________________________________
Name: svn:keywords
   + Id
Name: svn:eol-style
   + native

Added: trunk/rpms/wireless-tools/wireless-tools-26-makefile.patch
===================================================================

Added: trunk/rpms/xmms-infopipe/xmms-infopipe.spec
===================================================================
--- trunk/rpms/xmms-infopipe/xmms-infopipe.spec	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/xmms-infopipe/xmms-infopipe.spec	2004-08-18 12:12:16 UTC (rev 2039)
@@ -0,0 +1,56 @@
+# $Id$
+# Authority: dag
+
+%define xmms_generaldir %(xmms-config --general-plugin-dir)
+
+Summary: Reports XMMS status via named pipe
+Name: xmms-infopipe
+Version: 1.3
+Release: 1
+License: GPL
+Group: Applications/Multimedia
+URL: <A HREF="http://www.beastwithin.org/users/wwwwolf/code/xmms/infopipe.html">http://www.beastwithin.org/users/wwwwolf/code/xmms/infopipe.html</A>
+
+Packager: Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;
+Vendor: Dag Apt Repository, <A HREF="http://dag.wieers.com/apt/">http://dag.wieers.com/apt/</A>
+
+Source: <A HREF="http://www.beastwithin.org/users/wwwwolf/code/xmms/xmms-infopipe-1.3.tar.gz">http://www.beastwithin.org/users/wwwwolf/code/xmms/xmms-infopipe-1.3.tar.gz</A>
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: xmms-devel
+
+%description
+XMMS InfoPipe is a plugin that reports XMMS status via named pipe.
+Useful if you want to add interesting real-time information for a
+personal web page, or a web cam page.
+
+%prep
+%setup
+
+%{__perl} -pi.orig -e 's|(fread \(\$info,) 261\)|$1 2048)|' applications/xmms-info.php
+
+%build
+%configure
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%makeinstall \
+	libdir=&quot;%{buildroot}%{xmms_generaldir}&quot;
+
+%{__mv} -f %{buildroot}%{xmms_generaldir}/libinfopipe-?.?.so.?.?.? %{buildroot}%{xmms_generaldir}/libinfopipe.so
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%doc AUTHORS ChangeLog COPYING INSTALL NEWS README applications/*.php applications/*.pl
+%{xmms_generaldir}/libinfopipe.so
+%exclude %{xmms_generaldir}/libinfopipe.a
+%exclude %{xmms_generaldir}/libinfopipe.la
+%exclude %{xmms_generaldir}/libinfopipe-?.?.so.*
+
+%changelog
+* Sat Aug 14 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.3
+- Initial package. (using DAR)


Property changes on: trunk/rpms/xmms-infopipe/xmms-infopipe.spec
___________________________________________________________________
Name: svn:keywords
   + Id
Name: svn:eol-style
   + native

Modified: trunk/rpms/yam/yam.spec
===================================================================
--- trunk/rpms/yam/yam.spec	2004-08-18 11:35:15 UTC (rev 2038)
+++ trunk/rpms/yam/yam.spec	2004-08-18 12:12:16 UTC (rev 2039)
@@ -2,9 +2,9 @@
 # Authority: dag
 # Upstream: Dag Wieers &lt;dag$wieers,com&gt;
 
-Summary: Tool to create a local RPM repository from ISO files and RPM packages
+Summary: Tool to set up a Yum/Apt mirror from various sources (ISO, ftp, ...)
 Name: yam
-Version: 0.3
+Version: 0.5
 Release: 1
 License: GPL
 Group: System Environment/Base
@@ -17,7 +17,7 @@
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildArch: noarch
-Requires: python
+Requires: python &gt;= 2.0
 
 %description
 Yam builds a local Apt/Yum RPM repository from local ISO files,
@@ -27,45 +27,40 @@
 the repository structure and meta-data, enables HTTP access to 
 the repository and creates a directory-structure for PXE/TFTP.
 
-With yam, you can enable your laptop or a local server to provide
+With Yam, you can enable your laptop or a local server to provide
 updates for the whole network and provide the proper files to
 allow installations via the network.
 
-By default it works out of the box with:
-
-	Fedora Core 1 and 2
-	Red Hat Enterprise Linux 2.1 and 3 (WS, ES, AS)
-	TaoLinux 1
-	CentOS 2.1 and 3
-	Red Hat Linux 6.2, 7.3, 8.0 and 9
-
 %prep
 %setup
 
+%{__perl} -pi.orig -e 's|\% VERSION|\% &quot;%{version}&quot;|' yam
+
 %build
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
-%{__install} -d -m0755 %{buildroot}%{_localstatedir}/www/yam
-
-
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
-%doc AUTHORS ChangeLog COPYING README THANKS TODO
+%doc AUTHORS ChangeLog COPYING README* THANKS TODO *.conf
 %config(noreplace) %{_sysconfdir}/yam.conf
 %config(noreplace) %{_sysconfdir}/httpd/conf.d/yam.conf
 %config %{_initrddir}/yam
 %{_bindir}/yam
-%{_libdir}/yam/
-%dir %{_localstatedir}/www/yam/
+%{_datadir}/yam/
+%{_localstatedir}/yam/
+%{_localstatedir}/www/yam/
 
 %changelog
-* Fri May 21 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.3-1
+* Tue Aug 17 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5-1
+- Updated to release 0.5.
+
+* Wed May 19 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.3-1
 - Updated to release 0.3.
 
 * Fri May 14 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.2-1


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000844.html">[SVN] r2038 - trunk/tools/checkspec
</A></li>
	<LI>Next message: <A HREF="000846.html">[SVN] r2040 - in trunk/rpms: gnome-chess perl-Locale-gettext
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#845">[ date ]</a>
              <a href="thread.html#845">[ thread ]</a>
              <a href="subject.html#845">[ subject ]</a>
              <a href="author.html#845">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
