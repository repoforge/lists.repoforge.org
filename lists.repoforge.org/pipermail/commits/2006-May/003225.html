<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r4425 - trunk/rpms/ming
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r4425%20-%20trunk/rpms/ming&In-Reply-To=%3C20060528111510.B028D944DA6%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003224.html">
   <LINK REL="Next"  HREF="003226.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r4425 - trunk/rpms/ming</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r4425%20-%20trunk/rpms/ming&In-Reply-To=%3C20060528111510.B028D944DA6%40pooch.vmhosting.org%3E"
       TITLE="[svn] r4425 - trunk/rpms/ming">packagers at lists.rpmforge.net
       </A><BR>
    <I>Sun May 28 13:15:10 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003224.html">[svn] r4424 - in trunk/tools/dstat: . docs
</A></li>
        <LI>Next message: <A HREF="003226.html">[svn] r4426 - trunk/rpms/vnc2swf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3225">[ date ]</a>
              <a href="thread.html#3225">[ thread ]</a>
              <a href="subject.html#3225">[ subject ]</a>
              <a href="author.html#3225">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dries
Date: 2006-05-28 13:15:10 +0200 (Sun, 28 May 2006)
New Revision: 4425

Modified:
   trunk/rpms/ming/ming.spec
Log:
ming update.. works but still needs cleanup and all the bindings aren't packaged yet

Modified: trunk/rpms/ming/ming.spec
===================================================================
--- trunk/rpms/ming/ming.spec	2006-05-28 11:13:40 UTC (rev 4424)
+++ trunk/rpms/ming/ming.spec	2006-05-28 11:15:10 UTC (rev 4425)
@@ -1,39 +1,39 @@
 # $Id$
 # Authority: dag
 
-%{?rh7:%define _without_python 1}
-%{?el2:%define _without_python 1}
+#%{?rh7:%define _without_python 1}
+#%{?el2:%define _without_python 1}
 
-%define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
-%define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
+#%define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
+#%define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
 
-%if %{!?_without_python:1}0
-%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
-%define python_sitelib %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib()')
-%define python_includedir %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_inc()')
-%define python_version %(%{__python} -c 'import sys; print sys.version.split(&quot; &quot;)[0]')
-%define python_libdir %(%{__python} -c 'import distutils.sysconfig, os.path; print os.path.dirname(distutils.sysconfig.get_python_lib(1))')
-%endif
+#%if %{!?_without_python:1}0
+#%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
+#%define python_sitelib %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib()')
+#%define python_includedir %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_inc()')
+#%define python_version %(%{__python} -c 'import sys; print sys.version.split(&quot; &quot;)[0]')
+#%define python_libdir %(%{__python} -c 'import distutils.sysconfig, os.path; print os.path.dirname(distutils.sysconfig.get_python_lib(1))')
+#%endif
 
 Summary: SWF output library
 Name: ming
-Version: 0.2a
-Release: 2.2
+Version: 0.3.0
+Release: 1
 License: LGPL
 Group: System Environment/Libraries
 URL: <A HREF="http://www.opaque.net/ming/">http://www.opaque.net/ming/</A>
 
-Source: <A HREF="http://dl.sf.net/ming/ming-%{version">http://dl.sf.net/ming/ming-%{version</A>}.tgz
-Patch: ming-0.2a-listmp3.c.patch
-Patch1: ming-0.2a-dynamic-exts.patch
-Patch2: ming-0.2a-soname.patch
-Patch3: ming-0.2a-python.patch
-Patch4: ming-0.2a-c++.patch
-Patch5: ming-0.2a-types.patch
+Source: <A HREF="http://dl.sf.net/ming/ming-%{version">http://dl.sf.net/ming/ming-%{version</A>}.tar.gz
+#Patch: ming-0.2a-listmp3.c.patch
+#Patch1: ming-0.2a-dynamic-exts.patch
+#Patch2: ming-0.2a-soname.patch
+#Patch3: ming-0.2a-python.patch
+#Patch4: ming-0.2a-c++.patch
+#Patch5: ming-0.2a-types.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: zlib-devel, perl
-%{!?_without_python:BuildRequires: python-devel}
+#%{!?_without_python:BuildRequires: python-devel}
 
 %description
 Ming is a c library for generating SWF (&quot;Flash&quot;) format movies. This
@@ -50,71 +50,71 @@
 documentation for %{name}. If you like to develop programs using %{name},
 you will need to install %{name}-devel.
 
-%package -n perl-ming
-Summary: Ming perl module
-Group: Development/Languages/Perl
-Requires: %{name} = %{version}-%{release}
-Requires: perl
-Obsoletes: ming-perl
+#%package -n perl-ming
+#Summary: Ming perl module
+#Group: Development/Languages/Perl
+#Requires: %{name} = %{version}-%{release}
+#Requires: perl
+#Obsoletes: ming-perl
 
-%description -n perl-ming
-Ming perl module - perl wrapper for Ming library.
+#%description -n perl-ming
+#Ming perl module - perl wrapper for Ming library.
 
-%package -n python-ming
-Summary: Ming Python module
-Group: Development/Languages/Perl
-Requires: %{name} = %{version}-%{release}
-Requires: python = %{python_version}
-Obsoletes: ming-python
+#%package -n python-ming
+#Summary: Ming Python module
+#Group: Development/Languages/Perl
+#Requires: %{name} = %{version}-%{release}
+#Requires: python = %{python_version}
+#Obsoletes: ming-python
 
-%description -n python-ming
-Ming Python module.
+#%description -n python-ming
+#Ming Python module.
 
 %prep
 %setup
-%patch0 -p1
-%patch1 -p1
-%patch2 -p1
-%patch3 -p1
-%patch4 -p1
-%patch5 -p1
+#patch0 -p1
+#patch1 -p1
+#patch2 -p1
+#patch3 -p1
+#patch4 -p1
+#patch5 -p1
 
 %build
 %{__make} %{?_smp_mflags} all static \
 	CC=&quot;%{__cc}&quot; \
 	LIBDIR=%{_libdir} \
-	CFLAGS=&quot;%{optflags} -fPIC&quot;
+	CFLAGS=&quot;%{optflags} -fPIC -I. -I.. -I../src&quot;
 
-cd perl_ext
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
-%{__make} OPTIMIZE=&quot;%{optflags}&quot;
-cd -
+#cd perl_ext
+#%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
+#%{__make} OPTIMIZE=&quot;%{optflags}&quot;
+#cd -
 
-%if %{!?_without_python:1}0
-%{__make} -C py_ext \
-	CC=&quot;%{__cc}&quot; \
-	CFLAGS=&quot;%{optflags}&quot; \
-	PYINCDIR=&quot;%{python_includedir}&quot;
-%endif
+#%if %{!?_without_python:1}0
+#%{__make} -C py_ext \
+#	CC=&quot;%{__cc}&quot; \
+#	CFLAGS=&quot;%{optflags}&quot; \
+#	PYINCDIR=&quot;%{python_includedir}&quot;
+#%endif
 
 %{__make} %{?_smp_mflags} -C util listaction listfdb listjpeg listmp3 listswf makefdb swftophp \
 	CC=&quot;%{__cc} %{optflags}&quot;
 
 %install
 %{__rm} -rf %{buildroot}
-%{__make} install install-static \
+%{makeinstall} install-static \
 	PREFIX=&quot;%{buildroot}%{_prefix}&quot; \
 	LIBDIR=&quot;%{buildroot}%{_libdir}&quot;
 
-%{__make} -C perl_ext install
+#%{__make} -C perl_ext install
 
-%if %{!?_without_python:1}0
-%{__install} -d -m0755 %{buildroot}%{python_sitearch}
-%{__make} -C py_ext install \
-	DESTDIR=&quot;%{buildroot}&quot; \
-	PYLIBDIR=&quot;%{buildroot}%{python_libdir}&quot;
-#	PYLIBDIR=&quot;%{buildroot}%{python_sitearch}&quot;
-%endif
+#%if %{!?_without_python:1}0
+#%{__install} -d -m0755 %{buildroot}%{python_sitearch}
+#%{__make} -C py_ext install \
+#	DESTDIR=&quot;%{buildroot}&quot; \
+#	PYLIBDIR=&quot;%{buildroot}%{python_libdir}&quot;
+##	PYLIBDIR=&quot;%{buildroot}%{python_sitearch}&quot;
+#%endif
 
 %{__install} -Dp -m0755 util/listaction %{buildroot}%{_bindir}/listaction
 %{__install} -Dp -m0755 util/listfdb %{buildroot}%{_bindir}/listfdb
@@ -141,7 +141,20 @@
 
 %files
 %defattr(-, root, root, 0755)
-%doc CHANGES CREDITS LICENSE README TODO
+%doc CREDITS LICENSE README TODO
+%doc %{_mandir}/man1/makeswf*
+%{_bindir}/dbl2png
+%{_bindir}/gif2dbl
+%{_bindir}/gif2mask
+%{_bindir}/listaction_d
+%{_bindir}/listswf_d
+%{_bindir}/makeswf
+%{_bindir}/ming-config
+%{_bindir}/png2dbl
+%{_bindir}/png2swf
+%{_bindir}/raw2adpcm
+%{_bindir}/swftoperl
+%{_bindir}/swftopython
 %{_bindir}/listaction
 %{_bindir}/listfdb
 %{_bindir}/listjpeg
@@ -154,27 +167,32 @@
 %files devel
 %defattr(-, root, root, 0755)
 %{_includedir}/ming.h
+%{_includedir}/ming_config.h
 %{_includedir}/mingpp.h
 %{_libdir}/libming.a
 %{_libdir}/libming.so
 
-%files -n perl-ming
-%defattr(-, root, root, 0755)
-%doc perl_ext/README perl_ext/TODO
-%doc %{_mandir}/man3/SWF*
-%{perl_vendorarch}/SWF.pm
-%{perl_vendorarch}/SWF/
-%{perl_vendorarch}/auto/SWF/
+#%files -n perl-ming
+#%defattr(-, root, root, 0755)
+#%doc perl_ext/README perl_ext/TODO
+#%doc %{_mandir}/man3/SWF*
+#%{perl_vendorarch}/SWF.pm
+#%{perl_vendorarch}/SWF/
+#%{perl_vendorarch}/auto/SWF/
 
-%if %{!?_without_python:1}0
-%files -n python-ming
-%defattr(-, root, root, 0755)
-%doc py_ext/README py_ext/TODO
-%{python_sitearch}/mingcmodule.so
-%{python_sitearch}/ming.py
-%endif
+#%if %{!?_without_python:1}0
+#%files -n python-ming
+#%defattr(-, root, root, 0755)
+#%doc py_ext/README py_ext/TODO
+#%{python_sitearch}/mingcmodule.so
+#%{python_sitearch}/ming.py
+#%endif
 
 %changelog
+* Sun May 28 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.3.0-1
+- Updated to release 0.3.0.
+- Bindings (ming-perl, ming-php, ..) are distributed in separate files now.
+
 * Sat Apr 08 2006 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.2a-2.2
 - Rebuild for Fedora Core 5.
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003224.html">[svn] r4424 - in trunk/tools/dstat: . docs
</A></li>
	<LI>Next message: <A HREF="003226.html">[svn] r4426 - trunk/rpms/vnc2swf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3225">[ date ]</a>
              <a href="thread.html#3225">[ thread ]</a>
              <a href="subject.html#3225">[ subject ]</a>
              <a href="author.html#3225">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
