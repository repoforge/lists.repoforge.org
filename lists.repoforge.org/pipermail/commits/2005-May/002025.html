<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r3223 - in trunk/tools/pydar2: . dries php php/css pydar sql
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r3223%20-%20in%20trunk/tools/pydar2%3A%20.%20dries%20php%20php/css%20pydar%20sql&In-Reply-To=%3C20050521201417.868EA1D02A0%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002024.html">
   <LINK REL="Next"  HREF="002026.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r3223 - in trunk/tools/pydar2: . dries php php/css pydar sql</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r3223%20-%20in%20trunk/tools/pydar2%3A%20.%20dries%20php%20php/css%20pydar%20sql&In-Reply-To=%3C20050521201417.868EA1D02A0%40pooch.vmhosting.org%3E"
       TITLE="[svn] r3223 - in trunk/tools/pydar2: . dries php php/css pydar sql">packagers at lists.rpmforge.net
       </A><BR>
    <I>Sat May 21 22:14:17 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="002024.html">[svn] r3222 - in trunk/rpms: htop miau
</A></li>
        <LI>Next message: <A HREF="002026.html">[svn] r3224 - trunk/rpms/pydar2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2025">[ date ]</a>
              <a href="thread.html#2025">[ thread ]</a>
              <a href="subject.html#2025">[ subject ]</a>
              <a href="author.html#2025">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dries
Date: 2005-05-21 22:14:16 +0200 (Sat, 21 May 2005)
New Revision: 3223

Added:
   trunk/tools/pydar2/dries/
   trunk/tools/pydar2/dries/RPM-GPG-KEY.dries-part.html
   trunk/tools/pydar2/dries/RPM-GPG-KEY.dries.txt
   trunk/tools/pydar2/dries/clientconfig-part.html
   trunk/tools/pydar2/dries/fullcontentstemplate.txt
   trunk/tools/pydar2/dries/index-part.html
   trunk/tools/pydar2/dries/mirrors-part.html
Modified:
   trunk/tools/pydar2/Makefile
   trunk/tools/pydar2/php/css/style.css
   trunk/tools/pydar2/php/navigation.php
   trunk/tools/pydar2/pydar/postgresqlstorage.py
   trunk/tools/pydar2/pydar/rpmforgesite.py
   trunk/tools/pydar2/sql/master.sql
Log:
update

Modified: trunk/tools/pydar2/Makefile
===================================================================
--- trunk/tools/pydar2/Makefile	2005-05-21 05:30:52 UTC (rev 3222)
+++ trunk/tools/pydar2/Makefile	2005-05-21 20:14:16 UTC (rev 3223)
@@ -27,13 +27,14 @@
 		$(DESTDIR)$(localstatedir)/lib/pydar2/specrepos \
 		$(DESTDIR)$(localstatedir)/lib/pydar2/masterwebroot \
 		$(DESTDIR)$(localstatedir)/lib/pydar2/slavedataroot \
-		$(DESTDIR)$(datadir)/pydar2/sql
+		$(DESTDIR)$(datadir)/pydar2/sql \
+		$(DESTDIR)$(datadir)/pydar2/dries
 	install -m0755 $(DIST_PYSCRIPTS) $(DESTDIR)$(datadir)/pydar2/
 	install -m0755 $(DIST_ETCFILES) $(DESTDIR)$(sysconfdir)/pydar2/
 	#install -m0755 $(DIST_SHSCRIPTS) $(DESTDIR)$(bindir)
 	install -m0755 pydar/*.py $(DESTDIR)$(datadir)/pydar2/pydar
 	install sql/master.sql $(DESTDIR)$(datadir)/pydar2/sql
-	install fullcontentstemplate.txt $(DESTDIR)$(datadir)/pydar2/fullcontentstemplate.txt
+	install dries/*.txt dries/*.html $(DESTDIR)$(datadir)/pydar2/dries/
 
 	
 	#install -m0755 scripts/* $(DESTDIR)$(sysconfdir)/rc.d/init.d

Added: trunk/tools/pydar2/dries/RPM-GPG-KEY.dries-part.html
===================================================================
--- trunk/tools/pydar2/dries/RPM-GPG-KEY.dries-part.html	2005-05-21 05:30:52 UTC (rev 3222)
+++ trunk/tools/pydar2/dries/RPM-GPG-KEY.dries-part.html	2005-05-21 20:14:16 UTC (rev 3223)
@@ -0,0 +1,45 @@
+&lt;p&gt;
+Normally your package manager (smart, yam, apt, ..) wants you to install my GPG key before it allows you to install the packages. So download this &lt;a href=&quot;RPM-GPG-KEY.dries.txt&quot;&gt;GPG Key&lt;/a&gt; 
+and install it with the following command: rpm --import RPM-GPG-KEY.dries.txt
+&lt;/p&gt;
+&lt;h2&gt;GPG Key&lt;/h2&gt;
+&lt;pre&gt;
+-----BEGIN PGP PUBLIC KEY BLOCK-----
+Version: GnuPG v1.2.3 (GNU/Linux)
+
+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
+AKC3gw9bqWdogkjHwH9iQAAwmy9suw==
+=v9Fn
+-----END PGP PUBLIC KEY BLOCK-----
+
+&lt;/pre&gt;

Added: trunk/tools/pydar2/dries/RPM-GPG-KEY.dries.txt
===================================================================
--- trunk/tools/pydar2/dries/RPM-GPG-KEY.dries.txt	2005-05-21 05:30:52 UTC (rev 3222)
+++ trunk/tools/pydar2/dries/RPM-GPG-KEY.dries.txt	2005-05-21 20:14:16 UTC (rev 3223)
@@ -0,0 +1,37 @@
+-----BEGIN PGP PUBLIC KEY BLOCK-----
+Version: GnuPG v1.2.3 (GNU/Linux)
+
+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
+AKC3gw9bqWdogkjHwH9iQAAwmy9suw==
+=v9Fn
+-----END PGP PUBLIC KEY BLOCK-----

Added: trunk/tools/pydar2/dries/clientconfig-part.html
===================================================================
--- trunk/tools/pydar2/dries/clientconfig-part.html	2005-05-21 05:30:52 UTC (rev 3222)
+++ trunk/tools/pydar2/dries/clientconfig-part.html	2005-05-21 20:14:16 UTC (rev 3223)
@@ -0,0 +1,152 @@
+      &lt;div class=&quot;alinea&quot;&gt;
+        &lt;div class=&quot;title&quot;&gt;YUM configuration for Red Hat Enterprise Linux 4&lt;/div&gt;
+        You will need to add the following lines to your yum config: 
+        &lt;div class=&quot;aptlines&quot;&gt;
+          &lt;pre&gt;
+[dries]
+name=Extra Fedora rpms dries - $releasever - $basearch
+baseurl=<A HREF="http://apt.sw.be/dries/redhat/el4/en/i386/dries/RPMS">http://apt.sw.be/dries/redhat/el4/en/i386/dries/RPMS</A>
+          &lt;/pre&gt;
+        &lt;/div&gt;
+      &lt;/div&gt;
+      &lt;div class=&quot;alinea&quot;&gt;
+        &lt;div class=&quot;title&quot;&gt;APT configuration for Red Hat Enterprise Linux 4&lt;/div&gt;
+        You will need to add the following lines to your apt config:
+        &lt;div class=&quot;aptlines&quot;&gt;
+          &lt;pre&gt;
+rpm <A HREF="http://apt.sw.be">http://apt.sw.be</A> dries/redhat/el4/en/i386 dries
+rpm-src <A HREF="http://apt.sw.be">http://apt.sw.be</A> dries/redhat/el4/en/i386 dries
+          &lt;/pre&gt;
+        &lt;/div&gt;
+      &lt;/div&gt;
+
+
+      &lt;div class=&quot;alinea&quot;&gt;
+        &lt;div class=&quot;title&quot;&gt;YUM configuration for Red Hat Enterprise Linux 3&lt;/div&gt;
+        You will need to add the following lines to your yum config: 
+        &lt;div class=&quot;aptlines&quot;&gt;
+          &lt;pre&gt;
+[dries]
+name=Extra Fedora rpms dries - $releasever - $basearch
+baseurl=<A HREF="http://apt.sw.be/dries/redhat/el3/en/i386/dries">http://apt.sw.be/dries/redhat/el3/en/i386/dries</A>
+          &lt;/pre&gt;
+        &lt;/div&gt;
+      &lt;/div&gt;
+      &lt;div class=&quot;alinea&quot;&gt;
+        &lt;div class=&quot;title&quot;&gt;APT configuration for Red Hat Enterprise Linux 3&lt;/div&gt;
+        You will need to add the following lines to your apt config:
+        &lt;div class=&quot;aptlines&quot;&gt;
+          &lt;pre&gt;
+rpm <A HREF="http://apt.sw.be">http://apt.sw.be</A> dries/redhat/el3/en/i386 dries
+rpm-src <A HREF="http://apt.sw.be">http://apt.sw.be</A> dries/redhat/el3/en/i386 dries
+          &lt;/pre&gt;
+        &lt;/div&gt;
+      &lt;/div&gt;
+
+
+
+      &lt;div class=&quot;alinea&quot;&gt;
+        &lt;div class=&quot;title&quot;&gt;YUM configuration for Fedora Core 3&lt;/div&gt;
+        You will need to add the following lines to your yum config: 
+        &lt;div class=&quot;aptlines&quot;&gt;
+          &lt;pre&gt;
+[dries]
+name=Extra Fedora rpms dries - $releasever - $basearch
+baseurl=<A HREF="http://apt.sw.be/dries/fedora/linux/$releasever/$basearch/dries/RPMS/">http://apt.sw.be/dries/fedora/linux/$releasever/$basearch/dries/RPMS/</A>
+          &lt;/pre&gt;
+        &lt;/div&gt;
+      &lt;/div&gt;
+      &lt;div class=&quot;alinea&quot;&gt;
+        &lt;div class=&quot;title&quot;&gt;APT configuration for Fedora Core 3&lt;/div&gt;
+        You will need to add the following lines to your apt config:
+        &lt;div class=&quot;aptlines&quot;&gt;
+          &lt;pre&gt;
+rpm <A HREF="http://apt.sw.be">http://apt.sw.be</A> dries/fedora/fc3/i386 dries
+rpm-src <A HREF="http://apt.sw.be">http://apt.sw.be</A> dries/fedora/fc3/i386 dries
+          &lt;/pre&gt;
+        &lt;/div&gt;
+      &lt;/div&gt;      
+      &lt;div class=&quot;alinea&quot;&gt;
+        &lt;div class=&quot;title&quot;&gt;YUM configuration for Fedora Core 2&lt;/div&gt;
+        You will need to add the following lines to your yum config: 
+        &lt;div class=&quot;aptlines&quot;&gt;
+          &lt;pre&gt;
+[dries]
+name=Extra Fedora rpms dries - $releasever - $basearch
+baseurl=<A HREF="http://apt.sw.be/dries/fedora/linux/$releasever/$basearch/dries">http://apt.sw.be/dries/fedora/linux/$releasever/$basearch/dries</A>
+          &lt;/pre&gt;
+        &lt;/div&gt;
+      &lt;/div&gt;
+      &lt;div class=&quot;alinea&quot;&gt;
+        &lt;div class=&quot;title&quot;&gt;APT configuration for Fedora Core 2&lt;/div&gt;
+        You will need to add the following lines to your apt config:
+        &lt;div class=&quot;aptlines&quot;&gt;
+          &lt;pre&gt;
+rpm <A HREF="http://apt.sw.be">http://apt.sw.be</A> dries/fedora/fc2/i386 dries
+rpm-src <A HREF="http://apt.sw.be">http://apt.sw.be</A> dries/fedora/fc2/i386 dries
+          &lt;/pre&gt;
+        &lt;/div&gt;
+      &lt;/div&gt;      
+      &lt;div class=&quot;alinea&quot;&gt;
+        &lt;div class=&quot;title&quot;&gt;YUM configuration for Fedora Core 1&lt;/div&gt;
+        You will need to add the following lines to your yum config: 
+        &lt;div class=&quot;aptlines&quot;&gt;
+          &lt;pre&gt;
+[dries]
+name=Extra Fedora rpms dries - $releasever - $basearch
+baseurl=<A HREF="http://apt.sw.be/dries/fedora/linux/$releasever/$basearch/dries">http://apt.sw.be/dries/fedora/linux/$releasever/$basearch/dries</A>
+          &lt;/pre&gt;
+        &lt;/div&gt;
+      &lt;/div&gt;
+      &lt;div class=&quot;alinea&quot;&gt;
+        &lt;div class=&quot;title&quot;&gt;APT configuration for Fedora Core 1&lt;/div&gt;
+        You will need to add the following lines to your apt config:
+        &lt;div class=&quot;aptlines&quot;&gt;
+          &lt;pre&gt;
+rpm <A HREF="http://apt.sw.be">http://apt.sw.be</A> dries/fedora/fc1/i386 dries
+rpm-src <A HREF="http://apt.sw.be">http://apt.sw.be</A> dries/fedora/fc1/i386 dries
+          &lt;/pre&gt;
+        &lt;/div&gt;
+      &lt;/div&gt;
+      &lt;div class=&quot;alinea&quot;&gt;
+        &lt;div class=&quot;title&quot;&gt;YUM configuration for Aurora Linux 1.91&lt;/div&gt;
+        You will need to add the following lines to your yum config: 
+        &lt;div class=&quot;aptlines&quot;&gt;
+          &lt;pre&gt;
+[dries]
+name=Extra Fedora rpms dries - $releasever - $basearch
+baseurl=<A HREF="http://apt.sw.be/dries/aurora/1.91/sparc/dries">http://apt.sw.be/dries/aurora/1.91/sparc/dries</A>
+          &lt;/pre&gt;
+        &lt;/div&gt;
+      &lt;/div&gt;
+      &lt;div class=&quot;alinea&quot;&gt;
+        &lt;div class=&quot;title&quot;&gt;APT configuration for Aurora Linux 1.91&lt;/div&gt;
+        You will need to add the following lines to your apt config:
+        &lt;div class=&quot;aptlines&quot;&gt;
+          &lt;pre&gt;
+rpm <A HREF="http://apt.sw.be">http://apt.sw.be</A> dries/aurora/1.91/sparc dries
+rpm-src <A HREF="http://apt.sw.be">http://apt.sw.be</A> dries/aurora/1.91/sparc dries
+          &lt;/pre&gt;
+        &lt;/div&gt;
+      &lt;/div&gt;
+      &lt;div class=&quot;alinea&quot;&gt;
+        &lt;div class=&quot;title&quot;&gt;YUM configuration for Aurora Linux 1.92&lt;/div&gt;
+        You will need to add the following lines to your yum config: 
+        &lt;div class=&quot;aptlines&quot;&gt;
+          &lt;pre&gt;
+[dries]
+name=Extra Fedora rpms dries - $releasever - $basearch
+baseurl=<A HREF="http://apt.sw.be/dries/aurora/1.92/sparc/dries">http://apt.sw.be/dries/aurora/1.92/sparc/dries</A>
+          &lt;/pre&gt;
+        &lt;/div&gt;
+      &lt;/div&gt;
+      &lt;div class=&quot;alinea&quot;&gt;
+        &lt;div class=&quot;title&quot;&gt;APT configuration for Aurora Linux 1.92&lt;/div&gt;
+        You will need to add the following lines to your apt config:
+        &lt;div class=&quot;aptlines&quot;&gt;
+          &lt;pre&gt;
+rpm <A HREF="http://apt.sw.be">http://apt.sw.be</A> dries/aurora/1.92/sparc dries
+rpm-src <A HREF="http://apt.sw.be">http://apt.sw.be</A> dries/aurora/1.92/sparc dries
+          &lt;/pre&gt;
+        &lt;/div&gt;
+      &lt;/div&gt;
\ No newline at end of file

Added: trunk/tools/pydar2/dries/fullcontentstemplate.txt
===================================================================
--- trunk/tools/pydar2/dries/fullcontentstemplate.txt	2005-05-21 05:30:52 UTC (rev 3222)
+++ trunk/tools/pydar2/dries/fullcontentstemplate.txt	2005-05-21 20:14:16 UTC (rev 3223)
@@ -0,0 +1,49 @@
+&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;<A HREF="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</A>&quot;&gt;
+&lt;html xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>&quot; lang=&quot;en&quot;&gt;
+&lt;head&gt;
+&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
+&lt;title&gt;PAGETITLE&lt;/title&gt;
+&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; href=&quot;<A HREF="http://dries.ulyssis.org/layout/rpm.css">http://dries.ulyssis.org/layout/rpm.css</A>&quot;/&gt;
+
+&lt;/head&gt;
+&lt;body&gt;
+  &lt;div class=&quot;body&quot;&gt;
+    &lt;div class=&quot;leftmenu&quot;&gt;
+      &lt;div class=&quot;leftmenutop&quot;&gt;
+        MENU
+      &lt;/div&gt;
+    &lt;/div&gt;
+    &lt;div class=&quot;rightpart&quot;&gt;
+      &lt;div class=&quot;titlearea&quot;&gt;
+        TITLEAREA
+      &lt;/div&gt;
+      &lt;div class=&quot;rightmiddlepart&quot;&gt;
+      &lt;div class=&quot;adsense&quot;&gt;
+      &lt;script type=&quot;text/javascript&quot;&gt;&lt;!--
+google_ad_client = &quot;pub-5395874881198913&quot;;
+google_ad_width = 120;
+google_ad_height = 600;
+google_ad_format = &quot;120x600_as&quot;;
+google_ad_type = &quot;text&quot;;
+google_ad_channel =&quot;&quot;;
+google_color_border = &quot;CCCCCC&quot;;
+google_color_bg = &quot;FFFFFF&quot;;
+google_color_link = &quot;000000&quot;;
+google_color_url = &quot;666666&quot;;
+google_color_text = &quot;333333&quot;;
+//--&gt;&lt;/script&gt;
+             &lt;script type=&quot;text/javascript&quot;
+             src=&quot;<A HREF="http://pagead2.googlesyndication.com/pagead/show_ads.js">http://pagead2.googlesyndication.com/pagead/show_ads.js</A>&quot;&gt;
+             &lt;/script&gt;
+        &lt;/div&gt;
+        &lt;div class=&quot;contents&quot;&gt;
+          CONTENTS
+        &lt;/div&gt;
+      &lt;/div&gt;
+      &lt;div class=&quot;rightbottom&quot;&gt;
+        BOTTOM
+      &lt;/div&gt;
+    &lt;/div&gt;
+  &lt;/div&gt;
+&lt;/body&gt;
+&lt;/html&gt;
\ No newline at end of file

Added: trunk/tools/pydar2/dries/index-part.html
===================================================================
--- trunk/tools/pydar2/dries/index-part.html	2005-05-21 05:30:52 UTC (rev 3222)
+++ trunk/tools/pydar2/dries/index-part.html	2005-05-21 20:14:16 UTC (rev 3223)
@@ -0,0 +1,31 @@
+&lt;h2&gt;Dries RPM Repository&lt;/h2&gt;
+&lt;p&gt;
+This repository contains rpms for Red Hat Enterprise Linux 4 and 3, for Fedora Core 3, 2 and 1 
+and for Aurora Linux 1.92 and 1.91. The packages for Red Hat Enterprise Linux also work on rebuilds 
+like CentOS and TaoLinux. This repository is part of the RPMforge project which is a 
+collaboration of several packagers. The aim of RPMforge is to provide packages for 
+various RPM-based distributions and a multitude of architectures (x86, AMD64, alpha and sparc) That's why 
+you will find so many rpms of Bert, Dag and Matthias on my site: i'm rebuilding all of 
+their spec files for Aurora Linux 1.92 (sparc).&lt;/p&gt;
+&lt;p&gt;
+This repository contains TOTALRPMS rpm files and TOTALSRPMS source rpm files, divided as follows:
+&lt;ul&gt;
+  &lt;li&gt;EL4-I386-DRIES-RPMS rpm packages and EL4-I386-DRIES-SRPMS source rpm packages for Red Hat Enterprise Linux 4 i386&lt;/li&gt;
+  &lt;li&gt;EL3-I386-DRIES-RPMS rpm packages and EL3-I386-DRIES-SRPMS source rpm packages for Red Hat Enterprise Linux 3 i386&lt;/li&gt;
+  &lt;li&gt;FC3-I386-DRIES-RPMS rpm packages and FC3-I386-DRIES-SRPMS source rpm packages for Fedora Core 3 i386&lt;/li&gt;
+  &lt;li&gt;FC2-I386-DRIES-RPMS rpm packages and FC2-I386-DRIES-SRPMS source rpm packages for Fedora Core 2 i386&lt;/li&gt;
+  &lt;li&gt;FC1-I386-DRIES-RPMS rpm packages and FC1-I386-DRIES-SRPMS source rpm packages for Fedora Core 1 i386&lt;/li&gt;
+  &lt;li&gt;AU1.92-SPARC-DRIES-RPMS rpm packages and AU1.92-SPARC-DRIES-SRPMS source rpm packages for Aurora Linux 1.92 sparc&lt;/li&gt;
+  &lt;li&gt;AU1.91-SPARC-DRIES-RPMS rpm packages and AU1.91-SPARC-DRIES-SRPMS source rpm packages for Aurora Linux 1.91 sparc&lt;/li&gt;
+&lt;/ul&gt;
+Currently there are NUMBERSPECFILES spec files in the &lt;a href=&quot;<A HREF="http://svn.rpmforge.net/svn/trunk/">http://svn.rpmforge.net/svn/trunk/</A>&quot;&gt;subversion repository of RPMforge&lt;/a&gt;.
+&lt;/p&gt;
+&lt;h2&gt;What now?&lt;/h2&gt;
+&lt;p&gt;
+&lt;ul&gt;
+  &lt;li&gt;You can download individual packages from the &lt;a href=&quot;/rpm/packages.html&quot;&gt;list of rpm packages&lt;/a&gt;.&lt;/li&gt;
+  &lt;li&gt;You can add this rpm repository to your &lt;a href=&quot;/rpm/clientconfig.html&quot;&gt;smart, yum or apt configuration&lt;/a&gt;.&lt;/li&gt;
+  &lt;li&gt;You can get some information about the &lt;a href=&quot;/rpm/RPM-GPG-KEY.dries.html&quot;&gt;GPG Key&lt;/a&gt; which i use to sign all the packages.&lt;/li&gt;
+  &lt;li&gt;Check &lt;a href=&quot;/rpm/mirrors.html&quot;&gt;list of mirrors&lt;/a&gt; if you need a faster download then the default one.&lt;/li&gt;
+&lt;/ul&gt;
+&lt;/p&gt;
\ No newline at end of file

Added: trunk/tools/pydar2/dries/mirrors-part.html
===================================================================
--- trunk/tools/pydar2/dries/mirrors-part.html	2005-05-21 05:30:52 UTC (rev 3222)
+++ trunk/tools/pydar2/dries/mirrors-part.html	2005-05-21 20:14:16 UTC (rev 3223)
@@ -0,0 +1,28 @@
+&lt;h2&gt;Mirrors of this rpm repository&lt;/h2&gt;
+&lt;p&gt;
+You can use the following to create your own mirror:
+&lt;ul&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="http://ftp.belnet.be/packages/dries.ulyssis.org/">http://ftp.belnet.be/packages/dries.ulyssis.org/</A>&quot;&gt;<A HREF="http://ftp.belnet.be/packages/dries.ulyssis.org/&lt;/a">http://ftp.belnet.be/packages/dries.ulyssis.org/&lt;/a</A>&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="ftp://ftp.belnet.be/packages/dries.ulyssis.org/">ftp://ftp.belnet.be/packages/dries.ulyssis.org/</A>&quot;&gt;<A HREF="ftp://ftp.belnet.be/packages/dries.ulyssis.org/&lt;/a">ftp://ftp.belnet.be/packages/dries.ulyssis.org/&lt;/a</A>&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="rsync://ftp.belnet.be/packages/dries.ulyssis.org/">rsync://ftp.belnet.be/packages/dries.ulyssis.org/</A>&quot;&gt;<A HREF="rsync://ftp.belnet.be/packages/dries.ulyssis.org/&lt;/a">rsync://ftp.belnet.be/packages/dries.ulyssis.org/&lt;/a</A>&gt;&lt;/li&gt;
+&lt;/ul&gt;
+&lt;/p&gt;
+&lt;p&gt;
+You can also get the rpms at the following mirrors:
+&lt;ul&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="ftp://mirror.pacific.net.au/linux/freshrpms/dag/dries/">ftp://mirror.pacific.net.au/linux/freshrpms/dag/dries/</A>&quot;&gt;<A HREF="ftp://mirror.pacific.net.au/linux/freshrpms/dag/dries/&lt;/a">ftp://mirror.pacific.net.au/linux/freshrpms/dag/dries/&lt;/a</A>&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="http://apt.sw.be/dries/">http://apt.sw.be/dries/</A>&quot;&gt;<A HREF="http://apt.sw.be/dries/&lt;/a">http://apt.sw.be/dries/&lt;/a</A>&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="http://ftp.heanet.ie/pub/freshrpms/pub/dag/dries/">http://ftp.heanet.ie/pub/freshrpms/pub/dag/dries/</A>&quot;&gt;<A HREF="http://ftp.heanet.ie/pub/freshrpms/pub/dag/dries/&lt;/a">http://ftp.heanet.ie/pub/freshrpms/pub/dag/dries/&lt;/a</A>&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="http://ftp.freshrpms.net/pub/dag/dries/">http://ftp.freshrpms.net/pub/dag/dries/</A>&quot;&gt;<A HREF="http://ftp.freshrpms.net/pub/dag/dries/&lt;/a">http://ftp.freshrpms.net/pub/dag/dries/&lt;/a</A>&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="http://mirrors.ircam.fr/pub/dag/dries/">http://mirrors.ircam.fr/pub/dag/dries/</A>&quot;&gt;<A HREF="http://mirrors.ircam.fr/pub/dag/dries/&lt;/a">http://mirrors.ircam.fr/pub/dag/dries/&lt;/a</A>&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="http://wftp.tu-chemnitz.de/pub/linux/dag/dries/">http://wftp.tu-chemnitz.de/pub/linux/dag/dries/</A>&quot;&gt;<A HREF="http://wftp.tu-chemnitz.de/pub/linux/dag/dries/&lt;/a">http://wftp.tu-chemnitz.de/pub/linux/dag/dries/&lt;/a</A>&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="http://ftp-stud.fht-esslingen.de/dag/dries/">http://ftp-stud.fht-esslingen.de/dag/dries/</A>&quot;&gt;<A HREF="http://ftp-stud.fht-esslingen.de/dag/dries/&lt;/a">http://ftp-stud.fht-esslingen.de/dag/dries/&lt;/a</A>&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="ftp://ftp.telus.net/pub/dag/dag/dries">ftp://ftp.telus.net/pub/dag/dag/dries</A>&quot;&gt;<A HREF="ftp://ftp.telus.net/pub/dag/dag/dries/&lt;/a">ftp://ftp.telus.net/pub/dag/dag/dries/&lt;/a</A>&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="http://public.www.planetmirror.com/pub/dag/dries/">http://public.www.planetmirror.com/pub/dag/dries/</A>&quot;&gt;<A HREF="http://public.www.planetmirror.com/pub/dag/dries/&lt;/a">http://public.www.planetmirror.com/pub/dag/dries/&lt;/a</A>&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="http://ftp.lug.ro/freshrpms/dag/dries/">http://ftp.lug.ro/freshrpms/dag/dries/</A>&quot;&gt;<A HREF="http://ftp.lug.ro/freshrpms/dag/dries/&lt;/a">http://ftp.lug.ro/freshrpms/dag/dries/&lt;/a</A>&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="http://rh-mirror.linux.iastate.edu/pub/dag/dries/">http://rh-mirror.linux.iastate.edu/pub/dag/dries/</A>&quot;&gt;<A HREF="http://rh-mirror.linux.iastate.edu/pub/dag/dries/&lt;/a">http://rh-mirror.linux.iastate.edu/pub/dag/dries/&lt;/a</A>&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="http://ftp.riken.jp/Linux/dag/dries/">http://ftp.riken.jp/Linux/dag/dries/</A>&quot;&gt;<A HREF="http://ftp.riken.jp/Linux/dag/dries/&lt;/a">http://ftp.riken.jp/Linux/dag/dries/&lt;/a</A>&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;<A HREF="ftp://ftp.cs.uu.nl/mirror/dag.wieers/dries">ftp://ftp.cs.uu.nl/mirror/dag.wieers/dries</A>&quot;&gt;<A HREF="ftp://ftp.cs.uu.nl/mirror/dag.wieers/dries&lt;/a">ftp://ftp.cs.uu.nl/mirror/dag.wieers/dries&lt;/a</A>&gt;&lt;/li&gt;
+  
+&lt;/ul&gt;
+&lt;/p&gt;

Modified: trunk/tools/pydar2/php/css/style.css
===================================================================
--- trunk/tools/pydar2/php/css/style.css	2005-05-21 05:30:52 UTC (rev 3222)
+++ trunk/tools/pydar2/php/css/style.css	2005-05-21 20:14:16 UTC (rev 3223)
@@ -50,6 +50,7 @@
     position: relative;
     right: 10px;
     width: 75%;
+    margin-right: 120px;
 }
 table {
     border-collapse: collapse;
@@ -84,3 +85,11 @@
     border-spacing: 0px;
     padding: 2px;
 }
+
+.adsense {
+    position: absolute;
+    right: 0;
+    width: 120px;
+    height: 600px;
+    background-color: #000000;
+}

Modified: trunk/tools/pydar2/php/navigation.php
===================================================================
--- trunk/tools/pydar2/php/navigation.php	2005-05-21 05:30:52 UTC (rev 3222)
+++ trunk/tools/pydar2/php/navigation.php	2005-05-21 20:14:16 UTC (rev 3223)
@@ -37,4 +37,22 @@
     &lt;div class=&quot;navitem&quot;&gt;Primary mirror hosted at &lt;a class=&quot;navitem&quot; href=&quot;<A HREF="http://www.hea.net/">http://www.hea.net/</A>&quot;&gt;HEAnet&lt;/a&gt;&lt;/div&gt;
     &lt;div class=&quot;navitem&quot;&gt;Rsync site hosted at &lt;a class=&quot;navitem&quot; href=&quot;<A HREF="http://3ti.ericom.be/">http://3ti.ericom.be/</A>&quot;&gt;3TI&lt;/a&gt;&lt;/div&gt;
   &lt;/div&gt;
+&lt;/div&gt;
+&lt;div class=&quot;adsense&quot;&gt;
+      &lt;script type=&quot;text/javascript&quot;&gt;&lt;!--
+google_ad_client = &quot;pub-5395874881198913&quot;;
+google_ad_width = 120;
+google_ad_height = 600;
+google_ad_format = &quot;120x600_as&quot;;
+google_ad_type = &quot;text&quot;;
+google_ad_channel =&quot;&quot;;
+google_color_border = &quot;CCCCCC&quot;;
+google_color_bg = &quot;FFFFFF&quot;;
+google_color_link = &quot;000000&quot;;
+google_color_url = &quot;666666&quot;;
+google_color_text = &quot;333333&quot;;
+//--&gt;&lt;/script&gt;
+             &lt;script type=&quot;text/javascript&quot;
+             src=&quot;<A HREF="http://pagead2.googlesyndication.com/pagead/show_ads.js">http://pagead2.googlesyndication.com/pagead/show_ads.js</A>&quot;&gt;
+             &lt;/script&gt;
 &lt;/div&gt;
\ No newline at end of file

Modified: trunk/tools/pydar2/pydar/postgresqlstorage.py
===================================================================
--- trunk/tools/pydar2/pydar/postgresqlstorage.py	2005-05-21 05:30:52 UTC (rev 3222)
+++ trunk/tools/pydar2/pydar/postgresqlstorage.py	2005-05-21 20:14:16 UTC (rev 3223)
@@ -60,7 +60,7 @@
             sql = &quot;update pydar2_specfile set filename='&quot; + str(specRepoSpecFile.getFileName()) + &quot;', &quot;
             sql = sql + &quot; subdir='&quot; + str(specRepoSpecFile.getSubDir()) + &quot;', &quot;
             sql = sql + &quot; specrepoid=&quot; + str(specRepo.getId()) + &quot;, &quot;
-            sql = sql + &quot; checksum='&quot; + str(specRepoSpecFile.getCheckSum()) + &quot;', &quot;
+            sql = sql + &quot; checksum='&quot; + str(specRepoSpecFile.getCheckSum()) + &quot;' &quot;
             sql = sql + &quot; where id=&quot; + str(specRepoSpecFile.getId())
             cursor.execute(sql)
             conn.commit()
@@ -403,6 +403,23 @@
         self.__releaseConnection(conn)
         return retval
         
+    # returns an array of hashes with keys name, value, distroarchtag
+    def getTagsOfSpecFileVersion(self, versionId):
+        conn = self.__getConnection()
+        cursor = conn.cursor()
+        retval = []
+        sql = &quot;select t1.name, t1.value, d.distroarchtag from pydar2_specfile_tags t1, pydar2_distroarch d where t1.distroid=d.id and  versionid=5 order by t1.name asc, t1.distroid asc&quot;
+        cursor.execute(sql)
+        for row in cursor.fetchall():
+            h = {}
+            h[&quot;name&quot;] = row[0]
+            h[&quot;value&quot;] = row[1]
+            h[&quot;distroarchtag&quot;] = row[2]
+            retval.append(h)
+        cursor.close()
+        self.__releaseConnection(conn)
+        return retval
+        
     # get a mapping from something like fc3-i386 to --define fc3 1 --define dist fc3 for example
     def getDefinesByDistroArchTag(self,distroArchTag):
         conn = self.__getConnection()

Modified: trunk/tools/pydar2/pydar/rpmforgesite.py
===================================================================
--- trunk/tools/pydar2/pydar/rpmforgesite.py	2005-05-21 05:30:52 UTC (rev 3222)
+++ trunk/tools/pydar2/pydar/rpmforgesite.py	2005-05-21 20:14:16 UTC (rev 3223)
@@ -17,7 +17,7 @@
 # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
 # Copyright 2004 Dries Verachtert
 
-import sys, string, os, urllib,re 
+import sys, string, os, urllib,re ,shutil
 from datetime import datetime
 sys.path.append(&quot;/usr/share/pydar2/pydar&quot;)
 sys.path.append(&quot;pydar&quot;)
@@ -47,6 +47,10 @@
     def __init__(self,specRepo):
         self.__cat = Logger().get_instance(self)
         self.__cat.debug(&quot;start&quot;)
+        # this is a hash which contains values which can be used in templates
+        # for example FC3-I386-DRIES-RPMS -&gt; 533     (the number of rpms)
+        #                       LASTUPDATE -&gt; 4 jan 2010 5:07
+        self.__siteValues = {}
         self.__specRepo = specRepo
         self.__fullcontentstemplate = None
         self.__siterootdir =  &quot;/tmp/packages/&quot;
@@ -54,14 +58,29 @@
         self.__rpmlists = []
         self.__rpmlists.append(DistroArchObject(&quot;el4-i386-dries&quot;, &quot;el4 i386 rpms&quot;,&quot;<A HREF="http://ftp.belnet.be/packages/dries.ulyssis.org/redhat/el4/en/i386/RPMS.dries/">http://ftp.belnet.be/packages/dries.ulyssis.org/redhat/el4/en/i386/RPMS.dries/</A>&quot;, [&quot;el4.rf&quot;], &quot;Red Hat Enterprise Linux 4 for i386&quot;))
         self.__rpmlists.append(DistroArchObject(&quot;el3-i386-dries&quot;, &quot;el3 i386 rpms&quot;,&quot;<A HREF="http://ftp.belnet.be/packages/dries.ulyssis.org/redhat/el3/en/i386/RPMS.dries/">http://ftp.belnet.be/packages/dries.ulyssis.org/redhat/el3/en/i386/RPMS.dries/</A>&quot;, [&quot;el3.rf&quot;], &quot;Red Hat Enterprise Linux 3 for i386&quot;))
-        #self.__rpmlists.append(DistroArchObject(&quot;fc3-i386-dries&quot;, &quot;fc3 i386 rpms&quot;, &quot;<A HREF="http://ftp.belnet.be/packages/dries.ulyssis.org/fedora/fc3/i386/RPMS.dries/">http://ftp.belnet.be/packages/dries.ulyssis.org/fedora/fc3/i386/RPMS.dries/</A>&quot;, [&quot;fc3.rf&quot;, &quot;fc3.dries&quot;], &quot;Fedora Core 3 for i386&quot;))
-        #self.__rpmlists.append(DistroArchObject(&quot;fc2-i386-dries&quot;, &quot;fc2 i386 rpms&quot;, &quot;<A HREF="http://ftp.belnet.be/packages/dries.ulyssis.org/fedora/fc2/i386/RPMS.dries/">http://ftp.belnet.be/packages/dries.ulyssis.org/fedora/fc2/i386/RPMS.dries/</A>&quot;[&quot;fc2.rf&quot;, &quot;fc2.dries&quot;], &quot;Fedora Core 2 for i386&quot;))
-        #self.__rpmlists.append(DistroArchObject(&quot;fc1-i386-dries&quot;, &quot;fc1 i386 rpms&quot;, &quot;<A HREF="http://ftp.belnet.be/packages/dries.ulyssis.org/fedora/fc1/i386/RPMS.dries/">http://ftp.belnet.be/packages/dries.ulyssis.org/fedora/fc1/i386/RPMS.dries/</A>&quot;, [&quot;fc1.rf&quot;, &quot;fc1.dries&quot;], &quot;Fedora Core 1 for i386&quot;))
-        #self.__rpmlists.append(DistroArchObject(&quot;au1.92-sparc-dries&quot;, &quot;au1.92 sparc rpms&quot;, &quot;<A HREF="http://ftp.belnet.be/packages/dries.ulyssis.org/aurora/1.92/sparc/RPMS.dries/">http://ftp.belnet.be/packages/dries.ulyssis.org/aurora/1.92/sparc/RPMS.dries/</A>&quot;, [&quot;au1.92.rf&quot;, &quot;au1.92.dries&quot;], &quot;Aurora 1.92 for sparc&quot;))
-        #self.__rpmlists.append(DistroArchObject(&quot;au1.91-sparc-dries&quot;, &quot;au1.91 sparc rpms&quot;, &quot;<A HREF="http://ftp.belnet.be/packages/dries.ulyssis.org/aurora/1.91/sparc/RPMS.dries/">http://ftp.belnet.be/packages/dries.ulyssis.org/aurora/1.91/sparc/RPMS.dries/</A>&quot;, [&quot;au1.91.rf&quot;, &quot;au1.92.dries&quot;],&quot;Aurora 1.91 for sparc&quot;))
+        self.__rpmlists.append(DistroArchObject(&quot;fc3-i386-dries&quot;, &quot;fc3 i386 rpms&quot;, &quot;<A HREF="http://ftp.belnet.be/packages/dries.ulyssis.org/fedora/fc3/i386/RPMS.dries/">http://ftp.belnet.be/packages/dries.ulyssis.org/fedora/fc3/i386/RPMS.dries/</A>&quot;, [&quot;fc3.rf&quot;, &quot;fc3.dries&quot;], &quot;Fedora Core 3 for i386&quot;))
+        self.__rpmlists.append(DistroArchObject(&quot;fc2-i386-dries&quot;, &quot;fc2 i386 rpms&quot;, &quot;<A HREF="http://ftp.belnet.be/packages/dries.ulyssis.org/fedora/fc2/i386/RPMS.dries/">http://ftp.belnet.be/packages/dries.ulyssis.org/fedora/fc2/i386/RPMS.dries/</A>&quot;, [&quot;fc2.rf&quot;, &quot;fc2.dries&quot;], &quot;Fedora Core 2 for i386&quot;))
+        self.__rpmlists.append(DistroArchObject(&quot;fc1-i386-dries&quot;, &quot;fc1 i386 rpms&quot;, &quot;<A HREF="http://ftp.belnet.be/packages/dries.ulyssis.org/fedora/fc1/i386/RPMS.dries/">http://ftp.belnet.be/packages/dries.ulyssis.org/fedora/fc1/i386/RPMS.dries/</A>&quot;, [&quot;fc1.rf&quot;, &quot;fc1.dries&quot;], &quot;Fedora Core 1 for i386&quot;))
+        self.__rpmlists.append(DistroArchObject(&quot;au1.92-sparc-dries&quot;, &quot;au1.92 sparc rpms&quot;, &quot;<A HREF="http://ftp.belnet.be/packages/dries.ulyssis.org/aurora/1.92/sparc/RPMS.dries/">http://ftp.belnet.be/packages/dries.ulyssis.org/aurora/1.92/sparc/RPMS.dries/</A>&quot;, [&quot;au1.92.rf&quot;, &quot;au1.92.dries&quot;], &quot;Aurora 1.92 for sparc&quot;))
+        self.__rpmlists.append(DistroArchObject(&quot;au1.91-sparc-dries&quot;, &quot;au1.91 sparc rpms&quot;, &quot;<A HREF="http://ftp.belnet.be/packages/dries.ulyssis.org/aurora/1.91/sparc/RPMS.dries/">http://ftp.belnet.be/packages/dries.ulyssis.org/aurora/1.91/sparc/RPMS.dries/</A>&quot;, [&quot;au1.91.rf&quot;, &quot;au1.92.dries&quot;],&quot;Aurora 1.91 for sparc&quot;))
         self.__rpmNameToSpecSubDirName = {}
         self.__completeRpmsLists()
+        self.__completeSiteValues()
         
+    # counters is a hash which contains interesting values which can be used on pages
+    def __completeSiteValues(self):
+        # it should already contain
+        # EL4-I386-DRIES-RPMS, EL4-I386-DRIES-SRPMS, ...
+        self.__siteValues[&quot;NUMBERSPECFILES&quot;] = len(self.__specRepo.getSpecRepositorySpecFiles())
+        self.__siteValues[&quot;LASTUPDATE&quot;] = str(datetime.today())
+        totrpms = 0
+        totsrpms = 0
+        for d in self.__rpmlists:
+            totrpms = totrpms + len(d.rpms)
+            totsrpms = totsrpms + len(d.srpms)
+        self.__siteValues[&quot;TOTALRPMS&quot;] = totrpms
+        self.__siteValues[&quot;TOTALSRPMS&quot;] = totsrpms
+        
     def __completeRpmsLists(self):
         # list of packagenames
         packagenames = self.__getPackageNameListSortedByLength()
@@ -75,6 +94,7 @@
             # ok get the list of rpms and srpms of this list
             f = urllib.urlopen(listje.rpmsUrl)
             #print f.info()
+            print  &quot;start, &quot; + listje.rpmsUrl
             lijn = f.readline()
             while lijn != &quot;&quot;:
                 #print l
@@ -87,17 +107,19 @@
                         i = i + 1
                         #print i, len(packagenames)
                     if i&lt;len(packagenames):
-                        print &quot;match: &quot; + rpm + &quot;, package=&quot; + packagenames[i]
+                        #print &quot;match: &quot; + rpm + &quot;, package=&quot; + packagenames[i]
                         nametospecrepospecfile[packagenames[i]].rpmfilenames.append(listje.rpmsUrl + rpm)
                         self.__rpmNameToSpecSubDirName[rpm] = packagenames[i]
                 lijn = f.readline()
             f.close()
+            self.__siteValues[listje.shortName.upper() + &quot;-RPMS&quot;] = len(listje.rpms)
             
         # the same for the sprms
         for listje in self.__rpmlists:
             # ok get the list of rpms and srpms of this list
             f = urllib.urlopen(listje.rpmsUrl.replace(&quot;RPMS&quot;,&quot;SRPMS&quot;))
             #print f.info()
+            print &quot;start, &quot; + listje.rpmsUrl.replace(&quot;RPMS&quot;,&quot;SRPMS&quot;)
             lijn = f.readline()
             while lijn != &quot;&quot;:
                 #print l
@@ -110,11 +132,12 @@
                         i = i + 1
                         #print i, len(packagenames)
                     if i&lt;len(packagenames):
-                        print &quot;match: &quot; + rpm + &quot;, package=&quot; + packagenames[i]
+                        #print &quot;match: &quot; + rpm + &quot;, package=&quot; + packagenames[i]
                         nametospecrepospecfile[packagenames[i]].srpmfilenames.append(listje.rpmsUrl.replace(&quot;RPMS&quot;,&quot;SRPMS&quot;) + rpm)
                         self.__rpmNameToSpecSubDirName[rpm] = packagenames[i]
                 lijn = f.readline()
             f.close()
+            self.__siteValues[listje.shortName.upper() + &quot;-SRPMS&quot;] = len(listje.srpms)
         
     def __getPackageNameListSortedByLength(self):
         retval = []
@@ -126,31 +149,62 @@
         
     def generate(self):
         # generate the content
-        self.generatePackagesPage() 
+        print &quot;start, static pages&quot;
+        self.generateIndexPage()
+        self.generateMirrorsPage()
+        self.generatePackagesPage()
+        self.generateGPGKeyPage()
+        self.clientConfigPage()
+        self.setGPGKey()
+        print &quot;start, specrepospecfile pages&quot;
         for i in self.__specRepo.getSpecRepositorySpecFiles():
             self.generateOnePackagePage(i)
+        print &quot;start, distropages&quot;
         for i in self.__rpmlists:
             self.generateDistroArchPageRpm(i)
             self.generateDistroArchPageSrpm(i)
             
+    def clientConfigPage(self):
+        contents = self.__getFileContents(&quot;dries/clientconfig-part.html&quot;)
+        self.generateFullPage(contents,[],&quot;clientconfig.html&quot;, &quot;Smart, Yum or Apt configuration: Dries RPM Repository&quot;)
             
+            
+    def generateIndexPage(self):
+        contents = self.__getFileContents(&quot;dries/index-part.html&quot;)
+        self.generateFullPage(contents,[],&quot;index.html&quot;, &quot;Dries RPM Repository&quot;)
+        
+    def generateGPGKeyPage(self):
+        contents = self.__getFileContents(&quot;dries/RPM-GPG-KEY.dries-part.html&quot;)
+        self.generateFullPage(contents,[],&quot;RPM-GPG-KEY.dries.html&quot;, &quot;GPG Key: Dries RPM Repository&quot;)
+     
+    def setGPGKey(self):
+        shutil.copy(&quot;dries/RPM-GPG-KEY.dries.txt&quot;,self.__siterootdir)
+        
+    def generateMirrorsPage(self):
+        contents = self.__getFileContents(&quot;dries/mirrors-part.html&quot;)
+        self.generateFullPage(contents,[],&quot;mirrors.html&quot;, &quot;Mirrors: Dries RPM Repository&quot;)
+        
+        
     def generateDistroArchPageRpm(self,distroArch):
         contents = &quot;&quot;
-        contents = &quot;&lt;h2&gt;Rpms for &quot; + distroArch.fullName + &quot;&lt;/h2&gt;&quot;
+        contents = &quot;&lt;h2&gt;Rpms for &quot; + distroArch.fullName + &quot; (&quot; + distroArch.displayName + &quot;)&lt;/h2&gt;&quot;
         for r in distroArch.rpms:
             linkToPackage = &quot;&quot;
             if r in self.__rpmNameToSpecSubDirName:
-                linkToPackage = &quot;&amp;nbsp;-&amp;nbsp&lt;a href=\&quot;/packages/&quot; + self.__rpmNameToSpecSubDirName[r] + &quot;/info.html\&quot;&gt;&quot; + self.__rpmNameToSpecSubDirName[r] + &quot;&lt;/a&gt;&quot;
+                linkToPackage = &quot;&amp;nbsp;-&amp;nbsp&lt;a href=\&quot;/rpm/packages/&quot; + self.__rpmNameToSpecSubDirName[r] + &quot;/info.html\&quot;&gt;&quot; + self.__rpmNameToSpecSubDirName[r] + &quot;&lt;/a&gt;&quot;
             contents = contents + &quot;&lt;a href=\&quot;&quot; + distroArch.rpmsUrl + r + &quot;\&quot;&gt;&quot; + r + &quot;&lt;/a&gt;&quot; + linkToPackage + &quot;&lt;br /&gt;&quot;
-        self.generateFullPage(contents, [distroArch.displayName], distroArch.shortName + &quot;-rpms.html&quot;,distroArch.displayName + &quot;: Dries RPM Repository&quot;)
+        self.generateFullPage(contents, [distroArch.displayName], distroArch.shortName + &quot;-rpms.html&quot;,distroArch.fullName + &quot; (&quot; + distroArch.displayName + &quot;): Dries RPM Repository&quot;)
     
     def generateDistroArchPageSrpm(self,distroArch):
         contents = &quot;&quot;
         url = distroArch.rpmsUrl.replace(&quot;RPMS&quot;,&quot;SRPMS&quot;)
-        contents = &quot;&lt;h2&gt;Srpms for &quot; + distroArch.fullName + &quot;&lt;/h2&gt;&quot;
+        contents = &quot;&lt;h2&gt;Srpms for &quot; + distroArch.fullName + &quot; (&quot; + distroArch.displayName + &quot;)&lt;/h2&gt;&quot;
         for r in distroArch.rpms:
-            contents = contents + &quot;&lt;a href=\&quot;&quot; + url + r + &quot;\&quot;&gt;&quot; + r + &quot;&lt;/a&gt;&lt;br /&gt;&quot;
-        self.generateFullPage(contents, [distroArch.displayName], distroArch.shortName + &quot;-srpms.html&quot;,distroArch.displayName + &quot;: Dries RPM Repository&quot;)
+            linkToPackage = &quot;&quot;
+            if r in self.__rpmNameToSpecSubDirName:
+                linkToPackage = &quot;&amp;nbsp;-&amp;nbsp&lt;a href=\&quot;/rpm/packages/&quot; + self.__rpmNameToSpecSubDirName[r] + &quot;/info.html\&quot;&gt;&quot; + self.__rpmNameToSpecSubDirName[r] + &quot;&lt;/a&gt;&quot;
+            contents = contents + &quot;&lt;a href=\&quot;&quot; + url + r + &quot;\&quot;&gt;&quot; + r + &quot;&lt;/a&gt;&quot; + linkToPackage + &quot;&lt;br /&gt;&quot;
+        self.generateFullPage(contents, [distroArch.displayName], distroArch.shortName + &quot;-srpms.html&quot;,distroArch.fullName + &quot; (&quot; + distroArch.displayName + &quot;): Dries RPM Repository&quot;)
         
             
     def generatePackagesPage(self):
@@ -161,7 +215,7 @@
         self.generateFullPage(contents, [&quot;Packages&quot;], &quot;packages.html&quot;,&quot;List of rpm packages: Dries RPM Repository&quot;)
         
     def fillFullContentsTemplate(self):
-        self.__fullcontentstemplate = self.__getFileContents(&quot;fullcontentstemplate.txt&quot;)
+        self.__fullcontentstemplate = self.__getFileContents(&quot;dries/fullcontentstemplate.txt&quot;)
     
     def __getFileContents(self,fileName):
         tmp  = &quot;&quot;
@@ -179,7 +233,9 @@
         menu = menu + &quot;&quot;
         menu = menu + &quot;&lt;a href=\&quot;/rpm/clientconfig.html\&quot;&gt;APT/YUM/Smart config&lt;/a&gt;&lt;br /&gt;&quot;
         menu = menu + &quot;&lt;a href=\&quot;/rpm/packages.html\&quot;&gt;List of packages&lt;/a&gt;&lt;br /&gt;&quot;
-        menu = menu + &quot;&lt;a href=\&quot;/rpm/RPM-GPG-KEY.dries.txt\&quot;&gt;GPG key&lt;/a&gt;&lt;br /&gt;&quot;
+        menu = menu + &quot;&lt;a href=\&quot;/rpm/RPM-GPG-KEY.dries.html\&quot;&gt;GPG key&lt;/a&gt;&lt;br /&gt;&quot;
+        menu = menu + &quot;&lt;a href=\&quot;/rpm/mirrors.html\&quot;&gt;mirrors&lt;/a&gt;&lt;br /&gt;&quot;
+        
         for k in self.__rpmlists:
             menu = menu + &quot;&lt;a href=\&quot;/rpm/&quot; + k.shortName + &quot;-rpms.html\&quot;&gt;&quot; + k.displayName + &quot;&lt;/a&gt;&lt;br /&gt;&quot;
         for k in self.__rpmlists:
@@ -196,16 +252,20 @@
         full = string.replace(full,&quot;CONTENTS&quot;,contents)
         full = string.replace(full,&quot;PAGETITLE&quot;, title)
         full = string.replace(full,&quot;TITLEAREA&quot;, &quot;&lt;h1&gt;&quot; + title + &quot;&lt;/h1&gt;&quot;)
-        full = string.replace(full,&quot;BOTTOM&quot;, &quot;Send reactions to: &lt;a href=\&quot;mailto:<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>\&quot;&gt;Dries Verachtert &amp;lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&amp;gt;&lt;/a&gt;&lt;br /&gt;Last update on &quot; + str(datetime.today()))
+        full = string.replace(full,&quot;BOTTOM&quot;, &quot;Send reactions to: &lt;a href=\&quot;mailto:<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>\&quot;&gt;Dries Verachtert &amp;lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&amp;gt;&lt;/a&gt;&quot;) #+ &quot;&lt;br /&gt;Last update on &quot; + self.__siteValues[&quot;LASTUPDATE&quot;])
         full = string.replace(full,&quot;MENU&quot;,self.__getMenu(levels))
+        for k in self.__siteValues.keys():
+            full = string.replace(full,k,str(self.__siteValues[k]))
+        
         # first make sure the directory exists
         (tempdir, fname) = os.path.split(filename)
         dir = os.path.join(self.__siterootdir, tempdir)
-        print dir
+        #print dir
+        errors = 0
         try:
             os.makedirs(dir)
         except:
-            print &quot;keep on going&quot;
+            errors = errors + 1
         f = open(os.path.join(dir,fname), &quot;w&quot;)
         f.write(full)
         f.close()
@@ -221,7 +281,29 @@
     def generateOnePackagePageVersionPage(self,specRepoSpecFile, versionId):
         shortName = specRepoSpecFile.getSubDir()
         contents = &quot;&quot;
+        contents = contents + &quot;&lt;a href=\&quot;info.html\&quot;&gt;Back to the &quot; + shortName + &quot; rpms&lt;/a&gt;&lt;br /&gt;&quot;
+        
         contents = contents + &quot;&lt;span class=\&quot;subtitle\&quot;&gt;versionId &quot; + str(versionId) + &quot;:&lt;/span&gt;&lt;br /&gt;&quot;
+        contents = contents + &quot;&lt;table&gt;&lt;tr&gt;&lt;th&gt;Distro ids&lt;/th&gt;&lt;th&gt;Tag&lt;/th&gt;&lt;th&gt;Value&lt;/th&gt;&lt;/tr&gt;&quot;
+        arr = self.__storage.getTagsOfSpecFileVersion(versionId)
+        latesttag = &quot;&quot;
+        latestvalue = &quot;&quot;
+        diststring = &quot;&quot;
+        for h in arr:
+            if (h[&quot;name&quot;] == latesttag) and (h[&quot;value&quot;] == latestvalue):
+                diststring = diststring + h[&quot;distroarchtag&quot;] + &quot; &quot;
+            else:
+                if latesttag != &quot;&quot;:
+                    contents = contents + &quot;&lt;tr&gt;&lt;td&gt;&quot; + diststring + &quot;&lt;/td&gt;&lt;td&gt;&quot; + latesttag + &quot;&lt;/td&gt;&quot;
+                    contents = contents + &quot;&lt;td&gt;&quot; + latestvalue + &quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;
+                diststring = h[&quot;distroarchtag&quot;]
+                latesttag = h[&quot;name&quot;]
+                latestvalue = h[&quot;value&quot;]
+        if latesttag != &quot;&quot;:
+            contents = contents + &quot;&lt;tr&gt;&lt;td&gt;&quot; + diststring + &quot;&lt;/td&gt;&lt;td&gt;&quot; + latesttag + &quot;&lt;/td&gt;&quot;
+            contents = contents + &quot;&lt;td&gt;&quot; + latestvalue + &quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;
+        contents = contents + &quot;&lt;/table&gt;&quot;
+        self.generateFullPage(contents,[&quot;Packages&quot;, shortName, &quot;Version &quot; + str(versionId) + &quot; of &quot; + shortName], &quot;packages/&quot; + shortName + &quot;/&quot; + shortName + &quot;-version-&quot; + str(versionId) + &quot;.html&quot;, shortName + &quot; spec file, version &quot; + str(versionId))
         
         
     def generateOnePackagePageSpecPage(self,specRepoSpecFile):
@@ -231,38 +313,43 @@
         contents = contents + &quot;&lt;pre&gt;&quot;
         contents = contents + self.__getFileContents(specRepoSpecFile.getFullPath())
         contents = contents + &quot;&lt;/pre&gt;&quot;
-        self.generateFullPage(contents, [&quot;Packages&quot;,shortName, &quot;Spec file of &quot; + shortName], &quot;packages/&quot; + shortName  + &quot;/&quot; + shortName + &quot;-spec.html&quot;, &quot;Spec file of &quot; + shortName)
+        self.generateFullPage(contents, [&quot;Packages&quot;,shortName, shortName + &quot; spec file&quot;], &quot;packages/&quot; + shortName  + &quot;/&quot; + shortName + &quot;-spec.html&quot;, shortName + &quot; spec file : Dries RPM Repository&quot;)
         
     def getDistroNameFromRpmName(self, rpm):
         for distro in self.__rpmlists:
             for suf in distro.suffixes:
                 if rpm.rfind(suf) &gt; 0:
                     return distro.fullName
+        return &quot;unknown&quot;
         
     def generateOnePackagePageFirstPage(self, specRepoSpecFile, versions):
         shortName = specRepoSpecFile.getSubDir()
         contents = &quot;&quot;
-        contents = contents + &quot;&lt;h2&gt;General info:&lt;/h2&gt;&lt;br /&gt;&quot;
-        contents = contents + &quot;&lt;h2&gt;Rpms:&lt;/h2&gt;&lt;br /&gt;&quot;
+        contents = contents + &quot;&lt;h2&gt;General info:&lt;/h2&gt;&quot;
+        
+        contents = contents + &quot;&lt;h2&gt;Rpms:&lt;/h2&gt;&quot;
         for f in specRepoSpecFile.rpmfilenames:
             #print f.rfind(&quot;/&quot;) , len(f)
             short = f[f.rfind(&quot;/&quot;) +1: len(f)]
             distroName = self.getDistroNameFromRpmName(short)
             contents = contents + &quot;&lt;a href=\&quot;&quot; + f + &quot;\&quot;&gt;&quot; + short + &quot;&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot; + distroName + &quot;&lt;br /&gt;&quot;
-        contents = contents + &quot;&lt;h2&gt;Srpms:&lt;/h2&gt;&lt;br /&gt;&quot;
+        contents = contents + &quot;&lt;h2&gt;Srpms:&lt;/h2&gt;&quot;
         for f in specRepoSpecFile.srpmfilenames:
             short = f[f.rfind(&quot;/&quot;)+1:  len(f)]
             distroName = self.getDistroNameFromRpmName(short)
             contents = contents + &quot;&lt;a href=\&quot;&quot; + f + &quot;\&quot;&gt;&quot; + short + &quot;&lt;/a&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot; + distroName + &quot;&lt;br /&gt;&quot;
-        contents = contents + &quot;&lt;h2&gt;Spec info:&lt;/h2&gt;&lt;br /&gt;&quot;
+        contents = contents + &quot;&lt;h2&gt;Spec info:&lt;/h2&gt;&quot;
         contents = contents + &quot;Spec filename: &quot; + specRepoSpecFile.getFileName() + &quot;&lt;br /&gt;&quot;
         contents = contents + &quot;View spec: &lt;a href=\&quot;&quot; + specRepoSpecFile.getSubDir() + &quot;-spec.html\&quot;&gt;&quot; + specRepoSpecFile.getSubDir() + &quot; spec file&lt;/a&gt;&lt;br /&gt;&quot;
         svnUrl = &quot;<A HREF="http://svn.rpmforge.net/svn/trunk/rpms/">http://svn.rpmforge.net/svn/trunk/rpms/</A>&quot; + specRepoSpecFile.getSubDir() + &quot;/&quot; + specRepoSpecFile.getFileName() 
         contents = contents +  &quot;Rpmforge Subversion URL: &lt;a href=\&quot;&quot; + svnUrl + &quot;\&quot;&gt;&quot; + svnUrl + &quot;&lt;/a&gt;&lt;br /&gt;&quot;
-        contents = contents + &quot;&lt;h2&gt;Pydar2 info:&lt;/h2&gt;&lt;br /&gt;&quot;
+        contents = contents + &quot;&lt;h2&gt;Pydar2 info:&lt;/h2&gt;&quot;
         contents = contents + &quot;Id in db: &quot; + str(specRepoSpecFile.getId()) + &quot;&lt;br /&gt;&quot;
         contents = contents + &quot;Checksum: &quot; + specRepoSpecFile.getCheckSum() + &quot;&lt;br /&gt;&quot;
-        self.generateFullPage(contents, [&quot;Packages&quot;,shortName], &quot;packages/&quot; + shortName  + &quot;/info.html&quot;, &quot;RPM &quot; + shortName + &quot; : Dries RPM Repository&quot;)
+        contents = contents + &quot;&lt;h2&gt;Versions in pydar2:&lt;/h2&gt;&quot;
+        for versionId in versions:
+            contents = contents  + &quot;&lt;a href=\&quot;&quot; + shortName + &quot;-version-&quot; + str(versionId) + &quot;.html\&quot;&gt;version &quot; + str(versionId) + &quot; of &quot; + shortName + &quot;&lt;/a&gt;&lt;br /&gt;&quot;
+        self.generateFullPage(contents, [&quot;Packages&quot;,shortName + &quot; RPM&quot;], &quot;packages/&quot; + shortName  + &quot;/info.html&quot;, shortName + &quot; RPM : Dries RPM Repository&quot;)
         
 class TmpOptions:
     def __init__(self):

Modified: trunk/tools/pydar2/sql/master.sql
===================================================================
--- trunk/tools/pydar2/sql/master.sql	2005-05-21 05:30:52 UTC (rev 3222)
+++ trunk/tools/pydar2/sql/master.sql	2005-05-21 20:14:16 UTC (rev 3223)
@@ -97,13 +97,15 @@
         priority	INTEGER NOT NULL default 0,
 	targetid	INTEGER NOT NULL,
         handled		BOOLEAN NOT NULL DEFAULT FALSE,
-        inprogress	BOOLEAN NOT NULL DEFAULT FALSE
+        inprogress	BOOLEAN NOT NULL DEFAULT FALSE,
+	versionid	INTEGER NOT NULL 
 );
 alter table pydar2_commands add constraint fk_commands_userid foreign key (userid) references pydar2_users(id);
 alter table pydar2_commands add constraint fk_commands_specrepoid foreign key (specrepoid) references pydar2_specrepo(id);
 alter table pydar2_commands add constraint fk_commands_specfileid foreign key (specfileid) references pydar2_specfile(id);
 alter table pydar2_commands add constraint fk_commands_distroarchtag foreign key (distroarchtag) references pydar2_distroarch(distroarchtag);
 alter table pydar2_commands add constraint fk_commands_targetid foreign key (targetid) references pydar2_targets(id);
+alter table pydar2_commands add constraint fk_commands_versionid foreign key (versionid) references pydar2_specfile_version(id);
 
 create table pydar2_actions (
 	commandid	BIGINT NOT NULL,


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002024.html">[svn] r3222 - in trunk/rpms: htop miau
</A></li>
	<LI>Next message: <A HREF="002026.html">[svn] r3224 - trunk/rpms/pydar2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2025">[ date ]</a>
              <a href="thread.html#2025">[ thread ]</a>
              <a href="subject.html#2025">[ subject ]</a>
              <a href="author.html#2025">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
