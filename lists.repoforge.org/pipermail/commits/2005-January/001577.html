<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [SVN] r2772 - in trunk/rpms: ara fampp kajaani-kombat kgeography
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r2772%20-%20in%20trunk/rpms%3A%20ara%20fampp%20kajaani-kombat%20kgeography&In-Reply-To=%3C20050104115250.0617E17F5E%40web22.us.megagiga.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001576.html">
   <LINK REL="Next"  HREF="001578.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[SVN] r2772 - in trunk/rpms: ara fampp kajaani-kombat kgeography</H1>
    <B>svn-commits at rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r2772%20-%20in%20trunk/rpms%3A%20ara%20fampp%20kajaani-kombat%20kgeography&In-Reply-To=%3C20050104115250.0617E17F5E%40web22.us.megagiga.com%3E"
       TITLE="[SVN] r2772 - in trunk/rpms: ara fampp kajaani-kombat kgeography">svn-commits at rpmforge.net
       </A><BR>
    <I>Tue Jan  4 12:52:50 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001576.html">[SVN] r2771 - trunk/web/packager
</A></li>
        <LI>Next message: <A HREF="001578.html">[SVN] r2773 - trunk/rpms/perl-Email-MIME-Attachment-Stripper
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1577">[ date ]</a>
              <a href="thread.html#1577">[ thread ]</a>
              <a href="subject.html#1577">[ subject ]</a>
              <a href="author.html#1577">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dries
Date: 2005-01-04 12:52:49 +0100 (Tue, 04 Jan 2005)
New Revision: 2772

Added:
   trunk/rpms/kajaani-kombat/gcc-3.4-fixes.patch
Modified:
   trunk/rpms/ara/ara.spec
   trunk/rpms/fampp/fampp.spec
   trunk/rpms/kajaani-kombat/kajaani-kombat.spec
   trunk/rpms/kgeography/kgeography.spec
Log:
updates

Modified: trunk/rpms/ara/ara.spec
===================================================================
--- trunk/rpms/ara/ara.spec	2005-01-04 11:39:28 UTC (rev 2771)
+++ trunk/rpms/ara/ara.spec	2005-01-04 11:52:49 UTC (rev 2772)
@@ -18,7 +18,7 @@
 Source: <A HREF="http://ara.alioth.debian.org/incoming/ara_%{version">http://ara.alioth.debian.org/incoming/ara_%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: lablgtk, ocaml
+BuildRequires: lablgtk, ocaml, gtk2-devel
 
 %description
 Ara is a command-line utility for querying the Debian package database. It

Modified: trunk/rpms/fampp/fampp.spec
===================================================================
--- trunk/rpms/fampp/fampp.spec	2005-01-04 11:39:28 UTC (rev 2771)
+++ trunk/rpms/fampp/fampp.spec	2005-01-04 11:52:49 UTC (rev 2772)
@@ -3,7 +3,7 @@
 
 Summary: C++ wrapper for fam, the file alteration monitor
 Name: fampp
-Version: 3.5.1
+Version: 3.5.2
 Release: 1
 License: GPL
 Group: System Environment/Daemons
@@ -12,9 +12,9 @@
 Packager: Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt;
 Vendor: Dries Apt/Yum Repository <A HREF="http://dries.ulyssis.org/ayo/">http://dries.ulyssis.org/ayo/</A>
 
-Source: <A HREF="http://dl.sf.net/fampp/fampp2-3.5.1.tar.bz2">http://dl.sf.net/fampp/fampp2-3.5.1.tar.bz2</A>
+Source: <A HREF="http://dl.sf.net/fampp/fampp2-%{version">http://dl.sf.net/fampp/fampp2-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
-BuildRequires: gcc-c++, stlport-devel
+BuildRequires: gcc-c++, stlport-devel, pkgconfig, gamin-devel
 
 %description
 Fam++ is a C++ wrapper for fam from sgi. Fam uses imon to inform it when 
@@ -64,6 +64,9 @@
 %exclude %{_libdir}/*.la
 
 %changelog
+* Wed Nov 03 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; 3.5.2-1
+- Update to release 3.5.2.
+
 * Tue Apr 27 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; 3.5.1-1
 - Initial package
 

Added: trunk/rpms/kajaani-kombat/gcc-3.4-fixes.patch
===================================================================
--- trunk/rpms/kajaani-kombat/gcc-3.4-fixes.patch	2005-01-04 11:39:28 UTC (rev 2771)
+++ trunk/rpms/kajaani-kombat/gcc-3.4-fixes.patch	2005-01-04 11:52:49 UTC (rev 2772)
@@ -0,0 +1,42 @@
+Binary files kajaani-kombat-0.5/kajaani-kombat and kajaani-kombat-0.5-fixed/kajaani-kombat differ
+diff -uNr kajaani-kombat-0.5/particle_efects.cpp kajaani-kombat-0.5-fixed/particle_efects.cpp
+--- kajaani-kombat-0.5/particle_efects.cpp	2004-06-22 17:11:21.000000000 +0200
++++ kajaani-kombat-0.5-fixed/particle_efects.cpp	2005-01-04 12:08:24.455253264 +0100
+@@ -290,7 +290,12 @@
+   : game_obj (_center, OWNER_NOONE)
+ {
+   num_particles = _num_particles;
+-  ptc = new particle[num_particles](_center);
++  ptc = new particle[num_particles];
++  for (int j=0;j&lt;num_particles;j++) {
++    particle *tmp = new particle(_center);
++    ptc[j] = *tmp;
++  }
++  //ptc = new particle[num_particles](_center);
+ }
+ 
+ particle_efect::~particle_efect()
+diff -uNr kajaani-kombat-0.5/player.cpp kajaani-kombat-0.5-fixed/player.cpp
+--- kajaani-kombat-0.5/player.cpp	2004-07-02 15:59:38.000000000 +0200
++++ kajaani-kombat-0.5-fixed/player.cpp	2005-01-04 11:43:04.865266056 +0100
+@@ -16,7 +16,7 @@
+   wins++;
+ }
+ 
+-player::player  (player &amp;p)
++player::player  (const player &amp;p)
+ {
+   conns = p.conns;
+   name = p.name;
+diff -uNr kajaani-kombat-0.5/player.h kajaani-kombat-0.5-fixed/player.h
+--- kajaani-kombat-0.5/player.h	2004-07-02 15:51:14.000000000 +0200
++++ kajaani-kombat-0.5-fixed/player.h	2005-01-04 11:43:05.103229880 +0100
+@@ -32,7 +32,7 @@
+ {
+ public:
+   player(connects *conn, const string&amp; _name);
+-  player (player &amp;p);
++  player (const player&amp;);
+   player();
+ 
+   bool is_connected() const;

Modified: trunk/rpms/kajaani-kombat/kajaani-kombat.spec
===================================================================
--- trunk/rpms/kajaani-kombat/kajaani-kombat.spec	2005-01-04 11:39:28 UTC (rev 2771)
+++ trunk/rpms/kajaani-kombat/kajaani-kombat.spec	2005-01-04 11:52:49 UTC (rev 2772)
@@ -7,7 +7,7 @@
 Summary: Multiplayer game in space
 Name: kajaani-kombat
 Version: 0.5
-Release: 1
+Release: 2
 License: GPL
 Group: Amusements/Games
 URL: <A HREF="http://kombat.kajaani.net/">http://kombat.kajaani.net/</A>
@@ -16,6 +16,7 @@
 Vendor: Dries Apt/Yum Repository <A HREF="http://dries.ulyssis.org/ayo/">http://dries.ulyssis.org/ayo/</A>
 
 Source: <A HREF="http://kombat.kajaani.net/dl/kajaani-kombat-%{version">http://kombat.kajaani.net/dl/kajaani-kombat-%{version</A>}.tar.gz
+Patch: gcc-3.4-fixes.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: gcc-c++, SDL-devel, SDL_ttf-devel, SDL_net-devel
 BuildRequires: SDL_image-devel, SDL_mixer-devel
@@ -32,8 +33,10 @@
 
 %prep
 %setup
+%patch -p1
 
 %build
+%{__perl} -pi -e 's|MEDIA_PATH=\\&quot;\./\\&quot;|MEDIA_PATH=\\&quot;/usr/share/games/kajaanikombat/\\&quot;|g;' Makefile
 %{__make} %{?_smp_mflags}
 
 %install
@@ -43,11 +46,11 @@
 %{__install} -m 0755 -d %{buildroot}/%{_mandir}/man6
 %{__install} -m 0755 kajaani-kombat %{buildroot}/%{_bindir}/kajaani-kombat
 %{__install} -m 0644 *.png %{buildroot}/%{_datadir}/games/kajaanikombat/
-%{__install} -m 0644 *.ttf %{buildroot}/%{_datadir}/games/kajaanikombat/
+%{__install} -m 0644 *.ttf *.ogg %{buildroot}/%{_datadir}/games/kajaanikombat/
 %{__install} -m 0644 kajaani-kombat.6 %{buildroot}/%{_mandir}/man6/
 
-%clean
-%{__rm} -rf %{buildroot}
+#%clean
+#%{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
@@ -57,6 +60,9 @@
 %{_mandir}/man6/*
 
 %changelog
+* Tue Jan 04 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; 0.5-2
+- Some fixes: gcc 3.4 patch and also include the ogg files.
+
 * Sat Oct 30 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; 0.5-1
 -  Update to release 0.5.
 

Modified: trunk/rpms/kgeography/kgeography.spec
===================================================================
--- trunk/rpms/kgeography/kgeography.spec	2005-01-04 11:39:28 UTC (rev 2771)
+++ trunk/rpms/kgeography/kgeography.spec	2005-01-04 11:52:49 UTC (rev 2772)
@@ -7,7 +7,7 @@
 
 Summary: Geography learning tool
 Name: kgeography
-Version: 0.1
+Version: 0.3
 Release: 1
 License: GPL
 Group: Amusements/Games
@@ -24,7 +24,7 @@
 BuildRequires: arts-devel, zlib-devel, gcc
 BuildRequires: kdelibs-devel, make, gcc-c++
 BuildRequires: XFree86-devel, qt-devel
-BuildRequires: desktop-file-utils
+BuildRequires: desktop-file-utils, gcc-g77, flex
 
 %description
 KGeography is a geography learning tool. Right now it has three usage modes: 
@@ -59,5 +59,8 @@
 %{_datadir}/config.kcfg/kgeography.kcfg
 
 %changelog
+* Sun Dec 26 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.3-1
+- Updated to release 0.3.
+
 * Tue May 4 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.1-1 
 - Initial package.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001576.html">[SVN] r2771 - trunk/web/packager
</A></li>
	<LI>Next message: <A HREF="001578.html">[SVN] r2773 - trunk/rpms/perl-Email-MIME-Attachment-Stripper
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1577">[ date ]</a>
              <a href="thread.html#1577">[ thread ]</a>
              <a href="subject.html#1577">[ subject ]</a>
              <a href="author.html#1577">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
