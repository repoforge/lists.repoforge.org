<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [SVN] r3042 - in trunk/rpms: epic python-adns python-bsddb3	python-chm python-crypto python-ctypes python-game	python-imaging python-log4py python-mx-base python-nids	python-numeric python-opengl python-sqlite python-twisted	python-utmp
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r3042%20-%20in%20trunk/rpms%3A%20epic%20python-adns%20python-bsddb3%0A%09python-chm%20python-crypto%20python-ctypes%20python-game%0A%09python-imaging%20python-log4py%20python-mx-base%20python-nids%0A%09python-numeric%20python-opengl%20python-sqlite%20python-twisted%0A%09python-utmp&In-Reply-To=%3C20050319083855.A0FCF5C41EE%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001842.html">
   <LINK REL="Next"  HREF="001846.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[SVN] r3042 - in trunk/rpms: epic python-adns python-bsddb3	python-chm python-crypto python-ctypes python-game	python-imaging python-log4py python-mx-base python-nids	python-numeric python-opengl python-sqlite python-twisted	python-utmp</H1>
    <B>svn-commits at rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r3042%20-%20in%20trunk/rpms%3A%20epic%20python-adns%20python-bsddb3%0A%09python-chm%20python-crypto%20python-ctypes%20python-game%0A%09python-imaging%20python-log4py%20python-mx-base%20python-nids%0A%09python-numeric%20python-opengl%20python-sqlite%20python-twisted%0A%09python-utmp&In-Reply-To=%3C20050319083855.A0FCF5C41EE%40pooch.vmhosting.org%3E"
       TITLE="[SVN] r3042 - in trunk/rpms: epic python-adns python-bsddb3	python-chm python-crypto python-ctypes python-game	python-imaging python-log4py python-mx-base python-nids	python-numeric python-opengl python-sqlite python-twisted	python-utmp">svn-commits at rpmforge.net
       </A><BR>
    <I>Sat Mar 19 09:38:55 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001842.html">[SVN] r3041 - trunk/rpms/python-nids
</A></li>
        <LI>Next message: <A HREF="001846.html">[svn] r3042 - in trunk/rpms: epic python-adns python-bsddb3	python-chm python-crypto python-ctypes python-game	python-imaging python-log4py python-mx-base python-nids	python-numeric python-opengl python-sqlite python-twisted	python-utmp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1843">[ date ]</a>
              <a href="thread.html#1843">[ thread ]</a>
              <a href="subject.html#1843">[ subject ]</a>
              <a href="author.html#1843">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2005-03-19 09:38:54 +0100 (Sat, 19 Mar 2005)
New Revision: 3042

Modified:
   trunk/rpms/epic/epic.spec
   trunk/rpms/python-adns/python-adns.spec
   trunk/rpms/python-bsddb3/python-bsddb3.spec
   trunk/rpms/python-chm/python-chm.spec
   trunk/rpms/python-crypto/python-crypto.spec
   trunk/rpms/python-ctypes/python-ctypes.spec
   trunk/rpms/python-game/python-game.spec
   trunk/rpms/python-imaging/python-imaging.spec
   trunk/rpms/python-log4py/python-log4py.spec
   trunk/rpms/python-mx-base/python-mx-base.spec
   trunk/rpms/python-nids/python-nids.spec
   trunk/rpms/python-numeric/python-numeric.spec
   trunk/rpms/python-opengl/python-opengl.spec
   trunk/rpms/python-sqlite/python-sqlite.spec
   trunk/rpms/python-twisted/python-twisted.spec
   trunk/rpms/python-utmp/python-utmp.spec
Log:
Mostly python cleanup

Modified: trunk/rpms/epic/epic.spec
===================================================================
--- trunk/rpms/epic/epic.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/epic/epic.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -1,10 +1,10 @@
 # $Id$
 # Authority: dag
-# Upstream: &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">list at epicsol.org</A>&gt;
+# Upstream: &lt;list$epicsol,org&gt;
 
 Summary: IrcII chat client
 Name: epic
-Version: 2.0
+Version: 2.2
 Release: 1
 Epoch: 4
 License: Distributable
@@ -31,8 +31,8 @@
 
 %prep 
 %setup -n epic4-%{version} -a 1
-%patch -p1 -b .stop
-%patch1 -p0 -b .default
+#%patch -p1 -b .stop
+#%patch1 -p0 -b .default
 
 ### Clean up CVS dirs
 find . -type d -name CVS -exec %{__rm} -rf {} \; || :
@@ -78,8 +78,11 @@
 %exclude %{_libexecdir}/wserv4
 
 %changelog
+* Sat Mar 19 2005 Bert de Bruijn &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bert at debruijn.be</A>&gt; - 4:2.2-1
+- Updated to release 2.2.
+
 * Thu Jul 15 2004 Bert de Bruijn &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">bert at debruijn.be</A>&gt; - 4:2.0-1
-- update to 2.0.
+- Updated to release 2.0.
 
 * Sat Apr 17 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 4:1.0.1-16
 - Clean up SPEC file.

Modified: trunk/rpms/python-adns/python-adns.spec
===================================================================
--- trunk/rpms/python-adns/python-adns.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-adns/python-adns.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -2,6 +2,8 @@
 # Authority: dag
 # Upstream: Andy Dustman &lt;webmaster$dustman,net&gt;
 
+%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
+
 %define real_name adns-python
 
 Summary: Python bindings for GNU adns library
@@ -15,7 +17,7 @@
 Source: <A HREF="http://dustman.net/andy/python/adns-python/%{version">http://dustman.net/andy/python/adns-python/%{version</A>}/adns-python-%{version}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
-BuildRequires: python, adns-devel, python-devel
+BuildRequires: python, python-devel, adns-devel
 Requires: python, adns
 
 %description
@@ -26,13 +28,13 @@
 %setup -n %{real_name}-%{version}
 
 %build
-CFLAGS=&quot;%{optflags} -fPIC -fomit-frame-pointer -DPIC&quot; python setup.py build
+CFLAGS=&quot;%{optflags} -fPIC -fomit-frame-pointer -DPIC&quot; %{__python} setup.py build
 
 %install
 %{__rm} -rf %{buildroot}
-python setup.py install \
-	--prefix=&quot;%{_prefix}&quot; \
-	--root=&quot;%{buildroot}&quot;
+%{__python} setup.py install \
+	--root=&quot;%{buildroot}&quot; \
+	--prefix=&quot;%{_prefix}&quot;
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -40,7 +42,7 @@
 %files
 %defattr(-, root, root, 0755)
 %doc GPL license.py README
-%{_libdir}/python*/site-packages/*
+%{python_sitearch}/*
 
 %changelog
 * Mon May 10 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0.0-1

Modified: trunk/rpms/python-bsddb3/python-bsddb3.spec
===================================================================
--- trunk/rpms/python-bsddb3/python-bsddb3.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-bsddb3/python-bsddb3.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -2,6 +2,8 @@
 # Authority: dag
 # Upstream: &lt;pybsddb-users$lists,sf,net&gt;
 
+%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
+
 %define real_name bsddb3
 
 Summary: Python interface for BerkeleyDB 3.x and 4.x
@@ -41,13 +43,13 @@
 	' setup.py
 
 %build
-CFLAGS=&quot;%{optflags}&quot; python setup.py build
+CFLAGS=&quot;%{optflags}&quot; %{__python} setup.py build
 
 %install
 %{__rm} -rf %{buildroot}
-python setup.py install \
-	--prefix=&quot;%{_prefix}&quot; \
-	--root=&quot;%{buildroot}&quot;
+%{__python} setup.py install \
+	--root=&quot;%{buildroot}&quot; \
+	--prefix=&quot;%{_prefix}&quot;
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -55,7 +57,7 @@
 %files
 %defattr(-, root, root, 0755)
 %doc ChangeLog *.txt docs/
-%{_libdir}/python*/site-packages/bsddb3/
+%{python_sitearch}/bsddb3/
 
 %changelog
 * Wed May 19 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 4.2.4-1

Modified: trunk/rpms/python-chm/python-chm.spec
===================================================================
--- trunk/rpms/python-chm/python-chm.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-chm/python-chm.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -29,13 +29,13 @@
 %setup -n %{real_name}-%{version}
 
 %build
-CFLAGS=&quot;%{optflags}&quot; python setup.py build
+CFLAGS=&quot;%{optflags}&quot; %{__python} setup.py build
 
 %install
 %{__rm} -rf %{buildroot}
-python setup.py install \
+%{__python} setup.py install \
 	--root=&quot;%{buildroot}&quot; \
-	--record=INSTALLED_FILES
+	--prefix=&quot;%{_prefix}&quot;
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/python-crypto/python-crypto.spec
===================================================================
--- trunk/rpms/python-crypto/python-crypto.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-crypto/python-crypto.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -1,6 +1,8 @@
 # $Id$
 # Authority: dag
 
+%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
+
 %define real_name pycrypto
 
 Summary: Collection of cryptographic algorithms and protocols for python
@@ -35,12 +37,13 @@
 %setup -n %{real_name}-%{version}
 
 %build
-python2 setup.py build
+%{__python} setup.py build
 
 %install
 %{__rm} -rf %{buildroot}
-python2 setup.py install \
-	--root=&quot;%{buildroot}&quot;
+%{__python} setup.py install \
+	--root=&quot;%{buildroot}&quot; \
+	--prefix=&quot;%{_prefix}&quot;
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -48,7 +51,7 @@
 %files
 %defattr(-, root, root, 0755)
 %doc ACKS ChangeLog LICENSE MANIFEST README TODO
-%{_libdir}/python*/site-packages/Crypto/
+%{python_sitearch}/Crypto/
 
 %changelog
 * Mon Dec 20 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.0-1

Modified: trunk/rpms/python-ctypes/python-ctypes.spec
===================================================================
--- trunk/rpms/python-ctypes/python-ctypes.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-ctypes/python-ctypes.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -27,11 +27,13 @@
 %setup -n %{real_name}-%{version}
 
 %build
-python setup.py build
+%{__python} setup.py build
 
 %install
 %{__rm} -rf %{buildroot}
-python setup.py install --root=&quot;%{buildroot}&quot;
+%{__python} setup.py install \
+	--root=&quot;%{buildroot}&quot; \
+	--prefix=&quot;%{_prefix}&quot;
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/python-game/python-game.spec
===================================================================
--- trunk/rpms/python-game/python-game.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-game/python-game.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -1,6 +1,8 @@
 # $Id$
 # Authority: dag
 
+%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
+
 %define real_name pygame
 
 Summary: Python module for interfacing with the SDL multimedia library
@@ -47,13 +49,14 @@
 %setup -n %{real_name}-%{version}
 
 %build
-python config.py
-python setup.py build
+%{__python} config.py
+%{__python} setup.py build
 
 %install
 %{__rm} -rf %{buildroot}
-python setup.py install \
-	--prefix=&quot;%{buildroot}%{_prefix}&quot;
+%{__python} setup.py install \
+	--root=&quot;%{buildroot}&quot; \
+	--prefix=&quot;%{_prefix}&quot;
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -61,7 +64,7 @@
 %files
 %defattr(-, root, root, 0755)
 %doc WHATSNEW readme.*
-%{_libdir}/python*/site-packages/pygame/
+%{python_sitearch}/pygame/
 %{_includedir}/python*/pygame/
 
 %files doc

Modified: trunk/rpms/python-imaging/python-imaging.spec
===================================================================
--- trunk/rpms/python-imaging/python-imaging.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-imaging/python-imaging.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -8,6 +8,7 @@
 %{?fc2: %define ft2build 1}
 %{?yd4: %define ft2build 1}
 
+%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
 %define pyver %(%{__python} -c 'import sys; print sys.version[:3]' || echo 2.0)
 
 Summary: Python's own image processing library
@@ -52,7 +53,9 @@
 
 %install
 %{__rm} -rf %{buildroot}
-%{__python} setup.py install --root=%{buildroot}
+%{__python} setup.py install \
+	--root=&quot;%{buildroot}&quot; \
+	--prefix=&quot;%{_prefix}&quot;
 
 
 %clean
@@ -62,8 +65,8 @@
 %files
 %defattr(-, root, root, 0755)
 %doc CHANGES* CONTENTS README Images/ Sane/ Scripts/
-%{_libdir}/python*/site-packages/PIL.pth
-%{_libdir}/python*/site-packages/PIL/
+%{python_sitearch}/PIL.path
+%{python_sitearch}/PIL/
 
 
 %changelog

Modified: trunk/rpms/python-log4py/python-log4py.spec
===================================================================
--- trunk/rpms/python-log4py/python-log4py.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-log4py/python-log4py.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -1,9 +1,11 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Martin Preishuber &lt;Martin,Preishuber$eclipt,at&gt;
+
 # Screenshot: <A HREF="http://www.its4you.at/images/screenshots/log4py.png">http://www.its4you.at/images/screenshots/log4py.png</A>
 
+%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
+
 %define real_name log4py
 
 Summary: Python logging module similar to log4j
@@ -29,13 +31,13 @@
 %setup -n %{real_name}-%{version}
 
 %build
-CFLAGS=&quot;%{optflags}&quot; python setup.py build
+CFLAGS=&quot;%{optflags}&quot; %{__python} setup.py build
 
 %install
 %{__rm} -rf %{buildroot}
-python setup.py install \
-	--prefix=&quot;%{_prefix}&quot; \
-	--root=&quot;%{buildroot}&quot;
+%{__python} setup.py install \
+	--root=&quot;%{buildroot}&quot; \
+	--prefix=&quot;%{_prefix}&quot;
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -43,7 +45,7 @@
 %files
 %defattr(-, root, root, 0755)
 %doc doc/* readme.txt log4py.conf
-%{_libdir}/python*/site-packages/log4py.py*
+%{python_sitearch}/log4py.py*
 
 %changelog
 * Sat Jun 5 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.3-1

Modified: trunk/rpms/python-mx-base/python-mx-base.spec
===================================================================
--- trunk/rpms/python-mx-base/python-mx-base.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-mx-base/python-mx-base.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -3,6 +3,8 @@
 
 # Tag: test
 
+%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
+
 %define real_name egenix-mx-base
 
 Summary: mx-base libraries for Python
@@ -36,11 +38,11 @@
 %setup -n %{real_name}-%{version}
 
 %build
-CFLAGS=&quot;%{optflags}&quot; python setup.py build
+CFLAGS=&quot;%{optflags}&quot; %{__python} setup.py build
 
 %install
 %{__rm} -rf %{buildroot}
-python setup.py install \
+%{__python} setup.py install \
 	--root=&quot;%{buildroot}&quot; \
 	--prefix=&quot;%{_prefix}&quot;
 
@@ -50,7 +52,7 @@
 %files
 %defattr(-, root, root, 0755)
 %doc README mx/Doc/ mx/*/Doc/ mx/DateTime/COPYRIGHT mx/DateTime/LICENSE
-%{_libdir}/python*/site-packages/mx/
+%{python_sitearch}/mx/
 
 %changelog
 * Sat Aug 02 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.0.4-0

Modified: trunk/rpms/python-nids/python-nids.spec
===================================================================
--- trunk/rpms/python-nids/python-nids.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-nids/python-nids.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -35,8 +35,8 @@
 %install
 %{__rm} -rf %{buildroot}
 %{__python} setup.py install \
-	--prefix=&quot;%{_prefix}&quot; \
-	--root=&quot;%{buildroot}&quot;
+	--root=&quot;%{buildroot}&quot; \
+	--prefix=&quot;%{_prefix}&quot;
 
 %clean
 %{__rm} -rf %{buildroot}

Modified: trunk/rpms/python-numeric/python-numeric.spec
===================================================================
--- trunk/rpms/python-numeric/python-numeric.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-numeric/python-numeric.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -1,7 +1,8 @@
 # $Id$
-
 # Authority: dag
 
+%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
+
 %define real_name Numeric
 
 Summary: Numerical Extension to Python
@@ -12,7 +13,7 @@
 Group: Development/Libraries
 URL: <A HREF="http://www.pfdubois.com/numpy/">http://www.pfdubois.com/numpy/</A>
 
-Source: <A HREF="http://dl.sf.net/numpy/%{real_name">http://dl.sf.net/numpy/%{real_name</A>}-%{version}.tar.gz
+Source: <A HREF="http://dl.sf.net/numpy/Numeric-%{version">http://dl.sf.net/numpy/Numeric-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: python, python-devel
 
@@ -25,12 +26,13 @@
 %setup -n %{real_name}-%{version}
 
 %build
-CFLAGS=&quot;%{optflags}&quot; python setup.py build
+CFLAGS=&quot;%{optflags}&quot; %{__python} setup.py build
 
 %install
 %{__rm} -rf %{buildroot}
-python setup.py install \
-	--root=&quot;%{buildroot}&quot;
+%{__python} setup.py install \
+	--root=&quot;%{buildroot}&quot; \
+	--prefix=&quot;%{_prefix}&quot;
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -38,6 +40,6 @@
 %files
 %defattr(-, root, root, 0755)
 %doc Demo/
-%{_libdir}/python*/site-packages/Numeric.pth
-%{_libdir}/python*/site-packages/Numeric/
+%{python_sitearch}/Numeric.pth
+%{python_sitearch}/Numeric/
 %{_includedir}/python*/Numeric/

Modified: trunk/rpms/python-opengl/python-opengl.spec
===================================================================
--- trunk/rpms/python-opengl/python-opengl.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-opengl/python-opengl.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -8,6 +8,8 @@
 %{?rh7:%define _without_tcltk_devel 1}
 %{?el2:%define _without_tcltk_devel 1}
 
+%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
+
 %define real_name PyOpenGL
 
 Summary: OpenGL bindings for Python
@@ -40,17 +42,18 @@
 #python setup.py build
 ### ugly kludge to get togl to build (tk bindings)
 ### as you can't pass -L to build, only build_togl
-python setup.py build_w
-python setup.py build_py
-python setup.py build_clib
-python setup.py build_ext
-python setup.py build_togl -L/usr/X11R6/lib
-python setup.py build
+%{__python} setup.py build_w
+%{__python} setup.py build_py
+%{__python} setup.py build_clib
+%{__python} setup.py build_ext
+%{__python} setup.py build_togl -L/usr/X11R6/lib
+%{__python} setup.py build
 
 %install
 %{__rm} -rf %{buildroot}
-python setup.py install \
-	--prefix=&quot;%{buildroot}%{_prefix}&quot;
+%{__python} setup.py install \
+	--root=&quot;%{buildroot}&quot; \
+	--prefix=&quot;%{_prefix}&quot;
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -58,7 +61,7 @@
 %files
 %defattr(-, root, root, 0755)
 %doc README
-%{_libdir}/python*/site-packages/OpenGL/
+%{python_sitearch}/OpenGL/
 
 %changelog
 * Sun Jan 02 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.0.1.09-1

Modified: trunk/rpms/python-sqlite/python-sqlite.spec
===================================================================
--- trunk/rpms/python-sqlite/python-sqlite.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-sqlite/python-sqlite.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -2,6 +2,8 @@
 # Authority: dag
 # Upstream: &lt;pysqlite-devel$lists,sf,net&gt;
 
+%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
+
 %define real_name pysqlite
 
 Summary: Python bindings for sqlite
@@ -29,8 +31,9 @@
 
 %install
 %{__rm} -rf %{buildroot}
-python ./setup.py install \
-	--prefix=&quot;%{buildroot}/%{_prefix}&quot;
+%{__python} setup.py install \
+	--root=&quot;%{buildroot}&quot; \
+	--prefix=&quot;%{_prefix}&quot;
 
 %clean
 %{__rm} -rf %{buildroot}
@@ -38,7 +41,7 @@
 %files
 %defattr(-, root, root, 0755)
 %doc LICENSE README doc/ examples/
-%{_libdir}/python*/site-packages/*
+%{python_sitearch}/*
 
 %changelog
 * Sat May 01 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.0-1

Modified: trunk/rpms/python-twisted/python-twisted.spec
===================================================================
--- trunk/rpms/python-twisted/python-twisted.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-twisted/python-twisted.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -1,5 +1,7 @@
 # $Id$
 
+%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
+
 Summary: Event-driven networking framework written in Python
 Name: python-twisted
 Version: 1.3.0
@@ -68,7 +70,7 @@
 %defattr(-, root, root, 0755)
 %doc CREDITS ChangeLog README
 %{_bindir}/*
-%{_libdir}/python?.?/site-packages/twisted
+%{python_sitearch}/twisted/
 %{_mandir}/man1/*
 
 %files docs

Modified: trunk/rpms/python-utmp/python-utmp.spec
===================================================================
--- trunk/rpms/python-utmp/python-utmp.spec	2005-03-19 08:18:25 UTC (rev 3041)
+++ trunk/rpms/python-utmp/python-utmp.spec	2005-03-19 08:38:54 UTC (rev 3042)
@@ -1,6 +1,7 @@
 # $Id$
 # Authority: dag
 
+%define python_sitearch %(%{__python} -c 'from distutils import sysconfig; print sysconfig.get_python_lib(1)')
 %define python_version %(python2 -c 'import sys; print sys.version[:3]')
 
 Summary: Python module for working with utmp
@@ -29,22 +30,21 @@
 %build
 %{__make} -f Makefile.glibc \
 	PYTHONVER=&quot;%{python_version}&quot; \
-	PYTHONDIR=&quot;%{_libdir}/python%{python_version}/site-packages/&quot;
+	PYTHONDIR=&quot;%{python_sitearch}&quot;
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall -f Makefile.glibc \
 	PYTHONVER=&quot;%{python_version}&quot; \
-	PYTHONDIR=&quot;%{buildroot}%{_libdir}/python%{python_version}/site-packages/&quot;
+	PYTHONDIR=&quot;%{buildroot}%{python_sitearch}&quot;
 
-
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
 %doc README TODO examples/*
-%{_libdir}/python%{python_version}/site-packages/*
+%{python_sitearch}/*
 
 %changelog
 * Wed Jan 05 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.7-1


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001842.html">[SVN] r3041 - trunk/rpms/python-nids
</A></li>
	<LI>Next message: <A HREF="001846.html">[svn] r3042 - in trunk/rpms: epic python-adns python-bsddb3	python-chm python-crypto python-ctypes python-game	python-imaging python-log4py python-mx-base python-nids	python-numeric python-opengl python-sqlite python-twisted	python-utmp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1843">[ date ]</a>
              <a href="thread.html#1843">[ thread ]</a>
              <a href="subject.html#1843">[ subject ]</a>
              <a href="author.html#1843">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
