<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [SVN] r2986 - in trunk/rpms: perl-Class-MethodMaker	perl-Class-Singleton perl-Clone perl-Crypt-CapnMidNite	perl-Data-UUID perl-DateTime perl-DateTime-Event-Chinese	perl-DateTime-Event-NameDay perl-DateTime-Event-SolarTerm	perl-DateTime-Locale perl-DateTime-TimeZone	perl-Digest-MD5-M4p perl-File-chdir perl-Heap	perl-Image-Imlib2 perl-Lingua-Stem-Snowball	perl-List-MoreUtils perl-Math-BigInt-GMP perl-Math-Round	perl-Math-VectorReal perl-Module-Build perl-Net-Pcap	perl-Net-SSH-Perl perl-POE perl-Plucene perl-Pod-Coverage	perl-Proc-Simple perl-Quota perl-SDL perl-Template-Toolkit	perl-Term-ReadKey perl-Test-AutoBuild perl-Time-Piece perl-Tk	perl-YAML-Active perl-libapreq
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r2986%20-%20in%20trunk/rpms%3A%20perl-Class-MethodMaker%0A%09perl-Class-Singleton%20perl-Clone%20perl-Crypt-CapnMidNite%0A%09perl-Data-UUID%20perl-DateTime%20perl-DateTime-Event-Chinese%0A%09perl-DateTime-Event-NameDay%20perl-DateTime-Event-SolarTerm%0A%09perl-DateTime-Locale%20perl-DateTime-TimeZone%0A%09perl-Digest-MD5-M4p%20perl-File-chdir%20perl-Heap%0A%09perl-Image-Imlib2%20perl-Lingua-Stem-Snowball%0A%09perl-List-MoreUtils%20perl-Math-BigInt-GMP%20perl-Math-Round%0A%09perl-Math-VectorReal%20perl-Module-Build%20perl-Net-Pcap%0A%09perl-Net-SSH-Perl%20perl-POE%20perl-Plucene%20perl-Pod-Coverage%0A%09perl-Proc-Simple%20perl-Quota%20perl-SDL%20perl-Template-Toolkit%0A%09perl-Term-ReadKey%20perl-Test-AutoBuild%20perl-Time-Piece%20perl-Tk%0A%09perl-YAML-Active%20perl-libapreq&In-Reply-To=%3C200503100656.j2A6uVkT029404%40lists.rpmforge.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001785.html">
   <LINK REL="Next"  HREF="001787.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[SVN] r2986 - in trunk/rpms: perl-Class-MethodMaker	perl-Class-Singleton perl-Clone perl-Crypt-CapnMidNite	perl-Data-UUID perl-DateTime perl-DateTime-Event-Chinese	perl-DateTime-Event-NameDay perl-DateTime-Event-SolarTerm	perl-DateTime-Locale perl-DateTime-TimeZone	perl-Digest-MD5-M4p perl-File-chdir perl-Heap	perl-Image-Imlib2 perl-Lingua-Stem-Snowball	perl-List-MoreUtils perl-Math-BigInt-GMP perl-Math-Round	perl-Math-VectorReal perl-Module-Build perl-Net-Pcap	perl-Net-SSH-Perl perl-POE perl-Plucene perl-Pod-Coverage	perl-Proc-Simple perl-Quota perl-SDL perl-Template-Toolkit	perl-Term-ReadKey perl-Test-AutoBuild perl-Time-Piece perl-Tk	perl-YAML-Active perl-libapreq</H1>
    <B>svn-commits at rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5BSVN%5D%20r2986%20-%20in%20trunk/rpms%3A%20perl-Class-MethodMaker%0A%09perl-Class-Singleton%20perl-Clone%20perl-Crypt-CapnMidNite%0A%09perl-Data-UUID%20perl-DateTime%20perl-DateTime-Event-Chinese%0A%09perl-DateTime-Event-NameDay%20perl-DateTime-Event-SolarTerm%0A%09perl-DateTime-Locale%20perl-DateTime-TimeZone%0A%09perl-Digest-MD5-M4p%20perl-File-chdir%20perl-Heap%0A%09perl-Image-Imlib2%20perl-Lingua-Stem-Snowball%0A%09perl-List-MoreUtils%20perl-Math-BigInt-GMP%20perl-Math-Round%0A%09perl-Math-VectorReal%20perl-Module-Build%20perl-Net-Pcap%0A%09perl-Net-SSH-Perl%20perl-POE%20perl-Plucene%20perl-Pod-Coverage%0A%09perl-Proc-Simple%20perl-Quota%20perl-SDL%20perl-Template-Toolkit%0A%09perl-Term-ReadKey%20perl-Test-AutoBuild%20perl-Time-Piece%20perl-Tk%0A%09perl-YAML-Active%20perl-libapreq&In-Reply-To=%3C200503100656.j2A6uVkT029404%40lists.rpmforge.net%3E"
       TITLE="[SVN] r2986 - in trunk/rpms: perl-Class-MethodMaker	perl-Class-Singleton perl-Clone perl-Crypt-CapnMidNite	perl-Data-UUID perl-DateTime perl-DateTime-Event-Chinese	perl-DateTime-Event-NameDay perl-DateTime-Event-SolarTerm	perl-DateTime-Locale perl-DateTime-TimeZone	perl-Digest-MD5-M4p perl-File-chdir perl-Heap	perl-Image-Imlib2 perl-Lingua-Stem-Snowball	perl-List-MoreUtils perl-Math-BigInt-GMP perl-Math-Round	perl-Math-VectorReal perl-Module-Build perl-Net-Pcap	perl-Net-SSH-Perl perl-POE perl-Plucene perl-Pod-Coverage	perl-Proc-Simple perl-Quota perl-SDL perl-Template-Toolkit	perl-Term-ReadKey perl-Test-AutoBuild perl-Time-Piece perl-Tk	perl-YAML-Active perl-libapreq">svn-commits at rpmforge.net
       </A><BR>
    <I>Thu Mar 10 07:56:31 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="001785.html">[SVN] r2985 - in trunk/rpms: perl-Graph perl-IO-All perl-SVN-Web
</A></li>
        <LI>Next message: <A HREF="001787.html">[SVN] r2987 - in trunk/rpms: perl-Class-MethodMaker perl-Clone	perl-Compress-Zlib perl-Crypt-CapnMidNite perl-Data-UUID	perl-DateTime perl-Digest-MD5-M4p perl-IO-Tty	perl-List-MoreUtils perl-Math-BigInt-GMP	perl-Math-TrulyRandom perl-Quota perl-Text-CSV_XS perl-Time-Piece
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1786">[ date ]</a>
              <a href="thread.html#1786">[ thread ]</a>
              <a href="subject.html#1786">[ subject ]</a>
              <a href="author.html#1786">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2005-03-10 07:56:24 +0100 (Thu, 10 Mar 2005)
New Revision: 2986

Modified:
   trunk/rpms/perl-Class-MethodMaker/perl-Class-MethodMaker.spec
   trunk/rpms/perl-Class-Singleton/perl-Class-Singleton.spec
   trunk/rpms/perl-Clone/perl-Clone.spec
   trunk/rpms/perl-Crypt-CapnMidNite/perl-Crypt-CapnMidNite.spec
   trunk/rpms/perl-Data-UUID/perl-Data-UUID.spec
   trunk/rpms/perl-DateTime-Event-Chinese/perl-DateTime-Event-Chinese.spec
   trunk/rpms/perl-DateTime-Event-NameDay/perl-DateTime-Event-NameDay.spec
   trunk/rpms/perl-DateTime-Event-SolarTerm/perl-DateTime-Event-SolarTerm.spec
   trunk/rpms/perl-DateTime-Locale/perl-DateTime-Locale.spec
   trunk/rpms/perl-DateTime-TimeZone/perl-DateTime-TimeZone.spec
   trunk/rpms/perl-DateTime/perl-DateTime.spec
   trunk/rpms/perl-Digest-MD5-M4p/perl-Digest-MD5-M4p.spec
   trunk/rpms/perl-File-chdir/perl-File-chdir.spec
   trunk/rpms/perl-Heap/perl-Heap.spec
   trunk/rpms/perl-Image-Imlib2/perl-Image-Imlib2.spec
   trunk/rpms/perl-Lingua-Stem-Snowball/perl-Lingua-Stem-Snowball.spec
   trunk/rpms/perl-List-MoreUtils/perl-List-MoreUtils.spec
   trunk/rpms/perl-Math-BigInt-GMP/perl-Math-BigInt-GMP.spec
   trunk/rpms/perl-Math-Round/perl-Math-Round.spec
   trunk/rpms/perl-Math-VectorReal/perl-Math-VectorReal.spec
   trunk/rpms/perl-Module-Build/perl-Module-Build.spec
   trunk/rpms/perl-Net-Pcap/perl-Net-Pcap.spec
   trunk/rpms/perl-Net-SSH-Perl/perl-Net-SSH-Perl.spec
   trunk/rpms/perl-POE/perl-POE.spec
   trunk/rpms/perl-Plucene/perl-Plucene.spec
   trunk/rpms/perl-Pod-Coverage/perl-Pod-Coverage.spec
   trunk/rpms/perl-Proc-Simple/perl-Proc-Simple.spec
   trunk/rpms/perl-Quota/perl-Quota.spec
   trunk/rpms/perl-SDL/perl-SDL.spec
   trunk/rpms/perl-Template-Toolkit/perl-Template-Toolkit.spec
   trunk/rpms/perl-Term-ReadKey/perl-Term-ReadKey.spec
   trunk/rpms/perl-Test-AutoBuild/perl-Test-AutoBuild.spec
   trunk/rpms/perl-Time-Piece/perl-Time-Piece.spec
   trunk/rpms/perl-Tk/perl-Tk.spec
   trunk/rpms/perl-YAML-Active/perl-YAML-Active.spec
   trunk/rpms/perl-libapreq/perl-libapreq.spec
Log:
Another bunch.

Modified: trunk/rpms/perl-Class-MethodMaker/perl-Class-MethodMaker.spec
===================================================================
--- trunk/rpms/perl-Class-MethodMaker/perl-Class-MethodMaker.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Class-MethodMaker/perl-Class-MethodMaker.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Martyn J. Pearce &lt;fluffy$cpan,org&gt;
 
-%define real_name Class-MethodMaker
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Class-MethodMaker
+
 Summary: Create generic methods for OO Perl
 Name: perl-Class-MethodMaker
 Version: 2.05
@@ -29,13 +27,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -43,13 +45,12 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorarch}/Class/
 %{perl_vendorarch}/Class/MethodMaker.pm
-%{perl_vendorarch}/Class/MethodMaker
-%{perl_vendorarch}/auto/Class/MethodMaker
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/*/.packlist
+%{perl_vendorarch}/Class/MethodMaker/
+%dir %{perl_vendorarch}/auto/Class/
+%{perl_vendorarch}/auto/Class/MethodMaker/
 
 %changelog
 * Wed Feb  2 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 2.05-1
 - Initial package.
-

Modified: trunk/rpms/perl-Class-Singleton/perl-Class-Singleton.spec
===================================================================
--- trunk/rpms/perl-Class-Singleton/perl-Class-Singleton.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Class-Singleton/perl-Class-Singleton.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Andy Wardley &lt;cpan$wardley,org&gt;
 
-%define real_name Class-Singleton
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Class-Singleton
+
 Summary: Implementation of a &quot;Singleton&quot; class
 Name: perl-Class-Singleton
 Version: 1.03
@@ -37,13 +35,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -51,9 +53,8 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorlib}/Class/
 %{perl_vendorlib}/Class/Singleton.pm
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/*/.packlist
 
 %changelog
 * Mon Dec 06 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.03-1

Modified: trunk/rpms/perl-Clone/perl-Clone.spec
===================================================================
--- trunk/rpms/perl-Clone/perl-Clone.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Clone/perl-Clone.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Ray Finch &lt;finchray$yahoo,com&gt;
 
-%define real_name Clone
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Clone
+
 Summary: Recursively copy Perl datatypes
 Name: perl-Clone
 Version: 0.15
@@ -29,13 +27,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -44,9 +46,7 @@
 %doc Changes
 %doc %{_mandir}/man3/*
 %{perl_vendorarch}/Clone.pm
-%{perl_vendorarch}/auto/Clone
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/.packlist
+%{perl_vendorarch}/auto/Clone/
 
 %changelog
 * Tue Dec 07 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.15-1

Modified: trunk/rpms/perl-Crypt-CapnMidNite/perl-Crypt-CapnMidNite.spec
===================================================================
--- trunk/rpms/perl-Crypt-CapnMidNite/perl-Crypt-CapnMidNite.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Crypt-CapnMidNite/perl-Crypt-CapnMidNite.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Michael Robinton &lt;michael$bizsystems,com&gt;
 
-%define real_name Crypt-CapnMidNite
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Crypt-CapnMidNite
+
 Summary: Perl interface to MD5, RC4, encrypt/decrypt
 Name: perl-Crypt-CapnMidNite
 Version: 1.00
@@ -32,11 +30,11 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 %{__mv} Makefile Makefile.CapnMidNite
 %{__perl} -pi -e 's|= \(1\)|= \(0\)|g;' Makefile.PL
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
@@ -44,6 +42,10 @@
 %makeinstall -f Makefile.CapnMidNite
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -51,12 +53,12 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorarch}/Crypt/
 %{perl_vendorarch}/Crypt/CapnMidNite.pm
 %{perl_vendorarch}/Crypt/C_LockTite.pm
-%{perl_vendorarch}/auto/Crypt/CapnMidNite
-%{perl_vendorarch}/auto/Crypt/C_LockTite
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/*/.packlist
+%dir %{perl_vendorarch}/auto/Crypt/
+%{perl_vendorarch}/auto/Crypt/CapnMidNite/
+%{perl_vendorarch}/auto/Crypt/C_LockTite/
 
 %changelog
 * Sat Dec 11 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.00-2

Modified: trunk/rpms/perl-Data-UUID/perl-Data-UUID.spec
===================================================================
--- trunk/rpms/perl-Data-UUID/perl-Data-UUID.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Data-UUID/perl-Data-UUID.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Alexander Golomshtok &lt;agolomsh$cronossystems,com&gt;
 
-%define real_name Data-UUID
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Data-UUID
+
 Summary: Generates Globally/Universally Unique Identifiers
 Name: perl-Data-UUID
 Version: 0.11
@@ -38,13 +36,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-(echo; echo; ) | %{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+(echo; echo; ) | %{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -52,16 +54,11 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorarch}/Data/
 %{perl_vendorarch}/Data/UUID.pm
-%{perl_vendorarch}/auto/Data/UUID/*
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/*/.packlist
+%dir %{perl_vendorarch}/auto/Data/
+%{perl_vendorarch}/auto/Data/UUID/
 
-# perl_vendorlib: /usr/lib/perl5/vendor_perl/5.8.0
-# perl_vendorarch: /usr/lib/perl5/vendor_perl/5.8.0/i386-linux-thread-multi
-# perl_archlib: /usr/lib/perl5/5.8.0/i386-linux-thread-multi
-# perl_privlib: /usr/lib/perl5/5.8.0
-
 %changelog
 * Wed Nov 03 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.11-1
 - Initial package.

Modified: trunk/rpms/perl-DateTime/perl-DateTime.spec
===================================================================
--- trunk/rpms/perl-DateTime/perl-DateTime.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-DateTime/perl-DateTime.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Dave Rolsky &lt;autarch$urth,org&gt;
 
-%define real_name DateTime
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name DateTime
+
 Summary: Date and time object
 Name: perl-DateTime
 Version: 0.28
@@ -39,13 +37,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -56,10 +58,9 @@
 %{perl_vendorarch}/DateTime.pm
 %{perl_vendorarch}/DateTimePP.pm
 %{perl_vendorarch}/DateTimePPExtra.pm
-%{perl_vendorarch}/DateTime
+%{perl_vendorarch}/DateTime/
+%dir %{perl_vendorarch}/auto/DateTime/
 %{perl_vendorarch}/auto/DateTime/DateTime.*
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/.packlist
 
 %changelog
 * Fri Mar  4 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.28-1

Modified: trunk/rpms/perl-DateTime-Event-Chinese/perl-DateTime-Event-Chinese.spec
===================================================================
--- trunk/rpms/perl-DateTime-Event-Chinese/perl-DateTime-Event-Chinese.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-DateTime-Event-Chinese/perl-DateTime-Event-Chinese.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Daisuke Maki &lt;dmaki$cpan,org&gt;
 
-%define real_name DateTime-Event-Chinese
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name DateTime-Event-Chinese
+
 Summary: DateTime Extension for Calculating Important Chinese Dates 
 Name: perl-DateTime-Event-Chinese
 Version: 0.03
@@ -30,20 +28,26 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
-%{__make} %{?_smp_mflags} OPTIMIZE=&quot;%{optflags}&quot;
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
+%{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
-%doc LICENSE CHANGES
+%doc CHANGES LICENSE
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorlib}/DateTime/
+%dir %{perl_vendorlib}/DateTime/Event/
 %{perl_vendorlib}/DateTime/Event/Chinese.pm
 
 %changelog

Modified: trunk/rpms/perl-DateTime-Event-NameDay/perl-DateTime-Event-NameDay.spec
===================================================================
--- trunk/rpms/perl-DateTime-Event-NameDay/perl-DateTime-Event-NameDay.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-DateTime-Event-NameDay/perl-DateTime-Event-NameDay.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Benjamin Bennett &lt;fiji$limey,net&gt;
 
-%define real_name DateTime-Event-NameDay
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name DateTime-Event-NameDay
+
 Summary: Perl DateTime extension to work with namedays from various countries
 Name: perl-DateTime-Event-NameDay
 Version: 0.02
@@ -30,13 +28,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
-%{__make} %{?_smp_mflags} OPTIMIZE=&quot;%{optflags}&quot;
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
+%{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -44,6 +46,8 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorlib}/DateTime/
+%dir %{perl_vendorlib}/DateTime/Event/
 %{perl_vendorlib}/DateTime/Event/NameDay.pm
 %{perl_vendorlib}/DateTime/Event/NameDay/*
 

Modified: trunk/rpms/perl-DateTime-Event-SolarTerm/perl-DateTime-Event-SolarTerm.spec
===================================================================
--- trunk/rpms/perl-DateTime-Event-SolarTerm/perl-DateTime-Event-SolarTerm.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-DateTime-Event-SolarTerm/perl-DateTime-Event-SolarTerm.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Daisuke Maki &lt;dmaki$cpan,org&gt;
 
-%define real_name DateTime-Event-SolarTerm
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name DateTime-Event-SolarTerm
+
 Summary: DateTime Extension to Calculate Solar Terms
 Name: perl-DateTime-Event-SolarTerm
 Version: 0.04
@@ -30,13 +28,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
-%{__make} %{?_smp_mflags} OPTIMIZE=&quot;%{optflags}&quot;
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
+%{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -44,6 +46,8 @@
 %defattr(-, root, root, 0755)
 %doc README CHANGES
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorlib}/DateTime/
+%dir %{perl_vendorlib}/DateTime/Event/
 %{perl_vendorlib}/DateTime/Event/SolarTerm.pm
 
 %changelog

Modified: trunk/rpms/perl-DateTime-Locale/perl-DateTime-Locale.spec
===================================================================
--- trunk/rpms/perl-DateTime-Locale/perl-DateTime-Locale.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-DateTime-Locale/perl-DateTime-Locale.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Dave Rolsky &lt;autarch$urth,org&gt;
 
-%define real_name DateTime-Locale
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name DateTime-Locale
+
 Summary: Localization support for DateTime
 Name: perl-DateTime-Locale
 Version: 0.21
@@ -30,13 +28,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -44,8 +46,9 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorlib}/DateTime/
 %{perl_vendorlib}/DateTime/Locale.pm
-%{perl_vendorlib}/DateTime/Locale
+%{perl_vendorlib}/DateTime/Locale/
 %{perl_vendorlib}/DateTime/LocaleCatalog.pm
 
 %changelog

Modified: trunk/rpms/perl-DateTime-TimeZone/perl-DateTime-TimeZone.spec
===================================================================
--- trunk/rpms/perl-DateTime-TimeZone/perl-DateTime-TimeZone.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-DateTime-TimeZone/perl-DateTime-TimeZone.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Dave Rolsky &lt;autarch$urth,org&gt;
 
-%define real_name DateTime-TimeZone
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name DateTime-TimeZone
+
 Summary: Time zone object base class and factory 
 Name: perl-DateTime-TimeZone
 Version: 0.33
@@ -35,13 +33,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -49,8 +51,9 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorlib}/DateTime/TimeZone.pm
 %{perl_vendorlib}/DateTime/TimeZone.pm
-%{perl_vendorlib}/DateTime/TimeZone
+%{perl_vendorlib}/DateTime/TimeZone/
 %{perl_vendorlib}/DateTime/TimeZoneCatalog.pm
 
 %changelog

Modified: trunk/rpms/perl-Digest-MD5-M4p/perl-Digest-MD5-M4p.spec
===================================================================
--- trunk/rpms/perl-Digest-MD5-M4p/perl-Digest-MD5-M4p.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Digest-MD5-M4p/perl-Digest-MD5-M4p.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: William Herrera &lt;whererra$lynxview,com&gt;
 
-%define real_name Digest-MD5-M4p
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Digest-MD5-M4p
+
 Summary: Perl interface to a variant of the MD5 algorithm
 Name: perl-Digest-MD5-M4p
 Version: 0.01
@@ -33,13 +31,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -47,10 +49,12 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorarch}/Digest/
+%dir %{perl_vendorarch}/Digest/MD5/
 %{perl_vendorarch}/Digest/MD5/M4p.pm
+%dir %{perl_vendorarch}/auto/Digest/
+%dir %{perl_vendorarch}/auto/Digest/MD5/
 %{perl_vendorarch}/auto/Digest/MD5/M4p
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/*/*/.packlist
 
 %changelog
 * Tue Dec 07 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.01-1

Modified: trunk/rpms/perl-File-chdir/perl-File-chdir.spec
===================================================================
--- trunk/rpms/perl-File-chdir/perl-File-chdir.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-File-chdir/perl-File-chdir.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -28,7 +28,7 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install

Modified: trunk/rpms/perl-Heap/perl-Heap.spec
===================================================================
--- trunk/rpms/perl-Heap/perl-Heap.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Heap/perl-Heap.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: John Macdonald &lt;john$perlwolf,com&gt;
 
-%define real_name Heap
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Heap
+
 Summary: Perl extensions for keeping data partially sorted
 Name: perl-Heap
 Version: 0.71
@@ -33,13 +31,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -48,10 +50,8 @@
 %doc README Changes
 %doc %{_mandir}/man3/*
 %{perl_vendorlib}/Heap.pm
-%{perl_vendorlib}/Heap
-%{perl_vendorlib}/auto/Heap
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/.packlist
+%{perl_vendorlib}/Heap/
+%{perl_vendorlib}/auto/Heap/
 
 %changelog
 * Mon Dec 06 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.71-1

Modified: trunk/rpms/perl-Image-Imlib2/perl-Image-Imlib2.spec
===================================================================
--- trunk/rpms/perl-Image-Imlib2/perl-Image-Imlib2.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Image-Imlib2/perl-Image-Imlib2.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Leon Brocard &lt;leon$astray,com&gt;
 
-%define real_name Image-Imlib2
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Image-Imlib2
+
 Summary: Interface to the Imlib2 image library
 Name: perl-Image-Imlib2
 Version: 1.04
@@ -33,13 +31,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -47,7 +49,9 @@
 %defattr(-, root, root, 0755)
 %doc README CHANGES
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorarch}/Image/
 %{perl_vendorarch}/Image/Imlib2.pm
+%dir %{perl_vendorarch}/auto/Image/
 %{perl_vendorarch}/auto/Image/Imlib2
 
 %changelog

Modified: trunk/rpms/perl-Lingua-Stem-Snowball/perl-Lingua-Stem-Snowball.spec
===================================================================
--- trunk/rpms/perl-Lingua-Stem-Snowball/perl-Lingua-Stem-Snowball.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Lingua-Stem-Snowball/perl-Lingua-Stem-Snowball.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Fabien Potencier &lt;fabpot$cpan,org&gt;
 
-%define real_name Lingua-Stem-Snowball
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Lingua-Stem-Snowball
+
 Summary: Perl interface to Snowball stemmers
 Name: perl-Lingua-Stem-Snowball
 Version: 0.9
@@ -29,13 +27,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -43,11 +45,12 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorarch}/Lingua/
+%dir %{perl_vendorarch}/Lingua/Stem/
 %{perl_vendorarch}/Lingua/Stem/Snowball.pm
 %{perl_vendorarch}/Lingua/Stem/add_stemmer.pl
-%{perl_vendorarch}/auto/Lingua/Stem/Snowball/Snowball.*
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/*/*/.packlist
+%dir %{perl_vendorarch}/auto/Lingua/Stem/
+%dir %{perl_vendorarch}/auto/Lingua/Stem/Snowball/
 
 %changelog
 * Fri Mar  4 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.9-1

Modified: trunk/rpms/perl-List-MoreUtils/perl-List-MoreUtils.spec
===================================================================
--- trunk/rpms/perl-List-MoreUtils/perl-List-MoreUtils.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-List-MoreUtils/perl-List-MoreUtils.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,13 +1,10 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Tassilo von Parseval &lt;tassilo,parseval$post,rwth-aachen,de&gt;
 
-%define real_name List-MoreUtils
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
+%define real_name List-MoreUtils
 
 Summary: Additions to List::Util
 Name: perl-List-MoreUtils
@@ -30,13 +27,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -44,16 +45,11 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorarch}/List/
 %{perl_vendorarch}/List/MoreUtils.pm
-%{perl_vendorarch}/auto/List/MoreUtils
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/*/.packlist
+%dir %{perl_vendorarch}/auto/List/
+%{perl_vendorarch}/auto/List/MoreUtils/
 
-# perl_vendorlib: /usr/lib/perl5/vendor_perl/5.8.0
-# perl_vendorarch: /usr/lib/perl5/vendor_perl/5.8.0/i386-linux-thread-multi
-# perl_archlib: /usr/lib/perl5/5.8.0/i386-linux-thread-multi
-# perl_privlib: /usr/lib/perl5/5.8.0
-
 %changelog
 * Fri Dec 10 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.09-1
 - Initial package.

Modified: trunk/rpms/perl-Math-BigInt-GMP/perl-Math-BigInt-GMP.spec
===================================================================
--- trunk/rpms/perl-Math-BigInt-GMP/perl-Math-BigInt-GMP.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Math-BigInt-GMP/perl-Math-BigInt-GMP.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Tels &lt;perl_dummy$bloodgate,com&gt;
 
-%define real_name Math-BigInt-GMP
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Math-BigInt-GMP
+
 Summary: Use the GMP library for Math::BigInt routines
 Name: perl-Math-BigInt-GMP
 Version: 1.17
@@ -30,13 +28,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -44,10 +46,10 @@
 %defattr(-, root, root, 0755)
 %doc README CHANGES CREDITS
 %doc %{_mandir}/man3/*
-%{perl_vendorarch}/Math/BigInt/GMP.pm
-%{perl_vendorarch}/auto/Math/BigInt/GMP/GMP.*
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/*/*/.packlist
+%dir %{perl_vendorarch}/Math/
+%{perl_vendorarch}/Math/BigInt/
+%dir %{perl_vendorarch}/auto/Math/BigInt/
+%{perl_vendorarch}/auto/Math/BigInt/GMP/
 
 %changelog
 * Fri Mar  4 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.17-1

Modified: trunk/rpms/perl-Math-Round/perl-Math-Round.spec
===================================================================
--- trunk/rpms/perl-Math-Round/perl-Math-Round.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Math-Round/perl-Math-Round.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Geoffrey Rommel &lt;grommel$sears,com&gt;
 
-%define real_name Math-Round
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Math-Round
+
 Summary: Perl extension for rounding numbers
 Name: perl-Math-Round
 Version: 0.05
@@ -32,13 +30,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -46,10 +48,10 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorlib}/Math/
 %{perl_vendorlib}/Math/Round.pm
-%{perl_vendorlib}/auto/Math/Round/autosplit.ix
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/*/.packlist
+%dir %{perl_vendorlib}/auto/Math/
+%{perl_vendorlib}/auto/Math/Round/
 
 %changelog
 * Mon Dec 06 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.05-1

Modified: trunk/rpms/perl-Math-VectorReal/perl-Math-VectorReal.spec
===================================================================
--- trunk/rpms/perl-Math-VectorReal/perl-Math-VectorReal.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Math-VectorReal/perl-Math-VectorReal.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Anthony Thyssen &lt;anthony$cit,gu,edu,au&gt;
 
-%define real_name Math-VectorReal
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Math-VectorReal
+
 Summary: Module to handle 3D Vector Mathematics
 Name: perl-Math-VectorReal
 Version: 1.02
@@ -35,13 +33,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -49,16 +51,10 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorlib}/Math/
 %{perl_vendorlib}/Math/VectorReal.pm
 %{perl_vendorlib}/Math/*.pl
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/*/.packlist
 
-# perl_vendorlib: /usr/lib/perl5/vendor_perl/5.8.0
-# perl_vendorarch: /usr/lib/perl5/vendor_perl/5.8.0/i386-linux-thread-multi
-# perl_archlib: /usr/lib/perl5/5.8.0/i386-linux-thread-multi
-# perl_privlib: /usr/lib/perl5/5.8.0
-
 %changelog
 * Mon Dec 06 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.02-1
 - Initial package.

Modified: trunk/rpms/perl-Module-Build/perl-Module-Build.spec
===================================================================
--- trunk/rpms/perl-Module-Build/perl-Module-Build.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Module-Build/perl-Module-Build.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -2,10 +2,12 @@
 # Authority: dries
 # Upstream: Ken Williams &lt;ken$mathforum,org&gt;
 
-# Todo: package YAML, ExtUtils::ParseXS
+# TODO: package YAML, ExtUtils::ParseXS
 
+%define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
+%define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
+
 %define real_name Module-Build
-%define perl_vendorlib %(eval &quot;`%{__perl} -V:installvendorlib`&quot;; echo $installvendorlib)
 
 Summary: System for building perl modules
 Name: perl-Module-Build
@@ -14,6 +16,7 @@
 License: Artistic or GPL
 Group: Applications/CPAN
 URL: <A HREF="http://search.cpan.org/dist/Module-Build/">http://search.cpan.org/dist/Module-Build/</A>
+
 Source: <A HREF="http://www.cpan.org/modules/by-module/Module/Module-Build-%{version">http://www.cpan.org/modules/by-module/Module/Module-Build-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 BuildRequires: perl(Archive::Tar)
@@ -31,23 +34,28 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=&quot;%{buildroot}&quot;
-%{__make} %{?_smp_mflags} OPTIMIZE=&quot;%{optflags}&quot;
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
+%{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
 %doc README Changes
+%doc %{_mandir}/man?/*
 %{_bindir}/config_data
+%dir %{perl_vendorlib}/Module/
 %{perl_vendorlib}/Module/Build/
 %{perl_vendorlib}/Module/Build.pm
-%{_mandir}/man?/*
 
 %changelog
 * Fri Mar  4 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.2608-1

Modified: trunk/rpms/perl-Net-Pcap/perl-Net-Pcap.spec
===================================================================
--- trunk/rpms/perl-Net-Pcap/perl-Net-Pcap.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Net-Pcap/perl-Net-Pcap.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Marco Carnut &lt;kiko$tempest,com,br&gt;
 
-%define real_name Net-Pcap
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Net-Pcap
+
 Summary: Interface to pcap(3) LBL packet capture library
 Name: perl-Net-Pcap
 Version: 0.05
@@ -29,13 +27,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -43,10 +45,10 @@
 %defattr(-, root, root, 0755)
 %doc README
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorarch}/Net/
 %{perl_vendorarch}/Net/Pcap.pm
-%{perl_vendorarch}/auto/Net/Pcap
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/*/.packlist
+%dir %{perl_vendorarch}/auto/Net/
+%{perl_vendorarch}/auto/Net/Pcap/
 
 %changelog
 * Fri Dec 10 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.05-1

Modified: trunk/rpms/perl-Net-SSH-Perl/perl-Net-SSH-Perl.spec
===================================================================
--- trunk/rpms/perl-Net-SSH-Perl/perl-Net-SSH-Perl.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Net-SSH-Perl/perl-Net-SSH-Perl.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Dave Rolsky &lt;autarch$urth,org&gt;
 
-%define real_name Net-SSH-Perl
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Net-SSH-Perl
+
 Summary: Perl client interface to SSH
 Name: perl-Net-SSH-Perl
 Version: 1.27
@@ -30,13 +28,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -46,14 +48,7 @@
 %doc %{_mandir}/man3/*
 #%{perl_vendorlib}/NAMEDIR.pm
 #%{perl_vendorlib}/NAMEDIR/*
-#%exclude %{perl_archlib}/perllocal.pod
-#%exclude %{perl_vendorarch}/auto/*/*/.packlist
 
-# perl_vendorlib: /usr/lib/perl5/vendor_perl/5.8.0
-# perl_vendorarch: /usr/lib/perl5/vendor_perl/5.8.0/i386-linux-thread-multi
-# perl_archlib: /usr/lib/perl5/5.8.0/i386-linux-thread-multi
-# perl_privlib: /usr/lib/perl5/5.8.0
-
 %changelog
 * Fri Mar  4 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.27-1
 - Updated to release 1.27.

Modified: trunk/rpms/perl-POE/perl-POE.spec
===================================================================
--- trunk/rpms/perl-POE/perl-POE.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-POE/perl-POE.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -2,8 +2,6 @@
 # Authority: dries
 # Upstream: Rocco Caputo &lt;rcaputo$pobox,com&gt;
 
-##ExcludeDist: el2 rh7 rh8 rh9 el3
-
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
 
@@ -37,7 +35,7 @@
 %build
 %{__perl} Makefile.PL \
 	--default \
-        destdir=&quot;%{buildroot}%{_prefix}&quot; \
+	PREFIX=&quot;%{buildroot}%{_prefix}&quot; \
         INSTALLDIRS=&quot;vendor&quot;
 %{__make} %{?_smp_mflags}
 
@@ -56,7 +54,7 @@
 %defattr(-, root, root, 0755)
 %doc README CHANGES TODO HISTORY
 %doc %{_mandir}/man3/*
-%{perl_vendorlib}/*
+%{perl_vendorlib}/POE/
 
 %changelog
 * Fri Mar  4 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.3009-1

Modified: trunk/rpms/perl-Plucene/perl-Plucene.spec
===================================================================
--- trunk/rpms/perl-Plucene/perl-Plucene.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Plucene/perl-Plucene.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Marc Kerr &lt;coder$stray-toaster,co,uk&gt;
 
-%define real_name Plucene
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Plucene
+
 Summary: A Perl port of the Lucene search engine
 Name: perl-Plucene
 Version: 1.21
@@ -33,7 +31,7 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
@@ -48,15 +46,8 @@
 %doc README Changes
 %doc %{_mandir}/man3/*
 %{perl_vendorlib}/Plucene.pm
-%{perl_vendorlib}/Plucene
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/.packlist
+%{perl_vendorlib}/Plucene/
 
-# perl_vendorlib: /usr/lib/perl5/vendor_perl/5.8.0
-# perl_vendorarch: /usr/lib/perl5/vendor_perl/5.8.0/i386-linux-thread-multi
-# perl_archlib: /usr/lib/perl5/5.8.0/i386-linux-thread-multi
-# perl_privlib: /usr/lib/perl5/5.8.0
-
 %changelog
 * Fri Mar  4 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.21-1
 - Updated to release 1.21.

Modified: trunk/rpms/perl-Pod-Coverage/perl-Pod-Coverage.spec
===================================================================
--- trunk/rpms/perl-Pod-Coverage/perl-Pod-Coverage.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Pod-Coverage/perl-Pod-Coverage.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Richard Clamp &lt;richardc$unixbeard,net&gt;
 
-%define real_name Pod-Coverage
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Pod-Coverage
+
 Summary: Checks if the documentation of a module is comprehensive
 Name: perl-Pod-Coverage
 Version: 0.17
@@ -29,7 +27,7 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags} OPTIMIZE=&quot;%{optflags}&quot;
 
 %install
@@ -44,8 +42,10 @@
 %doc README Changes
 %doc %{_mandir}/man3/*
 %{_bindir}/*
+%dir %{perl_vendorarch}/Pod/
 %{perl_vendorarch}/Pod/Coverage.pm
 %{perl_vendorarch}/Pod/Coverage/*
+%dir %{perl_vendorarch}/auto/Pod/
 %{perl_vendorarch}/auto/Pod/Coverage/*
 
 %changelog

Modified: trunk/rpms/perl-Proc-Simple/perl-Proc-Simple.spec
===================================================================
--- trunk/rpms/perl-Proc-Simple/perl-Proc-Simple.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Proc-Simple/perl-Proc-Simple.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Michael Schilli &lt;m$perlmeister,com&gt;
 
-%define real_name Proc-Simple
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Proc-Simple
+
 Summary: Launch and control background processes
 Name: perl-Proc-Simple
 Version: 1.21
@@ -30,13 +28,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -44,10 +46,10 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorlib}/Proc/
 %{perl_vendorlib}/Proc/Simple.pm
+%dir %{perl_vendorlib}/auto/Proc/
 %{perl_vendorlib}/auto/Proc/Simple
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/*/.packlist
 
 %changelog
 * Wed Dec 08 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.21-1

Modified: trunk/rpms/perl-Quota/perl-Quota.spec
===================================================================
--- trunk/rpms/perl-Quota/perl-Quota.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Quota/perl-Quota.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Tom Zoerner &lt;Tom,Zoerner$informatik,uni-erlangen,de&gt;
 
-%define real_name Quota
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Quota
+
 Summary: Perl interface to file system quotas
 Name: perl-Quota
 Version: 1.5.0
@@ -35,13 +33,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -50,9 +52,7 @@
 %doc README CHANGES
 %doc %{_mandir}/man3/*
 %{perl_vendorarch}/Quota.pm
-%{perl_vendorarch}/auto/Quota
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/.packlist
+%{perl_vendorarch}/auto/Quota/
 
 %changelog
 * Wed Dec 08 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.5.0

Modified: trunk/rpms/perl-SDL/perl-SDL.spec
===================================================================
--- trunk/rpms/perl-SDL/perl-SDL.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-SDL/perl-SDL.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -13,6 +13,7 @@
 License: GPL
 Group: System Environment/Libraries
 URL: <A HREF="http://sdl.perl.org/">http://sdl.perl.org/</A>
+
 Source: <A HREF="http://www.cpan.org/modules/by-module/SDL_Perl/SDL_Perl-%{version">http://www.cpan.org/modules/by-module/SDL_Perl/SDL_Perl-%{version</A>}.tar.gz
 Source10: filter-depends.sh
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
@@ -48,7 +49,7 @@
 
 %install
 %{__rm} -rf %{buildroot}
-./Build install destdir=%{buildroot}
+./Build install PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 
 # Remove files we don't want to include
 %{__rm} -f `/usr/bin/find %{buildroot} -type f \

Modified: trunk/rpms/perl-Template-Toolkit/perl-Template-Toolkit.spec
===================================================================
--- trunk/rpms/perl-Template-Toolkit/perl-Template-Toolkit.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Template-Toolkit/perl-Template-Toolkit.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -3,12 +3,11 @@
 # Authority: dries
 # Upstream: Andy Wardley &lt;cpan$wardley,org&gt;
 
-%define real_name Template-Toolkit
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Template-Toolkit
+
 Summary: Template processing system
 Name: perl-Template-Toolkit
 Version: 2.14
@@ -34,7 +33,7 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL TT_DBI=n TT_XS_ENABLE=y TT_ACCEPT=y INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL TT_DBI=n TT_XS_ENABLE=y TT_ACCEPT=y INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags} \
 	TT_PREFIX=/usr/share/tt2
 
@@ -48,22 +47,25 @@
 #	SITEPREFIX=%{buildroot}/usr \
 #	VENDORPREFIX=%{buildroot}/usr \
 
+
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
 %files
 %defattr(-, root, root, 0755)
-%doc README Changes
+%doc Changes README
+%doc %{_mandir}/man1/*
 %doc %{_mandir}/man3/*
-%doc %{_mandir}/man1/*
-%{perl_vendorarch}/Template.pm
-%{perl_vendorarch}/Template
-%{perl_vendorarch}/auto/Template
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/.packlist
 %{_datadir}/tt2
 %{_bindir}/tpage
 %{_bindir}/ttree
+%{perl_vendorarch}/Template.pm
+%{perl_vendorarch}/Template/
+%{perl_vendorarch}/auto/Template/
 
 %changelog
 * Thu Nov 04 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 2.14-1

Modified: trunk/rpms/perl-Term-ReadKey/perl-Term-ReadKey.spec
===================================================================
--- trunk/rpms/perl-Term-ReadKey/perl-Term-ReadKey.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Term-ReadKey/perl-Term-ReadKey.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Kenneth Albanowski &lt;kjahds$kjahds,com&gt;
 
-%define real_name TermReadKey
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name TermReadKey
+
 Summary: Module for simple terminal control 
 Name: perl-Term-ReadKey
 Version: 
@@ -33,13 +31,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -47,10 +49,10 @@
 %defattr(-, root, root, 0755)
 %doc README
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorarch}/Term/
 %{perl_vendorarch}/Term/ReadKey.pm
-%{perl_vendorarch}/auto/Term/ReadKey/*
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/*/.packlist
+%dir %{perl_vendorarch}/auto/Term/
+%{perl_vendorarch}/auto/Term/ReadKey/
 
 %changelog
 * Fri Mar  4 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - -1

Modified: trunk/rpms/perl-Test-AutoBuild/perl-Test-AutoBuild.spec
===================================================================
--- trunk/rpms/perl-Test-AutoBuild/perl-Test-AutoBuild.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Test-AutoBuild/perl-Test-AutoBuild.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Daniel P. Berrang&#233; &lt;dan$berrange,com&gt;
 
-%define real_name Test-AutoBuild
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Test-AutoBuild
+
 Summary: Automated build engine
 Name: perl-Test-AutoBuild
 Version: 1.0.2
@@ -53,13 +51,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -72,10 +74,9 @@
 %config(noreplace) %{_sysconfdir}/auto-build.d/auto-build.*
 %config(noreplace) %{_sysconfdir}/auto-build.d/*
 %{_bindir}/auto-build.pl
+%dir %{perl_vendorlib}/Test/
 %{perl_vendorlib}/Test/AutoBuild.pm
-%{perl_vendorlib}/Test/AutoBuild/*
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/.packlist
+%{perl_vendorlib}/Test/AutoBuild/
 
 # perl_vendorlib: /usr/lib/perl5/vendor_perl/5.8.0
 # perl_vendorarch: /usr/lib/perl5/vendor_perl/5.8.0/i386-linux-thread-multi

Modified: trunk/rpms/perl-Time-Piece/perl-Time-Piece.spec
===================================================================
--- trunk/rpms/perl-Time-Piece/perl-Time-Piece.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Time-Piece/perl-Time-Piece.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Matt Sergeant &lt;matt$sergeant,org&gt;
 
-%define real_name Time-Piece
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Time-Piece
+
 Summary: Object Oriented time objects
 Name: perl-Time-Piece
 Version: 1.08
@@ -29,13 +27,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -43,17 +45,12 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorarch}/Time/
 %{perl_vendorarch}/Time/Piece.pm
 %{perl_vendorarch}/Time/Seconds.pm
-%{perl_vendorarch}/auto/Time/Piece
-%exclude %{perl_archlib}/perllocal.pod
-%exclude %{perl_vendorarch}/auto/*/*/.packlist
+%dir %{perl_vendorarch}/auto/Time/
+%{perl_vendorarch}/auto/Time/Piece/
 
-# perl_vendorlib: /usr/lib/perl5/vendor_perl/5.8.0
-# perl_vendorarch: /usr/lib/perl5/vendor_perl/5.8.0/i386-linux-thread-multi
-# perl_archlib: /usr/lib/perl5/5.8.0/i386-linux-thread-multi
-# perl_privlib: /usr/lib/perl5/5.8.0
-
 %changelog
 * Fri Dec 10 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.08-1
 - Initial package.

Modified: trunk/rpms/perl-Tk/perl-Tk.spec
===================================================================
--- trunk/rpms/perl-Tk/perl-Tk.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-Tk/perl-Tk.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -12,12 +12,11 @@
 %{?el2:%define _without_xorg 1}
 %{?rh6:%define _without_xorg 1}
 
-%define real_name Tk
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name Tk
+
 Summary: Object Oriented Tk extension for Perl
 Name: perl-Tk
 Version: 804.027
@@ -41,12 +40,13 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
+
 %{__perl} -pi -e 's|/bin/perl|%{_bindir}/perl|g' %{buildroot}%{perl_vendorarch}/Tk/reindex.pl
 %{__perl} -pi -e 's|/usr/local/bin/perl|%{_bindir}/perl|g' \
 	%{buildroot}%{perl_vendorarch}/Tk/demos/widtrib/plop.pl \
@@ -71,10 +71,9 @@
 %{perl_vendorarch}/Tie/Watch.pm
 %{perl_vendorarch}/Tk.pm
 %{perl_vendorarch}/Tk.pod
-%{perl_vendorarch}/Tk
-%{perl_vendorarch}/auto/Tk
+%{perl_vendorarch}/Tk/
+%{perl_vendorarch}/auto/Tk/
 %{perl_vendorarch}/fix_4_os2.pl
-%exclude %{perl_archlib}/perllocal.pod
 
 %changelog
 * Mon Dec 06 2004 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 804.027-1

Modified: trunk/rpms/perl-YAML-Active/perl-YAML-Active.spec
===================================================================
--- trunk/rpms/perl-YAML-Active/perl-YAML-Active.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-YAML-Active/perl-YAML-Active.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,14 +1,12 @@
 # $Id$
-
 # Authority: dries
 # Upstream: Marcel Gr&#252;nauer &lt;marcel$cpan,org&gt;
 
-%define real_name YAML-Active
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name YAML-Active
+
 Summary: Combine data and logic in YAML
 Name: perl-YAML-Active
 Version: 1.00
@@ -38,13 +36,17 @@
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags} OPTIMIZE=&quot;%{optflags}&quot;
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -52,6 +54,7 @@
 %defattr(-, root, root, 0755)
 %doc README Changes
 %doc %{_mandir}/man3/*
+%dir %{perl_vendorlib}/YAML/
 %{perl_vendorlib}/YAML/Active.pm
 
 %changelog

Modified: trunk/rpms/perl-libapreq/perl-libapreq.spec
===================================================================
--- trunk/rpms/perl-libapreq/perl-libapreq.spec	2005-03-10 05:22:47 UTC (rev 2985)
+++ trunk/rpms/perl-libapreq/perl-libapreq.spec	2005-03-10 06:56:24 UTC (rev 2986)
@@ -1,16 +1,14 @@
 # $Id$
-
-# Problem: this needs an older mod_perl (&lt; 1.99)
-
 # Authority: dries
 # Upstream: Stas Bekman &lt;stas$stason,org&gt;
 
-%define real_name libapreq
+# FIXME: this needs an older mod_perl (&lt; 1.99)
+
 %define perl_vendorlib %(eval &quot;`perl -V:installvendorlib`&quot;; echo $installvendorlib)
 %define perl_vendorarch %(eval &quot;`perl -V:installvendorarch`&quot;; echo $installvendorarch)
-%define perl_archlib %(eval &quot;`perl -V:archlib`&quot;; echo $archlib)
-%define perl_privlib %(eval &quot;`perl -V:privlib`&quot;; echo $privlib)
 
+%define real_name libapreq
+
 Summary: Apache Request C Library
 Name: perl-libapreq
 Version: 1.33
@@ -31,18 +29,21 @@
  - parsing of multipart/form-data 
  - parsing of HTTP Cookies
 
-
 %prep
 %setup -n %{real_name}-%{version}
 
 %build
-%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; destdir=%{buildroot}
+%{__perl} Makefile.PL INSTALLDIRS=&quot;vendor&quot; PREFIX=&quot;%{buildroot}%{_prefix}&quot;
 %{__make} %{?_smp_mflags}
 
 %install
 %{__rm} -rf %{buildroot}
 %makeinstall
 
+### Clean up buildroot
+%{__rm} -rf %{buildroot}%{perl_archlib} \
+		%{buildroot}%{perl_vendorarch}
+
 %clean
 %{__rm} -rf %{buildroot}
 
@@ -55,11 +56,6 @@
 #%exclude %{perl_archlib}/perllocal.pod
 #%exclude %{perl_vendorarch}/auto/*/*/.packlist
 
-# perl_vendorlib: /usr/lib/perl5/vendor_perl/5.8.0
-# perl_vendorarch: /usr/lib/perl5/vendor_perl/5.8.0/i386-linux-thread-multi
-# perl_archlib: /usr/lib/perl5/5.8.0/i386-linux-thread-multi
-# perl_privlib: /usr/lib/perl5/5.8.0
-
 %changelog
 * Fri Jan  7 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 1.33-1
 - Initial package.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001785.html">[SVN] r2985 - in trunk/rpms: perl-Graph perl-IO-All perl-SVN-Web
</A></li>
	<LI>Next message: <A HREF="001787.html">[SVN] r2987 - in trunk/rpms: perl-Class-MethodMaker perl-Clone	perl-Compress-Zlib perl-Crypt-CapnMidNite perl-Data-UUID	perl-DateTime perl-Digest-MD5-M4p perl-IO-Tty	perl-List-MoreUtils perl-Math-BigInt-GMP	perl-Math-TrulyRandom perl-Quota perl-Text-CSV_XS perl-Time-Piece
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1786">[ date ]</a>
              <a href="thread.html#1786">[ thread ]</a>
              <a href="subject.html#1786">[ subject ]</a>
              <a href="author.html#1786">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
