<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r4137 - trunk/rpms/audacity
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r4137%20-%20trunk/rpms/audacity&In-Reply-To=%3C20060306122029.4DC803180A3%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002936.html">
   <LINK REL="Next"  HREF="002938.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r4137 - trunk/rpms/audacity</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r4137%20-%20trunk/rpms/audacity&In-Reply-To=%3C20060306122029.4DC803180A3%40pooch.vmhosting.org%3E"
       TITLE="[svn] r4137 - trunk/rpms/audacity">packagers at lists.rpmforge.net
       </A><BR>
    <I>Mon Mar  6 13:20:29 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002936.html">[svn] r4136 - in trunk/rpms: . apt atftp k3b-mp3 perl-Term-ReadKey	vomit
</A></li>
        <LI>Next message: <A HREF="002938.html">[svn] r4138 - in trunk/rpms: xine xine-lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2937">[ date ]</a>
              <a href="thread.html#2937">[ thread ]</a>
              <a href="subject.html#2937">[ subject ]</a>
              <a href="author.html#2937">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: thias
Date: 2006-03-06 13:20:27 +0100 (Mon, 06 Mar 2006)
New Revision: 4137

Added:
   trunk/rpms/audacity/audacity-src-1.3.0b-beta-samplerate.patch
Modified:
   trunk/rpms/audacity/audacity-1.2.spec
   trunk/rpms/audacity/audacity.spec
Log:
Update audacity to 1.3.0b (and old to 1.2.4b).


Modified: trunk/rpms/audacity/audacity-1.2.spec
===================================================================
--- trunk/rpms/audacity/audacity-1.2.spec	2006-03-05 22:13:09 UTC (rev 4136)
+++ trunk/rpms/audacity/audacity-1.2.spec	2006-03-06 12:20:27 UTC (rev 4137)
@@ -14,7 +14,7 @@
 
 Summary: Powerful audio editor
 Name: audacity
-Version: 1.2.4
+Version: 1.2.4b
 Release: %{?prever:0.%{prever}.}1
 License: GPL
 Group: Applications/Multimedia
@@ -100,6 +100,9 @@
 
 
 %changelog
+* Mon Mar  6 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.2.4b-1
+- Update to 1.2.4b, but build untested since it's wxGTK 2.6 incompatible.
+
 * Wed Nov 30 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.2.4-1
 - Update to 1.2.4.
 

Added: trunk/rpms/audacity/audacity-src-1.3.0b-beta-samplerate.patch
===================================================================
--- trunk/rpms/audacity/audacity-src-1.3.0b-beta-samplerate.patch	2006-03-05 22:13:09 UTC (rev 4136)
+++ trunk/rpms/audacity/audacity-src-1.3.0b-beta-samplerate.patch	2006-03-06 12:20:27 UTC (rev 4137)
@@ -0,0 +1,41 @@
+diff -Naupr audacity-src-1.3.0b-beta.orig/configure audacity-src-1.3.0b-beta/configure
+--- audacity-src-1.3.0b-beta.orig/configure	2005-11-27 17:47:27.000000000 +0100
++++ audacity-src-1.3.0b-beta/configure	2005-11-27 17:47:27.000000000 +0100
+@@ -5103,23 +5103,23 @@ fi
+   else
+      PKG_CONFIG_MIN_VERSION=0.9.0
+      if $PKG_CONFIG --atleast-pkgconfig-version $PKG_CONFIG_MIN_VERSION; then
+-        echo &quot;$as_me:$LINENO: checking for samplerate &gt;= 0.15.0&quot; &gt;&amp;5
+-echo $ECHO_N &quot;checking for samplerate &gt;= 0.15.0... $ECHO_C&quot; &gt;&amp;6
++        echo &quot;$as_me:$LINENO: checking for samplerate &gt;= 0.0.15&quot; &gt;&amp;5
++echo $ECHO_N &quot;checking for samplerate &gt;= 0.0.15... $ECHO_C&quot; &gt;&amp;6
+ 
+-        if $PKG_CONFIG --exists &quot;samplerate &gt;= 0.15.0&quot; ; then
++        if $PKG_CONFIG --exists &quot;samplerate &gt;= 0.0.15&quot; ; then
+             echo &quot;$as_me:$LINENO: result: yes&quot; &gt;&amp;5
+ echo &quot;${ECHO_T}yes&quot; &gt;&amp;6
+             succeeded=yes
+ 
+             echo &quot;$as_me:$LINENO: checking SAMPLERATE_CFLAGS&quot; &gt;&amp;5
+ echo $ECHO_N &quot;checking SAMPLERATE_CFLAGS... $ECHO_C&quot; &gt;&amp;6
+-            SAMPLERATE_CFLAGS=`$PKG_CONFIG --cflags &quot;samplerate &gt;= 0.15.0&quot;`
++            SAMPLERATE_CFLAGS=`$PKG_CONFIG --cflags &quot;samplerate &gt;= 0.0.15&quot;`
+             echo &quot;$as_me:$LINENO: result: $SAMPLERATE_CFLAGS&quot; &gt;&amp;5
+ echo &quot;${ECHO_T}$SAMPLERATE_CFLAGS&quot; &gt;&amp;6
+ 
+             echo &quot;$as_me:$LINENO: checking SAMPLERATE_LIBS&quot; &gt;&amp;5
+ echo $ECHO_N &quot;checking SAMPLERATE_LIBS... $ECHO_C&quot; &gt;&amp;6
+-            SAMPLERATE_LIBS=`$PKG_CONFIG --libs &quot;samplerate &gt;= 0.15.0&quot;`
++            SAMPLERATE_LIBS=`$PKG_CONFIG --libs &quot;samplerate &gt;= 0.0.15&quot;`
+             echo &quot;$as_me:$LINENO: result: $SAMPLERATE_LIBS&quot; &gt;&amp;5
+ echo &quot;${ECHO_T}$SAMPLERATE_LIBS&quot; &gt;&amp;6
+         else
+@@ -5127,7 +5127,7 @@ echo &quot;${ECHO_T}$SAMPLERATE_LIBS&quot; &gt;&amp;6
+             SAMPLERATE_LIBS=&quot;&quot;
+             ## If we have a custom action on failure, don't print errors, but
+             ## do set a variable so people can do so.
+-            SAMPLERATE_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors &quot;samplerate &gt;= 0.15.0&quot;`
++            SAMPLERATE_PKG_ERRORS=`$PKG_CONFIG --errors-to-stdout --print-errors &quot;samplerate &gt;= 0.0.15&quot;`
+ 
+         fi
+ 

Modified: trunk/rpms/audacity/audacity.spec
===================================================================
--- trunk/rpms/audacity/audacity.spec	2006-03-05 22:13:09 UTC (rev 4136)
+++ trunk/rpms/audacity/audacity.spec	2006-03-06 12:20:27 UTC (rev 4137)
@@ -11,7 +11,7 @@
 
 Summary: Powerful audio editor
 Name: audacity
-Version: 1.3.0
+Version: 1.3.0b
 Release: 1
 License: GPL
 Group: Applications/Multimedia
@@ -19,6 +19,7 @@
 Source: <A HREF="http://dl.sf.net/audacity/audacity-src-%{version">http://dl.sf.net/audacity/audacity-src-%{version</A>}.tar.gz
 Patch0: audacity-src-1.3.0-beta-localeinstall.patch
 Patch1: audacity-src-1.3.0-beta-desktop.patch
+Patch2: audacity-src-1.3.0b-beta-samplerate.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 Requires: wxGTK &gt;= 2.6.0
 BuildRequires: gcc-c++, zip, zlib-devel, gettext, desktop-file-utils
@@ -42,11 +43,13 @@
 %setup -n %{name}-src-%{version}-beta
 %patch0 -p1 -b .localeinstall
 %patch1 -p1 -b .desktop
+%patch2 -p1 -b .samplerate
 
 
 %build
 %configure \
     --with-libsndfile=&quot;system&quot; \
+    --with-libsamplerate=&quot;system&quot; \
     --with-portaudio=&quot;v18&quot;
 %{__make} %{?_smp_mflags}
 
@@ -87,6 +90,11 @@
 
 
 %changelog
+* Mon Mar  6 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.3.0b-1
+- Update to 1.3.0b.
+- Explicitely pass --with-libsamplerate since libresample is used otherwise.
+- Include patch to correct the version of libsamplerate being checked.
+
 * Wed Nov 30 2005 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.3.0-1
 - Update to 1.3.0, the wxGTK 2.6.x compatible development branch.
 - Include patch to fix the locale installation (weird...).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002936.html">[svn] r4136 - in trunk/rpms: . apt atftp k3b-mp3 perl-Term-ReadKey	vomit
</A></li>
	<LI>Next message: <A HREF="002938.html">[svn] r4138 - in trunk/rpms: xine xine-lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2937">[ date ]</a>
              <a href="thread.html#2937">[ thread ]</a>
              <a href="subject.html#2937">[ subject ]</a>
              <a href="author.html#2937">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
