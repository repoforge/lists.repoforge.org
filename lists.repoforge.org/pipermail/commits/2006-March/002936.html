<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r4136 - in trunk/rpms: . apt atftp k3b-mp3 perl-Term-ReadKey	vomit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r4136%20-%20in%20trunk/rpms%3A%20.%20apt%20atftp%20k3b-mp3%20perl-Term-ReadKey%0A%09vomit&In-Reply-To=%3C20060305221311.AD9FB318148%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002935.html">
   <LINK REL="Next"  HREF="002937.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r4136 - in trunk/rpms: . apt atftp k3b-mp3 perl-Term-ReadKey	vomit</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r4136%20-%20in%20trunk/rpms%3A%20.%20apt%20atftp%20k3b-mp3%20perl-Term-ReadKey%0A%09vomit&In-Reply-To=%3C20060305221311.AD9FB318148%40pooch.vmhosting.org%3E"
       TITLE="[svn] r4136 - in trunk/rpms: . apt atftp k3b-mp3 perl-Term-ReadKey	vomit">packagers at lists.rpmforge.net
       </A><BR>
    <I>Sun Mar  5 23:13:11 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002935.html">[svn] r4135 - in trunk/rpms: interbench lshw netrw python-cddb xnee	yoltia
</A></li>
        <LI>Next message: <A HREF="002937.html">[svn] r4137 - trunk/rpms/audacity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2936">[ date ]</a>
              <a href="thread.html#2936">[ thread ]</a>
              <a href="subject.html#2936">[ subject ]</a>
              <a href="author.html#2936">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2006-03-05 23:13:09 +0100 (Sun, 05 Mar 2006)
New Revision: 4136

Added:
   trunk/rpms/apt/apt-panu.spec
   trunk/rpms/k3b-mp3/
   trunk/rpms/k3b-mp3/k3b-0.11.23-statfs.patch
   trunk/rpms/k3b-mp3/k3b-0.11.24-no-bad-gcc.patch
   trunk/rpms/k3b-mp3/k3b-0.12.2-statfs.patch
   trunk/rpms/k3b-mp3/k3b-mp3-0.11.spec
   trunk/rpms/k3b-mp3/k3b-mp3.spec
   trunk/rpms/vomit/
   trunk/rpms/vomit/vomit.spec
Modified:
   trunk/rpms/apt/apt.spec
   trunk/rpms/atftp/atftp.spec
   trunk/rpms/perl-Term-ReadKey/perl-Term-ReadKey.spec
Log:
Updates

Added: trunk/rpms/apt/apt-panu.spec
===================================================================
--- trunk/rpms/apt/apt-panu.spec	2006-03-05 13:46:12 UTC (rev 4135)
+++ trunk/rpms/apt/apt-panu.spec	2006-03-05 22:13:09 UTC (rev 4136)
@@ -0,0 +1,269 @@
+# $Id$
+# Authority: dag
+# Upstream: Panu Matilainen &lt;pmatilai$laiskiainen,org&gt;
+
+# Tag: test
+
+%{?dist: %{expand: %%define %dist 1}}
+%define LIBVER 3.3
+
+Summary: Debian's Advanced Packaging Tool with RPM support
+Name: apt
+%define real_version 01032006
+Version: 0.5.15lorg2
+Release: 0.20060301
+License: GPL
+Group: System Environment/Base
+URL: <A HREF="https://moin.conectiva.com.br/AptRpm">https://moin.conectiva.com.br/AptRpm</A>
+
+Source: <A HREF="http://laiskiainen.org/apt/testing/apt-repomd-%{real_version">http://laiskiainen.org/apt/testing/apt-repomd-%{real_version</A>}.tar.bz2
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: rpm-devel &gt;= 3.0.5, zlib-devel, gettext
+BuildRequires: readline-devel, bison, gcc-c++, libtool
+BuildRequires: pkg-config &gt;= 0.9
+%{!?rh6:BuildRequires: bzip2-devel, libstdc++-devel, docbook-utils}
+
+%{!?dist:BuildRequires: beecrypt-devel, elfutils-devel}
+%{?fc4:BuildRequires: beecrypt-devel, elfutils-devel}
+%{?el4:BuildRequires: beecrypt-devel, elfutils-devel}
+%{?fc3:BuildRequires: beecrypt-devel, elfutils-devel}
+%{?fc2:BuildRequires: beecrypt-devel, elfutils-devel}
+%{?fc1:BuildRequires: beecrypt-devel, elfutils-devel}
+%{?el3:BuildRequires: beecrypt-devel, elfutils-devel}
+%{?rh9:BuildRequires: beecrypt-devel, elfutils-devel}
+%{?rh8:BuildRequires: libelf-devel}
+%{?rh7:BuildRequires: libelf}
+%{?el2:BuildRequires: libelf}
+%{?rh6:BuildRequires: libelf}
+
+Requires: rpm &gt;= 3.0.5, zlib, bzip2-libs, libstdc++
+
+%description
+A port of Debian's apt tools for RPM based distributions, or at least
+originally for Conectiva and now Red Hat Linux. It provides the apt-get
+utility that provides a simpler, safer way to install and upgrade packages.
+APT features complete installation ordering, multiple source capability and
+several other unique features.
+
+%package devel
+Summary: Header files, libraries and development documentation for %{name}
+Group: Development/Libraries
+Requires: %{name} = %{version}-%{release}
+
+%description devel
+This package contains the header files, static libraries and development
+documentation for %{name}. If you like to develop programs using %{name},
+you will need to install %{name}-devel.
+
+%prep
+%setup -n %{name}-repomd-%{real_version}
+
+%{__perl} -pi.orig -e 's|RPM APT-HTTP/1.3|RPMforge RPM Repository %{dist}/%{_arch} APT-HTTP/1.3|' methods/http.cc
+
+%{__cat} &lt;&lt;EOF &gt;os.list
+# Name: FreshRPMS OS/updates
+# URL: <A HREF="http://ayo.freshrpms.net/">http://ayo.freshrpms.net/</A>
+
+### Fedora Core
+%{!?fc5:#}rpm <A HREF="http://ayo.freshrpms.net">http://ayo.freshrpms.net</A> fedora/linux/5/%{_arch} core updates
+%{!?fc4:#}rpm <A HREF="http://ayo.freshrpms.net">http://ayo.freshrpms.net</A> fedora/linux/4/%{_arch} core updates
+%{!?fc3:#}rpm <A HREF="http://ayo.freshrpms.net">http://ayo.freshrpms.net</A> fedora/linux/3/%{_arch} core updates
+%{!?fc2:#}rpm <A HREF="http://ayo.freshrpms.net">http://ayo.freshrpms.net</A> fedora/linux/2/%{_arch} core updates
+%{!?fc1:#}rpm <A HREF="http://ayo.freshrpms.net">http://ayo.freshrpms.net</A> fedora/linux/1/%{_arch} core updates
+
+### Red Hat Linux
+%{!?rh9:#}rpm <A HREF="http://ayo.freshrpms.net">http://ayo.freshrpms.net</A> redhat/9/i386 os updates
+%{!?rh8:#}rpm <A HREF="http://ayo.freshrpms.net">http://ayo.freshrpms.net</A> redhat/8.0/i386 os updates
+%{!?rh7:#}rpm <A HREF="http://ayo.freshrpms.net">http://ayo.freshrpms.net</A> redhat/7.3/i386 os updates
+%{!?rh6:#}rpm <A HREF="http://ayo.freshrpms.net">http://ayo.freshrpms.net</A> redhat/6.2/i386 os powertools updates
+EOF
+
+%{__cat} &lt;&lt;'EOF' &gt;apt.conf
+APT {
+	Clean-Installed &quot;false&quot;;
+	Get {
+		Assume-Yes &quot;false&quot;;
+		Download-Only &quot;false&quot;;
+		Show-Upgraded &quot;true&quot;;
+		Fix-Broken &quot;false&quot;;
+		Ignore-Missing &quot;false&quot;;
+		Compile &quot;false&quot;;
+	};
+};
+
+Acquire {
+	Retries &quot;0&quot;;
+	HTTP {
+		Proxy &quot;&quot;; // <A HREF="http://user:pass@host:port/">http://user:pass@host:port/</A>
+	};
+};
+
+RPM {
+	Ignore { };
+	Hold { };
+	Options { };
+	Install-Options &quot;&quot;;
+	Erase-Options &quot;&quot;;
+//	Pre-Install-Pkgs { &quot;/usr/bin/apt-sigchecker&quot;; };
+	Source {
+		Build-Command &quot;rpmbuild --rebuild&quot;;
+	};
+	Allow-Duplicated {
+		&quot;^kernel$&quot;;
+		&quot;^kernel-&quot;;
+		&quot;^gpg-pubkey$&quot;;
+	};
+};
+EOF
+
+%build
+%{?fc5:libtoolize -f &amp;&amp; autoreconf}
+%{?fc4:libtoolize -f &amp;&amp; autoreconf}
+#{__autoconf}
+%configure \
+	--program-prefix=&quot;%{?_program_prefix}&quot; \
+	--includedir=&quot;%{_includedir}/apt-pkg&quot;
+#	--with-hashmap
+%{__make} %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%makeinstall \
+	includedir=&quot;%{buildroot}%{_includedir}/apt-pkg&quot;
+%find_lang %{name}
+
+%{__install} -d -m0755 \
+		%{buildroot}%{_sysconfdir}/apt/{apt.conf.d,sources.list.d} \
+		%{buildroot}%{_localstatedir}/cache/apt/{archives/partial,genpkglist,gensrclist} \
+		%{buildroot}%{_localstatedir}/state/apt/lists/partial \
+		%{buildroot}%{_libdir}/apt/scripts/
+%{__install} -p -m0644 rpmpriorities apt.conf %{buildroot}%{_sysconfdir}/apt/
+%{__install} -p -m0644 os.list %{buildroot}%{_sysconfdir}/apt/sources.list.d/
+touch %{buildroot}%{_sysconfdir}/apt/preferences \
+	%{buildroot}%{_sysconfdir}/apt/vendors.list
+
+#%{__ln_s} -f %{_libdir}libapt-pkg-libc6.3-5.so.0 %{buildroot}%{_libdir}libapt-pkg-libc6.3-5.so.%{LIBVER}
+
+%post -p /sbin/ldconfig
+%postun -p /sbin/ldconfig
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files -f %{name}.lang
+%defattr(-, root, root, 0755)
+%doc AUTHORS* COPYING* TODO contrib/ doc/examples/
+%doc %{_mandir}/man?/*
+%dir %{_sysconfdir}/apt/
+%config(noreplace) %{_sysconfdir}/apt/apt.conf
+%config(noreplace) %{_sysconfdir}/apt/preferences
+#config(noreplace) %{_sysconfdir}/apt/sources.list
+%config(noreplace) %{_sysconfdir}/apt/vendors.list
+%config %{_sysconfdir}/apt/rpmpriorities
+%config(noreplace) %{_sysconfdir}/apt/apt.conf.d/
+%config(noreplace) %{_sysconfdir}/apt/sources.list.d/
+%{_bindir}/apt-cache
+%{_bindir}/apt-cdrom
+%{_bindir}/apt-config
+%{_bindir}/apt-get
+%{_bindir}/apt-shell
+%{_bindir}/genbasedir
+%{_bindir}/genpkglist
+%{_bindir}/gensrclist
+%{_bindir}/countpkglist
+%{_libdir}/apt/
+%{_libdir}/libapt-pkg-*.so.*
+%{_localstatedir}/cache/apt/
+%{_localstatedir}/state/apt/
+
+%files devel
+%defattr(-, root, root, 0755)
+%{_libdir}/libapt-pkg.a
+%exclude %{_libdir}/libapt-pkg.la
+%{_libdir}/libapt-pkg.so
+%{_includedir}/apt-pkg/
+#exclude %{_libdir}/*.la
+
+%changelog
+* Sun Mar 05 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.15lorg2-0.20060301
+- Experimental version from Panu with repomd and multilib support.
+
+* Mon Jan 02 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.5.15cnc7-1
+- Added libtoolize and autoreconf fix for Fedora Core 5, thanks 
+  to Stephen Clement.
+- Updated to release 0.5.15cnc7.
+
+* Sat Nov 20 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.15cnc6-4
+- Added readline-devel as buildrequirement for apt-shell.
+
+* Thu Jul 01 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.15cnc6-3
+- Fix for apt-bug triggered by mach.
+
+* Fri Jun 04 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.15cnc6-2
+- Make apt understand about architectures.
+
+* Tue Mar 23 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.15cnc6-1
+- Updated to release 0.5.15cnc6.
+
+* Sat Jan 24 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.15cnc1-1
+- Added RHAS21 repository.
+
+* Sun Jan 04 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.15cnc5-0
+- Updated to release 0.5.15cnc5.
+
+* Sat Dec 06 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.15cnc4-1
+- Disabled the epoch promotion behaviour on RH9.
+
+* Thu Dec 04 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.15cnc4-0
+- Updated to release 0.5.15cnc4.
+
+* Tue Nov 25 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.15cnc3-0
+- Updated to release 0.5.15cnc3.
+
+* Mon Nov 10 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.15cnc2-0
+- Updated to release 0.5.15cnc2.
+
+* Mon Nov 10 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.15cnc1-1
+- Fixed apt pinning.
+- Added RHFC1 repository.
+
+* Sat Nov 08 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.15cnc1-0
+- Updated to release 0.5.15cnc1.
+
+* Sun Oct 26 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.5cnc6-1
+- Added RHEL3 repository.
+
+* Tue Jun 10 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.5cnc6-0
+- Added newrpms and enable it by default.
+- Updated to release 0.5.5cnc6.
+
+* Tue Jun 03 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.5cnc5-4
+- Added freshrpms and enable it by default.
+
+* Sun Jun 01 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.5cnc5-3
+- Work around a bug in apt (apt.conf).
+
+* Fri May 30 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.5cnc5-2
+- Moved sources.list to sources.d/
+
+* Wed Apr 16 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.5cnc5-1
+- Updated to release 0.5.5cnc5.
+
+* Tue Apr 08 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.5cnc4.1-2
+- RH90 repository rename from redhat/9.0 to redhat/9.
+
+* Sat Apr 05 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.5cnc4.1-1
+- FreshRPMS fixes to repository locations.
+
+* Sun Mar 09 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.5cnc4.1-0
+- Updated to release 0.5.5cnc4.1.
+
+* Fri Feb 28 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.5cnc3-0
+- Updated to release 0.5.5cnc3.
+
+* Tue Feb 25 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.5cnc2-0
+- Updated to release 0.5.5cnc2.
+
+* Mon Feb 10 2003 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.5.4cnc9-0
+- Initial package. (using DAR)


Property changes on: trunk/rpms/apt/apt-panu.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Modified: trunk/rpms/apt/apt.spec
===================================================================
--- trunk/rpms/apt/apt.spec	2006-03-05 13:46:12 UTC (rev 4135)
+++ trunk/rpms/apt/apt.spec	2006-03-05 22:13:09 UTC (rev 4136)
@@ -27,6 +27,7 @@
 
 BuildRequires: rpm-devel &gt;= 4.0, zlib-devel, gettext
 BuildRequires: readline-devel, bison, gcc-c++, libtool
+BuildRequires: pkg-config &gt;= 0.9
 %{!?rh6:BuildRequires: bzip2-devel, libstdc++-devel, docbook-utils}
 
 %{!?dist:BuildRequires: beecrypt-devel, elfutils-devel}

Modified: trunk/rpms/atftp/atftp.spec
===================================================================
--- trunk/rpms/atftp/atftp.spec	2006-03-05 13:46:12 UTC (rev 4135)
+++ trunk/rpms/atftp/atftp.spec	2006-03-05 22:13:09 UTC (rev 4136)
@@ -11,6 +11,7 @@
 URL: <A HREF="ftp://ftp.mamalinux.com/pub/atftp/">ftp://ftp.mamalinux.com/pub/atftp/</A>
 
 Source: <A HREF="ftp://ftp.mamalinux.com/pub/atftp/atftp-%{version">ftp://ftp.mamalinux.com/pub/atftp/atftp-%{version</A>}.tar.gz
+Patch: atftp-0.7-inlines.patch
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
 BuildRequires: libtermcap-devel, pcre-devel, ncurses-devel, readline-devel
@@ -40,6 +41,7 @@
 
 %prep
 %setup
+%patch -p1
 
 ### FIXME: Change location of pcre.h to pcre/pcre.h (Please fix upstream)
 %{__perl} -pi.orig -e 's|\bpcre.h\b|pcre/pcre.h|' configure tftpd.c tftpd_pcre.h

Added: trunk/rpms/k3b-mp3/k3b-0.11.23-statfs.patch
===================================================================
--- trunk/rpms/k3b-mp3/k3b-0.11.23-statfs.patch	2006-03-05 13:46:12 UTC (rev 4135)
+++ trunk/rpms/k3b-mp3/k3b-0.11.23-statfs.patch	2006-03-05 22:13:09 UTC (rev 4136)
@@ -0,0 +1,149 @@
+--- k3b-0.11.23/src/projects/k3btempdirselectionwidget.cpp.statfs	2005-04-06 13:31:55.000000000 +0000
++++ k3b-0.11.23/src/projects/k3btempdirselectionwidget.cpp	2005-04-06 13:32:16.000000000 +0000
+@@ -109,7 +109,7 @@
+   if( !QFile::exists( path ) )
+     path.truncate( path.findRev('/') );
+ 
+-  unsigned long size, avail;
++  unsigned long long size, avail;
+   if( K3b::kbFreeOnFs( path, size, avail ) )
+     slotFreeTempSpace( path, size, 0, avail );
+   else
+--- k3b-0.11.23/src/cdcopy/k3bcdcopyjob.cpp.statfs	2005-04-06 13:41:00.000000000 +0000
++++ k3b-0.11.23/src/cdcopy/k3bcdcopyjob.cpp	2005-04-06 13:41:20.000000000 +0000
+@@ -294,7 +294,7 @@
+ 	  imageSpaceNeeded += (*it).length().mode1Bytes();
+       }
+ 
+-      unsigned long avail, size;
++      unsigned long long avail, size;
+       QString pathToTest = m_tempPath.left( m_tempPath.findRev( '/' ) );
+       if( !K3b::kbFreeOnFs( pathToTest, size, avail ) ) {
+ 	emit infoMessage( i18n(&quot;Unable to determine free space in temporary directory '%1'.&quot;).arg(pathToTest), ERROR );
+--- k3b-0.11.23/src/rip/k3bvideocdrippingdialog.cpp.statfs	2005-04-06 13:35:36.000000000 +0000
++++ k3b-0.11.23/src/rip/k3bvideocdrippingdialog.cpp	2005-04-06 13:39:24.000000000 +0000
+@@ -186,9 +186,9 @@
+ }
+ 
+ void K3bVideoCdRippingDialog::slotFreeSpace(const QString&amp;,
+-						  unsigned long,
+-						  unsigned long,
+-						  unsigned long kbAvail)
++						  unsigned long long,
++						  unsigned long long,
++						  unsigned long long kbAvail)
+ {
+     m_labelFreeSpace-&gt;setText( KIO::convertSizeFromKB(kbAvail) );
+ 
+@@ -210,7 +210,7 @@
+     if( !QFile::exists( path ) )
+         path.truncate( path.findRev('/') );
+ 
+-    unsigned long size, avail;
++    unsigned long long size, avail;
+     if( K3b::kbFreeOnFs( path, size, avail ) )
+         slotFreeSpace( path, size, 0, avail );
+     else
+--- k3b-0.11.23/src/rip/k3bvideocdrippingdialog.h.statfs	2005-04-06 13:38:54.000000000 +0000
++++ k3b-0.11.23/src/rip/k3bvideocdrippingdialog.h	2005-04-06 13:37:13.000000000 +0000
+@@ -66,7 +66,7 @@
+   void slotSaveUserDefaults();
+ 
+   void slotUpdateFreeSpace();
+-  void slotFreeSpace(const QString&amp;, unsigned long, unsigned long, unsigned long);
++  void slotFreeSpace(const QString&amp;, unsigned long long, unsigned long long, unsigned long long);
+ 
+ };
+ 
+--- k3b-0.11.23/src/rip/k3bdvdripperwidget.h.statfs	2004-01-21 10:20:20.000000000 +0000
++++ k3b-0.11.23/src/rip/k3bdvdripperwidget.h	2005-04-06 13:18:57.000000000 +0000
+@@ -95,8 +95,8 @@
+     void slotFindStaticDir();
+     void slotRipJobDeleted();
+     void slotSetDependDirs( const QString&amp; );
+-    void slotFreeTempSpace( const QString &amp; mountPoint, unsigned long kBSize,
+-        unsigned long kBUsed, unsigned long kBAvail );
++    void slotFreeTempSpace( const QString &amp; mountPoint, unsigned long long kBSize,
++        unsigned long long kBUsed, unsigned long long kBAvail );
+     void slotParseError( KProcess *p, char *text, int len );
+     void slotCheckOpenEncoding(int);
+     void slotOpenEncoding( bool );
+--- k3b-0.11.23/src/rip/k3bdvdripperwidget.cpp.statfs	2004-09-27 07:18:03.000000000 +0000
++++ k3b-0.11.23/src/rip/k3bdvdripperwidget.cpp	2005-04-06 13:18:57.000000000 +0000
+@@ -243,12 +243,17 @@
+     }
+     struct statfs fs;
+     ::statfs( QFile::encodeName( tmp ), &amp;fs );
+-    unsigned int kBfak = (unsigned int)(fs.f_bsize/1024);
+-    slotFreeTempSpace( tmp, fs.f_blocks*kBfak, (fs.f_blocks-fs.f_bfree)*kBfak, fs.f_bavail*kBfak );
++    unsigned long long size, used, avail;
++    size = (fs.f_blocks * static_cast&lt;unsigned long long&gt; (fs.f_bsize)) / 1024;
++    used = ((fs.f_blocks-fs.f_bfree) * static_cast&lt;unsigned long long&gt; (fs.f_bsize)) / 1024;
++    avail = (fs.f_bavail * static_cast&lt;unsigned long long&gt; (fs.f_bsize)) / 1024;
++    slotFreeTempSpace( tmp, size, used, avail );
++    // unsigned int kBfak = (unsigned int)(fs.f_bsize/1024);
++    // slotFreeTempSpace( tmp, fs.f_blocks*kBfak, (fs.f_blocks-fs.f_bfree)*kBfak, fs.f_bavail*kBfak );
+ }
+ 
+-void K3bDvdRipperWidget::slotFreeTempSpace( const QString &amp;, unsigned long kBSize,
+-        unsigned long kBUsed, unsigned long kBAvail ){
++void K3bDvdRipperWidget::slotFreeTempSpace( const QString &amp;, unsigned long long kBSize,
++        unsigned long long kBUsed, unsigned long long kBAvail ){
+     m_fillDisplay-&gt;setKbSize( kBSize );
+     m_fillDisplay-&gt;setKbAvailable( kBAvail );
+     m_fillDisplay-&gt;setKbUsed( kBUsed );
+--- k3b-0.11.23/src/dvdcopy/k3bdvdcopyjob.cpp.statfs	2005-04-06 13:42:54.000000000 +0000
++++ k3b-0.11.23/src/dvdcopy/k3bdvdcopyjob.cpp	2005-04-06 13:43:13.790966576 +0000
+@@ -238,7 +238,7 @@
+       // check free temp space
+       //
+       KIO::filesize_t imageSpaceNeeded = (KIO::filesize_t)(d-&gt;lastSector.lba()+1)*2048;
+-      unsigned long avail, size;
++      unsigned long long avail, size;
+       QString pathToTest = m_imagePath.left( m_imagePath.findRev( '/' ) );
+       if( !K3b::kbFreeOnFs( pathToTest, size, avail ) ) {
+ 	emit infoMessage( i18n(&quot;Unable to determine free space in temporary directory '%1'.&quot;).arg(pathToTest), ERROR );
+--- k3b-0.11.23/src/core/k3bglobals.cpp.statfs	2005-01-19 12:54:42.000000000 +0000
++++ k3b-0.11.23/src/core/k3bglobals.cpp	2005-04-06 13:18:57.000000000 +0000
+@@ -215,15 +215,15 @@
+ }
+ 
+ 
+-bool K3b::kbFreeOnFs( const QString&amp; path, unsigned long&amp; size, unsigned long&amp; avail )
++bool K3b::kbFreeOnFs( const QString&amp; path, unsigned long long&amp; size, unsigned long long&amp; avail )
+ {
+   struct statfs fs;
+ 
+   if( ::statfs( QFile::encodeName(path), &amp;fs ) == 0 ) {
+-    unsigned long kBfak = fs.f_bsize/1024;
++    // unsigned long kBfak = fs.f_bsize/1024;
+ 
+-    size = fs.f_blocks*kBfak;
+-    avail = fs.f_bavail*kBfak;
++    size = (fs.f_blocks*static_cast&lt;unsigned long long&gt;( fs.f_bsize )) / 1024;
++    avail = (fs.f_bavail*static_cast&lt;unsigned long long&gt;( fs.f_bsize )) / 1024;
+ 
+     return true;
+   }
+--- k3b-0.11.23/src/core/k3bglobals.h.statfs	2005-01-19 12:54:42.000000000 +0000
++++ k3b-0.11.23/src/core/k3bglobals.h	2005-04-06 13:18:57.563346824 +0000
+@@ -83,7 +83,7 @@
+    * We use this since we encountered problems with the KDE version.
+    * @returns true on success.
+    */
+-  bool kbFreeOnFs( const QString&amp; path, unsigned long&amp; size, unsigned long&amp; avail );
++  bool kbFreeOnFs( const QString&amp; path, unsigned long long&amp; size, unsigned long long&amp; avail );
+ 
+   /**
+    * Cut a filename preserving the extension
+--- k3b-0.11.23/src/k3bstatusbarmanager.cpp.statfs	2005-04-06 15:57:21.417541376 +0000
++++ k3b-0.11.23/src/k3bstatusbarmanager.cpp	2005-04-06 15:57:34.742515672 +0000
+@@ -83,7 +83,7 @@
+   if( !QFile::exists( path ) )
+     path.truncate( path.findRev('/') );
+ 
+-  unsigned long size, avail;
++  unsigned long long size, avail;
+   if( K3b::kbFreeOnFs( path, size, avail ) )
+     slotFreeTempSpace( path, size, 0, avail );
+   else

Added: trunk/rpms/k3b-mp3/k3b-0.11.24-no-bad-gcc.patch
===================================================================
--- trunk/rpms/k3b-mp3/k3b-0.11.24-no-bad-gcc.patch	2006-03-05 13:46:12 UTC (rev 4135)
+++ trunk/rpms/k3b-mp3/k3b-0.11.24-no-bad-gcc.patch	2006-03-05 22:13:09 UTC (rev 4136)
@@ -0,0 +1,95 @@
+diff -Nur k3b-0.11.24-orig/configure k3b-0.11.24/configure
+--- k3b-0.11.24-orig/configure	2005-05-11 10:58:16.000000000 +0200
++++ k3b-0.11.24/configure	2005-05-11 20:04:18.000000000 +0200
+@@ -4173,91 +4173,6 @@
+ 
+ 
+ 
+-  echo &quot;$as_me:$LINENO: checking whether $CC is blacklisted&quot; &gt;&amp;5
+-echo $ECHO_N &quot;checking whether $CC is blacklisted... $ECHO_C&quot; &gt;&amp;6
+-
+-
+-  cat &gt;conftest.$ac_ext &lt;&lt;_ACEOF
+-/* confdefs.h.  */
+-_ACEOF
+-cat confdefs.h &gt;&gt;conftest.$ac_ext
+-cat &gt;&gt;conftest.$ac_ext &lt;&lt;_ACEOF
+-/* end confdefs.h.  */
+-
+-#ifdef __GNUC__
+-#if __GNUC__ == 4 &amp;&amp; __GNUC_MINOR__ == 0 &amp;&amp; __GNUC_PATCHLEVEL__ == 0
+-choke me
+-#endif
+-#endif
+-
+-int
+-main ()
+-{
+-
+-  ;
+-  return 0;
+-}
+-_ACEOF
+-rm -f conftest.$ac_objext
+-if { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_compile\&quot;&quot;) &gt;&amp;5
+-  (eval $ac_compile) 2&gt;conftest.er1
+-  ac_status=$?
+-  grep -v '^ *+' conftest.er1 &gt;conftest.err
+-  rm -f conftest.er1
+-  cat conftest.err &gt;&amp;5
+-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+-  (exit $ac_status); } &amp;&amp;
+-	 { ac_try='test -z &quot;$ac_c_werror_flag&quot;
+-			 || test ! -s conftest.err'
+-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+-  (eval $ac_try) 2&gt;&amp;5
+-  ac_status=$?
+-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+-  (exit $ac_status); }; } &amp;&amp;
+-	 { ac_try='test -s conftest.$ac_objext'
+-  { (eval echo &quot;$as_me:$LINENO: \&quot;$ac_try\&quot;&quot;) &gt;&amp;5
+-  (eval $ac_try) 2&gt;&amp;5
+-  ac_status=$?
+-  echo &quot;$as_me:$LINENO: \$? = $ac_status&quot; &gt;&amp;5
+-  (exit $ac_status); }; }; then
+-  kde_bad_compiler=no
+-else
+-  echo &quot;$as_me: failed program was:&quot; &gt;&amp;5
+-sed 's/^/| /' conftest.$ac_ext &gt;&amp;5
+-
+-kde_bad_compiler=yes
+-
+-fi
+-rm -f conftest.err conftest.$ac_objext conftest.$ac_ext
+-
+-  echo &quot;$as_me:$LINENO: result: $kde_bad_compiler&quot; &gt;&amp;5
+-echo &quot;${ECHO_T}$kde_bad_compiler&quot; &gt;&amp;6
+-
+-if test &quot;$kde_bad_compiler&quot; = &quot;yes&quot;; then
+-  { { echo &quot;$as_me:$LINENO: error:
+-
+-This particular compiler version is blacklisted because it
+-is known to miscompile KDE. Please use a newer version, or
+-if that is not yet available, choose an older version.
+-
+-Please do not report a bug or bother us reporting this
+-configure error. We know about it, and we introduced
+-it by intention to avoid untraceable bugs or crashes in KDE.
+-
+-&quot; &gt;&amp;5
+-echo &quot;$as_me: error:
+-
+-This particular compiler version is blacklisted because it
+-is known to miscompile KDE. Please use a newer version, or
+-if that is not yet available, choose an older version.
+-
+-Please do not report a bug or bother us reporting this
+-configure error. We know about it, and we introduced
+-it by intention to avoid untraceable bugs or crashes in KDE.
+-
+-&quot; &gt;&amp;2;}
+-   { (exit 1); exit 1; }; }
+-fi
+ 
+ 
+ 

Added: trunk/rpms/k3b-mp3/k3b-0.12.2-statfs.patch
===================================================================
--- trunk/rpms/k3b-mp3/k3b-0.12.2-statfs.patch	2006-03-05 13:46:12 UTC (rev 4135)
+++ trunk/rpms/k3b-mp3/k3b-0.12.2-statfs.patch	2006-03-05 22:13:09 UTC (rev 4136)
@@ -0,0 +1,160 @@
+--- k3b-0.12.2/libk3b/jobs/k3bcdcopyjob.cpp.statfs	2005-07-01 15:31:42.000000000 +0200
++++ k3b-0.12.2/libk3b/jobs/k3bcdcopyjob.cpp	2005-07-13 14:42:08.000000000 +0200
+@@ -309,7 +309,7 @@
+ 	  imageSpaceNeeded += (*it).length().mode1Bytes();
+       }
+ 
+-      unsigned long avail, size;
++      unsigned long long avail, size;
+       QString pathToTest = m_tempPath.left( m_tempPath.findRev( '/' ) );
+       if( !K3b::kbFreeOnFs( pathToTest, size, avail ) ) {
+ 	emit infoMessage( i18n(&quot;Unable to determine free space in temporary directory '%1'.&quot;).arg(pathToTest), ERROR );
+--- k3b-0.12.2/libk3b/jobs/k3bdvdcopyjob.cpp.statfs	2005-07-01 15:31:42.000000000 +0200
++++ k3b-0.12.2/libk3b/jobs/k3bdvdcopyjob.cpp	2005-07-13 14:42:08.000000000 +0200
+@@ -288,7 +288,7 @@
+       // check free temp space
+       //
+       KIO::filesize_t imageSpaceNeeded = (KIO::filesize_t)(d-&gt;lastSector.lba()+1)*2048;
+-      unsigned long avail, size;
++      unsigned long long avail, size;
+       QString pathToTest = m_imagePath.left( m_imagePath.findRev( '/' ) );
+       if( !K3b::kbFreeOnFs( pathToTest, size, avail ) ) {
+ 	emit infoMessage( i18n(&quot;Unable to determine free space in temporary directory '%1'.&quot;).arg(pathToTest), ERROR );
+--- k3b-0.12.2/libk3b/core/k3bglobals.h.statfs	2005-07-01 15:31:13.000000000 +0200
++++ k3b-0.12.2/libk3b/core/k3bglobals.h	2005-07-13 14:42:08.000000000 +0200
+@@ -86,7 +86,7 @@
+    * We use this since we encountered problems with the KDE version.
+    * @returns true on success.
+    */
+-  bool kbFreeOnFs( const QString&amp; path, unsigned long&amp; size, unsigned long&amp; avail );
++  bool kbFreeOnFs( const QString&amp; path, unsigned long long&amp; size, unsigned long long&amp; avail );
+ 
+   /**
+    * Cut a filename preserving the extension
+--- k3b-0.12.2/libk3b/core/k3bglobals.cpp.statfs	2005-07-01 15:31:13.000000000 +0200
++++ k3b-0.12.2/libk3b/core/k3bglobals.cpp	2005-07-13 14:42:08.000000000 +0200
+@@ -231,15 +231,15 @@
+ }
+ 
+ 
+-bool K3b::kbFreeOnFs( const QString&amp; path, unsigned long&amp; size, unsigned long&amp; avail )
++bool K3b::kbFreeOnFs( const QString&amp; path, unsigned long long&amp; size, unsigned long long&amp; avail )
+ {
+   struct statfs fs;
+ 
+   if( ::statfs( QFile::encodeName(path), &amp;fs ) == 0 ) {
+-    unsigned long kBfak = fs.f_bsize/1024;
++    // unsigned long kBfak = fs.f_bsize/1024;
+ 
+-    size = fs.f_blocks*kBfak;
+-    avail = fs.f_bavail*kBfak;
++    size = (fs.f_blocks*static_cast&lt;unsigned long long&gt;( fs.f_bsize )) / 1024;
++    avail = (fs.f_bavail*static_cast&lt;unsigned long long&gt;( fs.f_bsize )) / 1024;
+ 
+     return true;
+   }
+--- k3b-0.12.2/src/k3bstatusbarmanager.cpp.statfs	2005-07-01 15:31:10.000000000 +0200
++++ k3b-0.12.2/src/k3bstatusbarmanager.cpp	2005-07-13 14:42:08.000000000 +0200
+@@ -89,7 +89,7 @@
+   if( !QFile::exists( path ) )
+     path.truncate( path.findRev('/') );
+ 
+-  unsigned long size, avail;
++  unsigned long long size, avail;
+   if( K3b::kbFreeOnFs( path, size, avail ) )
+     slotFreeTempSpace( path, size, 0, avail );
+   else
+--- k3b-0.12.2/src/rip/k3bvideocdrippingdialog.h.statfs	2005-07-01 15:31:09.000000000 +0200
++++ k3b-0.12.2/src/rip/k3bvideocdrippingdialog.h	2005-07-13 14:42:08.000000000 +0200
+@@ -66,7 +66,7 @@
+   void slotStartClicked();
+ 
+   void slotUpdateFreeSpace();
+-  void slotFreeSpace(const QString&amp;, unsigned long, unsigned long, unsigned long);
++  void slotFreeSpace(const QString&amp;, unsigned long long, unsigned long long, unsigned long long);
+ 
+ };
+ 
+--- k3b-0.12.2/src/rip/k3bvideocdrippingdialog.cpp.statfs	2005-07-01 15:31:09.000000000 +0200
++++ k3b-0.12.2/src/rip/k3bvideocdrippingdialog.cpp	2005-07-13 14:42:08.000000000 +0200
+@@ -188,9 +188,9 @@
+ }
+ 
+ void K3bVideoCdRippingDialog::slotFreeSpace(const QString&amp;,
+-						  unsigned long,
+-						  unsigned long,
+-						  unsigned long kbAvail)
++						  unsigned long long,
++						  unsigned long long,
++						  unsigned long long kbAvail)
+ {
+     m_labelFreeSpace-&gt;setText( KIO::convertSizeFromKB(kbAvail) );
+ 
+@@ -212,7 +212,7 @@
+     if( !QFile::exists( path ) )
+         path.truncate( path.findRev('/') );
+ 
+-    unsigned long size, avail;
++    unsigned long long size, avail;
+     if( K3b::kbFreeOnFs( path, size, avail ) )
+         slotFreeSpace( path, size, 0, avail );
+     else
+--- k3b-0.12.2/src/rip/k3baudioconvertingoptionwidget.cpp.statfs	2005-07-13 14:56:18.000000000 +0200
++++ k3b-0.12.2/src/rip/k3baudioconvertingoptionwidget.cpp	2005-07-13 14:56:45.000000000 +0200
+@@ -141,7 +141,7 @@
+   if( !QFile::exists( path ) )
+     path.truncate( path.findRev('/') );
+ 
+-  unsigned long size, avail;
++  unsigned long long size, avail;
+   if( K3b::kbFreeOnFs( path, size, avail ) ) {
+     m_labelFreeSpace-&gt;setText( KIO::convertSizeFromKB(avail) );
+     if( avail &lt; d-&gt;neededSize/1024 )
+--- k3b-0.12.2/src/rip/k3bdvdripperwidget.cpp.statfs	2005-07-01 15:31:09.000000000 +0200
++++ k3b-0.12.2/src/rip/k3bdvdripperwidget.cpp	2005-07-13 14:42:08.000000000 +0200
+@@ -233,12 +233,17 @@
+     }
+     struct statfs fs;
+     ::statfs( QFile::encodeName( tmp ), &amp;fs );
+-    unsigned int kBfak = (unsigned int)(fs.f_bsize/1024);
+-    slotFreeTempSpace( tmp, fs.f_blocks*kBfak, (fs.f_blocks-fs.f_bfree)*kBfak, fs.f_bavail*kBfak );
++    unsigned long long size, used, avail;
++    size = (fs.f_blocks * static_cast&lt;unsigned long long&gt; (fs.f_bsize)) / 1024;
++    used = ((fs.f_blocks-fs.f_bfree) * static_cast&lt;unsigned long long&gt; (fs.f_bsize)) / 1024;
++    avail = (fs.f_bavail * static_cast&lt;unsigned long long&gt; (fs.f_bsize)) / 1024;
++    slotFreeTempSpace( tmp, size, used, avail );
++    // unsigned int kBfak = (unsigned int)(fs.f_bsize/1024);
++    // slotFreeTempSpace( tmp, fs.f_blocks*kBfak, (fs.f_blocks-fs.f_bfree)*kBfak, fs.f_bavail*kBfak );
+ }
+ 
+-void K3bDvdRipperWidget::slotFreeTempSpace( const QString &amp;, unsigned long kBSize,
+-        unsigned long kBUsed, unsigned long kBAvail ){
++void K3bDvdRipperWidget::slotFreeTempSpace( const QString &amp;, unsigned long long kBSize,
++        unsigned long long kBUsed, unsigned long long kBAvail ){
+     m_fillDisplay-&gt;setKbSize( kBSize );
+     m_fillDisplay-&gt;setKbAvailable( kBAvail );
+     m_fillDisplay-&gt;setKbUsed( kBUsed );
+--- k3b-0.12.2/src/rip/k3bdvdripperwidget.h.statfs	2005-07-01 15:31:09.000000000 +0200
++++ k3b-0.12.2/src/rip/k3bdvdripperwidget.h	2005-07-13 14:42:08.000000000 +0200
+@@ -99,8 +99,8 @@
+   void rip();
+   void slotFindStaticDir();
+   void slotSetDependDirs( const QString&amp; );
+-  void slotFreeTempSpace( const QString &amp; mountPoint, unsigned long kBSize,
+-			 unsigned long kBUsed, unsigned long kBAvail );
++  void slotFreeTempSpace( const QString &amp; mountPoint, unsigned long long kBSize,
++			 unsigned long long kBUsed, unsigned long long kBAvail );
+   void slotParseError( KProcess *p, char *text, int len );
+   void slotCheckOpenEncoding(int);
+   void slotOpenEncoding( bool );
+--- k3b-0.12.2/src/k3btempdirselectionwidget.cpp.statfs	2005-07-01 15:31:10.000000000 +0200
++++ k3b-0.12.2/src/k3btempdirselectionwidget.cpp	2005-07-13 14:42:08.000000000 +0200
+@@ -109,7 +109,7 @@
+   if( !QFile::exists( path ) )
+     path.truncate( path.findRev('/') );
+ 
+-  unsigned long size, avail;
++  unsigned long long size, avail;
+   if( K3b::kbFreeOnFs( path, size, avail ) )
+     slotFreeTempSpace( path, size, 0, avail );
+   else

Added: trunk/rpms/k3b-mp3/k3b-mp3-0.11.spec
===================================================================
--- trunk/rpms/k3b-mp3/k3b-mp3-0.11.spec	2006-03-05 13:46:12 UTC (rev 4135)
+++ trunk/rpms/k3b-mp3/k3b-mp3-0.11.spec	2006-03-05 22:13:09 UTC (rev 4136)
@@ -0,0 +1,77 @@
+# $Id$
+# Authority: dag
+
+%{?fc1:%define _without_kde32 1}
+%{?el3:%define _without_kde32 1}
+%{?rh9:%define _without_kde32 1}
+%{?rh7:%define _without_kde32 1}
+%{?el2:%define _without_kde32 1}
+
+%{!?k3b_version:%define k3b_version %(rpm -q k3b --qf '%{RPMTAG_VERSION}' | tail -1)}
+
+Summary: MP3 decoder plugin for k3b CD/DVD burner
+Name: k3b-mp3
+Version: %{k3b_version}
+Release: 1
+License: GPL
+Group: Applications/Multimedia
+URL: <A HREF="http://www.k3b.org/">http://www.k3b.org/</A>
+
+Source: <A HREF="http://dl.sf.net/k3b/k3b-%{version">http://dl.sf.net/k3b/k3b-%{version</A>}.tar.bz2
+Patch0: k3b-0.11.23-statfs.patch
+Patch1: k3b-0.11.24-no-bad-gcc.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: k3b
+# Some of these are only to make the configure script happy.
+BuildRequires: XFree86-devel, kdelibs-devel &gt;= 6:3.1, libart_lgpl-devel, arts-devel
+BuildRequires: zlib-devel, libpng-devel, libjpeg-devel
+BuildRequires: gettext, taglib-devel libmad-devel lame-devel
+%{!?_without_kd32:BuildRequires: libmng-devel fam-devel glib2-devel alsa-lib-devel esound-devel}
+
+Requires: k3b = %{k3b_version}
+
+%description
+MP3 decoder plugin for k3b, a feature-rich and easy to handle CD/DVD
+burning application.
+
+%prep
+%setup -n k3b-%{k3b_version}
+%patch0 -p1 -b .statfs
+#patch1 -p1 -b .no-bad-gcc
+
+%build
+source /etc/profile.d/qt.sh
+%configure \
+	--disable-rpath \
+	--with-external-libsamplerate=&quot;no&quot; \
+	--without-oggvorbis \
+	--without-flac \
+	--with-qt-libraries=&quot;$QTDIR/lib&quot;
+
+%{__ln_s} -f %{_libdir}/libk3bdevice.la src/device/libk3bdevice.la
+%{__ln_s} -f %{_libdir}/libk3bcore.la src/core/libk3bcore.la
+%{__ln_s} -f %{_libdir}/libk3bplugin.la src/plugin/libk3bplugin.la
+
+%{__make} -C src/audiodecoding/mp3 %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} -C src/audiodecoding/mp3 install DESTDIR=&quot;%{buildroot}&quot;
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%dir %{_libdir}/kde3/
+%{_libdir}/kde3/libk3bmaddecoder.*
+%dir %{_datadir}/apps/
+%dir %{_datadir}/apps/k3b/
+%dir %{_datadir}/apps/k3b/plugins/
+%{_datadir}/apps/k3b/plugins/k3bmaddecoder.plugin
+
+%changelog
+* Sun Mar 05 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - %{k3b_version}-1
+- Imported based on Livna SPEC file.
+- Initial package. (using DAR)


Property changes on: trunk/rpms/k3b-mp3/k3b-mp3-0.11.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Added: trunk/rpms/k3b-mp3/k3b-mp3.spec
===================================================================
--- trunk/rpms/k3b-mp3/k3b-mp3.spec	2006-03-05 13:46:12 UTC (rev 4135)
+++ trunk/rpms/k3b-mp3/k3b-mp3.spec	2006-03-05 22:13:09 UTC (rev 4136)
@@ -0,0 +1,80 @@
+# $Id$
+# Authority: dag
+
+%{?fc1:%define _without_kde32 1}
+%{?el3:%define _without_kde32 1}
+%{?rh9:%define _without_kde32 1}
+%{?rh7:%define _without_kde32 1}
+%{?el2:%define _without_kde32 1}
+
+%{!?k3b_version:%define k3b_version %(rpm -q k3b --qf '%{RPMTAG_VERSION}' | tail -1)}
+
+Summary: MP3 decoder plugin for k3b CD/DVD burner
+Name: k3b-mp3
+Version: %{k3b_version}
+Release: 1
+License: GPL
+Group: Applications/Multimedia
+URL: <A HREF="http://www.k3b.org/">http://www.k3b.org/</A>
+
+Source: <A HREF="http://dl.sf.net/k3b/k3b-%{version">http://dl.sf.net/k3b/k3b-%{version</A>}.tar.bz2
+# Patch touches globals, better include this.
+Patch0: k3b-0.12.2-statfs.patch
+Patch1: k3b-0.11.24-no-bad-gcc.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: k3b
+# Some of these are only to make the configure script happy.
+BuildRequires: XFree86-devel, kdelibs-devel &gt;= 6:3.1, libart_lgpl-devel, arts-devel
+BuildRequires: zlib-devel, libpng-devel, libjpeg-devel
+BuildRequires: gettext, taglib-devel libmad-devel lame-devel
+%{!?_without_kd32:BuildRequires: libmng-devel fam-devel glib2-devel alsa-lib-devel esound-devel}
+
+Requires: k3b = %{version}
+
+%description
+MP3 decoder plugin for k3b, a feature-rich and easy to handle CD/DVD
+burning application.
+
+%prep
+%setup -n k3b-%{version}
+#patch0 -p1 -b .statfs
+#patch1 -p1 -b .no-bad-gcc
+
+%build
+source /etc/profile.d/qt.sh
+%configure \
+	--disable-rpath \
+	--with-external-libsamplerate=&quot;no&quot; \
+	--without-oggvorbis \
+	--without-flac \
+	--with-qt-libraries=&quot;$QTDIR/lib&quot;
+
+%{__ln_s} -f %{_libdir}/libk3b.la libk3b/libk3b.la
+
+%{__make} -C plugins/decoder/mp3 %{?_smp_mflags}
+%{__make} -C plugins/encoder/lame %{?_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} -C plugins/decoder/mp3 install DESTDIR=&quot;%{buildroot}&quot;
+%{__make} -C plugins/encoder/lame install DESTDIR=&quot;%{buildroot}&quot;
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files
+%defattr(-, root, root, 0755)
+%dir %{_libdir}/kde3/
+%{_libdir}/kde3/libk3bmaddecoder.*
+%{_libdir}/kde3/libk3blameencoder.*
+%dir %{_datadir}/apps/
+%dir %{_datadir}/apps/k3b/
+%dir %{_datadir}/apps/k3b/plugins/
+%{_datadir}/apps/k3b/plugins/k3bmaddecoder.plugin
+%{_datadir}/apps/k3b/plugins/k3blameencoder.plugin
+
+%changelog
+* Sun Mar 05 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.12.10-1
+- Imported based on Livna SPEC file.
+- Initial package. (using DAR)


Property changes on: trunk/rpms/k3b-mp3/k3b-mp3.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native

Modified: trunk/rpms/perl-Term-ReadKey/perl-Term-ReadKey.spec
===================================================================
--- trunk/rpms/perl-Term-ReadKey/perl-Term-ReadKey.spec	2006-03-05 13:46:12 UTC (rev 4135)
+++ trunk/rpms/perl-Term-ReadKey/perl-Term-ReadKey.spec	2006-03-05 22:13:09 UTC (rev 4136)
@@ -10,7 +10,7 @@
 Summary: Module for simple terminal control 
 Name: perl-Term-ReadKey
 Version: 2.30
-Release: 1
+Release: 2
 License: Artistic
 Group: Applications/CPAN
 URL: <A HREF="http://search.cpan.org/dist/TermReadKey/">http://search.cpan.org/dist/TermReadKey/</A>
@@ -18,6 +18,7 @@
 Source: <A HREF="http://search.cpan.org/CPAN/authors/id/J/JS/JSTOWE/TermReadKey-%{version">http://search.cpan.org/CPAN/authors/id/J/JS/JSTOWE/TermReadKey-%{version</A>}.tar.gz
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 
+Obsoletes: perl-TermReadKey &lt;= %{version}
 BuildRequires: perl
 
 %description
@@ -55,6 +56,9 @@
 %{perl_vendorarch}/auto/Term/ReadKey/
 
 %changelog
+* Sun Mar 05 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 2.30-2
+- Obsolete wrongly named perl-TermReadKey.
+
 * Fri Mar  4 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 2.30-1
 - Updated to release 2.30.
 

Added: trunk/rpms/vomit/vomit.spec
===================================================================
--- trunk/rpms/vomit/vomit.spec	2006-03-05 13:46:12 UTC (rev 4135)
+++ trunk/rpms/vomit/vomit.spec	2006-03-05 22:13:09 UTC (rev 4136)
@@ -0,0 +1,47 @@
+# $Id$
+# Authority :dag
+# Upstream: Niels Provos &lt;provos$citi,umich,edu&gt;
+
+Summary: Decodes VoIP audio from tcpdump captures
+Name: vomit
+Version: 0.2c
+Release: 1
+License: GPL
+Group: Applications/Internet
+URL: <A HREF="http://vomit.xtdnet.nl/">http://vomit.xtdnet.nl/</A>
+
+Source: <A HREF="http://vomit.xtdnet.nl/vomit-%{version">http://vomit.xtdnet.nl/vomit-%{version</A>}.tar.gz
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+
+BuildRequires: libdnet-devel, libevent-devel, libpcap, automake &gt;= 1.4
+Requires: libdnet, libevent, libpcap
+
+%description
+vomit (Voice Over Misconfigured Internet Telephones) converts a Cisco IP
+phone conversation into a wave file that can be played with ordinary
+sound players. Vomit requires a tcpdump output file. Vomit is not a VoIP
+sniffer also it could be but the naming is probably related to H.323.
+
+%prep
+%setup
+
+%build
+%configure
+%{__make} %{_smp_mflags}
+
+%install
+%{__rm} -rf %{buildroot}
+%{__make} install DESTDIR=&quot;%{buildroot}&quot;
+
+%clean
+%{__rm} -rf %{buildroot}
+
+%files 
+%defattr(-, root, root, 0755)
+%doc README
+%doc %{_mandir}/man1/vomit.1*
+%{_bindir}/vomit
+
+%changelog
+* Sun Mar 05 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.2c-1
+- Initial package. (using DAR)


Property changes on: trunk/rpms/vomit/vomit.spec
___________________________________________________________________
Name: svn:keywords
   + Id Revision
Name: svn:eol-style
   + native


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002935.html">[svn] r4135 - in trunk/rpms: interbench lshw netrw python-cddb xnee	yoltia
</A></li>
	<LI>Next message: <A HREF="002937.html">[svn] r4137 - trunk/rpms/audacity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2936">[ date ]</a>
              <a href="thread.html#2936">[ thread ]</a>
              <a href="subject.html#2936">[ subject ]</a>
              <a href="author.html#2936">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
