<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r4187 - in trunk/rpms: createrepo qalculate spectool synaptic
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r4187%20-%20in%20trunk/rpms%3A%20createrepo%20qalculate%20spectool%20synaptic&In-Reply-To=%3C20060316160233.4B8C3318096%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002986.html">
   <LINK REL="Next"  HREF="002988.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r4187 - in trunk/rpms: createrepo qalculate spectool synaptic</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r4187%20-%20in%20trunk/rpms%3A%20createrepo%20qalculate%20spectool%20synaptic&In-Reply-To=%3C20060316160233.4B8C3318096%40pooch.vmhosting.org%3E"
       TITLE="[svn] r4187 - in trunk/rpms: createrepo qalculate spectool synaptic">packagers at lists.rpmforge.net
       </A><BR>
    <I>Thu Mar 16 17:02:33 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002986.html">[svn] r4186 - in trunk/tools/footprint: . vmx
</A></li>
        <LI>Next message: <A HREF="002988.html">[svn] r4188 - trunk/rpms/gstreamer08-plugins-extras
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2987">[ date ]</a>
              <a href="thread.html#2987">[ thread ]</a>
              <a href="subject.html#2987">[ subject ]</a>
              <a href="author.html#2987">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2006-03-16 17:02:31 +0100 (Thu, 16 Mar 2006)
New Revision: 4187

Added:
   trunk/rpms/synaptic/synaptic-0.57.2-repomd.patch
Modified:
   trunk/rpms/createrepo/createrepo.spec
   trunk/rpms/qalculate/qalculate.spec
   trunk/rpms/spectool/spectool.spec
   trunk/rpms/synaptic/synaptic.spec
Log:
Updates

Modified: trunk/rpms/createrepo/createrepo.spec
===================================================================
--- trunk/rpms/createrepo/createrepo.spec	2006-03-16 14:37:24 UTC (rev 4186)
+++ trunk/rpms/createrepo/createrepo.spec	2006-03-16 16:02:31 UTC (rev 4187)
@@ -7,7 +7,7 @@
 
 Summary: Creates a common metadata repository
 Name: createrepo
-Version: 0.4.3
+Version: 0.4.4
 Release: 1
 License: GPL
 Group: System Environment/Base
@@ -45,12 +45,14 @@
 %files
 %defattr(-, root, root, 0755)
 %doc ChangeLog README
+%doc %{_mandir}/man8/createrepo.8*
 %{_bindir}/createrepo
 %{_datadir}/createrepo/
-%{_mandir}/man8/createrepo.8*
 
+%changelog
+* Thu Mar 16 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.4.4-1
+- Updated to release 0.4.4.
 
-%changelog
 * Mon Aug 22 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.4.3-1
 - Updated to release 0.4.3.
 

Modified: trunk/rpms/qalculate/qalculate.spec
===================================================================
--- trunk/rpms/qalculate/qalculate.spec	2006-03-16 14:37:24 UTC (rev 4186)
+++ trunk/rpms/qalculate/qalculate.spec	2006-03-16 16:02:31 UTC (rev 4187)
@@ -4,7 +4,7 @@
 
 Summary: Versatile desktop calculator library
 Name: qalculate
-Version: 0.9.2
+Version: 0.9.3
 Release: 1
 License: GPL
 Group: Applications/Engineering
@@ -58,6 +58,9 @@
 %{_datadir}/locale/*/LC_MESSAGES/libqalculate.mo
 
 %changelog
+* Thu Mar 16 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.9.3-1
+- Updated to release 0.9.3.
+
 * Sun Dec 25 2005 Dries Verachtert &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dries at ulyssis.org</A>&gt; - 0.9.2-1
 - Updated to release 0.9.2.
 

Modified: trunk/rpms/spectool/spectool.spec
===================================================================
--- trunk/rpms/spectool/spectool.spec	2006-03-16 14:37:24 UTC (rev 4186)
+++ trunk/rpms/spectool/spectool.spec	2006-03-16 16:02:31 UTC (rev 4187)
@@ -4,7 +4,7 @@
 
 Summary: Display expanded Source/Patch macros from SPEC files
 Name: spectool
-Version: 1.0.3
+Version: 1.0.7
 Release: 1
 License: GPL
 Group: System Environment/Base
@@ -38,6 +38,9 @@
 %{_bindir}/spectool
 
 %changelog
+* Thu Mar 16 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0.7-1
+- Updated to release 1.0.7.
+
 * Wed Mar 16 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 1.0.3-1
 - Updated to release 1.0.3.
 

Added: trunk/rpms/synaptic/synaptic-0.57.2-repomd.patch
===================================================================
--- trunk/rpms/synaptic/synaptic-0.57.2-repomd.patch	2006-03-16 14:37:24 UTC (rev 4186)
+++ trunk/rpms/synaptic/synaptic-0.57.2-repomd.patch	2006-03-16 16:02:31 UTC (rev 4187)
@@ -0,0 +1,89 @@
+--- gtk/rgrepositorywin.cc.orig	2006-03-16 16:17:37.157385224 +0100
++++ gtk/rgrepositorywin.cc	2006-03-16 16:19:07.866595328 +0100
+@@ -39,6 +39,8 @@
+    ITEM_TYPE_RPMSRC,
+    ITEM_TYPE_RPMDIR,
+    ITEM_TYPE_RPMSRCDIR,
++   ITEM_TYPE_REPOMD,
++   ITEM_TYPE_REPOMDSRC,
+    ITEM_TYPE_DEB,
+    ITEM_TYPE_DEBSRC
+ };
+@@ -48,7 +50,9 @@
+    ITEM_TYPE_RPM,
+    ITEM_TYPE_RPMSRC,
+    ITEM_TYPE_RPMDIR,
+-   ITEM_TYPE_RPMSRCDIR
++   ITEM_TYPE_RPMSRCDIR,
++   ITEM_TYPE_REPOMD,
++   ITEM_TYPE_REPOMDSRC
+ };
+ #endif
+ 
+@@ -235,6 +239,16 @@
+    gtk_menu_append(GTK_MENU(_optTypeMenu), item);
+    gtk_widget_show(item);
+    gtk_object_set_data(GTK_OBJECT(item), &quot;id&quot;, (gpointer) ITEM_TYPE_RPMSRCDIR);
++
++   item = gtk_menu_item_new_with_label(&quot;repomd&quot;);
++   gtk_menu_append(GTK_MENU(_optTypeMenu), item);
++   gtk_widget_show(item);
++   gtk_object_set_data(GTK_OBJECT(item), &quot;id&quot;, (gpointer) ITEM_TYPE_REPOMD);
++
++   item = gtk_menu_item_new_with_label(&quot;repomd-src&quot;);
++   gtk_menu_append(GTK_MENU(_optTypeMenu), item);
++   gtk_widget_show(item);
++   gtk_object_set_data(GTK_OBJECT(item), &quot;id&quot;, (gpointer) ITEM_TYPE_REPOMDSRC);
+ #else
+    item = gtk_menu_item_new_with_label(_(&quot;Binary (deb)&quot;));
+    gtk_menu_append(GTK_MENU(_optTypeMenu), item);
+--- common/rpackagelister.h.orig	2006-03-16 16:19:20.652651552 +0100
++++ common/rpackagelister.h	2006-03-16 16:20:32.220771544 +0100
+@@ -281,6 +281,10 @@
+    bool updateCache(pkgAcquireStatus *status, string &amp;error);
+    bool commitChanges(pkgAcquireStatus *status, RInstallProgress *iprog);
+ 
++#ifndef HAVE_RPM
++    bool addArchiveToCache(string archiveDir, string &amp;pkgname);
++#endif
++
+    void setProgressMeter(OpProgress *progMeter) {
+       if(_progMeter != NULL)
+ 	 delete _progMeter;
+--- common/rsources.cc.orig	2006-03-16 16:20:39.685636712 +0100
++++ common/rsources.cc	2006-03-16 16:21:28.456222456 +0100
+@@ -352,6 +352,10 @@
+       Type |= RpmDir;
+    else if (S == &quot;rpm-src-dir&quot;)
+       Type |= RpmSrcDir;
++   else if (S == &quot;repomd&quot;)
++      Type |= Repomd;
++   else if (S == &quot;repomd-src&quot;)
++      Type |= RepomdSrc;
+    else
+       return false;
+    return true;
+@@ -371,6 +375,10 @@
+       return &quot;rpm-dir&quot;;
+    else if ((Type &amp; RpmSrcDir) != 0)
+       return &quot;rpm-src-dir&quot;;
++   else if ((Type &amp; Repomd) != 0)
++      return &quot;repomd&quot;;
++   else if ((Type &amp; RepomdSrc) != 0)
++      return &quot;repomd-src&quot;;
+    return &quot;unknown&quot;;
+ }
+ 
+--- common/rsources.h.orig	2006-03-16 16:21:33.875398616 +0100
++++ common/rsources.h	2006-03-16 16:21:51.998643464 +0100
+@@ -41,7 +41,9 @@
+       Disabled = 1 &lt;&lt; 4,
+       Comment = 1 &lt;&lt; 5,
+       RpmDir = 1 &lt;&lt; 6,
+-      RpmSrcDir = 1 &lt;&lt; 7
++      RpmSrcDir = 1 &lt;&lt; 7,
++      Repomd = 1 &lt;&lt; 8,
++      RepomdSrc = 1 &lt;&lt; 9
+    };
+ 
+    struct SourceRecord {

Modified: trunk/rpms/synaptic/synaptic.spec
===================================================================
--- trunk/rpms/synaptic/synaptic.spec	2006-03-16 14:37:24 UTC (rev 4186)
+++ trunk/rpms/synaptic/synaptic.spec	2006-03-16 16:02:31 UTC (rev 4187)
@@ -4,18 +4,19 @@
 
 Summary: Graphical package management program using apt
 Name: synaptic
-Version: 0.55.3
+Version: 0.57.2
 Release: 1
 License: GPL
 Group: Applications/System
 URL: <A HREF="http://www.nongnu.org/synaptic/">http://www.nongnu.org/synaptic/</A>
 Source: <A HREF="http://savannah.nongnu.org/download/synaptic/synaptic-%{version">http://savannah.nongnu.org/download/synaptic/synaptic-%{version</A>}.tar.gz
+Patch: <A HREF="http://laiskiainen.org/apt/testing/synaptic-0.57.2-repomd.patch">http://laiskiainen.org/apt/testing/synaptic-0.57.2-repomd.patch</A>
 BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
 Requires: apt &gt;= 0.5.4, usermode
 Requires(pre): scrollkeeper
 Requires(postun): scrollkeeper
 BuildRequires: apt-devel &gt;= 0.5.4, rpm-devel &gt;= 4.0
-BuildRequires: gtk2-devel, libglade2-devel &gt;= 2.0
+BuildRequires: gtk2-devel &gt;= 2.4, libglade2-devel &gt;= 2.0
 BuildRequires: gcc-c++, docbook-utils, gettext, xmlto, scrollkeeper
 BuildRequires: perl(XML::Parser)
 
@@ -27,6 +28,7 @@
 
 %prep
 %setup
+%patch -p0
 
 %{__cat} &lt;&lt;EOF &gt;synaptic.apps
 USER=root
@@ -103,6 +105,7 @@
 %{_bindir}/synaptic
 %{_sbindir}/synaptic
 %{_datadir}/applications/synaptic.desktop
+%{_datadir}/applications/synaptic-kde.desktop
 %{_datadir}/gnome/help/synaptic/
 %{_datadir}/omf/synaptic/
 %{_datadir}/pixmaps/synaptic.png
@@ -112,6 +115,10 @@
 
 
 %changelog
+* Thu Mar 16 2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.57.2-1
+- Updated to release 0.57.2.
+- Added repomd support.
+
 * Tue Jan 11 2005 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt; - 0.55.3-1
 - Updated to release 0.55.3.
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002986.html">[svn] r4186 - in trunk/tools/footprint: . vmx
</A></li>
	<LI>Next message: <A HREF="002988.html">[svn] r4188 - trunk/rpms/gstreamer08-plugins-extras
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2987">[ date ]</a>
              <a href="thread.html#2987">[ thread ]</a>
              <a href="subject.html#2987">[ subject ]</a>
              <a href="author.html#2987">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
