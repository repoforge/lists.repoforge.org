<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r4150 - in trunk/tools/yam: . config config/httpd tests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r4150%20-%20in%20trunk/tools/yam%3A%20.%20config%20config/httpd%20tests&In-Reply-To=%3C20060310170146.A57B73180A8%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002949.html">
   <LINK REL="Next"  HREF="002951.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r4150 - in trunk/tools/yam: . config config/httpd tests</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r4150%20-%20in%20trunk/tools/yam%3A%20.%20config%20config/httpd%20tests&In-Reply-To=%3C20060310170146.A57B73180A8%40pooch.vmhosting.org%3E"
       TITLE="[svn] r4150 - in trunk/tools/yam: . config config/httpd tests">packagers at lists.rpmforge.net
       </A><BR>
    <I>Fri Mar 10 18:01:46 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="002949.html">[svn] r4149 - trunk/rpms/pychecker
</A></li>
        <LI>Next message: <A HREF="002951.html">[svn] r4151 - trunk/tools/sarah
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2950">[ date ]</a>
              <a href="thread.html#2950">[ thread ]</a>
              <a href="subject.html#2950">[ subject ]</a>
              <a href="author.html#2950">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: dag
Date: 2006-03-10 18:01:45 +0100 (Fri, 10 Mar 2006)
New Revision: 4150

Added:
   trunk/tools/yam/config/
   trunk/tools/yam/config/dnsmasq-yam.conf
   trunk/tools/yam/config/httpd/
   trunk/tools/yam/config/httpd/yam.conf
   trunk/tools/yam/config/yam
   trunk/tools/yam/config/yam-complex.conf
   trunk/tools/yam/config/yam-dag.conf
   trunk/tools/yam/config/yam-example.conf
   trunk/tools/yam/config/yam.conf
   trunk/tools/yam/setup.cfg
   trunk/tools/yam/setup.py
   trunk/tools/yam/tests/
   trunk/tools/yam/tests/rhn_query.py
   trunk/tools/yam/tests/rhn_tool.py
   trunk/tools/yam/tests/rhntest.py
Removed:
   trunk/tools/yam/dnsmasq-yam.conf
   trunk/tools/yam/yam-complex.conf
   trunk/tools/yam/yam-dag.conf
   trunk/tools/yam/yam-example.conf
   trunk/tools/yam/yam.conf
   trunk/tools/yam/yam.httpd
   trunk/tools/yam/yam.sysv
Modified:
   trunk/tools/yam/ChangeLog
   trunk/tools/yam/Makefile
   trunk/tools/yam/README.rhn
   trunk/tools/yam/gensystemid
   trunk/tools/yam/yam
   trunk/tools/yam/yam.spec
Log:
Updates

Modified: trunk/tools/yam/ChangeLog
===================================================================
--- trunk/tools/yam/ChangeLog	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/ChangeLog	2006-03-10 17:01:45 UTC (rev 4150)
@@ -1,4 +1,9 @@
-* 0.8.0 - Meerenhof - released ../../2005
+* 0.8.1 - ... - released ../../2006
+- Added gensystemid to installation. (Ian Forde)
+- gensystemid now checks if the release and arch combo is RHN correct.
+- Small file re-organisation to please distutils.
+
+* 0.8.0 - Meerenhof - released 09/03/2006
 - Allow to specify metadata per distribution (Jason Kim)
 - Get rid of apt, createrepo and yum options in [main], replaced by metadata option
 - Fixed description for EL4 and FC3 in httpd config file (Ian Forde)

Modified: trunk/tools/yam/Makefile
===================================================================
--- trunk/tools/yam/Makefile	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/Makefile	2006-03-10 17:01:45 UTC (rev 4150)
@@ -19,16 +19,16 @@
 all: install
 
 install:
-	-[ ! -f $(DESTDIR)$(sysconfdir)/yam.conf ] &amp;&amp; install -D -m0644 yam.conf $(DESTDIR)$(sysconfdir)/yam.conf
 	install -D -m0755 yam $(DESTDIR)$(bindir)/yam
 	install -D -m0755 gensystemid $(DESTDIR)$(bindir)/gensystemid
-	install -D -m0644 yam.httpd $(DESTDIR)$(httpddir)/yam.conf
-	install -D -m0755 yam.sysv $(DESTDIR)$(initrddir)/yam
+	-[ ! -f $(DESTDIR)$(sysconfdir)/yam.conf ] &amp;&amp; install -D -m0644 config/yam.conf $(DESTDIR)$(sysconfdir)/yam.conf
+	install -D -m0644 config/httpd/yam.conf $(DESTDIR)$(httpddir)/yam.conf
+	install -D -m0755 config/yam $(DESTDIR)$(initrddir)/yam
 
 	install -d -m0755 $(DESTDIR)$(htmldir)
 	install -m0644 html/* $(DESTDIR)$(htmldir)
 
-	install -d -m0755 $(DESTDIR)$(srcdir)/{all/local,iso}/
+	install -d -m0755 $(DESTDIR)$(srcdir)/all/local/
 	install -d -m0755 $(DESTDIR)$(wwwdir)
 	install -d -m0755 $(DESTDIR)$(cachedir)
 	

Modified: trunk/tools/yam/README.rhn
===================================================================
--- trunk/tools/yam/README.rhn	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/README.rhn	2006-03-10 17:01:45 UTC (rev 4150)
@@ -48,7 +48,9 @@
 
 You can manage your systems on the RHN website afterwards.
 
+(For yet unknown reasons, you have to be root to run gensystemid)
 
+
 Downloading from unsubscribed channels
 &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
 You can let Yam subscribe to the necessary channels, unfortunately this

Copied: trunk/tools/yam/config/dnsmasq-yam.conf (from rev 4145, trunk/tools/yam/dnsmasq-yam.conf)

Copied: trunk/tools/yam/config/httpd/yam.conf (from rev 4145, trunk/tools/yam/yam.httpd)

Copied: trunk/tools/yam/config/yam (from rev 4145, trunk/tools/yam/yam.sysv)

Copied: trunk/tools/yam/config/yam-complex.conf (from rev 4145, trunk/tools/yam/yam-complex.conf)
===================================================================
--- trunk/tools/yam/yam-complex.conf	2006-03-09 12:25:20 UTC (rev 4145)
+++ trunk/tools/yam/config/yam-complex.conf	2006-03-10 17:01:45 UTC (rev 4150)
@@ -0,0 +1,134 @@
+### Configuration file for Yam
+
+### The [main] section allows to override Yam's default settings
+### The yam-example.conf gives an overview of all the possible settings
+[main]
+srcdir = /var/yam
+wwwdir = /var/www/yam
+arch = i386
+#rhnlogin = username:password
+
+rsync-timeout = 3600
+rsync-bandwidth-limit = 5
+
+
+### Any other section is considered a definition for a distribution
+### Below are a few examples to show the possibilities
+[fc4]
+name = Fedora Core $release ($arch)
+release = 4
+metadata = apt createrepo
+iso = FC$release-$arch-disc?.iso
+core = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/</A>
+updates = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/</A>
+dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/fedora/$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/fedora/$release/en/$arch/RPMS.$repo/</A>
+dries = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/dries/fedora/linux/$release/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/dries/fedora/linux/$release/$arch/RPMS.$repo/</A>
+freshrpms = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/</A>
+newrpms = <A HREF="rsync://newrpms.sunsite.dk/projects/newrpms/www/htdocs/apt/redhat/en/$arch/fc$release/RPMS.$repo/">rsync://newrpms.sunsite.dk/projects/newrpms/www/htdocs/apt/redhat/en/$arch/fc$release/RPMS.$repo/</A>
+
+#[rhel4as]
+#name = Red Hat Advanced Server $release U2 ($arch)
+#release = 4
+#metadata = apt createrepo
+#iso = RHEL$release-U2-$arch-AS-disc?.iso
+#updates = <A HREF="rhn:///rhel-$arch-as-$release">rhn:///rhel-$arch-as-$release</A>
+#extras = <A HREF="rhn:///rhel-$arch-as-$release-extras">rhn:///rhel-$arch-as-$release-extras</A>
+#hwcert = <A HREF="rhn:///rhel-$arch-as-$release-hwcert">rhn:///rhel-$arch-as-$release-hwcert</A>
+#sdk = <A HREF="rhn:///rhel-$arch-as-$release-sdk">rhn:///rhel-$arch-as-$release-sdk</A>
+#rhaps = <A HREF="rhn:///rhel-$release-as-$arch-rhaps-2">rhn:///rhel-$release-as-$arch-rhaps-2</A>
+#rhds = <A HREF="rhn:///rhel-$release-as-$arch-rhds-2.1">rhn:///rhel-$release-as-$arch-rhds-2.1</A>
+#dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
+##dag = <A HREF="http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/">http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/</A>
+
+#[rhel3as]
+#name = Red Hat Advanced Server $release U6 ($arch)
+#release = 3
+#metadata = apt yum
+#iso = rhel-$release-u6-$arch-as-disc?.iso
+#updates = <A HREF="rhn:///rhel-$arch-as-$release">rhn:///rhel-$arch-as-$release</A>
+#extras = <A HREF="rhn:///rhel-$arch-as-$release-extras">rhn:///rhel-$arch-as-$release-extras</A>
+#hwcert = <A HREF="rhn:///rhel-$arch-as-$release-hwcert">rhn:///rhel-$arch-as-$release-hwcert</A>
+#rhaps = <A HREF="rhn:///rhel-$release-as-$arch-rhaps-1">rhn:///rhel-$release-as-$arch-rhaps-1</A>
+#rhds = <A HREF="rhn:///rhel-$release-as-$arch-rhds-2">rhn:///rhel-$release-as-$arch-rhds-2</A>
+#dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
+##dag = <A HREF="http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/">http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/</A>
+
+#[rhel2as]
+#name = Red Hat Advanced Server $release U6 ($arch)
+#release = 2.1
+#metadata = apt
+#iso = RHEL2.1AS-U6-re1207.RC.0-$arch-disc?.iso
+#updates = <A HREF="rhn:///redhat-advanced-server-$arch">rhn:///redhat-advanced-server-$arch</A>
+#dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
+##dag = <A HREF="http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/">http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/</A>
+
+#[centos3]
+#name = CentOS $release ($arch)
+#release = 3
+#metadata = apt yum
+#arch = i386 ia64 s390 s390x x86_64
+#iso = CentOS-$version-$arch-disc?.iso
+#os = <A HREF="rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RedHat/RPMS/">rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RedHat/RPMS/</A>
+#updates = <A HREF="rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/">rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/</A>
+#extras = <A HREF="rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/">rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/</A>
+#addons = <A HREF="rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/">rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/</A>
+#contrib = <A HREF="rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/">rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/</A>
+#dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
+
+#[tao1]
+#name = Tao Linux $release ($arch)
+#release = 1.0
+#arch = i386
+#metadata = apt yum
+#iso = mooch-$arch-disc?.iso
+#os = <A HREF="http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/">http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/</A>
+#updates = <A HREF="http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/">http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/</A>
+#contrib = <A HREF="http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/">http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/</A>
+#kernel-el = <A HREF="http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/">http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/</A>
+#upgrade = <A HREF="http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/">http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/</A>
+#dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el3/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el3/en/$arch/RPMS.$repo/</A>
+
+#[rh73]
+#name = Red Hat $release ($arch)
+#release = 7.3
+#metadata = apt yum
+#iso = valhalla-$arch-disc?.iso
+#os = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/redhat/$release/$arch/$repo/RPMS/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/redhat/$release/$arch/$repo/RPMS/</A>
+#updates = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/redhat/$release/$arch/$repo/RPMS/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/redhat/$release/$arch/$repo/RPMS/</A>
+#dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/$release/en/$arch/RPMS.$repo/</A>
+
+#[yd4]
+#name=Yellow Dog Linux $release ($arch)
+#arch=ppc
+#release=4.0
+#metadata = apt createrepo
+#iso=yellowdog-$release-orion-20041107-install?.iso
+#updates=<A HREF="http://ftp.sunsite.utk.edu/ftp/pub/linux/yellowdog/$repo/yellowdog-$release/$arch/">http://ftp.sunsite.utk.edu/ftp/pub/linux/yellowdog/$repo/yellowdog-$release/$arch/</A>
+#extras=<A HREF="http://ftp.sunsite.utk.edu/ftp/pub/linux/yellowdog/$repo/yellowdog-$release/$arch/">http://ftp.sunsite.utk.edu/ftp/pub/linux/yellowdog/$repo/yellowdog-$release/$arch/</A>
+#freshrpms=<A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/yellowdog/$release/$arch/RPMS.$repo/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/yellowdog/$release/$arch/RPMS.$repo/</A>
+
+### SuSE is not yet supported for remote booting
+### Experience and insight is welcome
+#[sles9]
+#name = SuSE Linux Enterprise Server $release ($arch)
+#release = 9
+#iso = SLES-$release-$arch-CD[1-4].iso
+#you = <A HREF="file:///var/yast2/you/">file:///var/yast2/you/</A>
+
+#[sles8]
+#name = SuSE Linux Enterprise Server $release ($arch)
+#release = 8
+#iso = SLES-$release-$arch-RC5-CD1.iso UnitedLinux-1.0-$arch-RC5-CD[1-2].iso UnitedLinux-1.0-SP-3-$arch-RC4-CD1.iso
+#you = <A HREF="file:///var/yast2/you/">file:///var/yast2/you/</A>
+
+### Single CD distribution based on Fedora Core 1
+#[blag10000]
+#name = BLAG: Brixton Linux Action Group ($arch)
+#release = 10000
+#arch = i386 
+#iso = BLAG-$release.iso
+#os = <A HREF="http://www.blagblagblag.org/10000/i386/RPMS.$repo/">http://www.blagblagblag.org/10000/i386/RPMS.$repo/</A>
+#updates = <A HREF="http://www.blagblagblag.org/10000/i386/RPMS.$repo/">http://www.blagblagblag.org/10000/i386/RPMS.$repo/</A>
+#errata = <A HREF="http://www.blagblagblag.org/10000/i386/RPMS.$repo/">http://www.blagblagblag.org/10000/i386/RPMS.$repo/</A>
+#extras = <A HREF="http://www.blagblagblag.org/10000/i386/RPMS.$repo/">http://www.blagblagblag.org/10000/i386/RPMS.$repo/</A>
+##TESTING = <A HREF="http://www.blagblagblag.org/10000/i386/RPMS.$repo/">http://www.blagblagblag.org/10000/i386/RPMS.$repo/</A>

Copied: trunk/tools/yam/config/yam-dag.conf (from rev 4145, trunk/tools/yam/yam-dag.conf)

Copied: trunk/tools/yam/config/yam-example.conf (from rev 4145, trunk/tools/yam/yam-example.conf)

Copied: trunk/tools/yam/config/yam.conf (from rev 4145, trunk/tools/yam/yam.conf)
===================================================================
--- trunk/tools/yam/yam.conf	2006-03-09 12:25:20 UTC (rev 4145)
+++ trunk/tools/yam/config/yam.conf	2006-03-10 17:01:45 UTC (rev 4150)
@@ -0,0 +1,50 @@
+### Configuration file for Yam
+
+### The [main] section allows to override Yam's default settings
+### The yam-example.conf gives an overview of all the possible settings
+[main]
+srcdir = /var/yam
+wwwdir = /var/www/yam
+arch = i386
+#rhnlogin = username:password
+
+### Any other section is considered a definition for a distribution
+### Also see yam-complex.conf, yam-dag.conf and yam-example.conf
+[fc4]
+name = Fedora Core $release ($arch)
+release = 4
+metadata = apt createrepo
+iso = FC$release-$arch-disc?.iso
+core = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/</A>
+updates = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/</A>
+dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/dries/fedora/$release/en/$arch/$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/dries/fedora/$release/en/$arch/$repo/</A>
+
+[rhel4as]
+name = Red Hat Advanced Server $release U2 ($arch)
+release = 4
+metadata = apt createrepo
+arch = i386 x86_64
+iso = RHEL$release-U2-$arch-AS-disc?.iso
+updates = <A HREF="rhn:///rhel-$arch-as-$release">rhn:///rhel-$arch-as-$release</A>
+extras = <A HREF="rhn:///rhel-$arch-as-$release-extras">rhn:///rhel-$arch-as-$release-extras</A>
+dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
+#dag = <A HREF="http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/">http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/</A>
+
+[rhel3as]
+name = Red Hat Advanced Server $release U6 ($arch)
+release = 3
+metadata = apt yum
+iso = rhel-$release-u6-$arch-as-disc?.iso
+updates = <A HREF="rhn:///rhel-$arch-as-$release">rhn:///rhel-$arch-as-$release</A>
+extras = <A HREF="rhn:///rhel-$arch-as-$release-extras">rhn:///rhel-$arch-as-$release-extras</A>
+dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
+#dag = <A HREF="http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/">http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/</A>
+
+[rhel2as]
+name = Red Hat Advanced Server $release U6 ($arch)
+release = 2.1
+metadata = apt
+iso = RHEL2.1AS-U6-re1207.RC.0-$arch-disc?.iso
+updates = <A HREF="rhn:///redhat-advanced-server-$arch">rhn:///redhat-advanced-server-$arch</A>
+dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
+#dag = <A HREF="http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/">http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/</A>

Deleted: trunk/tools/yam/dnsmasq-yam.conf
===================================================================
--- trunk/tools/yam/dnsmasq-yam.conf	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/dnsmasq-yam.conf	2006-03-10 17:01:45 UTC (rev 4150)
@@ -1,5 +0,0 @@
-### Red Hat Enterprise 3 for x86
-dhcp-boot=/yam/rhes3-i386/pxelinux.0,emyn,10.0.0.1
-
-### Fedora Core 2 for x86
-#dhcp-boot=/yam/fc2-i386/pxelinux.0,emyn,10.0.0.1

Modified: trunk/tools/yam/gensystemid
===================================================================
--- trunk/tools/yam/gensystemid	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/gensystemid	2006-03-10 17:01:45 UTC (rev 4150)
@@ -10,12 +10,35 @@
 
 global cfg, loginInfo
 
+def checkrelease(release, arch):
+	releases = {
+		'4AS': ('i386', 'ia64', 'ppc', 's390', 's390x', 'x86_64'),
+		'4ES': ('i386', 'ia64', 'x86_64'),
+		'4WS': ('i386', 'ia64', 'x86_64'),
+		'4Desktop': ('i386', 'x86_64'),
+		'3AS': ('i386', 'ia64', 'ppc', 's390', 's390x', 'x86_64'),
+		'3ES': ('i386', 'ia64', 'x86_64'),
+		'3WS': ('i386', 'ia64', 'x86_64'),
+		'3Desktop': ('i386', 'x86_64'),
+		'2.1AS': ('i386', 'ia64'),
+		'2.1ES': ('i386', ),
+		'2.1WS': ('i386', ),
+		'2.1AW': ('ia64', ),
+	}
+	if release not in releases.keys():
+		raise Exception, 'Release name %s is not a known RHN release.' % release
+	if arch not in releases[release]:
+		raise Exception, 'RHN release %s does not exist for architecture %s.' % (release, arch)
+	return True
+
 def lowarch(arch):
 	archs = {
 		'i386': ['i486', 'i586', 'i686', 'athlon'],
 		'ia64': [],
 		'ppc': ['ppc64', 'ppc64pseries', 'ppc64iseries'],
 		'x86_64': [],
+		's390': [],
+		's390x': [],
 	}
 	for key in archs:
 		if arch == key:
@@ -29,6 +52,7 @@
 class Options:
 	def __init__(self, args):
 		self.arch = None
+		self.hostname = None
 		self.password = None
 		self.paths = None
 		self.quiet = False
@@ -38,7 +62,7 @@
 
 		try:
 			opts, args = getopt.getopt (args, 'a:hqp:r:u:v',
-				['arch=', 'quiet', 'release=', 'help', 'verbose', 'version'])
+				['arch=', 'hostname=', 'quiet', 'release=', 'help', 'verbose', 'version'])
 		except getopt.error, exc:
 			print 'gensystemid: %s, try gensystemid -h for a list of all the options' % str(exc)
 			sys.exit(1)
@@ -46,6 +70,8 @@
 		for opt, arg in opts:
 			if opt in ['-a', '--arch']:
 				self.arch = arg
+			elif opt in ['--hostname']:
+				self.hostname = arg
 			elif opt in ['-p', '--password']:
 				self.password = arg
 			elif opt in ['-q', '--quiet']:
@@ -74,8 +100,15 @@
 			self.arch = os.uname()[4]
 			print 'gensystemid: Architecture not supplied, using system architecture %s' % self.arch
 
-		### FIXME: Check op.rhnrelease for proper syntax {2.1,3,4}{AS,ES,WS,Desktop}
+		if not self.hostname:
+			self.hostname = '%s-%s-%s-yam' % (os.uname()[1].split('.')[0], op.rhnrelease, lowarch(op.arch))
 
+		try:
+			checkrelease(self.rhnrelease, self.arch)
+		except Exception, e:
+			print 'gensystemid:', e
+			sys.exit(2)
+
 		if len(args) &lt;= 0:
 			print 'gensystemid: no destination path given'
 			sys.exit(1)
@@ -138,8 +171,6 @@
 		os.remove(rhnsystemid)
 	info(5, 'Using RHN systemid from %s' % rhnsystemid)
 
-	hostname = os.uname()[1].split('.')[0]
-
 	cfg = {}
 	loginInfo = {}
 
@@ -154,12 +185,17 @@
 	if op.arch:
 		cfg['forceArch'] = '%s-redhat-linux' % op.arch
 
+	if os.access('/var/log/up2date', os.W_OK):
+		cfg['logFile'] = '/var/log/up2date'
+	else:
+		cfg['logFile'] = os.path.expanduser('~/up2date.log')
+
 	if op.verbose &gt;= 5:
 		cfg['debug'] = 10000
 
 	### FIXME: Insert correct release_name (eg. redhat-release-es) only for RHEL2.1
 	auth = {
-			'profile_name': '%s-%s-%s-yam' % (hostname, op.rhnrelease, lowarch(op.arch)),
+			'profile_name': op.hostname,
 			'os_release': op.rhnrelease,
 			'release_name': 'redhat-release',
 			'architecture': '%s-redhat-linux' % op.arch,

Added: trunk/tools/yam/setup.cfg
===================================================================
--- trunk/tools/yam/setup.cfg	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/setup.cfg	2006-03-10 17:01:45 UTC (rev 4150)
@@ -0,0 +1,4 @@
+[bdist_rpm]
+release = 1
+packager = Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;
+doc_files = AUTHORS ChangeLog COPYING README* THANKS TODO WISHLIST *.conf

Added: trunk/tools/yam/setup.py
===================================================================
--- trunk/tools/yam/setup.py	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/setup.py	2006-03-10 17:01:45 UTC (rev 4150)
@@ -0,0 +1,77 @@
+#!/usr/bin/python
+
+### This program is free software; you can redistribute it and/or modify
+### it under the terms of the GNU Library General Public License as published by
+### the Free Software Foundation; version 2 only
+###
+### This program is distributed in the hope that it will be useful,
+### but WITHOUT ANY WARRANTY; without even the implied warranty of
+### MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+### GNU Library General Public License for more details.
+###
+### You should have received a copy of the GNU Library General Public License
+### along with this program; if not, write to the Free Software
+### Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+### Copyright 2004-2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;
+
+### FIXME: distutils is pretty clueless for tools (no globs, no renames, ...)
+import sys
+print 'Distutils installation not enabled. Please use Makefile.'
+sys.exit(1)
+
+# if someday we want to *require* setuptools, uncomment this:
+# (it will cause setuptools to be automatically downloaded)
+#import ez_setup
+#ez_setup.use_setuptools()
+
+try:
+	from setuptools import setup
+except ImportError:
+	from distutils.core import setup
+
+setup(
+	name = 'yam',
+	version = '0.8.0',
+	description = 'RPM repository mirroring tool',
+	author = 'Dag Wieers',
+	author_email ='<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>',
+	url = &quot;<A HREF="http://dag.wieers.com/home-made/yam/">http://dag.wieers.com/home-made/yam/</A>&quot;,
+	scripts=['yam', 'gensystemid'],
+	data_files=[
+		('/etc', ['config/yam.conf']),
+		('/etc/init.d', ['config/yam']),
+		('/etc/httpd/conf.d', ['config/httpd/yam.conf']),
+		('/var/cache/yam', []),
+		('/var/www/yam', []),
+		('/var/yam/all/local', []),
+		('/usr/share/yam/html', ['html/HEADER.index.shtml', 'html/HEADER.repo.shtml', 'html/README.index.shtml', 'html/README.repo.shtml']),
+	],
+	download_url = '<A HREF="http://dag.wieers.com/home-made/yam/yam-0.8.0.tar.gz">http://dag.wieers.com/home-made/yam/yam-0.8.0.tar.gz</A>',
+	license = 'GPL',
+	platforms = 'Posix',
+	classifiers = [
+		'Internet :: WWW/HTTP :: Site Management',
+		'System :: Archiving :: Mirroring',
+		'System :: Archiving :: Packaging',
+		'System :: Installation/Setup',
+		'System :: Software Distribution',
+		'System :: Software Distribution Tools',
+		'System :: Systems Administration',
+	],
+	long_description = '''
+Yam builds a local APT/Yum RPM repository from local ISO files, downloaded
+updates, and extra packages from RHN (Red Hat Network) and 3rd party
+repositories. It takes care of setting up the ISO files, downloading the
+RPMs, configuring HTTP access, and providing PXE/TFTP resources for remote
+installations.
+
+It was primarily intended for doing remote network installations of various
+distributions from a laptop without the need for CD media or floppies, but
+is equally suitable for an organization's centralized update server.
+
+Depending on the use it may require:
+	apt, up2date, yum, createrepo, repoview, hardlink and/or hardlink++
+''',
+)
+
+# vim:ts=4:sw=4


Property changes on: trunk/tools/yam/setup.py
___________________________________________________________________
Name: svn:executable
   + *

Added: trunk/tools/yam/tests/rhn_query.py
===================================================================
--- trunk/tools/yam/tests/rhn_query.py	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/tests/rhn_query.py	2006-03-10 17:01:45 UTC (rev 4150)
@@ -0,0 +1,29 @@
+#! /usr/bin/python
+
+import xmlrpclib
+from optparse import OptionParser
+
+
+host = 'xmlrpc.rhn.redhat.com'
+username='euroclear'
+password = 'to6tem'
+protocol = 'https'
+url = &quot;%<A HREF="s://%s/rpc/api">s://%s/rpc/api</A>&quot; %(protocol,host)
+
+server = xmlrpclib.ServerProxy(url)
+session = server.auth.login(username, password)
+
+systems = server.system.list_user_systems(session)
+if len(systems) == 0:
+	print &quot;No systems are subscribed to RHN.&quot;
+else:
+	print &quot;These machines are subscribed to RHN\n\n&quot;
+	print &quot;Name: \t\tcheckin: \t\t\tsid: &quot;
+      	for vals in systems:
+		print &quot;%s\t\t%s\t\t%s&quot; % (vals['name'],vals['last_checkin'],vals['id'])
+
+methods = server.system.listMethods()
+print methods
+
+for method in methods:
+	print server.system.methodHelp(method)


Property changes on: trunk/tools/yam/tests/rhn_query.py
___________________________________________________________________
Name: svn:executable
   + *

Added: trunk/tools/yam/tests/rhn_tool.py
===================================================================
--- trunk/tools/yam/tests/rhn_tool.py	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/tests/rhn_tool.py	2006-03-10 17:01:45 UTC (rev 4150)
@@ -0,0 +1,67 @@
+#! /usr/bin/python
+
+import xmlrpclib
+from optparse import OptionParser
+
+def GetOptions():
+	parser=OptionParser()
+
+	parser.add_option(&quot;-d&quot;, &quot;--delete&quot;,
+		action=&quot;store_true&quot;, dest=&quot;delete&quot;, default=False,
+		help = &quot;Deletes system, group, or channel&quot;)
+
+	parser.add_option(&quot;-s&quot;, &quot;--system&quot;,
+		action=&quot;store_true&quot;, dest=&quot;system&quot;, default=False,
+		help=&quot;Used when performing operations to machines subscribe to RHN.&quot;)
+
+        parser.add_option(&quot;-q&quot;, &quot;--query&quot;,
+		action=&quot;store_true&quot;, dest=&quot;query&quot;, default=False,
+		help=&quot;Used in conjuction with -s to show subscribed systems.&quot;)
+
+
+	parser.add_option(&quot;-n&quot;, &quot;--name&quot;,dest=&quot;hostname&quot;,
+		help=&quot;hostname of machine to perform operation on.&quot;, metavar=&quot; hostname&quot;)
+
+	global options
+	(options,args) = parser.parse_args()
+
+	return options.delete, options.system, options.hostname
+
+def getSystemIds():
+	systems = server.system.list_user_systems(session)
+	return systems
+
+def deleteSystem(sid):
+	try:
+		print &quot;attempting to remove SID %s... with hostname of %s&quot; % (sid,options.hostname)
+    		delete = server.system.delete_systems(session,sid)
+		print &quot;Deletion of %s successfull.&quot; % (options.hostname)
+	except:
+		print &quot;Deletion of %s unsuccessfull.&quot; % (options.hostname)
+
+host = 'xmlrpc.rhn.redhat.com'
+username='IBM_RHN'
+password = 'think'
+protocol = 'https'
+url = &quot;%<A HREF="s://%s/rpc/api">s://%s/rpc/api</A>&quot; %(protocol,host)
+
+server = xmlrpclib.ServerProxy(url)
+session = server.auth.login(username,password)
+
+GetOptions()
+
+if options.system:
+	systems = getSystemIds()
+	if options.query:
+		if len(systems) == 0:
+			print &quot;No systems are subscribed to RHN.&quot;
+		else:
+			print &quot;These machines are subscribed to RHN\n\n&quot;
+			print &quot;Name: \t\tcheckin: \t\t\tsid: &quot;
+      			for vals in systems:
+				print &quot;%s\t\t%s\t\t%s&quot; % (vals['name'],vals['last_checkin'],vals['id'])
+
+	if options.delete:
+		for vals in systems:
+			if vals['name'] == options.hostname:
+				deleteSystem(vals['id'])


Property changes on: trunk/tools/yam/tests/rhn_tool.py
___________________________________________________________________
Name: svn:executable
   + *

Added: trunk/tools/yam/tests/rhntest.py
===================================================================
--- trunk/tools/yam/tests/rhntest.py	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/tests/rhntest.py	2006-03-10 17:01:45 UTC (rev 4150)
@@ -0,0 +1,98 @@
+#!/usr/bin/python -u
+
+import sys, os, rpm, string
+
+sys.path.insert(0, &quot;/usr/share/rhn/&quot;)
+from up2date_client import up2dateAuth
+from up2date_client import up2date
+from up2date_client import config
+from up2date_client import repoDirector
+from up2date_client import rpcServer
+from up2date_client import wrapperUtils
+from up2date_client import rhnChannel
+
+def getSystemId(dist):
+	return open('/var/yam/'+dist+'/rhn-systemid').read(131072)
+
+def subscribedChannels():
+	ret = []
+	debugprint(ret)
+	li = up2dateAuth.getLoginInfo()
+	if not li: return []
+        
+	channels = li.get('X-RHN-Auth-Channels')
+	if not channels: return []
+
+	for label, version, t, t in channels:
+		ret.append(rhnChannel.rhnChannel(label = label, version = version, type = 'up2date', url = cfg['serverURL']))
+
+	return ret
+
+def debugprint(obj):
+	if '__name__' in dir(obj):
+		print 'DEBUGPRINT object %s' % obj.__name__
+		print '  repr', obj
+		print '  dir', dir(obj)
+	elif '__class__' in dir(obj):
+		print 'DEBUGPRINT class %s' % obj.__class__
+		print '  repr', obj
+		print '  dir', dir(obj)
+		try: print '  keys', obj.keys()
+		except: print 'FAILED'
+		try:
+			print '  list', 
+			for i in obj: print i,
+		except: print 'FAILED'
+	elif '__module__' in dir(obj):
+		print 'DEBUGPRINT module %s' % obj.__module__
+		print '  repr', obj
+		print '  dir', dir(obj)
+	else:
+		print 'DEBUGPRINT unknown ', dir(obj)
+		print '  repr', obj
+		print '  dir', dir(obj)
+	print
+
+registered = getSystemId('rhel3as-i386')
+up2dateAuth.updateLoginInfo()
+cfg = config.initUp2dateConfig()
+repos = repoDirector.initRepoDirector()
+
+### Print channels
+debugprint(rhnChannel)
+debugprint(rhnChannel.rhnChannelList())
+debugprint(rhnChannel.rhnChannelList().list)
+debugprint(rhnChannel.getChannels(force=1))
+debugprint(rhnChannel.getChannels(force=1).list)
+for channel in rhnChannel.rhnChannelList().list: print channel['label'],
+print
+
+for channel in rhnChannel.getChannels(force=1).list: print channel['label'],
+print
+
+for channel in repos.channels.list: print channel['label'],
+print
+
+for channel in subscribedChannels(): print channel['label'],
+print
+#sys.exit(0)
+
+debugprint(up2dateAuth.getLoginInfo())
+
+for channel in subscribedChannels():
+	cfg['storageDir'] = '/var/yam/rhel4as-i386/'+channel['label']
+	try: os.makedirs(cfg['storageDir'], 0755)
+	except: pass
+	print channel['label'], channel['type'], channel['url'], channel['version']
+	package_list, type = rpcServer.doCall(repos.listPackages, channel, None, None)
+	print channel['label'], 'has', len(package_list), 'packages'
+#	for name, version, release, test, arch, test, label in package_list:
+#		print name,
+#	for pkg in package_list:
+#		name, version, release, test, arch, test, label = pkg
+#		rpcServer.doCall(repos.getPackage, pkg)
+#		rpcServer.doCall(repos.getPackage, pkg, wrapperUtils.printPkg, wrapperUtils.printRetrieveHash)
+
+### Print packages
+#printList(rhnPackageInfo.getAvailableAllArchPackageList(), cfg['showChannels'])
+#print rhnPackageInfo.getAvailableAllArchPackageList()


Property changes on: trunk/tools/yam/tests/rhntest.py
___________________________________________________________________
Name: svn:executable
   + *

Modified: trunk/tools/yam/yam
===================================================================
--- trunk/tools/yam/yam	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/yam	2006-03-10 17:01:45 UTC (rev 4150)
@@ -12,12 +12,12 @@
 ### You should have received a copy of the GNU Library General Public License
 ### along with this program; if not, write to the Free Software
 ### Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
-### Copyright 2004 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;
+### Copyright 2004-2006 Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;
 
 import os, sys, glob, re, shutil, getopt, popen2
 import ConfigParser, urlparse, sha, types
 
-VERSION = '0.8.0'
+VERSION = '0.8.0svn'
 
 archs = {
 	'i386': ['i386', 'i486', 'i586', 'i686', 'athlon'],
@@ -784,6 +784,12 @@
 	if dist.arch:
 		cfg['forceArch'] = '%s-redhat-linux' % dist.arch
 
+	if os.access('/var/log/up2date', os.W_OK):
+		cfg['logFile'] = '/var/log/up2date'
+	else:
+		cfg['logFile'] = os.path.expanduser('~/up2date.log')
+
+
 	if rhnserver:
 		cfg['noSSLServerURL'] = '<A HREF="http://%s/XMLRPC">http://%s/XMLRPC</A>' % rhnserver
 		if rhnscheme == 'rhn':

Deleted: trunk/tools/yam/yam-complex.conf
===================================================================
--- trunk/tools/yam/yam-complex.conf	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/yam-complex.conf	2006-03-10 17:01:45 UTC (rev 4150)
@@ -1,137 +0,0 @@
-### Configuration file for Yam
-
-### The [main] section allows to override Yam's default settings
-### The yam-example.conf gives an overview of all the possible settings
-[main]
-srcdir = /var/yam
-wwwdir = /var/www/yam
-arch = i386
-#rhnlogin = username:password
-
-rsync-timeout = 3600
-rsync-bandwidth-limit = 5
-
-
-### Any other section is considered a definition for a distribution
-### Below are a few examples to show the possibilities
-[fc4]
-name = Fedora Core $release ($arch)
-release = 4
-metadata = apt createrepo
-iso = FC$release-$arch-disc?.iso
-core = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/</A>
-updates = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/</A>
-dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/fedora/$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/fedora/$release/en/$arch/RPMS.$repo/</A>
-dries = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/dries/fedora/linux/$release/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/dries/fedora/linux/$release/$arch/RPMS.$repo/</A>
-freshrpms = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/</A>
-newrpms = <A HREF="rsync://newrpms.sunsite.dk/projects/newrpms/www/htdocs/apt/redhat/en/$arch/fc$release/RPMS.$repo/">rsync://newrpms.sunsite.dk/projects/newrpms/www/htdocs/apt/redhat/en/$arch/fc$release/RPMS.$repo/</A>
-
-#[rhel4as]
-#name = Red Hat Advanced Server $release U2 ($arch)
-#release = 4
-#rhnrelease = 4AS
-#metadata = apt createrepo
-#iso = RHEL$release-U2-$arch-AS-disc?.iso
-#updates = <A HREF="rhn:///rhel-$arch-as-$release">rhn:///rhel-$arch-as-$release</A>
-#extras = <A HREF="rhn:///rhel-$arch-as-$release-extras">rhn:///rhel-$arch-as-$release-extras</A>
-#hwcert = <A HREF="rhn:///rhel-$arch-as-$release-hwcert">rhn:///rhel-$arch-as-$release-hwcert</A>
-#sdk = <A HREF="rhn:///rhel-$arch-as-$release-sdk">rhn:///rhel-$arch-as-$release-sdk</A>
-#rhaps = <A HREF="rhn:///rhel-$release-as-$arch-rhaps-2">rhn:///rhel-$release-as-$arch-rhaps-2</A>
-#rhds = <A HREF="rhn:///rhel-$release-as-$arch-rhds-2.1">rhn:///rhel-$release-as-$arch-rhds-2.1</A>
-#dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
-##dag = <A HREF="http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/">http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/</A>
-
-#[rhel3as]
-#name = Red Hat Advanced Server $release U6 ($arch)
-#release = 3
-#rhnrelease = 3AS
-#metadata = apt yum
-#iso = rhel-$release-u6-$arch-as-disc?.iso
-#updates = <A HREF="rhn:///rhel-$arch-as-$release">rhn:///rhel-$arch-as-$release</A>
-#extras = <A HREF="rhn:///rhel-$arch-as-$release-extras">rhn:///rhel-$arch-as-$release-extras</A>
-#hwcert = <A HREF="rhn:///rhel-$arch-as-$release-hwcert">rhn:///rhel-$arch-as-$release-hwcert</A>
-#rhaps = <A HREF="rhn:///rhel-$release-as-$arch-rhaps-1">rhn:///rhel-$release-as-$arch-rhaps-1</A>
-#rhds = <A HREF="rhn:///rhel-$release-as-$arch-rhds-2">rhn:///rhel-$release-as-$arch-rhds-2</A>
-#dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
-##dag = <A HREF="http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/">http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/</A>
-
-#[rhel2as]
-#name = Red Hat Advanced Server $release U6 ($arch)
-#release = 2.1
-#rhnrelease = 2.1AS
-#metadata = apt
-#iso = RHEL2.1AS-U6-re1207.RC.0-$arch-disc?.iso
-#updates = <A HREF="rhn:///redhat-advanced-server-$arch">rhn:///redhat-advanced-server-$arch</A>
-#dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
-##dag = <A HREF="http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/">http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/</A>
-
-#[centos3]
-#name = CentOS $release ($arch)
-#release = 3
-#metadata = apt yum
-#arch = i386 ia64 s390 s390x x86_64
-#iso = CentOS-$version-$arch-disc?.iso
-#os = <A HREF="rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RedHat/RPMS/">rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RedHat/RPMS/</A>
-#updates = <A HREF="rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/">rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/</A>
-#extras = <A HREF="rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/">rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/</A>
-#addons = <A HREF="rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/">rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/</A>
-#contrib = <A HREF="rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/">rsync://ftp.heanet.ie/pub/cAos/centos/$release/$repo/$arch/RPMS/</A>
-#dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
-
-#[tao1]
-#name = Tao Linux $release ($arch)
-#release = 1.0
-#arch = i386
-#metadata = apt yum
-#iso = mooch-$arch-disc?.iso
-#os = <A HREF="http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/">http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/</A>
-#updates = <A HREF="http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/">http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/</A>
-#contrib = <A HREF="http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/">http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/</A>
-#kernel-el = <A HREF="http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/">http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/</A>
-#upgrade = <A HREF="http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/">http://dist.taolinux.org/tao-$release-$arch/RPMS.$repo/</A>
-#dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el3/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el3/en/$arch/RPMS.$repo/</A>
-
-#[rh73]
-#name = Red Hat $release ($arch)
-#release = 7.3
-#metadata = apt yum
-#iso = valhalla-$arch-disc?.iso
-#os = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/redhat/$release/$arch/$repo/RPMS/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/redhat/$release/$arch/$repo/RPMS/</A>
-#updates = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/redhat/$release/$arch/$repo/RPMS/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/redhat/$release/$arch/$repo/RPMS/</A>
-#dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/$release/en/$arch/RPMS.$repo/</A>
-
-#[yd4]
-#name=Yellow Dog Linux $release ($arch)
-#arch=ppc
-#release=4.0
-#metadata = apt createrepo
-#iso=yellowdog-$release-orion-20041107-install?.iso
-#updates=<A HREF="http://ftp.sunsite.utk.edu/ftp/pub/linux/yellowdog/$repo/yellowdog-$release/$arch/">http://ftp.sunsite.utk.edu/ftp/pub/linux/yellowdog/$repo/yellowdog-$release/$arch/</A>
-#extras=<A HREF="http://ftp.sunsite.utk.edu/ftp/pub/linux/yellowdog/$repo/yellowdog-$release/$arch/">http://ftp.sunsite.utk.edu/ftp/pub/linux/yellowdog/$repo/yellowdog-$release/$arch/</A>
-#freshrpms=<A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/yellowdog/$release/$arch/RPMS.$repo/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/yellowdog/$release/$arch/RPMS.$repo/</A>
-
-### SuSE is not yet supported for remote booting
-### Experience and insight is welcome
-#[sles9]
-#name = SuSE Linux Enterprise Server $release ($arch)
-#release = 9
-#iso = SLES-$release-$arch-CD[1-4].iso
-#you = <A HREF="file:///var/yast2/you/">file:///var/yast2/you/</A>
-
-#[sles8]
-#name = SuSE Linux Enterprise Server $release ($arch)
-#release = 8
-#iso = SLES-$release-$arch-RC5-CD1.iso UnitedLinux-1.0-$arch-RC5-CD[1-2].iso UnitedLinux-1.0-SP-3-$arch-RC4-CD1.iso
-#you = <A HREF="file:///var/yast2/you/">file:///var/yast2/you/</A>
-
-### Single CD distribution based on Fedora Core 1
-#[blag10000]
-#name = BLAG: Brixton Linux Action Group ($arch)
-#release = 10000
-#arch = i386 
-#iso = BLAG-$release.iso
-#os = <A HREF="http://www.blagblagblag.org/10000/i386/RPMS.$repo/">http://www.blagblagblag.org/10000/i386/RPMS.$repo/</A>
-#updates = <A HREF="http://www.blagblagblag.org/10000/i386/RPMS.$repo/">http://www.blagblagblag.org/10000/i386/RPMS.$repo/</A>
-#errata = <A HREF="http://www.blagblagblag.org/10000/i386/RPMS.$repo/">http://www.blagblagblag.org/10000/i386/RPMS.$repo/</A>
-#extras = <A HREF="http://www.blagblagblag.org/10000/i386/RPMS.$repo/">http://www.blagblagblag.org/10000/i386/RPMS.$repo/</A>
-##TESTING = <A HREF="http://www.blagblagblag.org/10000/i386/RPMS.$repo/">http://www.blagblagblag.org/10000/i386/RPMS.$repo/</A>

Deleted: trunk/tools/yam/yam-dag.conf
===================================================================
--- trunk/tools/yam/yam-dag.conf	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/yam-dag.conf	2006-03-10 17:01:45 UTC (rev 4150)
@@ -1,97 +0,0 @@
-### Configuration file for Yam
-
-[main]
-srcdir = /mnt/data/yam
-wwwdir = /var/www/yam
-arch = i386
-createrepo = no
-hardlink = yes
-shareiso = no
-
-[fc3]
-name = Fedora Core $release ($arch)
-release = 3
-arch = i386 x86_64
-iso = FC3-$arch-disc?.iso
-updates = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/</A>
-extras = <A HREF="http://ftp.freshrpms.net/pub/fedora/linux/$repo/$release/$arch/">http://ftp.freshrpms.net/pub/fedora/linux/$repo/$release/$arch/</A>
-dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/fedora/$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/fedora/$release/en/$arch/RPMS.$repo/</A>
-#dag = <A HREF="ftp://apt.sw.be/pub/dag/pub/fedora/$release/en/$arch/RPMS.$repo/">ftp://apt.sw.be/pub/dag/pub/fedora/$release/en/$arch/RPMS.$repo/</A>
-#dag = <A HREF="http://apt.sw.be/pub/fedora/$release/en/$arch/RPMS.$repo/">http://apt.sw.be/pub/fedora/$release/en/$arch/RPMS.$repo/</A>
-dries = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/dries/fedora/linux/$release/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/dries/fedora/linux/$release/$arch/RPMS.$repo/</A>
-freshrpms = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/</A>
-
-[tao1]
-name = Tao Linux $release ($arch)
-release = 1.0
-iso = mooch-$arch-disc?.iso
-updates = <A HREF="rsync://mirror.stanford.edu/mirrors/taolinux/tao-$release-$arch/RPMS.$repo/">rsync://mirror.stanford.edu/mirrors/taolinux/tao-$release-$arch/RPMS.$repo/</A>
-contrib = <A HREF="rsync://mirror.stanford.edu/mirrors/taolinux/tao-$release-$arch/RPMS.$repo/">rsync://mirror.stanford.edu/mirrors/taolinux/tao-$release-$arch/RPMS.$repo/</A>
-kernel-el = <A HREF="rsync://mirror.stanford.edu/mirrors/taolinux/tao-$release-$arch/RPMS.$repo/">rsync://mirror.stanford.edu/mirrors/taolinux/tao-$release-$arch/RPMS.$repo/</A>
-#dag = <A HREF="yam://rhes3-$arch/$repo/">yam://rhes3-$arch/$repo/</A>
-
-[rhas4]
-name = Red Hat Advanced Server $release ($arch)
-release = 4
-arch = i386 x86_64
-iso = RHEL$release-$arch-AS-disc?.iso rhas4-$arch/RHEL$release-$arch-disc?.iso
-##updates = <A HREF="rsync://apt/yam/el3a-$arch/$repo/">rsync://apt/yam/el3a-$arch/$repo/</A>
-
-[rhes4]
-name = Red Hat Enterprise Server $release ($arch)
-release = 3
-arch = i386 x86_64
-iso = RHEL$release-$arch-ES-disc?.iso rhas4-$arch/RHEL$release-$arch-disc?.iso
-##updates = <A HREF="rsync://apt/yam/el3a-$arch/$repo/">rsync://apt/yam/el3a-$arch/$repo/</A>
-
-[rhas3]
-name = Red Hat Advanced Server $release U4 ($arch)
-release = 3
-arch = i386 x86_64
-iso = rhel-$release-U4-$arch-as-disc?.iso rhes3-$arch/rhel-$release-U4-$arch-disc?.iso
-##updates = <A HREF="rsync://apt/yam/el3a-$arch/$repo/">rsync://apt/yam/el3a-$arch/$repo/</A>
-
-[rhes3]
-name = Red Hat Enterprise Server $release U4 ($arch)
-release = 3
-arch = i386 x86_64
-iso = rhel-$release-U4-$arch-es-disc?.iso rhes3-$arch/rhel-$release-U4-$arch-disc?.iso *.iso
-##updates = <A HREF="rsync://apt/yam/el3i-$arch/$repo/">rsync://apt/yam/el3i-$arch/$repo/</A>
-dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
-#dag = <A HREF="rsync://apt/pub/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt/pub/redhat/el$release/en/$arch/RPMS.$repo/</A>
-
-[rhws3]
-name = Red Hat Workstation $release U4 ($arch)
-release = 3
-iso = rhel-$release-U4-$arch-ws-disc?.iso rhes3-$arch/rhel-$release-U4-$arch-disc?.iso
-
-[rh73]
-name = Red Hat $release ($arch)
-release = 7.3
-iso = valhalla-$arch-disc?.iso
-updates = <A HREF="rsync://rsync.freshrpms.net/freshrpms/ayo/redhat/$release/$arch/RPMS.$repo/">rsync://rsync.freshrpms.net/freshrpms/ayo/redhat/$release/$arch/RPMS.$repo/</A>
-dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/$release/en/$arch/RPMS.$repo/</A>
-#dag = <A HREF="rsync://apt/pub/redhat/$release/en/$arch/RPMS.$repo/">rsync://apt/pub/redhat/$release/en/$arch/RPMS.$repo/</A>
-
-[rhas21]
-name = Red Hat Advanced Server $release ($arch)
-release = 2.1
-iso = RHEL$releaseAS-U5-re0810.RC.0-i386-disc[1-4].iso
-##updates = <A HREF="rsync://apt/yam/el2-$arch/$repo/">rsync://apt/yam/el2-$arch/$repo/</A>
-dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
-#dag = <A HREF="rsync://apt/pub/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt/pub/redhat/el$release/en/$arch/RPMS.$repo/</A>
-
-[sles9]
-name = SuSE Linux Enterprise Server $release ($arch)
-release = 9
-iso = SLES-$release-$arch-RC5-CD[1-4].iso
-you = <A HREF="file:///var/yast2/you/">file:///var/yast2/you/</A>
-
-### Single CD distribution based on Fedora Core 1
-[blag10000]
-name = BLAG: Brixton Linux Action Group $release ($arch)
-release = 10000
-iso = BLAG-$release.iso
-#os = <A HREF="http://www.blagblagblag.org/10000/i386/RPMS.$repo/">http://www.blagblagblag.org/10000/i386/RPMS.$repo/</A>
-#updates = <A HREF="http://www.blagblagblag.org/10000/i386/RPMS.$repo/">http://www.blagblagblag.org/10000/i386/RPMS.$repo/</A>
-#errata = <A HREF="http://www.blagblagblag.org/10000/i386/RPMS.$repo/">http://www.blagblagblag.org/10000/i386/RPMS.$repo/</A>

Deleted: trunk/tools/yam/yam-example.conf
===================================================================
--- trunk/tools/yam/yam-example.conf	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/yam-example.conf	2006-03-10 17:01:45 UTC (rev 4150)
@@ -1,134 +0,0 @@
-### Configuration file for Yam
-
-### These options show you the hardcoded defaults
-### You can leave them out if this is what you want
-
-### Main section defines paths, commands
-### and what metadata to generate
-[main]
-
-## Default architecture is i386
-arch = i386
-
-## The location of the example .shtml files
-htmldir = /usr/share/yam/html
-
-## The location of the (latest) pxelinux bootcode
-pxelinux = /usr/lib/syslinux/pxelinux.0
-
-## The location of the ISO images and RPM files
-srcdir = /var/yam
-
-## The location of the Yam TFTP files
-tftpdir = /tftpboot/yam
-
-## The location of the generated repositories
-wwwdir = /var/www/yam
-
-## The location of the different executables
-createrepocmd = /usr/bin/createrepo
-genbasedircmd = /usr/bin/genbasedir
-lftpcmd = /usr/bin/lftp
-mountcmd = /bin/mount
-rsynccmd = /usr/bin/rsync
-umountcmd = /bin/umount
-yumarchcmd = /usr/bin/yum-arch
-
-## What repository metadata do you want to generate ?
-metadata = apt createrepo yum
-
-## Your username and password for RHN channel subscriptions
-rhnlogin = username:password
-
-## Hardlink files in the srcdir before ending Yam
-hardlink = no
-
-## Do you want to share the ISO files in wwwdir ?
-shareiso = yes
-
-## Do you want to create repo indexes ?
-repoindexcmd =
-
-## Limit the bandwidth used by rsync in kilobytes per seconds
-rsync-bandwidth-limit = 
-
-## Clean up packages that are not on the sending side ?
-rsync-cleanup = yes
-
-## Exclude debuginfo or source packages ?
-rsync-exclude-debug = yes
-rsync-exclude-srpm = yes
-
-## Add extra options to rsync
-rsync-options = -rtHL --partial
-
-## Set the I/O timeout in seconds
-rsync-timeout = 
-
-## Limit the bandwidth used by lftp (in B/secs)
-lftp-bandwidth-limit = 
-
-## Clean up packages that are not on the sending side ?
-lftp-cleanup = yes
-
-## Exclude debuginfo or source packages ?
-lftp-exclude-debug = yes
-lftp-exclude-srpm = yes
-
-## Add extra options to lftp (eg. -d for debugging lftp)
-lftp-options = 
-
-## Add extra options to lftp mirror command
-lftp-mirror-options = -a -P
-
-## Set the I/O timeout in seconds
-lftp-timeout = 
-
-## Clean up packages that are not on the sending side ?
-mirrordir-cleanup = yes
-
-## Exclude debuginfo or source packages ?
-mirrordir-exclude-debug = yes
-mirrordir-exclude-srpm = yes
-
-## Add extra options to mirrordir
-mirrordir-options = 
-
-
-### Example1: Using ISO files (put ISOs in /var/yam/dist1-i386), i386 is default arch
-[dist1]
-name = Distribution example $release ($arch)
-release = 1
-metadata = apt
-iso = dist$release-$arch-disc?.iso
-updates = <A HREF="rsync://rsync.dist1.org/pub/dist/$release/$arch/$repo/">rsync://rsync.dist1.org/pub/dist/$release/$arch/$repo/</A>
-
-### Example2: Using multiple archs for a single definition
-[dist2]
-name = Distribution example $release ($arch)
-release = 2
-arch = i386 i586 i686 x86_64
-metadata = createrepo
-os = <A HREF="rsync://rsync.dist2.org/pub/dist/$release/$arch/$repo/">rsync://rsync.dist2.org/pub/dist/$release/$arch/$repo/</A>
-updates = <A HREF="rsync://rsync.dist2.org/pub/dist/$release/$arch/$repo/">rsync://rsync.dist2.org/pub/dist/$release/$arch/$repo/</A>
-
-### Example3: Using extra repositories and updates from Example1
-[dist3]
-name = Distribution example $release ($arch)
-release = 3
-arch = x86_64
-metadata = apt createrepo
-iso = dist$release-$arch-disc?.iso
-os = <A HREF="rsync://rsync.dist3.org/pub/dist/$release/$arch/$repo/">rsync://rsync.dist3.org/pub/dist/$release/$arch/$repo/</A>
-updates = <A HREF="yam://dist1-$arch/$repo/">yam://dist1-$arch/$repo/</A>
-contrib = <A HREF="rsync://rsync.dist3.org/pub/dist/$release/$arch/$repo/">rsync://rsync.dist3.org/pub/dist/$release/$arch/$repo/</A>
-
-### Example4: Merging repositories
-[dist4]
-name = Distribution example $release ($arch)
-release = 4
-metadata = apt createrepo yum
-contrib = <A HREF="rsync://rsync.dist4.org/dist/$release/$arch/$repo/">rsync://rsync.dist4.org/dist/$release/$arch/$repo/</A>
-extras = <A HREF="rsync://rsync.dist4.org/dist/$release/$arch/$repo/">rsync://rsync.dist4.org/dist/$release/$arch/$repo/</A>
-merge = <A HREF="yam://$nick/contrib/">yam://$nick/contrib/</A>
-	<A HREF="yam://$nick/extras/">yam://$nick/extras/</A>

Deleted: trunk/tools/yam/yam.conf
===================================================================
--- trunk/tools/yam/yam.conf	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/yam.conf	2006-03-10 17:01:45 UTC (rev 4150)
@@ -1,53 +0,0 @@
-### Configuration file for Yam
-
-### The [main] section allows to override Yam's default settings
-### The yam-example.conf gives an overview of all the possible settings
-[main]
-srcdir = /var/yam
-wwwdir = /var/www/yam
-arch = i386
-#rhnlogin = username:password
-
-### Any other section is considered a definition for a distribution
-### Also see yam-complex.conf, yam-dag.conf and yam-example.conf
-[fc4]
-name = Fedora Core $release ($arch)
-release = 4
-metadata = apt createrepo
-iso = FC$release-$arch-disc?.iso
-core = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/</A>
-updates = <A HREF="rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/">rsync://ayo.freshrpms.net/pub/freshrpms/pub/freshrpms/ayo/fedora/linux/$release/$arch/RPMS.$repo/</A>
-dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/dries/fedora/$release/en/$arch/$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/dries/fedora/$release/en/$arch/$repo/</A>
-
-[rhel4as]
-name = Red Hat Advanced Server $release U2 ($arch)
-release = 4
-rhnrelease = 4AS
-metadata = apt createrepo
-arch = i386 x86_64
-iso = RHEL$release-U2-$arch-AS-disc?.iso
-updates = <A HREF="rhn:///rhel-$arch-as-$release">rhn:///rhel-$arch-as-$release</A>
-extras = <A HREF="rhn:///rhel-$arch-as-$release-extras">rhn:///rhel-$arch-as-$release-extras</A>
-dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
-#dag = <A HREF="http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/">http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/</A>
-
-[rhel3as]
-name = Red Hat Advanced Server $release U6 ($arch)
-release = 3
-rhnrelease = 3AS
-metadata = apt yum
-iso = rhel-$release-u6-$arch-as-disc?.iso
-updates = <A HREF="rhn:///rhel-$arch-as-$release">rhn:///rhel-$arch-as-$release</A>
-extras = <A HREF="rhn:///rhel-$arch-as-$release-extras">rhn:///rhel-$arch-as-$release-extras</A>
-dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
-#dag = <A HREF="http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/">http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/</A>
-
-[rhel2as]
-name = Red Hat Advanced Server $release U6 ($arch)
-release = 2.1
-rhnrelease = 2.1AS
-metadata = apt
-iso = RHEL2.1AS-U6-re1207.RC.0-$arch-disc?.iso
-updates = <A HREF="rhn:///redhat-advanced-server-$arch">rhn:///redhat-advanced-server-$arch</A>
-dag = <A HREF="rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/">rsync://apt.sw.be/pub/freshrpms/pub/dag/redhat/el$release/en/$arch/RPMS.$repo/</A>
-#dag = <A HREF="http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/">http://apt.sw.be/redhat/el$release/en/$arch/RPMS.$repo/</A>

Deleted: trunk/tools/yam/yam.httpd
===================================================================
--- trunk/tools/yam/yam.httpd	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/yam.httpd	2006-03-10 17:01:45 UTC (rev 4150)
@@ -1,129 +0,0 @@
-### Directory-based for the main server
-Alias /yam /var/www/yam
-
-&lt;Directory /var/www/yam&gt;
-	Options Indexes FollowSymlinks SymLinksifOwnerMatch IncludesNOEXEC
-	IndexOptions NameWidth=* DescriptionWidth=*
-
-	### Authentication options
-	#order deny,allow
-	#deny from all
-	#allow from 127.0.0.1
-	#allow from horsea.3ti.be
-	#allow from pikachu.3ti.be
-
-	#AuthUserFile /var/yam/auth/.htpasswd
-	#Require user bert dag dries thias
-	
-	HeaderName HEADER.shtml
-	ReadmeName README.shtml
-
-	AddDescription &quot;CDROM ISO file&quot; .iso
-	AddDescription &quot;RPM packages&quot; .rpm
-	AddDescription &quot;Yum 1.x header file&quot; .hdr
-
-	AddDescription &quot;Mounted CDROM ISO&quot; CD[0-9]
-	AddDescription &quot;Mounted CDROM ISO&quot; disc[0-9]
-	AddDescription &quot;All RPM packages merged&quot; RPMS.all
-	AddDescription &quot;Custom local RPM packages&quot; RPMS.local
-	AddDescription &quot;OS RPM packages&quot; RPMS.core
-	AddDescription &quot;OS RPM packages&quot; RPMS.os
-	AddDescription &quot;OS update RPM packages&quot; RPMS.updates
-	AddDescription &quot;YaST Online Update RPM packages&quot; RPMS.you
-	AddDescription &quot;3rd party RPM packages&quot; RPMS.
-	AddDescription &quot;OS source RPM packages&quot; SRPMS
-
-	AddDescription &quot;Apt metadata&quot; base
-	AddDescription &quot;Old-style Yum metadata&quot; headers
-	AddDescription &quot;New-style Yum metadata&quot; repodata
-	AddDescription &quot;Temporary Yum metadata&quot; .newheaders
-
-	AddDescription &quot;CentOS 2 for x86&quot; centos2-i386
-	AddDescription &quot;CentOS 3 for x86&quot; centos3-i386
-	AddDescription &quot;CentOS 4 for alpha&quot; centos4-alpha
-	AddDescription &quot;CentOS 4 for IA64&quot; centos4-ia64
-	AddDescription &quot;CentOS 4 for ppc&quot; centos4-ppc
-	AddDescription &quot;CentOS 4 for s/390&quot; centos4-s390
-	AddDescription &quot;CentOS 4 for s/390x&quot; centos4-s390x
-	AddDescription &quot;CentOS 4 for sparc&quot; centos4-sparc
-	AddDescription &quot;CentOS 4 for x86&quot; centos4-i386
-	AddDescription &quot;CentOS 4 for x86_64&quot; centos4-x86_64
-	AddDescription &quot;CentOS 5 for alpha&quot; centos5-alpha
-	AddDescription &quot;CentOS 5 for IA64&quot; centos5-ia64
-	AddDescription &quot;CentOS 5 for ppc&quot; centos5-ppc
-	AddDescription &quot;CentOS 5 for s/390&quot; centos5-s390
-	AddDescription &quot;CentOS 5 for s/390x&quot; centos5-s390x
-	AddDescription &quot;CentOS 5 for sparc&quot; centos5-sparc
-	AddDescription &quot;CentOS 5 for x86&quot; centos5-i386
-	AddDescription &quot;CentOS 5 for x86_64&quot; centos5-x86_64
-	AddDescription &quot;Fedora Core 1 for x86&quot; fc1-i386
-	AddDescription &quot;Fedora Core 1 for x86_64&quot; fc1-x86_64
-	AddDescription &quot;Fedora Core 2 for x86&quot; fc2-i386
-	AddDescription &quot;Fedora Core 2 for x86_64&quot; fc2-x86_64
-	AddDescription &quot;Fedora Core 3 for x86&quot; fc3-i386
-	AddDescription &quot;Fedora Core 3 for x86_64&quot; fc3-x86_64
-	AddDescription &quot;Fedora Core 4 for x86&quot; fc4-i386
-	AddDescription &quot;Fedora Core 4 for PPC&quot; fc4-ppc
-	AddDescription &quot;Fedora Core 4 for x86_64&quot; fc4-x86_64
-	AddDescription &quot;Fedora Core 5 for x86&quot; fc5-i386
-	AddDescription &quot;Fedora Core 5 for PPC&quot; fc5-ppc
-	AddDescription &quot;Fedora Core 5 for x86_64&quot; fc5-x86_64
-	AddDescription &quot;Fedora Core 6 for x86&quot; fc6-i386
-	AddDescription &quot;Fedora Core 6 for PPC&quot; fc6-ppc
-	AddDescription &quot;Fedora Core 6 for x86_64&quot; fc6-x86_64
-	AddDescription &quot;Red Hat Linux 6.2 for x86&quot; rh62-i386
-	AddDescription &quot;Red Hat Linux 7.3 for x86&quot; rh73-i386
-	AddDescription &quot;Red Hat Linux 8.0 for x86&quot; rh80-i386
-	AddDescription &quot;Red Hat Linux 9 for x86&quot; rh9-i386
-	AddDescription &quot;Red Hat Advanced Server 2 for x86&quot; rhel21as-i386
-	AddDescription &quot;Red Hat Advanced Server 3 for PPC&quot; rhel3as-ppc
-	AddDescription &quot;Red Hat Advanced Server 3 for s/390&quot; rhel3as-s390
-	AddDescription &quot;Red Hat Advanced Server 3 for x86&quot; rhel3as-i386
-	AddDescription &quot;Red Hat Advanced Server 3 for x86_64&quot; rhel3as-x86_64
-	AddDescription &quot;Red Hat Advanced Server 4 for IA64&quot; rhel4as-ia64
-	AddDescription &quot;Red Hat Advanced Server 4 for PPC&quot; rhel4as-ppc
-	AddDescription &quot;Red Hat Advanced Server 4 for s/390&quot; rhel4as-s390
-	AddDescription &quot;Red Hat Advanced Server 4 for x86&quot; rhel4as-i386
-	AddDescription &quot;Red Hat Advanced Server 4 for x86_64&quot; rhel4as-x86_64
-	AddDescription &quot;Red Hat Advanced Server 5 for IA64&quot; rhel5as-ia64
-	AddDescription &quot;Red Hat Advanced Server 5 for PPC&quot; rhel5as-ppc
-	AddDescription &quot;Red Hat Advanced Server 5 for s/390&quot; rhel5as-s390
-	AddDescription &quot;Red Hat Advanced Server 5 for x86&quot; rhel5as-i386
-	AddDescription &quot;Red Hat Advanced Server 5 for x86_64&quot; rhel5as-x86_64
-	AddDescription &quot;Red Hat Enterprise Server 3 for x86&quot; rhel3es-i386
-	AddDescription &quot;Red Hat Enterprise Server 3 for x86_64&quot; rhel3es-x86_64
-	AddDescription &quot;Red Hat Enterprise Server 4 for x86&quot; rhel4es-i386
-	AddDescription &quot;Red Hat Enterprise Server 4 for x86_64&quot; rhel4es-x86_64
-	AddDescription &quot;Red Hat Enterprise Server 5 for x86&quot; rhel5es-i386
-	AddDescription &quot;Red Hat Enterprise Server 5 for x86_64&quot; rhel5es-x86_64
-	AddDescription &quot;Red Hat Workstation 3 for x86&quot; rhel3ws-i386
-	AddDescription &quot;Red Hat Workstation 3 for x86_64&quot; rhel3ws-x86_64
-	AddDescription &quot;Red Hat Workstation 4 for x86&quot; rhel4ws-i386
-	AddDescription &quot;Red Hat Workstation 4 for x86_64&quot; rhel4ws-x86_64
-	AddDescription &quot;Red Hat Workstation 5 for x86&quot; rhel5ws-i386
-	AddDescription &quot;Red Hat Workstation 5 for x86_64&quot; rhel5ws-x86_64
-	AddDescription &quot;SuSE Enterprise Server 8 for i386&quot; sles8-i386
-	AddDescription &quot;SuSE Enterprise Server 9 for i386&quot; sles9-i386
-	AddDescription &quot;Tao Linux 1 for i386&quot; tao1-i386
-	AddDescription &quot;Tao Linux 1 for x86_64&quot; tao1-x86_64
-	AddDescription &quot;Tao Linux 4 for i386&quot; tao4-i386
-	AddDescription &quot;Tao Linux 4 for x86_64&quot; tao4-x86_64
-	AddDescription &quot;Yellow Dog Linux 3.0 for PPC&quot; yd3-ppc
-	AddDescription &quot;Yellow Dog Linux 4.0 for PPC&quot; yd4-ppc
-&lt;/Directory&gt;
-
-### Name based virtual-host named &quot;yam&quot;
-### &quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;
-### The purpose of this virtual host is to provide a URL <A HREF="http://yam/">http://yam/</A>
-### as a standard on your local network and map it to the correct IP
-### for the different networks that have access to it.
-#
-#NameVirtualHost yam:80
-#
-#&lt;VirtualHost yam:80&gt;
-#	ServerName yam
-#	ServerAlias yam.3ti.be yam.localdomain
-#	DocumentRoot /var/www/yam
-#	ErrorLog logs/yam-error_log
-#	CustomLog logs/yam-access_log combined
-#&lt;/VirtualHost&gt;

Modified: trunk/tools/yam/yam.spec
===================================================================
--- trunk/tools/yam/yam.spec	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/yam.spec	2006-03-10 17:01:45 UTC (rev 4150)
@@ -4,7 +4,7 @@
 
 Summary: Tool to set up a Yum/Apt mirror from various sources (ISO, rsync, http, ftp, ...)
 Name: yam
-Version: 0.8.0
+Version: 0.8.0svn
 Release: 1
 License: GPL
 Group: System Environment/Base

Deleted: trunk/tools/yam/yam.sysv
===================================================================
--- trunk/tools/yam/yam.sysv	2006-03-10 14:15:50 UTC (rev 4149)
+++ trunk/tools/yam/yam.sysv	2006-03-10 17:01:45 UTC (rev 4150)
@@ -1,77 +0,0 @@
-#!/bin/bash
-#
-# Init script for Yam distribution server.
-#
-# Written by Dag Wieers &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">dag at wieers.com</A>&gt;.
-#
-# chkconfig: 2345 90 10
-# description: Yam distribution server.
-#
-# processname: yam
-# config: /etc/yam.conf
-
-source /etc/rc.d/init.d/functions
-
-[ -x /usr/bin/yam ] || exit 1
-
-### Default variables
-SYSCONFIG=&quot;/etc/sysconfig/yam&quot;
-YAMCONFIG=&quot;/etc/yam.conf&quot;
-
-### Read configuration
-[ -r &quot;$SYSCONFIG&quot; ] &amp;&amp; source &quot;$SYSCONFIG&quot;
-
-[ -r &quot;$YAMCONFIG&quot; ] || exit 1
-
-RETVAL=0
-prog=&quot;yam&quot;
-desc=&quot;Yam Distribution Server&quot;
-
-start() {
-	echo -n $&quot;Starting $desc ($prog): &quot;
-	yam -q -c $YAMCONFIG
-	RETVAL=$?
-	[ $RETVAL -eq 0 ] &amp;&amp; success || failure
-	echo
-	[ $RETVAL -eq 0 ] &amp;&amp; touch /var/lock/subsys/$prog
-	return $RETVAL
-}
-
-stop() {
-	echo -n $&quot;Shutting down $desc ($prog): &quot;
-	yam -q --umount -c $YAMCONFIG
-	RETVAL=$?
-	[ $RETVAL -eq 0 ] &amp;&amp; success || failure
-	echo
-	[ $RETVAL -eq 0 ] &amp;&amp; rm -f /var/lock/subsys/$prog
-	return $RETVAL
-}
-
-restart() {
-	stop
-	start
-}
-
-case &quot;$1&quot; in
-  start)
-	start
-	;;
-  stop)
-	stop
-	;;
-  restart|reload)
-	restart
-	;;
-  reload)
-	reload
-	;;
-  condrestart)
-	[ -e /var/lock/subsys/$prog ] &amp;&amp; restart
-	RETVAL=$?
-	;;
-  *)
-	echo $&quot;Usage: $0 {start|stop|restart|condrestart}&quot;
-	RETVAL=1
-esac
-
-exit $RETVAL


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002949.html">[svn] r4149 - trunk/rpms/pychecker
</A></li>
	<LI>Next message: <A HREF="002951.html">[svn] r4151 - trunk/tools/sarah
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2950">[ date ]</a>
              <a href="thread.html#2950">[ thread ]</a>
              <a href="subject.html#2950">[ subject ]</a>
              <a href="author.html#2950">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
