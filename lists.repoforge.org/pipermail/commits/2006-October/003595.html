<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [svn] r4795 - in trunk/rpms: . madwifi nvidia-x11-drv
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r4795%20-%20in%20trunk/rpms%3A%20.%20madwifi%20nvidia-x11-drv&In-Reply-To=%3C20061006222910.4238B318216%40pooch.vmhosting.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003594.html">
   <LINK REL="Next"  HREF="003596.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[svn] r4795 - in trunk/rpms: . madwifi nvidia-x11-drv</H1>
    <B>packagers at lists.rpmforge.net</B> 
    <A HREF="mailto:commits%40lists.repoforge.org?Subject=Re:%20Re%3A%20%5Bsvn%5D%20r4795%20-%20in%20trunk/rpms%3A%20.%20madwifi%20nvidia-x11-drv&In-Reply-To=%3C20061006222910.4238B318216%40pooch.vmhosting.org%3E"
       TITLE="[svn] r4795 - in trunk/rpms: . madwifi nvidia-x11-drv">packagers at lists.rpmforge.net
       </A><BR>
    <I>Sat Oct  7 00:29:10 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="003594.html">[svn] r4794 - trunk/tools/yam
</A></li>
        <LI>Next message: <A HREF="003596.html">[svn] r4796 - trunk/tools/yam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3595">[ date ]</a>
              <a href="thread.html#3595">[ thread ]</a>
              <a href="subject.html#3595">[ subject ]</a>
              <a href="author.html#3595">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: thias
Date: 2006-10-07 00:29:09 +0200 (Sat, 07 Oct 2006)
New Revision: 4795

Added:
   trunk/rpms/madwifi/
   trunk/rpms/madwifi/madwifi-2.6.18-config.patch
   trunk/rpms/madwifi/madwifi.spec
   trunk/rpms/nvidia-x11-drv/
   trunk/rpms/nvidia-x11-drv/nvidia-config-display
   trunk/rpms/nvidia-x11-drv/nvidia-x11-drv.spec
   trunk/rpms/nvidia-x11-drv/nvidia.csh
   trunk/rpms/nvidia-x11-drv/nvidia.modprobe
   trunk/rpms/nvidia-x11-drv/nvidia.sh
Log:
Initial import of dkms-enabled nvidia and madwifi drivers and utilities.


Added: trunk/rpms/madwifi/madwifi-2.6.18-config.patch
===================================================================
--- trunk/rpms/madwifi/madwifi-2.6.18-config.patch	                        (rev 0)
+++ trunk/rpms/madwifi/madwifi-2.6.18-config.patch	2006-10-06 22:29:09 UTC (rev 4795)
@@ -0,0 +1,341 @@
+diff -ur madwifi-ng-r1708-20060907.orig/ath/if_ath_ahb.c madwifi-ng-r1708-20060907/ath/if_ath_ahb.c
+--- madwifi-ng-r1708-20060907.orig/ath/if_ath_ahb.c	2006-05-21 21:39:55.000000000 -0700
++++ madwifi-ng-r1708-20060907/ath/if_ath_ahb.c	2006-09-07 08:33:31.000000000 -0700
+@@ -10,7 +10,6 @@
+ #define	EXPORT_SYMTAB
+ #endif
+ 
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/ath/if_ath.c madwifi-ng-r1708-20060907/ath/if_ath.c
+--- madwifi-ng-r1708-20060907.orig/ath/if_ath.c	2006-09-02 21:39:21.000000000 -0700
++++ madwifi-ng-r1708-20060907/ath/if_ath.c	2006-09-07 08:33:31.000000000 -0700
+@@ -44,7 +44,6 @@
+  */
+ #include &quot;opt_ah.h&quot;
+ 
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/ath/if_ath_pci.c madwifi-ng-r1708-20060907/ath/if_ath_pci.c
+--- madwifi-ng-r1708-20060907.orig/ath/if_ath_pci.c	2006-07-21 01:00:32.000000000 -0700
++++ madwifi-ng-r1708-20060907/ath/if_ath_pci.c	2006-09-07 08:33:31.000000000 -0700
+@@ -42,7 +42,6 @@
+ #define	EXPORT_SYMTAB
+ #endif
+ 
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/ath_rate/amrr/amrr.c madwifi-ng-r1708-20060907/ath_rate/amrr/amrr.c
+--- madwifi-ng-r1708-20060907.orig/ath_rate/amrr/amrr.c	2006-07-04 03:23:35.000000000 -0700
++++ madwifi-ng-r1708-20060907/ath_rate/amrr/amrr.c	2006-09-07 08:33:31.000000000 -0700
+@@ -43,7 +43,6 @@
+  * &quot;IEEE 802.11 Rate Adaptation: A Practical Approach&quot; by
+  *    Mathieu Lacage, Hossein Manshaei, Thierry Turletti
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/ath_rate/onoe/onoe.c madwifi-ng-r1708-20060907/ath_rate/onoe/onoe.c
+--- madwifi-ng-r1708-20060907.orig/ath_rate/onoe/onoe.c	2006-07-04 03:23:35.000000000 -0700
++++ madwifi-ng-r1708-20060907/ath_rate/onoe/onoe.c	2006-09-07 08:33:31.000000000 -0700
+@@ -39,7 +39,6 @@
+ /*
+  * Atsushi Onoe's rate control algorithm.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/ath_rate/sample/sample.c madwifi-ng-r1708-20060907/ath_rate/sample/sample.c
+--- madwifi-ng-r1708-20060907.orig/ath_rate/sample/sample.c	2006-07-04 03:23:35.000000000 -0700
++++ madwifi-ng-r1708-20060907/ath_rate/sample/sample.c	2006-09-07 08:33:31.000000000 -0700
+@@ -41,7 +41,6 @@
+  * John Bicket's SampleRate control algorithm.
+  */
+ 
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/hal/linux/ah_osdep.c madwifi-ng-r1708-20060907/hal/linux/ah_osdep.c
+--- madwifi-ng-r1708-20060907.orig/hal/linux/ah_osdep.c	2006-05-19 03:25:45.000000000 -0700
++++ madwifi-ng-r1708-20060907/hal/linux/ah_osdep.c	2006-09-07 08:33:31.000000000 -0700
+@@ -41,7 +41,6 @@
+ #define	EXPORT_SYMTAB
+ #endif
+ 
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_acl.c madwifi-ng-r1708-20060907/net80211/ieee80211_acl.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_acl.c	2006-05-31 14:05:08.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_acl.c	2006-09-07 08:33:31.000000000 -0700
+@@ -45,7 +45,6 @@
+  * and if found the frame is either accepted (ACL_POLICY_ALLOW)
+  * or rejected (ACL_POLICY_DENT).
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/skbuff.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_beacon.c madwifi-ng-r1708-20060907/net80211/ieee80211_beacon.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_beacon.c	2006-05-19 13:42:19.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_beacon.c	2006-09-07 08:34:29.000000000 -0700
+@@ -38,7 +38,6 @@
+ /*
+  * IEEE 802.11 beacon handling routines
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/skbuff.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211.c madwifi-ng-r1708-20060907/net80211/ieee80211.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211.c	2006-07-04 03:22:11.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211.c	2006-09-07 08:34:29.000000000 -0700
+@@ -38,7 +38,6 @@
+ /*
+  * IEEE 802.11 generic handler
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/skbuff.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_crypto.c madwifi-ng-r1708-20060907/net80211/ieee80211_crypto.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_crypto.c	2006-02-01 12:07:11.000000000 -0800
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_crypto.c	2006-09-07 08:34:29.000000000 -0700
+@@ -38,7 +38,6 @@
+ /*
+  * IEEE 802.11 generic crypto support.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/kmod.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_crypto_ccmp.c madwifi-ng-r1708-20060907/net80211/ieee80211_crypto_ccmp.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_crypto_ccmp.c	2006-06-13 07:09:51.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_crypto_ccmp.c	2006-09-07 08:34:29.000000000 -0700
+@@ -38,7 +38,6 @@
+  * AP driver. The code is used with the consent of the author and
+  * it's license is included below.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/skbuff.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_crypto_none.c madwifi-ng-r1708-20060907/net80211/ieee80211_crypto_none.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_crypto_none.c	2006-02-01 12:07:11.000000000 -0800
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_crypto_none.c	2006-09-07 08:34:29.000000000 -0700
+@@ -34,7 +34,6 @@
+ /*
+  * IEEE 802.11 NULL crypto support.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/skbuff.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_crypto_tkip.c madwifi-ng-r1708-20060907/net80211/ieee80211_crypto_tkip.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_crypto_tkip.c	2006-02-01 12:07:11.000000000 -0800
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_crypto_tkip.c	2006-09-07 08:34:29.000000000 -0700
+@@ -38,7 +38,6 @@
+  * AP driver. The code is used with the consent of the author and
+  * it's license is included below.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/skbuff.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_crypto_wep.c madwifi-ng-r1708-20060907/net80211/ieee80211_crypto_wep.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_crypto_wep.c	2006-02-06 12:20:57.000000000 -0800
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_crypto_wep.c	2006-09-07 08:33:30.000000000 -0700
+@@ -34,7 +34,6 @@
+ /*
+  * IEEE 802.11 WEP crypto support.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/skbuff.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_input.c madwifi-ng-r1708-20060907/net80211/ieee80211_input.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_input.c	2006-07-05 20:23:08.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_input.c	2006-09-07 08:34:29.000000000 -0700
+@@ -38,7 +38,6 @@
+ /*
+  * IEEE 802.11 input handling.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/skbuff.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_linux.c madwifi-ng-r1708-20060907/net80211/ieee80211_linux.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_linux.c	2006-07-21 01:59:10.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_linux.c	2006-09-07 08:34:29.000000000 -0700
+@@ -33,7 +33,6 @@
+ /*
+  * IEEE 802.11 support (Linux-specific code)
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/kmod.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_monitor.c madwifi-ng-r1708-20060907/net80211/ieee80211_monitor.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_monitor.c	2006-09-05 19:24:34.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_monitor.c	2006-09-07 08:34:29.000000000 -0700
+@@ -34,7 +34,6 @@
+ /*
+  * IEEE 802.11 monitor mode 
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/kmod.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_node.c madwifi-ng-r1708-20060907/net80211/ieee80211_node.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_node.c	2006-06-13 01:50:37.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_node.c	2006-09-07 08:34:29.000000000 -0700
+@@ -38,7 +38,6 @@
+ /*
+  * IEEE 802.11 node handling support.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/skbuff.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_output.c madwifi-ng-r1708-20060907/net80211/ieee80211_output.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_output.c	2006-06-09 19:17:05.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_output.c	2006-09-07 08:33:31.000000000 -0700
+@@ -38,7 +38,6 @@
+ /*
+  * IEEE 802.11 output handling.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/skbuff.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_power.c madwifi-ng-r1708-20060907/net80211/ieee80211_power.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_power.c	2006-06-09 19:17:05.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_power.c	2006-09-07 08:34:29.000000000 -0700
+@@ -38,7 +38,6 @@
+ /*
+  * IEEE 802.11 power save support.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/skbuff.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_proto.c madwifi-ng-r1708-20060907/net80211/ieee80211_proto.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_proto.c	2006-08-08 07:24:15.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_proto.c	2006-09-07 08:34:29.000000000 -0700
+@@ -38,7 +38,6 @@
+ /*
+  * IEEE 802.11 protocol support.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/kmod.h&gt;
+ #include &lt;linux/module.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_scan_ap.c madwifi-ng-r1708-20060907/net80211/ieee80211_scan_ap.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_scan_ap.c	2006-08-08 05:24:37.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_scan_ap.c	2006-09-07 08:34:29.000000000 -0700
+@@ -37,7 +37,6 @@
+ /*
+  * IEEE 802.11 ap scanning support.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/skbuff.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_scan.c madwifi-ng-r1708-20060907/net80211/ieee80211_scan.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_scan.c	2006-08-08 05:24:37.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_scan.c	2006-09-07 08:34:29.000000000 -0700
+@@ -37,7 +37,6 @@
+ /*
+  * IEEE 802.11 scanning support.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/skbuff.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_scan_sta.c madwifi-ng-r1708-20060907/net80211/ieee80211_scan_sta.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_scan_sta.c	2006-08-08 05:24:37.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_scan_sta.c	2006-09-07 08:34:29.000000000 -0700
+@@ -37,7 +37,6 @@
+ /*
+  * IEEE 802.11 station scanning support.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/skbuff.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_wireless.c madwifi-ng-r1708-20060907/net80211/ieee80211_wireless.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_wireless.c	2006-08-10 22:35:30.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_wireless.c	2006-09-07 08:34:29.000000000 -0700
+@@ -39,7 +39,6 @@
+ /*
+  * Wireless extensions support for 802.11 common code.
+  */
+-#include &lt;linux/config.h&gt;
+ 
+ #ifdef CONFIG_NET_WIRELESS
+ #include &lt;linux/version.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/ieee80211_xauth.c madwifi-ng-r1708-20060907/net80211/ieee80211_xauth.c
+--- madwifi-ng-r1708-20060907.orig/net80211/ieee80211_xauth.c	2006-02-01 12:07:11.000000000 -0800
++++ madwifi-ng-r1708-20060907/net80211/ieee80211_xauth.c	2006-09-07 08:34:29.000000000 -0700
+@@ -46,7 +46,6 @@
+  * of the available callbacks--the user mode authenticator process works
+  * entirely from messages about stations joining and leaving.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/net80211/if_media.c madwifi-ng-r1708-20060907/net80211/if_media.c
+--- madwifi-ng-r1708-20060907.orig/net80211/if_media.c	2006-05-31 14:05:08.000000000 -0700
++++ madwifi-ng-r1708-20060907/net80211/if_media.c	2006-09-07 08:33:40.000000000 -0700
+@@ -49,7 +49,6 @@
+ #define	EXPORT_SYMTAB
+ #endif
+ 
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/kernel.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/regression/ccmp/test_ccmp.c madwifi-ng-r1708-20060907/regression/ccmp/test_ccmp.c
+--- madwifi-ng-r1708-20060907.orig/regression/ccmp/test_ccmp.c	2006-02-01 12:07:11.000000000 -0800
++++ madwifi-ng-r1708-20060907/regression/ccmp/test_ccmp.c	2006-09-07 08:34:29.000000000 -0700
+@@ -44,7 +44,6 @@
+  * you want; e.g. insmod ccmp_test tests=7 will run only test mpdu's
+  * 1, 2, and 3.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/regression/tkip/test_tkip.c madwifi-ng-r1708-20060907/regression/tkip/test_tkip.c
+--- madwifi-ng-r1708-20060907.orig/regression/tkip/test_tkip.c	2006-02-01 12:07:11.000000000 -0800
++++ madwifi-ng-r1708-20060907/regression/tkip/test_tkip.c	2006-09-07 08:34:26.000000000 -0700
+@@ -34,7 +34,6 @@
+ /*
+  * TKIP test module.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;
+diff -ur madwifi-ng-r1708-20060907.orig/regression/wep/test_wep.c madwifi-ng-r1708-20060907/regression/wep/test_wep.c
+--- madwifi-ng-r1708-20060907.orig/regression/wep/test_wep.c	2006-02-01 12:07:11.000000000 -0800
++++ madwifi-ng-r1708-20060907/regression/wep/test_wep.c	2006-09-07 08:34:29.000000000 -0700
+@@ -44,7 +44,6 @@
+  * you want; e.g. insmod wep_test tests=7 will run only test mpdu's
+  * 1, 2, and 3.
+  */
+-#include &lt;linux/config.h&gt;
+ #include &lt;linux/version.h&gt;
+ #include &lt;linux/module.h&gt;
+ #include &lt;linux/init.h&gt;

Added: trunk/rpms/madwifi/madwifi.spec
===================================================================
--- trunk/rpms/madwifi/madwifi.spec	                        (rev 0)
+++ trunk/rpms/madwifi/madwifi.spec	2006-10-06 22:29:09 UTC (rev 4795)
@@ -0,0 +1,127 @@
+# $Id$
+# Authority: matthias
+
+%define dkms_name madwifi
+
+Summary: Multiband Atheros Driver for Wireless Fidelity
+Name: madwifi
+Version: 0.9.2
+Release: 1
+License: GPL
+Group: System Environment/Kernel
+URL: <A HREF="http://madwifi.org/">http://madwifi.org/</A>
+Source: <A HREF="http://dl.sf.net/sourceforge/madwifi/madwifi-%{version">http://dl.sf.net/sourceforge/madwifi/madwifi-%{version</A>}.tar.bz2
+Patch0: madwifi-2.6.18-config.patch
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+Requires: gcc
+Requires(pre): dkms
+Requires(post): dkms
+
+%description
+MadWifi is short for Multiband Atheros Driver for Wireless Fidelity. It
+provides a Linux kernel device driver for Atheros-based Wireless LAN
+devices. The driver works such that your WLAN card will appear as a normal
+network interface in the system. Additionally there is support for the
+Wireless Extensions API. This allows you to configure the device using
+common wireless tools (ifconfig, iwconfig and friends).
+
+
+%prep
+%setup
+%patch0 -p1 -b .config
+
+
+%build
+# Tools build
+export CFLAGS=&quot;%{optflags}&quot;
+%{__make} -C tools %{?_smp_mflags} \
+    BINDIR=%{_bindir} \
+    MANDIR=%{_mandir}
+
+
+%install
+%{__rm} -rf %{buildroot}
+
+# Tools install
+%{__make} -C tools install \
+    DESTDIR=%{buildroot} \
+    STRIP=true \
+    BINDIR=%{_bindir} \
+    MANDIR=%{_mandir}
+
+# Kernel module sources install for dkms
+%{__mkdir_p} %{buildroot}%{_usrsrc}/madwifi-%{version}/
+%{__cp} -a ath/ ath_rate/ hal/ include/ net80211/ scripts/ \
+    BuildCaps.inc kernelversion.c Makefile Makefile.inc release.h \
+    %{buildroot}%{_usrsrc}/madwifi-%{version}/
+
+# Configuration for dkms
+%{__cat} &gt; %{buildroot}%{_usrsrc}/madwifi-%{version}/dkms.conf &lt;&lt; 'EOF'
+PACKAGE_NAME=%{dkms_name}
+PACKAGE_VERSION=%{version}
+MAKE[0]=&quot;make modules KERNELPATH=${kernel_source_dir}&quot;
+BUILT_MODULE_NAME[0]=ath_pci
+BUILT_MODULE_LOCATION[0]=ath
+BUILT_MODULE_NAME[1]=ath_hal
+BUILT_MODULE_LOCATION[1]=ath
+BUILT_MODULE_NAME[2]=wlan
+BUILT_MODULE_LOCATION[2]=net80211
+BUILT_MODULE_NAME[3]=wlan_acl
+BUILT_MODULE_LOCATION[3]=net80211
+BUILT_MODULE_NAME[4]=wlan_ccmp
+BUILT_MODULE_LOCATION[4]=net80211
+BUILT_MODULE_NAME[5]=wlan_scan_ap
+BUILT_MODULE_LOCATION[5]=net80211
+BUILT_MODULE_NAME[6]=wlan_scan_sta
+BUILT_MODULE_LOCATION[6]=net80211
+BUILT_MODULE_NAME[7]=wlan_tkip
+BUILT_MODULE_LOCATION[7]=net80211
+BUILT_MODULE_NAME[8]=wlan_wep
+BUILT_MODULE_LOCATION[8]=net80211
+BUILT_MODULE_NAME[9]=wlan_xauth
+BUILT_MODULE_LOCATION[9]=net80211
+BUILT_MODULE_NAME[10]=ath_rate_sample
+BUILT_MODULE_LOCATION[10]=ath_rate/sample
+DEST_MODULE_LOCATION[0]=/kernel/drivers/net/wireless
+DEST_MODULE_LOCATION[1]=/kernel/drivers/net/wireless
+DEST_MODULE_LOCATION[2]=/kernel/drivers/net/wireless
+DEST_MODULE_LOCATION[3]=/kernel/drivers/net/wireless
+DEST_MODULE_LOCATION[4]=/kernel/drivers/net/wireless
+DEST_MODULE_LOCATION[5]=/kernel/drivers/net/wireless
+DEST_MODULE_LOCATION[6]=/kernel/drivers/net/wireless
+DEST_MODULE_LOCATION[7]=/kernel/drivers/net/wireless
+DEST_MODULE_LOCATION[8]=/kernel/drivers/net/wireless
+DEST_MODULE_LOCATION[9]=/kernel/drivers/net/wireless
+DEST_MODULE_LOCATION[10]=/kernel/drivers/net/wireless
+AUTOINSTALL=&quot;YES&quot;
+EOF
+
+
+%clean
+%{__rm} -rf %{buildroot}
+
+
+%post
+# Add to DKMS registry
+dkms add -m %{dkms_name} -v %{version} -q --rpm_safe_upgrade
+# Build now, so the current user can simply restart X
+dkms build -m %{dkms_name} -v %{version} -q
+dkms install -m %{dkms_name} -v %{version} -q
+
+%preun
+# Remove all versions from DKMS registry
+dkms remove -m %{dkms_name} -v %{version} --all -q --rpm_safe_upgrade
+
+
+%files
+%defattr(-, root, root, 0755)
+%doc COPYRIGHT README THANKS docs/users-guide.pdf docs/WEP-HOWTO.txt
+%{_bindir}/*
+%{_mandir}/man8/*
+%{_usrsrc}/madwifi-%{version}/
+
+
+%changelog
+* Fri Oct  6 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 0.9.2-1
+- Initial RPM release.
+


Property changes on: trunk/rpms/madwifi/madwifi.spec
___________________________________________________________________
Name: svn:keywords
   + Id

Added: trunk/rpms/nvidia-x11-drv/nvidia-config-display
===================================================================
--- trunk/rpms/nvidia-x11-drv/nvidia-config-display	                        (rev 0)
+++ trunk/rpms/nvidia-x11-drv/nvidia-config-display	2006-10-06 22:29:09 UTC (rev 4795)
@@ -0,0 +1,180 @@
+#!/usr/bin/python
+#
+# This program is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published by
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU Library General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the Free Software
+# Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
+#
+# Copyright 2003, 2004 Peter Backlund
+
+import ixf86config
+import string
+import os
+import sys
+
+if os.uname()[4] == &quot;x86_64&quot; :
+    TOP_MOD_DIR = &quot;/usr/lib64/xorg/modules&quot;
+else:
+    TOP_MOD_DIR = &quot;/usr/lib/xorg/modules&quot;
+
+# This will add an entry to ModulePath section,
+# with previous entries untouched.
+def addModulePath(files, newPathEntry):
+    prevModPath = []
+    # Check for existing ModulePath
+    if (files.module != None):
+        prevModPath = string.split(files.module, &quot;,&quot;)
+    # First, add the default module dirs. We add the dirs in
+    # reversed order, and reverse the list at the end.
+    newModPath = [TOP_MOD_DIR]
+    #newModPath.append(TOP_MOD_DIR + &quot;/extensions&quot;)
+    for i in range(len(prevModPath)):
+        mp = prevModPath[i]
+        # Remove trailing &quot;/&quot;, in case the config file
+        # has been hand-edited
+        if mp[len(mp) - 1] == &quot;/&quot;:
+            mp = mp[:(len(mp) - 1)]
+        # Add to new module path
+        if not mp in newModPath and mp != (TOP_MOD_DIR + &quot;/extensions&quot;):
+            newModPath.append(mp)
+    # Add new path entry
+    if not (TOP_MOD_DIR + newPathEntry) in newModPath:
+        newModPath.append(TOP_MOD_DIR + newPathEntry)
+    # Reverse list
+    newModPath.reverse()
+    files.module = string.join(newModPath, &quot;,&quot;)
+
+#
+# Removes an entry in the ModulePath list.
+#
+def removeModulePath(files, modulePath):
+    prevModPath = []
+    # Check for existing ModulePath
+    if (files.module != None):
+        prevModPath = string.split(files.module, &quot;,&quot;)
+    if (len(prevModPath) &lt; 1):
+        # ModulePath empty, do nothing.
+        return
+    newModPath = []
+    for i in range(len(prevModPath)):
+        mp = prevModPath[i]
+        # Remove trailing &quot;/&quot;, in case the config file
+        # has been hand-edited
+        if mp[len(mp) - 1] == &quot;/&quot;:
+            mp = mp[:(len(mp) - 1)]
+        if mp != (TOP_MOD_DIR + modulePath) and mp != (TOP_MOD_DIR + &quot;/extensions&quot;):
+            newModPath.append(mp)
+    files.module = string.join(newModPath, &quot;,&quot;)
+
+#
+# Adds a module to the Modules section.
+# The module will only be listed once.
+#
+def addModule(modules, moduleName):
+    m = ixf86config.XF86ConfLoad()
+    m.name = moduleName
+    removeModule(modules, moduleName)
+    modules.load.insert(m)
+
+#
+# Removes a module from the Modules section.
+#
+def removeModule(modules, moduleName):
+    i = 0
+    for m in modules.load:
+        if (m.name.lower() == moduleName.lower()):
+            modules.load.remove(i)
+        i += 1
+
+#
+# Set driver to newDriver where
+# if driver is oldDriver
+#
+def toggleDriver(device, oldDriver, newDriver):
+    for dev in device:
+        if (dev.driver.lower() == oldDriver.lower()):
+            dev.driver = newDriver
+
+def printError(err):
+    print &quot;Error:&quot;, err
+
+def printUsage():
+    print &quot;Usage: nvidia-config-display enable | disable&quot;
+
+# ------------
+# Main section
+# ------------
+
+try:
+    # Read config file
+    (xconfig, xconfigpath) = ixf86config.readConfigFile()
+except:
+    printError(&quot;Could not read X config file&quot;)
+    sys.exit(1)
+
+# Check number of arguments
+if (len(sys.argv) == 2):
+    arg = sys.argv[1]
+else:
+    printError(&quot;Wrong number of arguments&quot;)
+    printUsage()
+    sys.exit(1)
+
+# Check value of argument
+if arg != &quot;enable&quot; and arg != &quot;disable&quot;:
+    printError(&quot;Invalid command&quot;)
+    printUsage()
+    sys.exit(1)
+
+# Backup original X config file to .backup-nvidia
+backup_file = None
+output_file = xconfigpath
+if output_file != None and os.access(output_file, os.F_OK):
+    backup_file = output_file + &quot;.backup-nvidia&quot;
+    try:
+        os.rename(output_file, backup_file)
+    except:
+        printError(&quot;Cannot write backup file&quot;)
+        sys.exit(1)
+else:
+    printError(&quot;Cannot open X config file&quot;)
+    sys.exit(1)
+try:
+    if (arg == &quot;enable&quot;):
+        # Enable nvidia driver:
+        # Add nvidia module path, disable dri and GLcore modules
+        # make sure glx is enabled and change driver to 'nvidia'
+        addModulePath(xconfig.files, &quot;/extensions/nvidia&quot;)
+        removeModule(xconfig.modules, &quot;dri&quot;)
+        removeModule(xconfig.modules, &quot;GLcore&quot;)
+        addModule(xconfig.modules, &quot;glx&quot;)
+        toggleDriver(xconfig.device, &quot;nv&quot;, &quot;nvidia&quot;)
+    elif (arg == &quot;disable&quot;):
+        # Disable nvidia driver:
+        # Remove nvidia module path, enable dri module
+        # and change driver to 'nv'
+        removeModulePath(xconfig.files, &quot;/extensions/nvidia&quot;)
+        addModule(xconfig.modules, &quot;dri&quot;)
+        toggleDriver(xconfig.device, &quot;nvidia&quot;, &quot;nv&quot;)
+    else:
+        # This shouldn't happen, but we handle it anyway
+        raise
+    # Write new X config file
+    xconfig.write(output_file)
+except:
+    printError(&quot;Editing failed, restoring backup&quot;)
+    try:
+        # Something went wrong, restore backup
+        os.rename(backup_file, output_file)
+    except:
+        printError(&quot;Failed to restore backup&quot;)
+


Property changes on: trunk/rpms/nvidia-x11-drv/nvidia-config-display
___________________________________________________________________
Name: svn:executable
   + *

Added: trunk/rpms/nvidia-x11-drv/nvidia-x11-drv.spec
===================================================================
--- trunk/rpms/nvidia-x11-drv/nvidia-x11-drv.spec	                        (rev 0)
+++ trunk/rpms/nvidia-x11-drv/nvidia-x11-drv.spec	2006-10-06 22:29:09 UTC (rev 4795)
@@ -0,0 +1,254 @@
+# $Id$
+# Authority: matthias
+
+%define majmin          1.0
+%define relver          8774
+%define dkms_name       nvidia
+%define nvidialibdir    %{_libdir}/nvidia
+%define nvidialib32dir  %{_prefix}/lib/nvidia
+
+%define debug_package   %{nil}
+
+Summary: Proprietary NVIDIA hardware accelerated OpenGL driver
+Name: nvidia-x11-drv
+Version: %{majmin}.%{relver}
+Release: 2
+License: Proprietary
+Group: User Interface/X Hardware Support
+URL: <A HREF="http://www.nvidia.com/object/unix.html">http://www.nvidia.com/object/unix.html</A>
+# i386
+Source0: <A HREF="http://download.nvidia.com/XFree86/Linux-x86/%{majmin">http://download.nvidia.com/XFree86/Linux-x86/%{majmin</A>}-%{relver}/NVIDIA-Linux-x86-%{majmin}-%{relver}-pkg1.run
+# x86_64
+Source1: <A HREF="http://download.nvidia.com/XFree86/Linux-x86_64/%{majmin">http://download.nvidia.com/XFree86/Linux-x86_64/%{majmin</A>}-%{relver}/NVIDIA-Linux-x86_64-%{majmin}-%{relver}-pkg2.run
+Source2: nvidia.sh
+Source3: nvidia.csh
+Source4: nvidia-config-display
+Source5: nvidia.modprobe
+BuildRoot: %{_tmppath}/%{name}-%{version}-%{release}-root
+# Required for proper dkms operation
+Requires: gcc
+Requires(pre): dkms
+Requires(post): dkms
+# Required by the NVIDIA run file
+Buildrequires: tar
+# Required for our build
+BuildRequires: desktop-file-utils
+ExclusiveArch: i386 x86_64
+Conflicts: xorg-x11-drv-nvidia
+
+%description
+Proprietary NVIDIA GL libraries, Xorg and Linux module for hardware
+accelerated OpenGL support.
+
+INSTALLING THIS PACKAGE WILL TAINT YOUR KERNEL, SO PLEASE DO NOT REPORT *ANY*
+BUGS BEFORE YOU UNINSTALL THE PACKAGE AND REBOOT THE SYSTEM.
+
+
+%prep
+%setup -T -c
+
+
+%build
+
+
+%install
+%{__rm} -rf %{buildroot} pkg
+
+# Extract the proper &quot;sources&quot; for the current architecture
+%ifarch i386
+sh %{SOURCE0} --extract-only --target pkg/
+%endif
+%ifarch x86_64
+sh %{SOURCE1} --extract-only --target pkg/
+%endif
+
+# Copy dkms conf file
+%{__mkdir_p} %{buildroot}%{_usrsrc}/nvidia-%{version}/
+%{__cat} &gt; %{buildroot}%{_usrsrc}/nvidia-%{version}/dkms.conf &lt;&lt; 'EOF'
+PACKAGE_NAME=%{dkms_name}
+PACKAGE_VERSION=%{version}
+MAKE[0]=&quot;make module KERNDIR=/lib/modules/$kernelver IGNORE_CC_MISMATCH=1&quot;
+BUILT_MODULE_NAME[0]=nvidia
+DEST_MODULE_LOCATION[0]=/kernel/drivers/video/nvidia
+AUTOINSTALL=YES
+EOF
+
+# Install all the files, even the binary ones. Ick.
+%{__install} -p -m 0644 pkg/usr/src/nv/{makefile,Makefile.kbuild} \
+    %{buildroot}%{_usrsrc}/nvidia-%{version}/
+%{__install} -p -m 0644 pkg/usr/src/nv/*.{c,h,o} \
+    %{buildroot}%{_usrsrc}/nvidia-%{version}/
+%{__install} -p -m 0755 pkg/usr/src/nv/*.sh \
+    %{buildroot}%{_usrsrc}/nvidia-%{version}/
+
+# Install libXvMCNVIDIA.*
+%{__mkdir_p} %{buildroot}/%{nvidialibdir}/
+%{__install} -p -m 0755 pkg/usr/X11R6/lib/libXvMCNVIDIA.so.* \
+    %{buildroot}/%{nvidialibdir}/
+#{__install} -p -m 0644 pkg/usr/X11R6/lib/libXvMCNVIDIA.a \
+#   %{buildroot}/%{nvidialibdir}/
+
+# Install X driver and extension (is the nvidia_drv.o useful?)
+%{__mkdir_p} %{buildroot}%{_libdir}/xorg/modules/drivers/nvidia/
+%{__install} -p -m 0644 pkg/usr/X11R6/lib/modules/drivers/*.so \
+    %{buildroot}%{_libdir}/xorg/modules/drivers/
+%{__mkdir_p} %{buildroot}%{_libdir}/xorg/modules/extensions/nvidia/
+%{__install} -p -m 0755 pkg/usr/X11R6/lib/modules/extensions/libglx.so.%{version} \
+    %{buildroot}%{_libdir}/xorg/modules/extensions/nvidia/
+
+# Install GL and tls libs
+%{__mkdir_p} %{buildroot}/%{nvidialibdir}/tls/
+%{__install} -p -m 0755 pkg/usr/lib/*.so.%{version} \
+    %{buildroot}/%{nvidialibdir}/
+%{__install} -p -m 0755 pkg/usr/lib/tls/*.so.%{version} \
+    %{buildroot}/%{nvidialibdir}/tls/
+
+%ifarch x86_64
+# Install compat GL and tls libs
+%{__mkdir_p} %{buildroot}/%{nvidialib32dir}/tls/
+%{__install} -p -m 0755 pkg/usr/lib/*.so.%{version} \
+    %{buildroot}/%{nvidialib32dir}/
+%{__install} -p -m 0755 pkg/usr/lib/tls/*.so.%{version} \
+    %{buildroot}/%{nvidialib32dir}/tls/
+%endif
+
+# Create .so symlinks
+# (what was that libXvMCNVIDIA_dynamic for?)
+for libname in libGLcore libGL libnvidia-cfg libnvidia-tls tls/libnvidia-tls; do
+    %{__ln_s} `basename ${libname}`.so.%{version} \
+        %{buildroot}/%{nvidialibdir}/${libname}.so.1
+    %{__ln_s} `basename ${libname}`.so.%{version} \
+        %{buildroot}/%{nvidialibdir}/${libname}.so
+done
+%ifarch x86_64
+for libname in libGLcore libGL libnvidia-cfg libnvidia-tls tls/libnvidia-tls; do
+    %{__ln_s} `basename ${libname}`.so.%{version} \
+        %{buildroot}/%{nvidialib32dir}/${libname}.so.1
+    %{__ln_s} `basename ${libname}`.so.%{version} \
+        %{buildroot}/%{nvidialib32dir}/${libname}.so
+done
+%endif
+%{__ln_s} libglx.so.%{version} \
+    %{buildroot}/%{_libdir}/xorg/modules/extensions/nvidia/libglx.so
+
+# Install useful nvidia tools
+%{__mkdir_p} %{buildroot}%{_bindir}/
+%{__install} -p -m 0755 pkg/usr/bin/{nvidia-bug-report.sh,nvidia-settings} \
+    %{buildroot}%{_bindir}/
+
+# Install man page (the others aren't relevant)
+%{__mkdir_p} %{buildroot}%{_mandir}/man1/
+%{__install} -p -m 0644 pkg/usr/share/man/man1/nvidia-settings* \
+    %{buildroot}%{_mandir}/man1/
+
+# Install pixmap for the desktop entry
+%{__mkdir_p} %{buildroot}%{_datadir}/pixmaps/
+%{__install} -p -m 0644 pkg/usr/share/pixmaps/nvidia-settings.png \
+    %{buildroot}%{_datadir}/pixmaps/
+
+# Desktop entry for nvidia-settings
+%{__mkdir_p} %{buildroot}%{_datadir}/applications/
+desktop-file-install --vendor none \
+    --dir %{buildroot}/%{_datadir}/applications/ \
+    --add-category System \
+    --add-category Application \
+    --add-category GNOME \
+    pkg/usr/share/applications/nvidia-settings.desktop
+
+# Install modprobe.d file
+%{__install} -D -p -m 0644 %{SOURCE5} \
+    %{buildroot}%{_sysconfdir}/modprobe.d/nvidia
+
+# Install ld.so.conf.d file
+%{__mkdir_p} %{buildroot}%{_sysconfdir}/ld.so.conf.d/
+echo %{nvidialibdir} &gt; %{buildroot}%{_sysconfdir}/ld.so.conf.d/nvidia.conf
+
+# Install profile.d files
+%{__install} -D -p -m 0755 %{SOURCE2} \
+    %{buildroot}%{_sysconfdir}/profile.d/nvidia.sh
+%{__install} -D -p -m 0755 %{SOURCE3} \
+    %{buildroot}%{_sysconfdir}/profile.d/nvidia.csh
+
+# Install X configuration script
+%{__install} -D -p -m 0755 %{SOURCE4} \
+    %{buildroot}%{_sbindir}/nvidia-config-display
+
+
+%clean
+%{__rm} -rf %{buildroot}
+
+
+%post
+/sbin/ldconfig
+# Add to DKMS registry
+dkms add -m %{dkms_name} -v %{version} -q --rpm_safe_upgrade
+# Build now, so the current user can simply restart X
+dkms build -m %{dkms_name} -v %{version} -q
+dkms install -m %{dkms_name} -v %{version} -q
+
+%preun
+# Remove all versions from DKMS registry
+dkms remove -m %{dkms_name} -v %{version} --all -q --rpm_safe_upgrade
+
+%postun -p /sbin/ldconfig
+
+
+%files
+%defattr(-,root,root,0755)
+%doc pkg/LICENSE pkg/usr/share/doc/*
+# Kernel and dkms related bits
+%config %{_sysconfdir}/modprobe.d/nvidia
+%{_usrsrc}/nvidia-%{version}/
+# fixme: use udev
+%attr(0600,root,root) %dev(c,195,0) /dev/nvidia0
+%attr(0600,root,root) %dev(c,195,1) /dev/nvidia1
+%attr(0600,root,root) %dev(c,195,2) /dev/nvidia2
+%attr(0600,root,root) %dev(c,195,3) /dev/nvidia3
+%attr(0600,root,root) %dev(c,195,255) /dev/nvidiactl
+%attr(0600,root,root) %dev(c,195,0) %{_sysconfdir}/udev/devices/nvidia0
+%attr(0600,root,root) %dev(c,195,1) %{_sysconfdir}/udev/devices/nvidia1
+%attr(0600,root,root) %dev(c,195,2) %{_sysconfdir}/udev/devices/nvidia2
+%attr(0600,root,root) %dev(c,195,3) %{_sysconfdir}/udev/devices/nvidia3
+%attr(0600,root,root) %dev(c,195,255) %{_sysconfdir}/udev/devices/nvidiactl
+# Libraries and X modules
+%config %{_sysconfdir}/ld.so.conf.d/nvidia.conf
+%dir %{nvidialibdir}/
+%{nvidialibdir}/*.so.*
+%{nvidialibdir}/tls/
+%ifarch x86_64
+%dir %{nvidialib32dir}/
+%{nvidialib32dir}/*.so.*
+%{nvidialib32dir}/tls/
+%endif
+%{_libdir}/xorg/modules/drivers/nvidia*
+%{_libdir}/xorg/modules/extensions/nvidia/
+# Tools and utilities
+%{_sysconfdir}/profile.d/*
+%{_bindir}/*
+%{_sbindir}/*
+%{_datadir}/applications/*
+%{_datadir}/pixmaps/*
+%{_mandir}/man1/*
+
+# Hopefully not needed devel (might violate the license not to include them)
+#files devel
+#defattr(-,root,root,0755)
+#{nvidialibdir}/*.a
+%{nvidialibdir}/*.so
+%ifarch x86_64
+%{nvidialib32dir}/*.so
+%endif
+
+
+%changelog
+* Sat Oct  7 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.8774-2
+- Include both x86 and x86_64 pkg.run files in the source rpm, so that the
+  same can be used for both i386 and x86_64.
+
+* Wed Oct  4 2006 Matthias Saou &lt;<A HREF="http://freshrpms.net/">http://freshrpms.net/</A>&gt; 1.0.8774-1
+- Add x86_64 support.
+- Rework into a single nvidia-x11-drv package.
+
+* Mon Oct 02 2006 Richard Hughes &lt;<A HREF="http://lists.repoforge.org/mailman/listinfo/commits">richard at hughsie.com</A>&gt; 8774-4
+- 1st Release, First public build
+


Property changes on: trunk/rpms/nvidia-x11-drv/nvidia-x11-drv.spec
___________________________________________________________________
Name: svn:keywords
   + Id

Added: trunk/rpms/nvidia-x11-drv/nvidia.csh
===================================================================
--- trunk/rpms/nvidia-x11-drv/nvidia.csh	                        (rev 0)
+++ trunk/rpms/nvidia-x11-drv/nvidia.csh	2006-10-06 22:29:09 UTC (rev 4795)
@@ -0,0 +1,20 @@
+# These variables are used to control image quality and performance.    
+# See /usr/share/doc/nvidia-x11-drv-&lt;version&gt;/README.txt for more information.
+
+# Setting this to 1 might prevent certain OpenGL apps from crasching.
+setenv __GL_SINGLE_THREADED 0
+
+# This setting controls full-scene anti aliasing.
+# Depending on your chipset, different values give different types of FSAA.
+setenv __GL_FSAA_MODE 0
+
+# Anisotrpic filtering. This setting is also chip dependent, see above. 
+setenv __GL_DEFAULT_LOG_ANISO 0
+
+# Sync buffer swap with monitor refresh. A value &gt; 0 enables.  
+setenv __GL_SYNC_TO_VBLANK 0
+
+# If you have more than one monitor, this setting determines which display
+# should be synced.
+setenv __GL_SYNC_DISPLAY_DEVICE 
+

Added: trunk/rpms/nvidia-x11-drv/nvidia.modprobe
===================================================================
--- trunk/rpms/nvidia-x11-drv/nvidia.modprobe	                        (rev 0)
+++ trunk/rpms/nvidia-x11-drv/nvidia.modprobe	2006-10-06 22:29:09 UTC (rev 4795)
@@ -0,0 +1,2 @@
+alias char-major-195* nvidia
+options nvidia NVreg_ModifyDeviceFiles=0

Added: trunk/rpms/nvidia-x11-drv/nvidia.sh
===================================================================
--- trunk/rpms/nvidia-x11-drv/nvidia.sh	                        (rev 0)
+++ trunk/rpms/nvidia-x11-drv/nvidia.sh	2006-10-06 22:29:09 UTC (rev 4795)
@@ -0,0 +1,19 @@
+# These variables are used to control image quality and performance.    
+# See /usr/share/doc/nvidia-x11-drv-&lt;version&gt;/README.txt for more information.
+
+# Setting this to 1 might prevent certain OpenGL apps from crashing.
+export __GL_SINGLE_THREADED=0
+
+# This setting controls full-scene anti aliasing.
+# Depending on your chipset, different values give different types of FSAA.
+export __GL_FSAA_MODE=0
+
+# Anisotropic filtering. This setting is also chip dependent, see above. 
+export __GL_DEFAULT_LOG_ANISO=0
+
+# Sync buffer swap with monitor refresh. A value &gt; 0 enables.  
+export __GL_SYNC_TO_VBLANK=0
+
+# If you have more than one monitor, this setting determines which display
+# should be synced.
+export __GL_SYNC_DISPLAY_DEVICE=


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003594.html">[svn] r4794 - trunk/tools/yam
</A></li>
	<LI>Next message: <A HREF="003596.html">[svn] r4796 - trunk/tools/yam
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3595">[ date ]</a>
              <a href="thread.html#3595">[ thread ]</a>
              <a href="subject.html#3595">[ subject ]</a>
              <a href="author.html#3595">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.repoforge.org/mailman/listinfo/commits">More information about the commits
mailing list</a><br>
</body></html>
